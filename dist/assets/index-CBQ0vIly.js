function dD(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(i,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ES={exports:{}},Pg={},kS={exports:{}},kn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp=Symbol.for("react.element"),pD=Symbol.for("react.portal"),fD=Symbol.for("react.fragment"),mD=Symbol.for("react.strict_mode"),gD=Symbol.for("react.profiler"),yD=Symbol.for("react.provider"),vD=Symbol.for("react.context"),xD=Symbol.for("react.forward_ref"),bD=Symbol.for("react.suspense"),wD=Symbol.for("react.memo"),_D=Symbol.for("react.lazy"),RE=Symbol.iterator;function ED(t){return t===null||typeof t!="object"?null:(t=RE&&t[RE]||t["@@iterator"],typeof t=="function"?t:null)}var TS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CS=Object.assign,SS={};function lh(t,e,n){this.props=t,this.context=e,this.refs=SS,this.updater=n||TS}lh.prototype.isReactComponent={};lh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};lh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function AS(){}AS.prototype=lh.prototype;function f0(t,e,n){this.props=t,this.context=e,this.refs=SS,this.updater=n||TS}var m0=f0.prototype=new AS;m0.constructor=f0;CS(m0,lh.prototype);m0.isPureReactComponent=!0;var DE=Array.isArray,NS=Object.prototype.hasOwnProperty,g0={current:null},jS={key:!0,ref:!0,__self:!0,__source:!0};function IS(t,e,n){var i,s={},a=null,u=null;if(e!=null)for(i in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(a=""+e.key),e)NS.call(e,i)&&!jS.hasOwnProperty(i)&&(s[i]=e[i]);var m=arguments.length-2;if(m===1)s.children=n;else if(1<m){for(var x=Array(m),_=0;_<m;_++)x[_]=arguments[_+2];s.children=x}if(t&&t.defaultProps)for(i in m=t.defaultProps,m)s[i]===void 0&&(s[i]=m[i]);return{$$typeof:Tp,type:t,key:a,ref:u,props:s,_owner:g0.current}}function kD(t,e){return{$$typeof:Tp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function y0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tp}function TD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var OE=/\/+/g;function jv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TD(""+t.key):e.toString(36)}function mm(t,e,n,i,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case Tp:case pD:u=!0}}if(u)return u=t,s=s(u),t=i===""?"."+jv(u,0):i,DE(s)?(n="",t!=null&&(n=t.replace(OE,"$&/")+"/"),mm(s,e,n,"",function(_){return _})):s!=null&&(y0(s)&&(s=kD(s,n+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(OE,"$&/")+"/")+t)),e.push(s)),1;if(u=0,i=i===""?".":i+":",DE(t))for(var m=0;m<t.length;m++){a=t[m];var x=i+jv(a,m);u+=mm(a,e,n,x,s)}else if(x=ED(t),typeof x=="function")for(t=x.call(t),m=0;!(a=t.next()).done;)a=a.value,x=i+jv(a,m++),u+=mm(a,e,n,x,s);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function Lf(t,e,n){if(t==null)return t;var i=[],s=0;return mm(t,i,"","",function(a){return e.call(n,a,s++)}),i}function CD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Cr={current:null},gm={transition:null},SD={ReactCurrentDispatcher:Cr,ReactCurrentBatchConfig:gm,ReactCurrentOwner:g0};function PS(){throw Error("act(...) is not supported in production builds of React.")}kn.Children={map:Lf,forEach:function(t,e,n){Lf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Lf(t,function(){e++}),e},toArray:function(t){return Lf(t,function(e){return e})||[]},only:function(t){if(!y0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};kn.Component=lh;kn.Fragment=fD;kn.Profiler=gD;kn.PureComponent=f0;kn.StrictMode=mD;kn.Suspense=bD;kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SD;kn.act=PS;kn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=CS({},t.props),s=t.key,a=t.ref,u=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,u=g0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var m=t.type.defaultProps;for(x in e)NS.call(e,x)&&!jS.hasOwnProperty(x)&&(i[x]=e[x]===void 0&&m!==void 0?m[x]:e[x])}var x=arguments.length-2;if(x===1)i.children=n;else if(1<x){m=Array(x);for(var _=0;_<x;_++)m[_]=arguments[_+2];i.children=m}return{$$typeof:Tp,type:t.type,key:s,ref:a,props:i,_owner:u}};kn.createContext=function(t){return t={$$typeof:vD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yD,_context:t},t.Consumer=t};kn.createElement=IS;kn.createFactory=function(t){var e=IS.bind(null,t);return e.type=t,e};kn.createRef=function(){return{current:null}};kn.forwardRef=function(t){return{$$typeof:xD,render:t}};kn.isValidElement=y0;kn.lazy=function(t){return{$$typeof:_D,_payload:{_status:-1,_result:t},_init:CD}};kn.memo=function(t,e){return{$$typeof:wD,type:t,compare:e===void 0?null:e}};kn.startTransition=function(t){var e=gm.transition;gm.transition={};try{t()}finally{gm.transition=e}};kn.unstable_act=PS;kn.useCallback=function(t,e){return Cr.current.useCallback(t,e)};kn.useContext=function(t){return Cr.current.useContext(t)};kn.useDebugValue=function(){};kn.useDeferredValue=function(t){return Cr.current.useDeferredValue(t)};kn.useEffect=function(t,e){return Cr.current.useEffect(t,e)};kn.useId=function(){return Cr.current.useId()};kn.useImperativeHandle=function(t,e,n){return Cr.current.useImperativeHandle(t,e,n)};kn.useInsertionEffect=function(t,e){return Cr.current.useInsertionEffect(t,e)};kn.useLayoutEffect=function(t,e){return Cr.current.useLayoutEffect(t,e)};kn.useMemo=function(t,e){return Cr.current.useMemo(t,e)};kn.useReducer=function(t,e,n){return Cr.current.useReducer(t,e,n)};kn.useRef=function(t){return Cr.current.useRef(t)};kn.useState=function(t){return Cr.current.useState(t)};kn.useSyncExternalStore=function(t,e,n){return Cr.current.useSyncExternalStore(t,e,n)};kn.useTransition=function(){return Cr.current.useTransition()};kn.version="18.3.1";kS.exports=kn;var F=kS.exports;const MS=gl(F),AD=dD({__proto__:null,default:MS},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ND=F,jD=Symbol.for("react.element"),ID=Symbol.for("react.fragment"),PD=Object.prototype.hasOwnProperty,MD=ND.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RD={key:!0,ref:!0,__self:!0,__source:!0};function RS(t,e,n){var i,s={},a=null,u=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(u=e.ref);for(i in e)PD.call(e,i)&&!RD.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:jD,type:t,key:a,ref:u,props:s,_owner:MD.current}}Pg.Fragment=ID;Pg.jsx=RS;Pg.jsxs=RS;ES.exports=Pg;var o=ES.exports,Dx={},DS={exports:{}},rs={},OS={exports:{}},LS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Re,Ke){var ct=Re.length;Re.push(Ke);e:for(;0<ct;){var Et=ct-1>>>1,wt=Re[Et];if(0<s(wt,Ke))Re[Et]=Ke,Re[ct]=wt,ct=Et;else break e}}function n(Re){return Re.length===0?null:Re[0]}function i(Re){if(Re.length===0)return null;var Ke=Re[0],ct=Re.pop();if(ct!==Ke){Re[0]=ct;e:for(var Et=0,wt=Re.length,vt=wt>>>1;Et<vt;){var Ot=2*(Et+1)-1,ht=Re[Ot],Pt=Ot+1,st=Re[Pt];if(0>s(ht,ct))Pt<wt&&0>s(st,ht)?(Re[Et]=st,Re[Pt]=ct,Et=Pt):(Re[Et]=ht,Re[Ot]=ct,Et=Ot);else if(Pt<wt&&0>s(st,ct))Re[Et]=st,Re[Pt]=ct,Et=Pt;else break e}}return Ke}function s(Re,Ke){var ct=Re.sortIndex-Ke.sortIndex;return ct!==0?ct:Re.id-Ke.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,m=u.now();t.unstable_now=function(){return u.now()-m}}var x=[],_=[],j=1,I=null,U=3,J=!1,ne=!1,le=!1,oe=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(Re){for(var Ke=n(_);Ke!==null;){if(Ke.callback===null)i(_);else if(Ke.startTime<=Re)i(_),Ke.sortIndex=Ke.expirationTime,e(x,Ke);else break;Ke=n(_)}}function te(Re){if(le=!1,H(Re),!ne)if(n(x)!==null)ne=!0,Ge(Te);else{var Ke=n(_);Ke!==null&&ut(te,Ke.startTime-Re)}}function Te(Re,Ke){ne=!1,le&&(le=!1,X(M),M=-1),J=!0;var ct=U;try{for(H(Ke),I=n(x);I!==null&&(!(I.expirationTime>Ke)||Re&&!K());){var Et=I.callback;if(typeof Et=="function"){I.callback=null,U=I.priorityLevel;var wt=Et(I.expirationTime<=Ke);Ke=t.unstable_now(),typeof wt=="function"?I.callback=wt:I===n(x)&&i(x),H(Ke)}else i(x);I=n(x)}if(I!==null)var vt=!0;else{var Ot=n(_);Ot!==null&&ut(te,Ot.startTime-Ke),vt=!1}return vt}finally{I=null,U=ct,J=!1}}var ge=!1,Y=null,M=-1,G=5,z=-1;function K(){return!(t.unstable_now()-z<G)}function se(){if(Y!==null){var Re=t.unstable_now();z=Re;var Ke=!0;try{Ke=Y(!0,Re)}finally{Ke?ie():(ge=!1,Y=null)}}else ge=!1}var ie;if(typeof O=="function")ie=function(){O(se)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,Dt=dt.port2;dt.port1.onmessage=se,ie=function(){Dt.postMessage(null)}}else ie=function(){oe(se,0)};function Ge(Re){Y=Re,ge||(ge=!0,ie())}function ut(Re,Ke){M=oe(function(){Re(t.unstable_now())},Ke)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Re){Re.callback=null},t.unstable_continueExecution=function(){ne||J||(ne=!0,Ge(Te))},t.unstable_forceFrameRate=function(Re){0>Re||125<Re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<Re?Math.floor(1e3/Re):5},t.unstable_getCurrentPriorityLevel=function(){return U},t.unstable_getFirstCallbackNode=function(){return n(x)},t.unstable_next=function(Re){switch(U){case 1:case 2:case 3:var Ke=3;break;default:Ke=U}var ct=U;U=Ke;try{return Re()}finally{U=ct}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Re,Ke){switch(Re){case 1:case 2:case 3:case 4:case 5:break;default:Re=3}var ct=U;U=Re;try{return Ke()}finally{U=ct}},t.unstable_scheduleCallback=function(Re,Ke,ct){var Et=t.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Et+ct:Et):ct=Et,Re){case 1:var wt=-1;break;case 2:wt=250;break;case 5:wt=1073741823;break;case 4:wt=1e4;break;default:wt=5e3}return wt=ct+wt,Re={id:j++,callback:Ke,priorityLevel:Re,startTime:ct,expirationTime:wt,sortIndex:-1},ct>Et?(Re.sortIndex=ct,e(_,Re),n(x)===null&&Re===n(_)&&(le?(X(M),M=-1):le=!0,ut(te,ct-Et))):(Re.sortIndex=wt,e(x,Re),ne||J||(ne=!0,Ge(Te))),Re},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(Re){var Ke=U;return function(){var ct=U;U=Ke;try{return Re.apply(this,arguments)}finally{U=ct}}}})(LS);OS.exports=LS;var DD=OS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OD=F,is=DD;function At(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var FS=new Set,Yd={};function _c(t,e){Hu(t,e),Hu(t+"Capture",e)}function Hu(t,e){for(Yd[t]=e,t=0;t<e.length;t++)FS.add(e[t])}var Yo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ox=Object.prototype.hasOwnProperty,LD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,LE={},FE={};function FD(t){return Ox.call(FE,t)?!0:Ox.call(LE,t)?!1:LD.test(t)?FE[t]=!0:(LE[t]=!0,!1)}function BD(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VD(t,e,n,i){if(e===null||typeof e>"u"||BD(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sr(t,e,n,i,s,a,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=u}var rr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rr[t]=new Sr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rr[e]=new Sr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rr[t]=new Sr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rr[t]=new Sr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rr[t]=new Sr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rr[t]=new Sr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rr[t]=new Sr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rr[t]=new Sr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rr[t]=new Sr(t,5,!1,t.toLowerCase(),null,!1,!1)});var v0=/[\-:]([a-z])/g;function x0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(v0,x0);rr[e]=new Sr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(v0,x0);rr[e]=new Sr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(v0,x0);rr[e]=new Sr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rr[t]=new Sr(t,1,!1,t.toLowerCase(),null,!1,!1)});rr.xlinkHref=new Sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rr[t]=new Sr(t,1,!1,t.toLowerCase(),null,!0,!0)});function b0(t,e,n,i){var s=rr.hasOwnProperty(e)?rr[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VD(e,n,s,i)&&(n=null),i||s===null?FD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var ra=OD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ff=Symbol.for("react.element"),xu=Symbol.for("react.portal"),bu=Symbol.for("react.fragment"),w0=Symbol.for("react.strict_mode"),Lx=Symbol.for("react.profiler"),BS=Symbol.for("react.provider"),VS=Symbol.for("react.context"),_0=Symbol.for("react.forward_ref"),Fx=Symbol.for("react.suspense"),Bx=Symbol.for("react.suspense_list"),E0=Symbol.for("react.memo"),Fa=Symbol.for("react.lazy"),US=Symbol.for("react.offscreen"),BE=Symbol.iterator;function ad(t){return t===null||typeof t!="object"?null:(t=BE&&t[BE]||t["@@iterator"],typeof t=="function"?t:null)}var mi=Object.assign,Iv;function wd(t){if(Iv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Iv=e&&e[1]||""}return`
`+Iv+t}var Pv=!1;function Mv(t,e){if(!t||Pv)return"";Pv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(_){var i=_}Reflect.construct(t,[],e)}else{try{e.call()}catch(_){i=_}t.call(e.prototype)}else{try{throw Error()}catch(_){i=_}t()}}catch(_){if(_&&i&&typeof _.stack=="string"){for(var s=_.stack.split(`
`),a=i.stack.split(`
`),u=s.length-1,m=a.length-1;1<=u&&0<=m&&s[u]!==a[m];)m--;for(;1<=u&&0<=m;u--,m--)if(s[u]!==a[m]){if(u!==1||m!==1)do if(u--,m--,0>m||s[u]!==a[m]){var x=`
`+s[u].replace(" at new "," at ");return t.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",t.displayName)),x}while(1<=u&&0<=m);break}}}finally{Pv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?wd(t):""}function UD(t){switch(t.tag){case 5:return wd(t.type);case 16:return wd("Lazy");case 13:return wd("Suspense");case 19:return wd("SuspenseList");case 0:case 2:case 15:return t=Mv(t.type,!1),t;case 11:return t=Mv(t.type.render,!1),t;case 1:return t=Mv(t.type,!0),t;default:return""}}function Vx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bu:return"Fragment";case xu:return"Portal";case Lx:return"Profiler";case w0:return"StrictMode";case Fx:return"Suspense";case Bx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case VS:return(t.displayName||"Context")+".Consumer";case BS:return(t._context.displayName||"Context")+".Provider";case _0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case E0:return e=t.displayName||null,e!==null?e:Vx(t.type)||"Memo";case Fa:e=t._payload,t=t._init;try{return Vx(t(e))}catch{}}return null}function zD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vx(e);case 8:return e===w0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ul(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qD(t){var e=zS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(u){i=""+u,a.call(this,u)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(u){i=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bf(t){t._valueTracker||(t._valueTracker=qD(t))}function qS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=zS(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Bm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ux(t,e){var n=e.checked;return mi({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function VE(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=ul(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $S(t,e){e=e.checked,e!=null&&b0(t,"checked",e,!1)}function zx(t,e){$S(t,e);var n=ul(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qx(t,e.type,n):e.hasOwnProperty("defaultValue")&&qx(t,e.type,ul(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function UE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qx(t,e,n){(e!=="number"||Bm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _d=Array.isArray;function Ru(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+ul(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function $x(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(At(91));return mi({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(At(92));if(_d(n)){if(1<n.length)throw Error(At(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ul(n)}}function HS(t,e){var n=ul(e.value),i=ul(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function qE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function WS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?WS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vf,GS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vf=Vf||document.createElement("div"),Vf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Md={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$D=["Webkit","ms","Moz","O"];Object.keys(Md).forEach(function(t){$D.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Md[e]=Md[t]})});function KS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Md.hasOwnProperty(t)&&Md[t]?(""+e).trim():e+"px"}function YS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=KS(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var HD=mi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wx(t,e){if(e){if(HD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(At(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(At(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(At(61))}if(e.style!=null&&typeof e.style!="object")throw Error(At(62))}}function Gx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kx=null;function k0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yx=null,Du=null,Ou=null;function $E(t){if(t=Ap(t)){if(typeof Yx!="function")throw Error(At(280));var e=t.stateNode;e&&(e=Lg(e),Yx(t.stateNode,t.type,e))}}function XS(t){Du?Ou?Ou.push(t):Ou=[t]:Du=t}function QS(){if(Du){var t=Du,e=Ou;if(Ou=Du=null,$E(t),e)for(t=0;t<e.length;t++)$E(e[t])}}function JS(t,e){return t(e)}function ZS(){}var Rv=!1;function e1(t,e,n){if(Rv)return t(e,n);Rv=!0;try{return JS(t,e,n)}finally{Rv=!1,(Du!==null||Ou!==null)&&(ZS(),QS())}}function Qd(t,e){var n=t.stateNode;if(n===null)return null;var i=Lg(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(At(231,e,typeof n));return n}var Xx=!1;if(Yo)try{var ld={};Object.defineProperty(ld,"passive",{get:function(){Xx=!0}}),window.addEventListener("test",ld,ld),window.removeEventListener("test",ld,ld)}catch{Xx=!1}function WD(t,e,n,i,s,a,u,m,x){var _=Array.prototype.slice.call(arguments,3);try{e.apply(n,_)}catch(j){this.onError(j)}}var Rd=!1,Vm=null,Um=!1,Qx=null,GD={onError:function(t){Rd=!0,Vm=t}};function KD(t,e,n,i,s,a,u,m,x){Rd=!1,Vm=null,WD.apply(GD,arguments)}function YD(t,e,n,i,s,a,u,m,x){if(KD.apply(this,arguments),Rd){if(Rd){var _=Vm;Rd=!1,Vm=null}else throw Error(At(198));Um||(Um=!0,Qx=_)}}function Ec(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function t1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function HE(t){if(Ec(t)!==t)throw Error(At(188))}function XD(t){var e=t.alternate;if(!e){if(e=Ec(t),e===null)throw Error(At(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return HE(s),t;if(a===i)return HE(s),e;a=a.sibling}throw Error(At(188))}if(n.return!==i.return)n=s,i=a;else{for(var u=!1,m=s.child;m;){if(m===n){u=!0,n=s,i=a;break}if(m===i){u=!0,i=s,n=a;break}m=m.sibling}if(!u){for(m=a.child;m;){if(m===n){u=!0,n=a,i=s;break}if(m===i){u=!0,i=a,n=s;break}m=m.sibling}if(!u)throw Error(At(189))}}if(n.alternate!==i)throw Error(At(190))}if(n.tag!==3)throw Error(At(188));return n.stateNode.current===n?t:e}function n1(t){return t=XD(t),t!==null?i1(t):null}function i1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=i1(t);if(e!==null)return e;t=t.sibling}return null}var r1=is.unstable_scheduleCallback,WE=is.unstable_cancelCallback,QD=is.unstable_shouldYield,JD=is.unstable_requestPaint,Ci=is.unstable_now,ZD=is.unstable_getCurrentPriorityLevel,T0=is.unstable_ImmediatePriority,s1=is.unstable_UserBlockingPriority,zm=is.unstable_NormalPriority,eO=is.unstable_LowPriority,o1=is.unstable_IdlePriority,Mg=null,go=null;function tO(t){if(go&&typeof go.onCommitFiberRoot=="function")try{go.onCommitFiberRoot(Mg,t,void 0,(t.current.flags&128)===128)}catch{}}var qs=Math.clz32?Math.clz32:rO,nO=Math.log,iO=Math.LN2;function rO(t){return t>>>=0,t===0?32:31-(nO(t)/iO|0)|0}var Uf=64,zf=4194304;function Ed(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qm(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,a=t.pingedLanes,u=n&268435455;if(u!==0){var m=u&~s;m!==0?i=Ed(m):(a&=u,a!==0&&(i=Ed(a)))}else u=n&~s,u!==0?i=Ed(u):a!==0&&(i=Ed(a));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,a=e&-e,s>=a||s===16&&(a&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-qs(e),s=1<<n,i|=t[n],e&=~s;return i}function sO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oO(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var u=31-qs(a),m=1<<u,x=s[u];x===-1?(!(m&n)||m&i)&&(s[u]=sO(m,e)):x<=e&&(t.expiredLanes|=m),a&=~m}}function Jx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function a1(){var t=Uf;return Uf<<=1,!(Uf&4194240)&&(Uf=64),t}function Dv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Cp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qs(e),t[e]=n}function aO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-qs(n),a=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~a}}function C0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-qs(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var zn=0;function l1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var c1,S0,u1,h1,d1,Zx=!1,qf=[],Xa=null,Qa=null,Ja=null,Jd=new Map,Zd=new Map,Va=[],lO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function GE(t,e){switch(t){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Ja=null;break;case"pointerover":case"pointerout":Jd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zd.delete(e.pointerId)}}function cd(t,e,n,i,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},e!==null&&(e=Ap(e),e!==null&&S0(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function cO(t,e,n,i,s){switch(e){case"focusin":return Xa=cd(Xa,t,e,n,i,s),!0;case"dragenter":return Qa=cd(Qa,t,e,n,i,s),!0;case"mouseover":return Ja=cd(Ja,t,e,n,i,s),!0;case"pointerover":var a=s.pointerId;return Jd.set(a,cd(Jd.get(a)||null,t,e,n,i,s)),!0;case"gotpointercapture":return a=s.pointerId,Zd.set(a,cd(Zd.get(a)||null,t,e,n,i,s)),!0}return!1}function p1(t){var e=Jl(t.target);if(e!==null){var n=Ec(e);if(n!==null){if(e=n.tag,e===13){if(e=t1(n),e!==null){t.blockedOn=e,d1(t.priority,function(){u1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ym(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=eb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Kx=i,n.target.dispatchEvent(i),Kx=null}else return e=Ap(n),e!==null&&S0(e),t.blockedOn=n,!1;e.shift()}return!0}function KE(t,e,n){ym(t)&&n.delete(e)}function uO(){Zx=!1,Xa!==null&&ym(Xa)&&(Xa=null),Qa!==null&&ym(Qa)&&(Qa=null),Ja!==null&&ym(Ja)&&(Ja=null),Jd.forEach(KE),Zd.forEach(KE)}function ud(t,e){t.blockedOn===e&&(t.blockedOn=null,Zx||(Zx=!0,is.unstable_scheduleCallback(is.unstable_NormalPriority,uO)))}function ep(t){function e(s){return ud(s,t)}if(0<qf.length){ud(qf[0],t);for(var n=1;n<qf.length;n++){var i=qf[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Xa!==null&&ud(Xa,t),Qa!==null&&ud(Qa,t),Ja!==null&&ud(Ja,t),Jd.forEach(e),Zd.forEach(e),n=0;n<Va.length;n++)i=Va[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Va.length&&(n=Va[0],n.blockedOn===null);)p1(n),n.blockedOn===null&&Va.shift()}var Lu=ra.ReactCurrentBatchConfig,$m=!0;function hO(t,e,n,i){var s=zn,a=Lu.transition;Lu.transition=null;try{zn=1,A0(t,e,n,i)}finally{zn=s,Lu.transition=a}}function dO(t,e,n,i){var s=zn,a=Lu.transition;Lu.transition=null;try{zn=4,A0(t,e,n,i)}finally{zn=s,Lu.transition=a}}function A0(t,e,n,i){if($m){var s=eb(t,e,n,i);if(s===null)Hv(t,e,i,Hm,n),GE(t,i);else if(cO(s,t,e,n,i))i.stopPropagation();else if(GE(t,i),e&4&&-1<lO.indexOf(t)){for(;s!==null;){var a=Ap(s);if(a!==null&&c1(a),a=eb(t,e,n,i),a===null&&Hv(t,e,i,Hm,n),a===s)break;s=a}s!==null&&i.stopPropagation()}else Hv(t,e,i,null,n)}}var Hm=null;function eb(t,e,n,i){if(Hm=null,t=k0(i),t=Jl(t),t!==null)if(e=Ec(t),e===null)t=null;else if(n=e.tag,n===13){if(t=t1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hm=t,null}function f1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZD()){case T0:return 1;case s1:return 4;case zm:case eO:return 16;case o1:return 536870912;default:return 16}default:return 16}}var Wa=null,N0=null,vm=null;function m1(){if(vm)return vm;var t,e=N0,n=e.length,i,s="value"in Wa?Wa.value:Wa.textContent,a=s.length;for(t=0;t<n&&e[t]===s[t];t++);var u=n-t;for(i=1;i<=u&&e[n-i]===s[a-i];i++);return vm=s.slice(t,1<i?1-i:void 0)}function xm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $f(){return!0}function YE(){return!1}function ss(t){function e(n,i,s,a,u){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var m in t)t.hasOwnProperty(m)&&(n=t[m],this[m]=n?n(a):a[m]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?$f:YE,this.isPropagationStopped=YE,this}return mi(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$f)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$f)},persist:function(){},isPersistent:$f}),e}var ch={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},j0=ss(ch),Sp=mi({},ch,{view:0,detail:0}),pO=ss(Sp),Ov,Lv,hd,Rg=mi({},Sp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:I0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hd&&(hd&&t.type==="mousemove"?(Ov=t.screenX-hd.screenX,Lv=t.screenY-hd.screenY):Lv=Ov=0,hd=t),Ov)},movementY:function(t){return"movementY"in t?t.movementY:Lv}}),XE=ss(Rg),fO=mi({},Rg,{dataTransfer:0}),mO=ss(fO),gO=mi({},Sp,{relatedTarget:0}),Fv=ss(gO),yO=mi({},ch,{animationName:0,elapsedTime:0,pseudoElement:0}),vO=ss(yO),xO=mi({},ch,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bO=ss(xO),wO=mi({},ch,{data:0}),QE=ss(wO),_O={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kO[t])?!!e[t]:!1}function I0(){return TO}var CO=mi({},Sp,{key:function(t){if(t.key){var e=_O[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?EO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:I0,charCode:function(t){return t.type==="keypress"?xm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SO=ss(CO),AO=mi({},Rg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JE=ss(AO),NO=mi({},Sp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:I0}),jO=ss(NO),IO=mi({},ch,{propertyName:0,elapsedTime:0,pseudoElement:0}),PO=ss(IO),MO=mi({},Rg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RO=ss(MO),DO=[9,13,27,32],P0=Yo&&"CompositionEvent"in window,Dd=null;Yo&&"documentMode"in document&&(Dd=document.documentMode);var OO=Yo&&"TextEvent"in window&&!Dd,g1=Yo&&(!P0||Dd&&8<Dd&&11>=Dd),ZE=" ",ek=!1;function y1(t,e){switch(t){case"keyup":return DO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wu=!1;function LO(t,e){switch(t){case"compositionend":return v1(e);case"keypress":return e.which!==32?null:(ek=!0,ZE);case"textInput":return t=e.data,t===ZE&&ek?null:t;default:return null}}function FO(t,e){if(wu)return t==="compositionend"||!P0&&y1(t,e)?(t=m1(),vm=N0=Wa=null,wu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return g1&&e.locale!=="ko"?null:e.data;default:return null}}var BO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BO[t.type]:e==="textarea"}function x1(t,e,n,i){XS(i),e=Wm(e,"onChange"),0<e.length&&(n=new j0("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Od=null,tp=null;function VO(t){j1(t,0)}function Dg(t){var e=ku(t);if(qS(e))return t}function UO(t,e){if(t==="change")return e}var b1=!1;if(Yo){var Bv;if(Yo){var Vv="oninput"in document;if(!Vv){var nk=document.createElement("div");nk.setAttribute("oninput","return;"),Vv=typeof nk.oninput=="function"}Bv=Vv}else Bv=!1;b1=Bv&&(!document.documentMode||9<document.documentMode)}function ik(){Od&&(Od.detachEvent("onpropertychange",w1),tp=Od=null)}function w1(t){if(t.propertyName==="value"&&Dg(tp)){var e=[];x1(e,tp,t,k0(t)),e1(VO,e)}}function zO(t,e,n){t==="focusin"?(ik(),Od=e,tp=n,Od.attachEvent("onpropertychange",w1)):t==="focusout"&&ik()}function qO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dg(tp)}function $O(t,e){if(t==="click")return Dg(e)}function HO(t,e){if(t==="input"||t==="change")return Dg(e)}function WO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ws=typeof Object.is=="function"?Object.is:WO;function np(t,e){if(Ws(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Ox.call(e,s)||!Ws(t[s],e[s]))return!1}return!0}function rk(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sk(t,e){var n=rk(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rk(n)}}function _1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function E1(){for(var t=window,e=Bm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bm(t.document)}return e}function M0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function GO(t){var e=E1(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_1(n.ownerDocument.documentElement,n)){if(i!==null&&M0(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,a=Math.min(i.start,s);i=i.end===void 0?a:Math.min(i.end,s),!t.extend&&a>i&&(s=i,i=a,a=s),s=sk(n,a);var u=sk(n,i);s&&u&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==u.node||t.focusOffset!==u.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),a>i?(t.addRange(e),t.extend(u.node,u.offset)):(e.setEnd(u.node,u.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var KO=Yo&&"documentMode"in document&&11>=document.documentMode,_u=null,tb=null,Ld=null,nb=!1;function ok(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nb||_u==null||_u!==Bm(i)||(i=_u,"selectionStart"in i&&M0(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ld&&np(Ld,i)||(Ld=i,i=Wm(tb,"onSelect"),0<i.length&&(e=new j0("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=_u)))}function Hf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Eu={animationend:Hf("Animation","AnimationEnd"),animationiteration:Hf("Animation","AnimationIteration"),animationstart:Hf("Animation","AnimationStart"),transitionend:Hf("Transition","TransitionEnd")},Uv={},k1={};Yo&&(k1=document.createElement("div").style,"AnimationEvent"in window||(delete Eu.animationend.animation,delete Eu.animationiteration.animation,delete Eu.animationstart.animation),"TransitionEvent"in window||delete Eu.transitionend.transition);function Og(t){if(Uv[t])return Uv[t];if(!Eu[t])return t;var e=Eu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in k1)return Uv[t]=e[n];return t}var T1=Og("animationend"),C1=Og("animationiteration"),S1=Og("animationstart"),A1=Og("transitionend"),N1=new Map,ak="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yl(t,e){N1.set(t,e),_c(e,[t])}for(var zv=0;zv<ak.length;zv++){var qv=ak[zv],YO=qv.toLowerCase(),XO=qv[0].toUpperCase()+qv.slice(1);yl(YO,"on"+XO)}yl(T1,"onAnimationEnd");yl(C1,"onAnimationIteration");yl(S1,"onAnimationStart");yl("dblclick","onDoubleClick");yl("focusin","onFocus");yl("focusout","onBlur");yl(A1,"onTransitionEnd");Hu("onMouseEnter",["mouseout","mouseover"]);Hu("onMouseLeave",["mouseout","mouseover"]);Hu("onPointerEnter",["pointerout","pointerover"]);Hu("onPointerLeave",["pointerout","pointerover"]);_c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_c("onBeforeInput",["compositionend","keypress","textInput","paste"]);_c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QO=new Set("cancel close invalid load scroll toggle".split(" ").concat(kd));function lk(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,YD(i,e,void 0,t),t.currentTarget=null}function j1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var u=i.length-1;0<=u;u--){var m=i[u],x=m.instance,_=m.currentTarget;if(m=m.listener,x!==a&&s.isPropagationStopped())break e;lk(s,m,_),a=x}else for(u=0;u<i.length;u++){if(m=i[u],x=m.instance,_=m.currentTarget,m=m.listener,x!==a&&s.isPropagationStopped())break e;lk(s,m,_),a=x}}}if(Um)throw t=Qx,Um=!1,Qx=null,t}function ei(t,e){var n=e[ab];n===void 0&&(n=e[ab]=new Set);var i=t+"__bubble";n.has(i)||(I1(e,t,2,!1),n.add(i))}function $v(t,e,n){var i=0;e&&(i|=4),I1(n,t,i,e)}var Wf="_reactListening"+Math.random().toString(36).slice(2);function ip(t){if(!t[Wf]){t[Wf]=!0,FS.forEach(function(n){n!=="selectionchange"&&(QO.has(n)||$v(n,!1,t),$v(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wf]||(e[Wf]=!0,$v("selectionchange",!1,e))}}function I1(t,e,n,i){switch(f1(e)){case 1:var s=hO;break;case 4:s=dO;break;default:s=A0}n=s.bind(null,e,n,t),s=void 0,!Xx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Hv(t,e,n,i,s){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var u=i.tag;if(u===3||u===4){var m=i.stateNode.containerInfo;if(m===s||m.nodeType===8&&m.parentNode===s)break;if(u===4)for(u=i.return;u!==null;){var x=u.tag;if((x===3||x===4)&&(x=u.stateNode.containerInfo,x===s||x.nodeType===8&&x.parentNode===s))return;u=u.return}for(;m!==null;){if(u=Jl(m),u===null)return;if(x=u.tag,x===5||x===6){i=a=u;continue e}m=m.parentNode}}i=i.return}e1(function(){var _=a,j=k0(n),I=[];e:{var U=N1.get(t);if(U!==void 0){var J=j0,ne=t;switch(t){case"keypress":if(xm(n)===0)break e;case"keydown":case"keyup":J=SO;break;case"focusin":ne="focus",J=Fv;break;case"focusout":ne="blur",J=Fv;break;case"beforeblur":case"afterblur":J=Fv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=XE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=mO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=jO;break;case T1:case C1:case S1:J=vO;break;case A1:J=PO;break;case"scroll":J=pO;break;case"wheel":J=RO;break;case"copy":case"cut":case"paste":J=bO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=JE}var le=(e&4)!==0,oe=!le&&t==="scroll",X=le?U!==null?U+"Capture":null:U;le=[];for(var O=_,H;O!==null;){H=O;var te=H.stateNode;if(H.tag===5&&te!==null&&(H=te,X!==null&&(te=Qd(O,X),te!=null&&le.push(rp(O,te,H)))),oe)break;O=O.return}0<le.length&&(U=new J(U,ne,null,n,j),I.push({event:U,listeners:le}))}}if(!(e&7)){e:{if(U=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",U&&n!==Kx&&(ne=n.relatedTarget||n.fromElement)&&(Jl(ne)||ne[Xo]))break e;if((J||U)&&(U=j.window===j?j:(U=j.ownerDocument)?U.defaultView||U.parentWindow:window,J?(ne=n.relatedTarget||n.toElement,J=_,ne=ne?Jl(ne):null,ne!==null&&(oe=Ec(ne),ne!==oe||ne.tag!==5&&ne.tag!==6)&&(ne=null)):(J=null,ne=_),J!==ne)){if(le=XE,te="onMouseLeave",X="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(le=JE,te="onPointerLeave",X="onPointerEnter",O="pointer"),oe=J==null?U:ku(J),H=ne==null?U:ku(ne),U=new le(te,O+"leave",J,n,j),U.target=oe,U.relatedTarget=H,te=null,Jl(j)===_&&(le=new le(X,O+"enter",ne,n,j),le.target=H,le.relatedTarget=oe,te=le),oe=te,J&&ne)t:{for(le=J,X=ne,O=0,H=le;H;H=lu(H))O++;for(H=0,te=X;te;te=lu(te))H++;for(;0<O-H;)le=lu(le),O--;for(;0<H-O;)X=lu(X),H--;for(;O--;){if(le===X||X!==null&&le===X.alternate)break t;le=lu(le),X=lu(X)}le=null}else le=null;J!==null&&ck(I,U,J,le,!1),ne!==null&&oe!==null&&ck(I,oe,ne,le,!0)}}e:{if(U=_?ku(_):window,J=U.nodeName&&U.nodeName.toLowerCase(),J==="select"||J==="input"&&U.type==="file")var Te=UO;else if(tk(U))if(b1)Te=HO;else{Te=qO;var ge=zO}else(J=U.nodeName)&&J.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(Te=$O);if(Te&&(Te=Te(t,_))){x1(I,Te,n,j);break e}ge&&ge(t,U,_),t==="focusout"&&(ge=U._wrapperState)&&ge.controlled&&U.type==="number"&&qx(U,"number",U.value)}switch(ge=_?ku(_):window,t){case"focusin":(tk(ge)||ge.contentEditable==="true")&&(_u=ge,tb=_,Ld=null);break;case"focusout":Ld=tb=_u=null;break;case"mousedown":nb=!0;break;case"contextmenu":case"mouseup":case"dragend":nb=!1,ok(I,n,j);break;case"selectionchange":if(KO)break;case"keydown":case"keyup":ok(I,n,j)}var Y;if(P0)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else wu?y1(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(g1&&n.locale!=="ko"&&(wu||M!=="onCompositionStart"?M==="onCompositionEnd"&&wu&&(Y=m1()):(Wa=j,N0="value"in Wa?Wa.value:Wa.textContent,wu=!0)),ge=Wm(_,M),0<ge.length&&(M=new QE(M,t,null,n,j),I.push({event:M,listeners:ge}),Y?M.data=Y:(Y=v1(n),Y!==null&&(M.data=Y)))),(Y=OO?LO(t,n):FO(t,n))&&(_=Wm(_,"onBeforeInput"),0<_.length&&(j=new QE("onBeforeInput","beforeinput",null,n,j),I.push({event:j,listeners:_}),j.data=Y))}j1(I,e)})}function rp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wm(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Qd(t,n),a!=null&&i.unshift(rp(t,a,s)),a=Qd(t,e),a!=null&&i.push(rp(t,a,s))),t=t.return}return i}function lu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ck(t,e,n,i,s){for(var a=e._reactName,u=[];n!==null&&n!==i;){var m=n,x=m.alternate,_=m.stateNode;if(x!==null&&x===i)break;m.tag===5&&_!==null&&(m=_,s?(x=Qd(n,a),x!=null&&u.unshift(rp(n,x,m))):s||(x=Qd(n,a),x!=null&&u.push(rp(n,x,m)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var JO=/\r\n?/g,ZO=/\u0000|\uFFFD/g;function uk(t){return(typeof t=="string"?t:""+t).replace(JO,`
`).replace(ZO,"")}function Gf(t,e,n){if(e=uk(e),uk(t)!==e&&n)throw Error(At(425))}function Gm(){}var ib=null,rb=null;function sb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ob=typeof setTimeout=="function"?setTimeout:void 0,e2=typeof clearTimeout=="function"?clearTimeout:void 0,hk=typeof Promise=="function"?Promise:void 0,t2=typeof queueMicrotask=="function"?queueMicrotask:typeof hk<"u"?function(t){return hk.resolve(null).then(t).catch(n2)}:ob;function n2(t){setTimeout(function(){throw t})}function Wv(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),ep(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);ep(e)}function Za(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var uh=Math.random().toString(36).slice(2),po="__reactFiber$"+uh,sp="__reactProps$"+uh,Xo="__reactContainer$"+uh,ab="__reactEvents$"+uh,i2="__reactListeners$"+uh,r2="__reactHandles$"+uh;function Jl(t){var e=t[po];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xo]||n[po]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dk(t);t!==null;){if(n=t[po])return n;t=dk(t)}return e}t=n,n=t.parentNode}return null}function Ap(t){return t=t[po]||t[Xo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ku(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(At(33))}function Lg(t){return t[sp]||null}var lb=[],Tu=-1;function vl(t){return{current:t}}function ni(t){0>Tu||(t.current=lb[Tu],lb[Tu]=null,Tu--)}function Jn(t,e){Tu++,lb[Tu]=t.current,t.current=e}var hl={},xr=vl(hl),Lr=vl(!1),ac=hl;function Wu(t,e){var n=t.type.contextTypes;if(!n)return hl;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=e[a];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Fr(t){return t=t.childContextTypes,t!=null}function Km(){ni(Lr),ni(xr)}function pk(t,e,n){if(xr.current!==hl)throw Error(At(168));Jn(xr,e),Jn(Lr,n)}function P1(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(At(108,zD(t)||"Unknown",s));return mi({},n,i)}function Ym(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hl,ac=xr.current,Jn(xr,t),Jn(Lr,Lr.current),!0}function fk(t,e,n){var i=t.stateNode;if(!i)throw Error(At(169));n?(t=P1(t,e,ac),i.__reactInternalMemoizedMergedChildContext=t,ni(Lr),ni(xr),Jn(xr,t)):ni(Lr),Jn(Lr,n)}var Bo=null,Fg=!1,Gv=!1;function M1(t){Bo===null?Bo=[t]:Bo.push(t)}function s2(t){Fg=!0,M1(t)}function xl(){if(!Gv&&Bo!==null){Gv=!0;var t=0,e=zn;try{var n=Bo;for(zn=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Bo=null,Fg=!1}catch(s){throw Bo!==null&&(Bo=Bo.slice(t+1)),r1(T0,xl),s}finally{zn=e,Gv=!1}}return null}var Cu=[],Su=0,Xm=null,Qm=0,ys=[],vs=0,lc=null,Uo=1,zo="";function Gl(t,e){Cu[Su++]=Qm,Cu[Su++]=Xm,Xm=t,Qm=e}function R1(t,e,n){ys[vs++]=Uo,ys[vs++]=zo,ys[vs++]=lc,lc=t;var i=Uo;t=zo;var s=32-qs(i)-1;i&=~(1<<s),n+=1;var a=32-qs(e)+s;if(30<a){var u=s-s%5;a=(i&(1<<u)-1).toString(32),i>>=u,s-=u,Uo=1<<32-qs(e)+s|n<<s|i,zo=a+t}else Uo=1<<a|n<<s|i,zo=t}function R0(t){t.return!==null&&(Gl(t,1),R1(t,1,0))}function D0(t){for(;t===Xm;)Xm=Cu[--Su],Cu[Su]=null,Qm=Cu[--Su],Cu[Su]=null;for(;t===lc;)lc=ys[--vs],ys[vs]=null,zo=ys[--vs],ys[vs]=null,Uo=ys[--vs],ys[vs]=null}var ts=null,Jr=null,oi=!1,zs=null;function D1(t,e){var n=xs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mk(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ts=t,Jr=Za(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ts=t,Jr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=lc!==null?{id:Uo,overflow:zo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ts=t,Jr=null,!0):!1;default:return!1}}function cb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ub(t){if(oi){var e=Jr;if(e){var n=e;if(!mk(t,e)){if(cb(t))throw Error(At(418));e=Za(n.nextSibling);var i=ts;e&&mk(t,e)?D1(i,n):(t.flags=t.flags&-4097|2,oi=!1,ts=t)}}else{if(cb(t))throw Error(At(418));t.flags=t.flags&-4097|2,oi=!1,ts=t}}}function gk(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ts=t}function Kf(t){if(t!==ts)return!1;if(!oi)return gk(t),oi=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sb(t.type,t.memoizedProps)),e&&(e=Jr)){if(cb(t))throw O1(),Error(At(418));for(;e;)D1(t,e),e=Za(e.nextSibling)}if(gk(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(At(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jr=Za(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jr=null}}else Jr=ts?Za(t.stateNode.nextSibling):null;return!0}function O1(){for(var t=Jr;t;)t=Za(t.nextSibling)}function Gu(){Jr=ts=null,oi=!1}function O0(t){zs===null?zs=[t]:zs.push(t)}var o2=ra.ReactCurrentBatchConfig;function dd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(At(309));var i=n.stateNode}if(!i)throw Error(At(147,t));var s=i,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(u){var m=s.refs;u===null?delete m[a]:m[a]=u},e._stringRef=a,e)}if(typeof t!="string")throw Error(At(284));if(!n._owner)throw Error(At(290,t))}return t}function Yf(t,e){throw t=Object.prototype.toString.call(e),Error(At(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yk(t){var e=t._init;return e(t._payload)}function L1(t){function e(X,O){if(t){var H=X.deletions;H===null?(X.deletions=[O],X.flags|=16):H.push(O)}}function n(X,O){if(!t)return null;for(;O!==null;)e(X,O),O=O.sibling;return null}function i(X,O){for(X=new Map;O!==null;)O.key!==null?X.set(O.key,O):X.set(O.index,O),O=O.sibling;return X}function s(X,O){return X=il(X,O),X.index=0,X.sibling=null,X}function a(X,O,H){return X.index=H,t?(H=X.alternate,H!==null?(H=H.index,H<O?(X.flags|=2,O):H):(X.flags|=2,O)):(X.flags|=1048576,O)}function u(X){return t&&X.alternate===null&&(X.flags|=2),X}function m(X,O,H,te){return O===null||O.tag!==6?(O=ex(H,X.mode,te),O.return=X,O):(O=s(O,H),O.return=X,O)}function x(X,O,H,te){var Te=H.type;return Te===bu?j(X,O,H.props.children,te,H.key):O!==null&&(O.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Fa&&yk(Te)===O.type)?(te=s(O,H.props),te.ref=dd(X,O,H),te.return=X,te):(te=Cm(H.type,H.key,H.props,null,X.mode,te),te.ref=dd(X,O,H),te.return=X,te)}function _(X,O,H,te){return O===null||O.tag!==4||O.stateNode.containerInfo!==H.containerInfo||O.stateNode.implementation!==H.implementation?(O=tx(H,X.mode,te),O.return=X,O):(O=s(O,H.children||[]),O.return=X,O)}function j(X,O,H,te,Te){return O===null||O.tag!==7?(O=rc(H,X.mode,te,Te),O.return=X,O):(O=s(O,H),O.return=X,O)}function I(X,O,H){if(typeof O=="string"&&O!==""||typeof O=="number")return O=ex(""+O,X.mode,H),O.return=X,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Ff:return H=Cm(O.type,O.key,O.props,null,X.mode,H),H.ref=dd(X,null,O),H.return=X,H;case xu:return O=tx(O,X.mode,H),O.return=X,O;case Fa:var te=O._init;return I(X,te(O._payload),H)}if(_d(O)||ad(O))return O=rc(O,X.mode,H,null),O.return=X,O;Yf(X,O)}return null}function U(X,O,H,te){var Te=O!==null?O.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return Te!==null?null:m(X,O,""+H,te);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Ff:return H.key===Te?x(X,O,H,te):null;case xu:return H.key===Te?_(X,O,H,te):null;case Fa:return Te=H._init,U(X,O,Te(H._payload),te)}if(_d(H)||ad(H))return Te!==null?null:j(X,O,H,te,null);Yf(X,H)}return null}function J(X,O,H,te,Te){if(typeof te=="string"&&te!==""||typeof te=="number")return X=X.get(H)||null,m(O,X,""+te,Te);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case Ff:return X=X.get(te.key===null?H:te.key)||null,x(O,X,te,Te);case xu:return X=X.get(te.key===null?H:te.key)||null,_(O,X,te,Te);case Fa:var ge=te._init;return J(X,O,H,ge(te._payload),Te)}if(_d(te)||ad(te))return X=X.get(H)||null,j(O,X,te,Te,null);Yf(O,te)}return null}function ne(X,O,H,te){for(var Te=null,ge=null,Y=O,M=O=0,G=null;Y!==null&&M<H.length;M++){Y.index>M?(G=Y,Y=null):G=Y.sibling;var z=U(X,Y,H[M],te);if(z===null){Y===null&&(Y=G);break}t&&Y&&z.alternate===null&&e(X,Y),O=a(z,O,M),ge===null?Te=z:ge.sibling=z,ge=z,Y=G}if(M===H.length)return n(X,Y),oi&&Gl(X,M),Te;if(Y===null){for(;M<H.length;M++)Y=I(X,H[M],te),Y!==null&&(O=a(Y,O,M),ge===null?Te=Y:ge.sibling=Y,ge=Y);return oi&&Gl(X,M),Te}for(Y=i(X,Y);M<H.length;M++)G=J(Y,X,M,H[M],te),G!==null&&(t&&G.alternate!==null&&Y.delete(G.key===null?M:G.key),O=a(G,O,M),ge===null?Te=G:ge.sibling=G,ge=G);return t&&Y.forEach(function(K){return e(X,K)}),oi&&Gl(X,M),Te}function le(X,O,H,te){var Te=ad(H);if(typeof Te!="function")throw Error(At(150));if(H=Te.call(H),H==null)throw Error(At(151));for(var ge=Te=null,Y=O,M=O=0,G=null,z=H.next();Y!==null&&!z.done;M++,z=H.next()){Y.index>M?(G=Y,Y=null):G=Y.sibling;var K=U(X,Y,z.value,te);if(K===null){Y===null&&(Y=G);break}t&&Y&&K.alternate===null&&e(X,Y),O=a(K,O,M),ge===null?Te=K:ge.sibling=K,ge=K,Y=G}if(z.done)return n(X,Y),oi&&Gl(X,M),Te;if(Y===null){for(;!z.done;M++,z=H.next())z=I(X,z.value,te),z!==null&&(O=a(z,O,M),ge===null?Te=z:ge.sibling=z,ge=z);return oi&&Gl(X,M),Te}for(Y=i(X,Y);!z.done;M++,z=H.next())z=J(Y,X,M,z.value,te),z!==null&&(t&&z.alternate!==null&&Y.delete(z.key===null?M:z.key),O=a(z,O,M),ge===null?Te=z:ge.sibling=z,ge=z);return t&&Y.forEach(function(se){return e(X,se)}),oi&&Gl(X,M),Te}function oe(X,O,H,te){if(typeof H=="object"&&H!==null&&H.type===bu&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case Ff:e:{for(var Te=H.key,ge=O;ge!==null;){if(ge.key===Te){if(Te=H.type,Te===bu){if(ge.tag===7){n(X,ge.sibling),O=s(ge,H.props.children),O.return=X,X=O;break e}}else if(ge.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Fa&&yk(Te)===ge.type){n(X,ge.sibling),O=s(ge,H.props),O.ref=dd(X,ge,H),O.return=X,X=O;break e}n(X,ge);break}else e(X,ge);ge=ge.sibling}H.type===bu?(O=rc(H.props.children,X.mode,te,H.key),O.return=X,X=O):(te=Cm(H.type,H.key,H.props,null,X.mode,te),te.ref=dd(X,O,H),te.return=X,X=te)}return u(X);case xu:e:{for(ge=H.key;O!==null;){if(O.key===ge)if(O.tag===4&&O.stateNode.containerInfo===H.containerInfo&&O.stateNode.implementation===H.implementation){n(X,O.sibling),O=s(O,H.children||[]),O.return=X,X=O;break e}else{n(X,O);break}else e(X,O);O=O.sibling}O=tx(H,X.mode,te),O.return=X,X=O}return u(X);case Fa:return ge=H._init,oe(X,O,ge(H._payload),te)}if(_d(H))return ne(X,O,H,te);if(ad(H))return le(X,O,H,te);Yf(X,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,O!==null&&O.tag===6?(n(X,O.sibling),O=s(O,H),O.return=X,X=O):(n(X,O),O=ex(H,X.mode,te),O.return=X,X=O),u(X)):n(X,O)}return oe}var Ku=L1(!0),F1=L1(!1),Jm=vl(null),Zm=null,Au=null,L0=null;function F0(){L0=Au=Zm=null}function B0(t){var e=Jm.current;ni(Jm),t._currentValue=e}function hb(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Fu(t,e){Zm=t,L0=Au=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Or=!0),t.firstContext=null)}function ws(t){var e=t._currentValue;if(L0!==t)if(t={context:t,memoizedValue:e,next:null},Au===null){if(Zm===null)throw Error(At(308));Au=t,Zm.dependencies={lanes:0,firstContext:t}}else Au=Au.next=t;return e}var Zl=null;function V0(t){Zl===null?Zl=[t]:Zl.push(t)}function B1(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,V0(e)):(n.next=s.next,s.next=n),e.interleaved=n,Qo(t,i)}function Qo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ba=!1;function U0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function V1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function el(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Mn&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,Qo(t,n)}return s=i.interleaved,s===null?(e.next=e,V0(i)):(e.next=s.next,s.next=e),i.interleaved=e,Qo(t,n)}function bm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,C0(t,n)}}function vk(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?s=a=e:a=a.next=e}else s=a=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function eg(t,e,n,i){var s=t.updateQueue;Ba=!1;var a=s.firstBaseUpdate,u=s.lastBaseUpdate,m=s.shared.pending;if(m!==null){s.shared.pending=null;var x=m,_=x.next;x.next=null,u===null?a=_:u.next=_,u=x;var j=t.alternate;j!==null&&(j=j.updateQueue,m=j.lastBaseUpdate,m!==u&&(m===null?j.firstBaseUpdate=_:m.next=_,j.lastBaseUpdate=x))}if(a!==null){var I=s.baseState;u=0,j=_=x=null,m=a;do{var U=m.lane,J=m.eventTime;if((i&U)===U){j!==null&&(j=j.next={eventTime:J,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var ne=t,le=m;switch(U=e,J=n,le.tag){case 1:if(ne=le.payload,typeof ne=="function"){I=ne.call(J,I,U);break e}I=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=le.payload,U=typeof ne=="function"?ne.call(J,I,U):ne,U==null)break e;I=mi({},I,U);break e;case 2:Ba=!0}}m.callback!==null&&m.lane!==0&&(t.flags|=64,U=s.effects,U===null?s.effects=[m]:U.push(m))}else J={eventTime:J,lane:U,tag:m.tag,payload:m.payload,callback:m.callback,next:null},j===null?(_=j=J,x=I):j=j.next=J,u|=U;if(m=m.next,m===null){if(m=s.shared.pending,m===null)break;U=m,m=U.next,U.next=null,s.lastBaseUpdate=U,s.shared.pending=null}}while(!0);if(j===null&&(x=I),s.baseState=x,s.firstBaseUpdate=_,s.lastBaseUpdate=j,e=s.shared.interleaved,e!==null){s=e;do u|=s.lane,s=s.next;while(s!==e)}else a===null&&(s.shared.lanes=0);uc|=u,t.lanes=u,t.memoizedState=I}}function xk(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(At(191,s));s.call(i)}}}var Np={},yo=vl(Np),op=vl(Np),ap=vl(Np);function ec(t){if(t===Np)throw Error(At(174));return t}function z0(t,e){switch(Jn(ap,e),Jn(op,t),Jn(yo,Np),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hx(e,t)}ni(yo),Jn(yo,e)}function Yu(){ni(yo),ni(op),ni(ap)}function U1(t){ec(ap.current);var e=ec(yo.current),n=Hx(e,t.type);e!==n&&(Jn(op,t),Jn(yo,n))}function q0(t){op.current===t&&(ni(yo),ni(op))}var hi=vl(0);function tg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kv=[];function $0(){for(var t=0;t<Kv.length;t++)Kv[t]._workInProgressVersionPrimary=null;Kv.length=0}var wm=ra.ReactCurrentDispatcher,Yv=ra.ReactCurrentBatchConfig,cc=0,pi=null,Vi=null,Hi=null,ng=!1,Fd=!1,lp=0,a2=0;function pr(){throw Error(At(321))}function H0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ws(t[n],e[n]))return!1;return!0}function W0(t,e,n,i,s,a){if(cc=a,pi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wm.current=t===null||t.memoizedState===null?h2:d2,t=n(i,s),Fd){a=0;do{if(Fd=!1,lp=0,25<=a)throw Error(At(301));a+=1,Hi=Vi=null,e.updateQueue=null,wm.current=p2,t=n(i,s)}while(Fd)}if(wm.current=ig,e=Vi!==null&&Vi.next!==null,cc=0,Hi=Vi=pi=null,ng=!1,e)throw Error(At(300));return t}function G0(){var t=lp!==0;return lp=0,t}function ho(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hi===null?pi.memoizedState=Hi=t:Hi=Hi.next=t,Hi}function _s(){if(Vi===null){var t=pi.alternate;t=t!==null?t.memoizedState:null}else t=Vi.next;var e=Hi===null?pi.memoizedState:Hi.next;if(e!==null)Hi=e,Vi=t;else{if(t===null)throw Error(At(310));Vi=t,t={memoizedState:Vi.memoizedState,baseState:Vi.baseState,baseQueue:Vi.baseQueue,queue:Vi.queue,next:null},Hi===null?pi.memoizedState=Hi=t:Hi=Hi.next=t}return Hi}function cp(t,e){return typeof e=="function"?e(t):e}function Xv(t){var e=_s(),n=e.queue;if(n===null)throw Error(At(311));n.lastRenderedReducer=t;var i=Vi,s=i.baseQueue,a=n.pending;if(a!==null){if(s!==null){var u=s.next;s.next=a.next,a.next=u}i.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,i=i.baseState;var m=u=null,x=null,_=a;do{var j=_.lane;if((cc&j)===j)x!==null&&(x=x.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),i=_.hasEagerState?_.eagerState:t(i,_.action);else{var I={lane:j,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};x===null?(m=x=I,u=i):x=x.next=I,pi.lanes|=j,uc|=j}_=_.next}while(_!==null&&_!==a);x===null?u=i:x.next=m,Ws(i,e.memoizedState)||(Or=!0),e.memoizedState=i,e.baseState=u,e.baseQueue=x,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do a=s.lane,pi.lanes|=a,uc|=a,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Qv(t){var e=_s(),n=e.queue;if(n===null)throw Error(At(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,a=e.memoizedState;if(s!==null){n.pending=null;var u=s=s.next;do a=t(a,u.action),u=u.next;while(u!==s);Ws(a,e.memoizedState)||(Or=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function z1(){}function q1(t,e){var n=pi,i=_s(),s=e(),a=!Ws(i.memoizedState,s);if(a&&(i.memoizedState=s,Or=!0),i=i.queue,K0(W1.bind(null,n,i,t),[t]),i.getSnapshot!==e||a||Hi!==null&&Hi.memoizedState.tag&1){if(n.flags|=2048,up(9,H1.bind(null,n,i,s,e),void 0,null),Wi===null)throw Error(At(349));cc&30||$1(n,e,s)}return s}function $1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pi.updateQueue,e===null?(e={lastEffect:null,stores:null},pi.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function H1(t,e,n,i){e.value=n,e.getSnapshot=i,G1(e)&&K1(t)}function W1(t,e,n){return n(function(){G1(e)&&K1(t)})}function G1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ws(t,n)}catch{return!0}}function K1(t){var e=Qo(t,1);e!==null&&$s(e,t,1,-1)}function bk(t){var e=ho();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cp,lastRenderedState:t},e.queue=t,t=t.dispatch=u2.bind(null,pi,t),[e.memoizedState,t]}function up(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=pi.updateQueue,e===null?(e={lastEffect:null,stores:null},pi.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function Y1(){return _s().memoizedState}function _m(t,e,n,i){var s=ho();pi.flags|=t,s.memoizedState=up(1|e,n,void 0,i===void 0?null:i)}function Bg(t,e,n,i){var s=_s();i=i===void 0?null:i;var a=void 0;if(Vi!==null){var u=Vi.memoizedState;if(a=u.destroy,i!==null&&H0(i,u.deps)){s.memoizedState=up(e,n,a,i);return}}pi.flags|=t,s.memoizedState=up(1|e,n,a,i)}function wk(t,e){return _m(8390656,8,t,e)}function K0(t,e){return Bg(2048,8,t,e)}function X1(t,e){return Bg(4,2,t,e)}function Q1(t,e){return Bg(4,4,t,e)}function J1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Z1(t,e,n){return n=n!=null?n.concat([t]):null,Bg(4,4,J1.bind(null,e,t),n)}function Y0(){}function eA(t,e){var n=_s();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&H0(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function tA(t,e){var n=_s();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&H0(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function nA(t,e,n){return cc&21?(Ws(n,e)||(n=a1(),pi.lanes|=n,uc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Or=!0),t.memoizedState=n)}function l2(t,e){var n=zn;zn=n!==0&&4>n?n:4,t(!0);var i=Yv.transition;Yv.transition={};try{t(!1),e()}finally{zn=n,Yv.transition=i}}function iA(){return _s().memoizedState}function c2(t,e,n){var i=nl(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},rA(t))sA(e,n);else if(n=B1(t,e,n,i),n!==null){var s=kr();$s(n,t,i,s),oA(n,e,i)}}function u2(t,e,n){var i=nl(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(rA(t))sA(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var u=e.lastRenderedState,m=a(u,n);if(s.hasEagerState=!0,s.eagerState=m,Ws(m,u)){var x=e.interleaved;x===null?(s.next=s,V0(e)):(s.next=x.next,x.next=s),e.interleaved=s;return}}catch{}finally{}n=B1(t,e,s,i),n!==null&&(s=kr(),$s(n,t,i,s),oA(n,e,i))}}function rA(t){var e=t.alternate;return t===pi||e!==null&&e===pi}function sA(t,e){Fd=ng=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function oA(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,C0(t,n)}}var ig={readContext:ws,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},h2={readContext:ws,useCallback:function(t,e){return ho().memoizedState=[t,e===void 0?null:e],t},useContext:ws,useEffect:wk,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_m(4194308,4,J1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _m(4194308,4,t,e)},useInsertionEffect:function(t,e){return _m(4,2,t,e)},useMemo:function(t,e){var n=ho();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=ho();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=c2.bind(null,pi,t),[i.memoizedState,t]},useRef:function(t){var e=ho();return t={current:t},e.memoizedState=t},useState:bk,useDebugValue:Y0,useDeferredValue:function(t){return ho().memoizedState=t},useTransition:function(){var t=bk(!1),e=t[0];return t=l2.bind(null,t[1]),ho().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=pi,s=ho();if(oi){if(n===void 0)throw Error(At(407));n=n()}else{if(n=e(),Wi===null)throw Error(At(349));cc&30||$1(i,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,wk(W1.bind(null,i,a,t),[t]),i.flags|=2048,up(9,H1.bind(null,i,a,n,e),void 0,null),n},useId:function(){var t=ho(),e=Wi.identifierPrefix;if(oi){var n=zo,i=Uo;n=(i&~(1<<32-qs(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=lp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=a2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},d2={readContext:ws,useCallback:eA,useContext:ws,useEffect:K0,useImperativeHandle:Z1,useInsertionEffect:X1,useLayoutEffect:Q1,useMemo:tA,useReducer:Xv,useRef:Y1,useState:function(){return Xv(cp)},useDebugValue:Y0,useDeferredValue:function(t){var e=_s();return nA(e,Vi.memoizedState,t)},useTransition:function(){var t=Xv(cp)[0],e=_s().memoizedState;return[t,e]},useMutableSource:z1,useSyncExternalStore:q1,useId:iA,unstable_isNewReconciler:!1},p2={readContext:ws,useCallback:eA,useContext:ws,useEffect:K0,useImperativeHandle:Z1,useInsertionEffect:X1,useLayoutEffect:Q1,useMemo:tA,useReducer:Qv,useRef:Y1,useState:function(){return Qv(cp)},useDebugValue:Y0,useDeferredValue:function(t){var e=_s();return Vi===null?e.memoizedState=t:nA(e,Vi.memoizedState,t)},useTransition:function(){var t=Qv(cp)[0],e=_s().memoizedState;return[t,e]},useMutableSource:z1,useSyncExternalStore:q1,useId:iA,unstable_isNewReconciler:!1};function Bs(t,e){if(t&&t.defaultProps){e=mi({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function db(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:mi({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vg={isMounted:function(t){return(t=t._reactInternals)?Ec(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=kr(),s=nl(t),a=Wo(i,s);a.payload=e,n!=null&&(a.callback=n),e=el(t,a,s),e!==null&&($s(e,t,s,i),bm(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=kr(),s=nl(t),a=Wo(i,s);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=el(t,a,s),e!==null&&($s(e,t,s,i),bm(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kr(),i=nl(t),s=Wo(n,i);s.tag=2,e!=null&&(s.callback=e),e=el(t,s,i),e!==null&&($s(e,t,i,n),bm(e,t,i))}};function _k(t,e,n,i,s,a,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,u):e.prototype&&e.prototype.isPureReactComponent?!np(n,i)||!np(s,a):!0}function aA(t,e,n){var i=!1,s=hl,a=e.contextType;return typeof a=="object"&&a!==null?a=ws(a):(s=Fr(e)?ac:xr.current,i=e.contextTypes,a=(i=i!=null)?Wu(t,s):hl),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vg,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),e}function Ek(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Vg.enqueueReplaceState(e,e.state,null)}function pb(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},U0(t);var a=e.contextType;typeof a=="object"&&a!==null?s.context=ws(a):(a=Fr(e)?ac:xr.current,s.context=Wu(t,a)),s.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(db(t,e,a,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Vg.enqueueReplaceState(s,s.state,null),eg(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Xu(t,e){try{var n="",i=e;do n+=UD(i),i=i.return;while(i);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:s,digest:null}}function Jv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function fb(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var f2=typeof WeakMap=="function"?WeakMap:Map;function lA(t,e,n){n=Wo(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){sg||(sg=!0,kb=i),fb(t,e)},n}function cA(t,e,n){n=Wo(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){fb(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){fb(t,e),typeof i!="function"&&(tl===null?tl=new Set([this]):tl.add(this));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),n}function kk(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new f2;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=A2.bind(null,t,e,n),e.then(t,t))}function Tk(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ck(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wo(-1,1),e.tag=2,el(n,e,1))),n.lanes|=1),t)}var m2=ra.ReactCurrentOwner,Or=!1;function Er(t,e,n,i){e.child=t===null?F1(e,null,n,i):Ku(e,t.child,n,i)}function Sk(t,e,n,i,s){n=n.render;var a=e.ref;return Fu(e,s),i=W0(t,e,n,i,a,s),n=G0(),t!==null&&!Or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jo(t,e,s)):(oi&&n&&R0(e),e.flags|=1,Er(t,e,i,s),e.child)}function Ak(t,e,n,i,s){if(t===null){var a=n.type;return typeof a=="function"&&!iw(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,uA(t,e,a,i,s)):(t=Cm(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&s)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:np,n(u,i)&&t.ref===e.ref)return Jo(t,e,s)}return e.flags|=1,t=il(a,i),t.ref=e.ref,t.return=e,e.child=t}function uA(t,e,n,i,s){if(t!==null){var a=t.memoizedProps;if(np(a,i)&&t.ref===e.ref)if(Or=!1,e.pendingProps=i=a,(t.lanes&s)!==0)t.flags&131072&&(Or=!0);else return e.lanes=t.lanes,Jo(t,e,s)}return mb(t,e,n,i,s)}function hA(t,e,n){var i=e.pendingProps,s=i.children,a=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jn(ju,Qr),Qr|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Jn(ju,Qr),Qr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:n,Jn(ju,Qr),Qr|=i}else a!==null?(i=a.baseLanes|n,e.memoizedState=null):i=n,Jn(ju,Qr),Qr|=i;return Er(t,e,s,n),e.child}function dA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mb(t,e,n,i,s){var a=Fr(n)?ac:xr.current;return a=Wu(e,a),Fu(e,s),n=W0(t,e,n,i,a,s),i=G0(),t!==null&&!Or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jo(t,e,s)):(oi&&i&&R0(e),e.flags|=1,Er(t,e,n,s),e.child)}function Nk(t,e,n,i,s){if(Fr(n)){var a=!0;Ym(e)}else a=!1;if(Fu(e,s),e.stateNode===null)Em(t,e),aA(e,n,i),pb(e,n,i,s),i=!0;else if(t===null){var u=e.stateNode,m=e.memoizedProps;u.props=m;var x=u.context,_=n.contextType;typeof _=="object"&&_!==null?_=ws(_):(_=Fr(n)?ac:xr.current,_=Wu(e,_));var j=n.getDerivedStateFromProps,I=typeof j=="function"||typeof u.getSnapshotBeforeUpdate=="function";I||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==i||x!==_)&&Ek(e,u,i,_),Ba=!1;var U=e.memoizedState;u.state=U,eg(e,i,u,s),x=e.memoizedState,m!==i||U!==x||Lr.current||Ba?(typeof j=="function"&&(db(e,n,j,i),x=e.memoizedState),(m=Ba||_k(e,n,m,i,U,x,_))?(I||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=x),u.props=i,u.state=x,u.context=_,i=m):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{u=e.stateNode,V1(t,e),m=e.memoizedProps,_=e.type===e.elementType?m:Bs(e.type,m),u.props=_,I=e.pendingProps,U=u.context,x=n.contextType,typeof x=="object"&&x!==null?x=ws(x):(x=Fr(n)?ac:xr.current,x=Wu(e,x));var J=n.getDerivedStateFromProps;(j=typeof J=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==I||U!==x)&&Ek(e,u,i,x),Ba=!1,U=e.memoizedState,u.state=U,eg(e,i,u,s);var ne=e.memoizedState;m!==I||U!==ne||Lr.current||Ba?(typeof J=="function"&&(db(e,n,J,i),ne=e.memoizedState),(_=Ba||_k(e,n,_,i,U,ne,x)||!1)?(j||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,ne,x),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,ne,x)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===t.memoizedProps&&U===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&U===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=ne),u.props=i,u.state=ne,u.context=x,i=_):(typeof u.componentDidUpdate!="function"||m===t.memoizedProps&&U===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&U===t.memoizedState||(e.flags|=1024),i=!1)}return gb(t,e,n,i,a,s)}function gb(t,e,n,i,s,a){dA(t,e);var u=(e.flags&128)!==0;if(!i&&!u)return s&&fk(e,n,!1),Jo(t,e,a);i=e.stateNode,m2.current=e;var m=u&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&u?(e.child=Ku(e,t.child,null,a),e.child=Ku(e,null,m,a)):Er(t,e,m,a),e.memoizedState=i.state,s&&fk(e,n,!0),e.child}function pA(t){var e=t.stateNode;e.pendingContext?pk(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pk(t,e.context,!1),z0(t,e.containerInfo)}function jk(t,e,n,i,s){return Gu(),O0(s),e.flags|=256,Er(t,e,n,i),e.child}var yb={dehydrated:null,treeContext:null,retryLane:0};function vb(t){return{baseLanes:t,cachePool:null,transitions:null}}function fA(t,e,n){var i=e.pendingProps,s=hi.current,a=!1,u=(e.flags&128)!==0,m;if((m=u)||(m=t!==null&&t.memoizedState===null?!1:(s&2)!==0),m?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Jn(hi,s&1),t===null)return ub(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(u=i.children,t=i.fallback,a?(i=e.mode,a=e.child,u={mode:"hidden",children:u},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=qg(u,i,0,null),t=rc(t,i,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=vb(n),e.memoizedState=yb,t):X0(e,u));if(s=t.memoizedState,s!==null&&(m=s.dehydrated,m!==null))return g2(t,e,u,i,m,s,n);if(a){a=i.fallback,u=e.mode,s=t.child,m=s.sibling;var x={mode:"hidden",children:i.children};return!(u&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=x,e.deletions=null):(i=il(s,x),i.subtreeFlags=s.subtreeFlags&14680064),m!==null?a=il(m,a):(a=rc(a,u,n,null),a.flags|=2),a.return=e,i.return=e,i.sibling=a,e.child=i,i=a,a=e.child,u=t.child.memoizedState,u=u===null?vb(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=t.childLanes&~n,e.memoizedState=yb,i}return a=t.child,t=a.sibling,i=il(a,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function X0(t,e){return e=qg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xf(t,e,n,i){return i!==null&&O0(i),Ku(e,t.child,null,n),t=X0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function g2(t,e,n,i,s,a,u){if(n)return e.flags&256?(e.flags&=-257,i=Jv(Error(At(422))),Xf(t,e,u,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=i.fallback,s=e.mode,i=qg({mode:"visible",children:i.children},s,0,null),a=rc(a,s,u,null),a.flags|=2,i.return=e,a.return=e,i.sibling=a,e.child=i,e.mode&1&&Ku(e,t.child,null,u),e.child.memoizedState=vb(u),e.memoizedState=yb,a);if(!(e.mode&1))return Xf(t,e,u,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var m=i.dgst;return i=m,a=Error(At(419)),i=Jv(a,i,void 0),Xf(t,e,u,i)}if(m=(u&t.childLanes)!==0,Or||m){if(i=Wi,i!==null){switch(u&-u){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|u)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Qo(t,s),$s(i,t,s,-1))}return nw(),i=Jv(Error(At(421))),Xf(t,e,u,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=N2.bind(null,t),s._reactRetry=e,null):(t=a.treeContext,Jr=Za(s.nextSibling),ts=e,oi=!0,zs=null,t!==null&&(ys[vs++]=Uo,ys[vs++]=zo,ys[vs++]=lc,Uo=t.id,zo=t.overflow,lc=e),e=X0(e,i.children),e.flags|=4096,e)}function Ik(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),hb(t.return,e,n)}function Zv(t,e,n,i,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s)}function mA(t,e,n){var i=e.pendingProps,s=i.revealOrder,a=i.tail;if(Er(t,e,i.children,n),i=hi.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ik(t,n,e);else if(t.tag===19)Ik(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Jn(hi,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&tg(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Zv(e,!1,s,n,a);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&tg(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Zv(e,!0,n,null,a);break;case"together":Zv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Em(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),uc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(At(153));if(e.child!==null){for(t=e.child,n=il(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=il(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function y2(t,e,n){switch(e.tag){case 3:pA(e),Gu();break;case 5:U1(e);break;case 1:Fr(e.type)&&Ym(e);break;case 4:z0(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;Jn(Jm,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Jn(hi,hi.current&1),e.flags|=128,null):n&e.child.childLanes?fA(t,e,n):(Jn(hi,hi.current&1),t=Jo(t,e,n),t!==null?t.sibling:null);Jn(hi,hi.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return mA(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Jn(hi,hi.current),i)break;return null;case 22:case 23:return e.lanes=0,hA(t,e,n)}return Jo(t,e,n)}var gA,xb,yA,vA;gA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xb=function(){};yA=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,ec(yo.current);var a=null;switch(n){case"input":s=Ux(t,s),i=Ux(t,i),a=[];break;case"select":s=mi({},s,{value:void 0}),i=mi({},i,{value:void 0}),a=[];break;case"textarea":s=$x(t,s),i=$x(t,i),a=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Gm)}Wx(n,i);var u;n=null;for(_ in s)if(!i.hasOwnProperty(_)&&s.hasOwnProperty(_)&&s[_]!=null)if(_==="style"){var m=s[_];for(u in m)m.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(Yd.hasOwnProperty(_)?a||(a=[]):(a=a||[]).push(_,null));for(_ in i){var x=i[_];if(m=s!=null?s[_]:void 0,i.hasOwnProperty(_)&&x!==m&&(x!=null||m!=null))if(_==="style")if(m){for(u in m)!m.hasOwnProperty(u)||x&&x.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in x)x.hasOwnProperty(u)&&m[u]!==x[u]&&(n||(n={}),n[u]=x[u])}else n||(a||(a=[]),a.push(_,n)),n=x;else _==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,m=m?m.__html:void 0,x!=null&&m!==x&&(a=a||[]).push(_,x)):_==="children"?typeof x!="string"&&typeof x!="number"||(a=a||[]).push(_,""+x):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(Yd.hasOwnProperty(_)?(x!=null&&_==="onScroll"&&ei("scroll",t),a||m===x||(a=[])):(a=a||[]).push(_,x))}n&&(a=a||[]).push("style",n);var _=a;(e.updateQueue=_)&&(e.flags|=4)}};vA=function(t,e,n,i){n!==i&&(e.flags|=4)};function pd(t,e){if(!oi)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function fr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function v2(t,e,n){var i=e.pendingProps;switch(D0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(e),null;case 1:return Fr(e.type)&&Km(),fr(e),null;case 3:return i=e.stateNode,Yu(),ni(Lr),ni(xr),$0(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Kf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zs!==null&&(Sb(zs),zs=null))),xb(t,e),fr(e),null;case 5:q0(e);var s=ec(ap.current);if(n=e.type,t!==null&&e.stateNode!=null)yA(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(At(166));return fr(e),null}if(t=ec(yo.current),Kf(e)){i=e.stateNode,n=e.type;var a=e.memoizedProps;switch(i[po]=e,i[sp]=a,t=(e.mode&1)!==0,n){case"dialog":ei("cancel",i),ei("close",i);break;case"iframe":case"object":case"embed":ei("load",i);break;case"video":case"audio":for(s=0;s<kd.length;s++)ei(kd[s],i);break;case"source":ei("error",i);break;case"img":case"image":case"link":ei("error",i),ei("load",i);break;case"details":ei("toggle",i);break;case"input":VE(i,a),ei("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},ei("invalid",i);break;case"textarea":zE(i,a),ei("invalid",i)}Wx(n,a),s=null;for(var u in a)if(a.hasOwnProperty(u)){var m=a[u];u==="children"?typeof m=="string"?i.textContent!==m&&(a.suppressHydrationWarning!==!0&&Gf(i.textContent,m,t),s=["children",m]):typeof m=="number"&&i.textContent!==""+m&&(a.suppressHydrationWarning!==!0&&Gf(i.textContent,m,t),s=["children",""+m]):Yd.hasOwnProperty(u)&&m!=null&&u==="onScroll"&&ei("scroll",i)}switch(n){case"input":Bf(i),UE(i,a,!0);break;case"textarea":Bf(i),qE(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=Gm)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{u=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=WS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=u.createElement(n,{is:i.is}):(t=u.createElement(n),n==="select"&&(u=t,i.multiple?u.multiple=!0:i.size&&(u.size=i.size))):t=u.createElementNS(t,n),t[po]=e,t[sp]=i,gA(t,e,!1,!1),e.stateNode=t;e:{switch(u=Gx(n,i),n){case"dialog":ei("cancel",t),ei("close",t),s=i;break;case"iframe":case"object":case"embed":ei("load",t),s=i;break;case"video":case"audio":for(s=0;s<kd.length;s++)ei(kd[s],t);s=i;break;case"source":ei("error",t),s=i;break;case"img":case"image":case"link":ei("error",t),ei("load",t),s=i;break;case"details":ei("toggle",t),s=i;break;case"input":VE(t,i),s=Ux(t,i),ei("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=mi({},i,{value:void 0}),ei("invalid",t);break;case"textarea":zE(t,i),s=$x(t,i),ei("invalid",t);break;default:s=i}Wx(n,s),m=s;for(a in m)if(m.hasOwnProperty(a)){var x=m[a];a==="style"?YS(t,x):a==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&GS(t,x)):a==="children"?typeof x=="string"?(n!=="textarea"||x!=="")&&Xd(t,x):typeof x=="number"&&Xd(t,""+x):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Yd.hasOwnProperty(a)?x!=null&&a==="onScroll"&&ei("scroll",t):x!=null&&b0(t,a,x,u))}switch(n){case"input":Bf(t),UE(t,i,!1);break;case"textarea":Bf(t),qE(t);break;case"option":i.value!=null&&t.setAttribute("value",""+ul(i.value));break;case"select":t.multiple=!!i.multiple,a=i.value,a!=null?Ru(t,!!i.multiple,a,!1):i.defaultValue!=null&&Ru(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Gm)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fr(e),null;case 6:if(t&&e.stateNode!=null)vA(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(At(166));if(n=ec(ap.current),ec(yo.current),Kf(e)){if(i=e.stateNode,n=e.memoizedProps,i[po]=e,(a=i.nodeValue!==n)&&(t=ts,t!==null))switch(t.tag){case 3:Gf(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gf(i.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[po]=e,e.stateNode=i}return fr(e),null;case 13:if(ni(hi),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(oi&&Jr!==null&&e.mode&1&&!(e.flags&128))O1(),Gu(),e.flags|=98560,a=!1;else if(a=Kf(e),i!==null&&i.dehydrated!==null){if(t===null){if(!a)throw Error(At(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(At(317));a[po]=e}else Gu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fr(e),a=!1}else zs!==null&&(Sb(zs),zs=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||hi.current&1?Ui===0&&(Ui=3):nw())),e.updateQueue!==null&&(e.flags|=4),fr(e),null);case 4:return Yu(),xb(t,e),t===null&&ip(e.stateNode.containerInfo),fr(e),null;case 10:return B0(e.type._context),fr(e),null;case 17:return Fr(e.type)&&Km(),fr(e),null;case 19:if(ni(hi),a=e.memoizedState,a===null)return fr(e),null;if(i=(e.flags&128)!==0,u=a.rendering,u===null)if(i)pd(a,!1);else{if(Ui!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(u=tg(t),u!==null){for(e.flags|=128,pd(a,!1),i=u.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)a=n,t=i,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Jn(hi,hi.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ci()>Qu&&(e.flags|=128,i=!0,pd(a,!1),e.lanes=4194304)}else{if(!i)if(t=tg(u),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!oi)return fr(e),null}else 2*Ci()-a.renderingStartTime>Qu&&n!==1073741824&&(e.flags|=128,i=!0,pd(a,!1),e.lanes=4194304);a.isBackwards?(u.sibling=e.child,e.child=u):(n=a.last,n!==null?n.sibling=u:e.child=u,a.last=u)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ci(),e.sibling=null,n=hi.current,Jn(hi,i?n&1|2:n&1),e):(fr(e),null);case 22:case 23:return tw(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Qr&1073741824&&(fr(e),e.subtreeFlags&6&&(e.flags|=8192)):fr(e),null;case 24:return null;case 25:return null}throw Error(At(156,e.tag))}function x2(t,e){switch(D0(e),e.tag){case 1:return Fr(e.type)&&Km(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yu(),ni(Lr),ni(xr),$0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return q0(e),null;case 13:if(ni(hi),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(At(340));Gu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ni(hi),null;case 4:return Yu(),null;case 10:return B0(e.type._context),null;case 22:case 23:return tw(),null;case 24:return null;default:return null}}var Qf=!1,yr=!1,b2=typeof WeakSet=="function"?WeakSet:Set,qt=null;function Nu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){bi(t,e,i)}else n.current=null}function bb(t,e,n){try{n()}catch(i){bi(t,e,i)}}var Pk=!1;function w2(t,e){if(ib=$m,t=E1(),M0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,m=-1,x=-1,_=0,j=0,I=t,U=null;t:for(;;){for(var J;I!==n||s!==0&&I.nodeType!==3||(m=u+s),I!==a||i!==0&&I.nodeType!==3||(x=u+i),I.nodeType===3&&(u+=I.nodeValue.length),(J=I.firstChild)!==null;)U=I,I=J;for(;;){if(I===t)break t;if(U===n&&++_===s&&(m=u),U===a&&++j===i&&(x=u),(J=I.nextSibling)!==null)break;I=U,U=I.parentNode}I=J}n=m===-1||x===-1?null:{start:m,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(rb={focusedElem:t,selectionRange:n},$m=!1,qt=e;qt!==null;)if(e=qt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,qt=t;else for(;qt!==null;){e=qt;try{var ne=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(ne!==null){var le=ne.memoizedProps,oe=ne.memoizedState,X=e.stateNode,O=X.getSnapshotBeforeUpdate(e.elementType===e.type?le:Bs(e.type,le),oe);X.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var H=e.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(At(163))}}catch(te){bi(e,e.return,te)}if(t=e.sibling,t!==null){t.return=e.return,qt=t;break}qt=e.return}return ne=Pk,Pk=!1,ne}function Bd(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var a=s.destroy;s.destroy=void 0,a!==void 0&&bb(e,n,a)}s=s.next}while(s!==i)}}function Ug(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function wb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function xA(t){var e=t.alternate;e!==null&&(t.alternate=null,xA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[po],delete e[sp],delete e[ab],delete e[i2],delete e[r2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bA(t){return t.tag===5||t.tag===3||t.tag===4}function Mk(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _b(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gm));else if(i!==4&&(t=t.child,t!==null))for(_b(t,e,n),t=t.sibling;t!==null;)_b(t,e,n),t=t.sibling}function Eb(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Eb(t,e,n),t=t.sibling;t!==null;)Eb(t,e,n),t=t.sibling}var Zi=null,Vs=!1;function Ma(t,e,n){for(n=n.child;n!==null;)wA(t,e,n),n=n.sibling}function wA(t,e,n){if(go&&typeof go.onCommitFiberUnmount=="function")try{go.onCommitFiberUnmount(Mg,n)}catch{}switch(n.tag){case 5:yr||Nu(n,e);case 6:var i=Zi,s=Vs;Zi=null,Ma(t,e,n),Zi=i,Vs=s,Zi!==null&&(Vs?(t=Zi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Zi.removeChild(n.stateNode));break;case 18:Zi!==null&&(Vs?(t=Zi,n=n.stateNode,t.nodeType===8?Wv(t.parentNode,n):t.nodeType===1&&Wv(t,n),ep(t)):Wv(Zi,n.stateNode));break;case 4:i=Zi,s=Vs,Zi=n.stateNode.containerInfo,Vs=!0,Ma(t,e,n),Zi=i,Vs=s;break;case 0:case 11:case 14:case 15:if(!yr&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var a=s,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&bb(n,e,u),s=s.next}while(s!==i)}Ma(t,e,n);break;case 1:if(!yr&&(Nu(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(m){bi(n,e,m)}Ma(t,e,n);break;case 21:Ma(t,e,n);break;case 22:n.mode&1?(yr=(i=yr)||n.memoizedState!==null,Ma(t,e,n),yr=i):Ma(t,e,n);break;default:Ma(t,e,n)}}function Rk(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new b2),e.forEach(function(i){var s=j2.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function Fs(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var a=t,u=e,m=u;e:for(;m!==null;){switch(m.tag){case 5:Zi=m.stateNode,Vs=!1;break e;case 3:Zi=m.stateNode.containerInfo,Vs=!0;break e;case 4:Zi=m.stateNode.containerInfo,Vs=!0;break e}m=m.return}if(Zi===null)throw Error(At(160));wA(a,u,s),Zi=null,Vs=!1;var x=s.alternate;x!==null&&(x.return=null),s.return=null}catch(_){bi(s,e,_)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_A(e,t),e=e.sibling}function _A(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fs(e,t),co(t),i&4){try{Bd(3,t,t.return),Ug(3,t)}catch(le){bi(t,t.return,le)}try{Bd(5,t,t.return)}catch(le){bi(t,t.return,le)}}break;case 1:Fs(e,t),co(t),i&512&&n!==null&&Nu(n,n.return);break;case 5:if(Fs(e,t),co(t),i&512&&n!==null&&Nu(n,n.return),t.flags&32){var s=t.stateNode;try{Xd(s,"")}catch(le){bi(t,t.return,le)}}if(i&4&&(s=t.stateNode,s!=null)){var a=t.memoizedProps,u=n!==null?n.memoizedProps:a,m=t.type,x=t.updateQueue;if(t.updateQueue=null,x!==null)try{m==="input"&&a.type==="radio"&&a.name!=null&&$S(s,a),Gx(m,u);var _=Gx(m,a);for(u=0;u<x.length;u+=2){var j=x[u],I=x[u+1];j==="style"?YS(s,I):j==="dangerouslySetInnerHTML"?GS(s,I):j==="children"?Xd(s,I):b0(s,j,I,_)}switch(m){case"input":zx(s,a);break;case"textarea":HS(s,a);break;case"select":var U=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var J=a.value;J!=null?Ru(s,!!a.multiple,J,!1):U!==!!a.multiple&&(a.defaultValue!=null?Ru(s,!!a.multiple,a.defaultValue,!0):Ru(s,!!a.multiple,a.multiple?[]:"",!1))}s[sp]=a}catch(le){bi(t,t.return,le)}}break;case 6:if(Fs(e,t),co(t),i&4){if(t.stateNode===null)throw Error(At(162));s=t.stateNode,a=t.memoizedProps;try{s.nodeValue=a}catch(le){bi(t,t.return,le)}}break;case 3:if(Fs(e,t),co(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ep(e.containerInfo)}catch(le){bi(t,t.return,le)}break;case 4:Fs(e,t),co(t);break;case 13:Fs(e,t),co(t),s=t.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Z0=Ci())),i&4&&Rk(t);break;case 22:if(j=n!==null&&n.memoizedState!==null,t.mode&1?(yr=(_=yr)||j,Fs(e,t),yr=_):Fs(e,t),co(t),i&8192){if(_=t.memoizedState!==null,(t.stateNode.isHidden=_)&&!j&&t.mode&1)for(qt=t,j=t.child;j!==null;){for(I=qt=j;qt!==null;){switch(U=qt,J=U.child,U.tag){case 0:case 11:case 14:case 15:Bd(4,U,U.return);break;case 1:Nu(U,U.return);var ne=U.stateNode;if(typeof ne.componentWillUnmount=="function"){i=U,n=U.return;try{e=i,ne.props=e.memoizedProps,ne.state=e.memoizedState,ne.componentWillUnmount()}catch(le){bi(i,n,le)}}break;case 5:Nu(U,U.return);break;case 22:if(U.memoizedState!==null){Ok(I);continue}}J!==null?(J.return=U,qt=J):Ok(I)}j=j.sibling}e:for(j=null,I=t;;){if(I.tag===5){if(j===null){j=I;try{s=I.stateNode,_?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(m=I.stateNode,x=I.memoizedProps.style,u=x!=null&&x.hasOwnProperty("display")?x.display:null,m.style.display=KS("display",u))}catch(le){bi(t,t.return,le)}}}else if(I.tag===6){if(j===null)try{I.stateNode.nodeValue=_?"":I.memoizedProps}catch(le){bi(t,t.return,le)}}else if((I.tag!==22&&I.tag!==23||I.memoizedState===null||I===t)&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===t)break e;for(;I.sibling===null;){if(I.return===null||I.return===t)break e;j===I&&(j=null),I=I.return}j===I&&(j=null),I.sibling.return=I.return,I=I.sibling}}break;case 19:Fs(e,t),co(t),i&4&&Rk(t);break;case 21:break;default:Fs(e,t),co(t)}}function co(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(bA(n)){var i=n;break e}n=n.return}throw Error(At(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Xd(s,""),i.flags&=-33);var a=Mk(t);Eb(t,a,s);break;case 3:case 4:var u=i.stateNode.containerInfo,m=Mk(t);_b(t,m,u);break;default:throw Error(At(161))}}catch(x){bi(t,t.return,x)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _2(t,e,n){qt=t,EA(t)}function EA(t,e,n){for(var i=(t.mode&1)!==0;qt!==null;){var s=qt,a=s.child;if(s.tag===22&&i){var u=s.memoizedState!==null||Qf;if(!u){var m=s.alternate,x=m!==null&&m.memoizedState!==null||yr;m=Qf;var _=yr;if(Qf=u,(yr=x)&&!_)for(qt=s;qt!==null;)u=qt,x=u.child,u.tag===22&&u.memoizedState!==null?Lk(s):x!==null?(x.return=u,qt=x):Lk(s);for(;a!==null;)qt=a,EA(a),a=a.sibling;qt=s,Qf=m,yr=_}Dk(t)}else s.subtreeFlags&8772&&a!==null?(a.return=s,qt=a):Dk(t)}}function Dk(t){for(;qt!==null;){var e=qt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yr||Ug(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!yr)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Bs(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&xk(e,a,i);break;case 3:var u=e.updateQueue;if(u!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}xk(e,u,n)}break;case 5:var m=e.stateNode;if(n===null&&e.flags&4){n=m;var x=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&n.focus();break;case"img":x.src&&(n.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var _=e.alternate;if(_!==null){var j=_.memoizedState;if(j!==null){var I=j.dehydrated;I!==null&&ep(I)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(At(163))}yr||e.flags&512&&wb(e)}catch(U){bi(e,e.return,U)}}if(e===t){qt=null;break}if(n=e.sibling,n!==null){n.return=e.return,qt=n;break}qt=e.return}}function Ok(t){for(;qt!==null;){var e=qt;if(e===t){qt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,qt=n;break}qt=e.return}}function Lk(t){for(;qt!==null;){var e=qt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ug(4,e)}catch(x){bi(e,n,x)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(x){bi(e,s,x)}}var a=e.return;try{wb(e)}catch(x){bi(e,a,x)}break;case 5:var u=e.return;try{wb(e)}catch(x){bi(e,u,x)}}}catch(x){bi(e,e.return,x)}if(e===t){qt=null;break}var m=e.sibling;if(m!==null){m.return=e.return,qt=m;break}qt=e.return}}var E2=Math.ceil,rg=ra.ReactCurrentDispatcher,Q0=ra.ReactCurrentOwner,bs=ra.ReactCurrentBatchConfig,Mn=0,Wi=null,Di=null,nr=0,Qr=0,ju=vl(0),Ui=0,hp=null,uc=0,zg=0,J0=0,Vd=null,Rr=null,Z0=0,Qu=1/0,Lo=null,sg=!1,kb=null,tl=null,Jf=!1,Ga=null,og=0,Ud=0,Tb=null,km=-1,Tm=0;function kr(){return Mn&6?Ci():km!==-1?km:km=Ci()}function nl(t){return t.mode&1?Mn&2&&nr!==0?nr&-nr:o2.transition!==null?(Tm===0&&(Tm=a1()),Tm):(t=zn,t!==0||(t=window.event,t=t===void 0?16:f1(t.type)),t):1}function $s(t,e,n,i){if(50<Ud)throw Ud=0,Tb=null,Error(At(185));Cp(t,n,i),(!(Mn&2)||t!==Wi)&&(t===Wi&&(!(Mn&2)&&(zg|=n),Ui===4&&Ua(t,nr)),Br(t,i),n===1&&Mn===0&&!(e.mode&1)&&(Qu=Ci()+500,Fg&&xl()))}function Br(t,e){var n=t.callbackNode;oO(t,e);var i=qm(t,t===Wi?nr:0);if(i===0)n!==null&&WE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&WE(n),e===1)t.tag===0?s2(Fk.bind(null,t)):M1(Fk.bind(null,t)),t2(function(){!(Mn&6)&&xl()}),n=null;else{switch(l1(i)){case 1:n=T0;break;case 4:n=s1;break;case 16:n=zm;break;case 536870912:n=o1;break;default:n=zm}n=IA(n,kA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function kA(t,e){if(km=-1,Tm=0,Mn&6)throw Error(At(327));var n=t.callbackNode;if(Bu()&&t.callbackNode!==n)return null;var i=qm(t,t===Wi?nr:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=ag(t,i);else{e=i;var s=Mn;Mn|=2;var a=CA();(Wi!==t||nr!==e)&&(Lo=null,Qu=Ci()+500,ic(t,e));do try{C2();break}catch(m){TA(t,m)}while(!0);F0(),rg.current=a,Mn=s,Di!==null?e=0:(Wi=null,nr=0,e=Ui)}if(e!==0){if(e===2&&(s=Jx(t),s!==0&&(i=s,e=Cb(t,s))),e===1)throw n=hp,ic(t,0),Ua(t,i),Br(t,Ci()),n;if(e===6)Ua(t,i);else{if(s=t.current.alternate,!(i&30)&&!k2(s)&&(e=ag(t,i),e===2&&(a=Jx(t),a!==0&&(i=a,e=Cb(t,a))),e===1))throw n=hp,ic(t,0),Ua(t,i),Br(t,Ci()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(At(345));case 2:Kl(t,Rr,Lo);break;case 3:if(Ua(t,i),(i&130023424)===i&&(e=Z0+500-Ci(),10<e)){if(qm(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){kr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ob(Kl.bind(null,t,Rr,Lo),e);break}Kl(t,Rr,Lo);break;case 4:if(Ua(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var u=31-qs(i);a=1<<u,u=e[u],u>s&&(s=u),i&=~a}if(i=s,i=Ci()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*E2(i/1960))-i,10<i){t.timeoutHandle=ob(Kl.bind(null,t,Rr,Lo),i);break}Kl(t,Rr,Lo);break;case 5:Kl(t,Rr,Lo);break;default:throw Error(At(329))}}}return Br(t,Ci()),t.callbackNode===n?kA.bind(null,t):null}function Cb(t,e){var n=Vd;return t.current.memoizedState.isDehydrated&&(ic(t,e).flags|=256),t=ag(t,e),t!==2&&(e=Rr,Rr=n,e!==null&&Sb(e)),t}function Sb(t){Rr===null?Rr=t:Rr.push.apply(Rr,t)}function k2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],a=s.getSnapshot;s=s.value;try{if(!Ws(a(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ua(t,e){for(e&=~J0,e&=~zg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qs(e),i=1<<n;t[n]=-1,e&=~i}}function Fk(t){if(Mn&6)throw Error(At(327));Bu();var e=qm(t,0);if(!(e&1))return Br(t,Ci()),null;var n=ag(t,e);if(t.tag!==0&&n===2){var i=Jx(t);i!==0&&(e=i,n=Cb(t,i))}if(n===1)throw n=hp,ic(t,0),Ua(t,e),Br(t,Ci()),n;if(n===6)throw Error(At(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Kl(t,Rr,Lo),Br(t,Ci()),null}function ew(t,e){var n=Mn;Mn|=1;try{return t(e)}finally{Mn=n,Mn===0&&(Qu=Ci()+500,Fg&&xl())}}function hc(t){Ga!==null&&Ga.tag===0&&!(Mn&6)&&Bu();var e=Mn;Mn|=1;var n=bs.transition,i=zn;try{if(bs.transition=null,zn=1,t)return t()}finally{zn=i,bs.transition=n,Mn=e,!(Mn&6)&&xl()}}function tw(){Qr=ju.current,ni(ju)}function ic(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,e2(n)),Di!==null)for(n=Di.return;n!==null;){var i=n;switch(D0(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Km();break;case 3:Yu(),ni(Lr),ni(xr),$0();break;case 5:q0(i);break;case 4:Yu();break;case 13:ni(hi);break;case 19:ni(hi);break;case 10:B0(i.type._context);break;case 22:case 23:tw()}n=n.return}if(Wi=t,Di=t=il(t.current,null),nr=Qr=e,Ui=0,hp=null,J0=zg=uc=0,Rr=Vd=null,Zl!==null){for(e=0;e<Zl.length;e++)if(n=Zl[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,a=n.pending;if(a!==null){var u=a.next;a.next=s,i.next=u}n.pending=i}Zl=null}return t}function TA(t,e){do{var n=Di;try{if(F0(),wm.current=ig,ng){for(var i=pi.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ng=!1}if(cc=0,Hi=Vi=pi=null,Fd=!1,lp=0,Q0.current=null,n===null||n.return===null){Ui=1,hp=e,Di=null;break}e:{var a=t,u=n.return,m=n,x=e;if(e=nr,m.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var _=x,j=m,I=j.tag;if(!(j.mode&1)&&(I===0||I===11||I===15)){var U=j.alternate;U?(j.updateQueue=U.updateQueue,j.memoizedState=U.memoizedState,j.lanes=U.lanes):(j.updateQueue=null,j.memoizedState=null)}var J=Tk(u);if(J!==null){J.flags&=-257,Ck(J,u,m,a,e),J.mode&1&&kk(a,_,e),e=J,x=_;var ne=e.updateQueue;if(ne===null){var le=new Set;le.add(x),e.updateQueue=le}else ne.add(x);break e}else{if(!(e&1)){kk(a,_,e),nw();break e}x=Error(At(426))}}else if(oi&&m.mode&1){var oe=Tk(u);if(oe!==null){!(oe.flags&65536)&&(oe.flags|=256),Ck(oe,u,m,a,e),O0(Xu(x,m));break e}}a=x=Xu(x,m),Ui!==4&&(Ui=2),Vd===null?Vd=[a]:Vd.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var X=lA(a,x,e);vk(a,X);break e;case 1:m=x;var O=a.type,H=a.stateNode;if(!(a.flags&128)&&(typeof O.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(tl===null||!tl.has(H)))){a.flags|=65536,e&=-e,a.lanes|=e;var te=cA(a,m,e);vk(a,te);break e}}a=a.return}while(a!==null)}AA(n)}catch(Te){e=Te,Di===n&&n!==null&&(Di=n=n.return);continue}break}while(!0)}function CA(){var t=rg.current;return rg.current=ig,t===null?ig:t}function nw(){(Ui===0||Ui===3||Ui===2)&&(Ui=4),Wi===null||!(uc&268435455)&&!(zg&268435455)||Ua(Wi,nr)}function ag(t,e){var n=Mn;Mn|=2;var i=CA();(Wi!==t||nr!==e)&&(Lo=null,ic(t,e));do try{T2();break}catch(s){TA(t,s)}while(!0);if(F0(),Mn=n,rg.current=i,Di!==null)throw Error(At(261));return Wi=null,nr=0,Ui}function T2(){for(;Di!==null;)SA(Di)}function C2(){for(;Di!==null&&!QD();)SA(Di)}function SA(t){var e=jA(t.alternate,t,Qr);t.memoizedProps=t.pendingProps,e===null?AA(t):Di=e,Q0.current=null}function AA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=x2(n,e),n!==null){n.flags&=32767,Di=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ui=6,Di=null;return}}else if(n=v2(n,e,Qr),n!==null){Di=n;return}if(e=e.sibling,e!==null){Di=e;return}Di=e=t}while(e!==null);Ui===0&&(Ui=5)}function Kl(t,e,n){var i=zn,s=bs.transition;try{bs.transition=null,zn=1,S2(t,e,n,i)}finally{bs.transition=s,zn=i}return null}function S2(t,e,n,i){do Bu();while(Ga!==null);if(Mn&6)throw Error(At(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(At(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(aO(t,a),t===Wi&&(Di=Wi=null,nr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jf||(Jf=!0,IA(zm,function(){return Bu(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=bs.transition,bs.transition=null;var u=zn;zn=1;var m=Mn;Mn|=4,Q0.current=null,w2(t,n),_A(n,t),GO(rb),$m=!!ib,rb=ib=null,t.current=n,_2(n),JD(),Mn=m,zn=u,bs.transition=a}else t.current=n;if(Jf&&(Jf=!1,Ga=t,og=s),a=t.pendingLanes,a===0&&(tl=null),tO(n.stateNode),Br(t,Ci()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(sg)throw sg=!1,t=kb,kb=null,t;return og&1&&t.tag!==0&&Bu(),a=t.pendingLanes,a&1?t===Tb?Ud++:(Ud=0,Tb=t):Ud=0,xl(),null}function Bu(){if(Ga!==null){var t=l1(og),e=bs.transition,n=zn;try{if(bs.transition=null,zn=16>t?16:t,Ga===null)var i=!1;else{if(t=Ga,Ga=null,og=0,Mn&6)throw Error(At(331));var s=Mn;for(Mn|=4,qt=t.current;qt!==null;){var a=qt,u=a.child;if(qt.flags&16){var m=a.deletions;if(m!==null){for(var x=0;x<m.length;x++){var _=m[x];for(qt=_;qt!==null;){var j=qt;switch(j.tag){case 0:case 11:case 15:Bd(8,j,a)}var I=j.child;if(I!==null)I.return=j,qt=I;else for(;qt!==null;){j=qt;var U=j.sibling,J=j.return;if(xA(j),j===_){qt=null;break}if(U!==null){U.return=J,qt=U;break}qt=J}}}var ne=a.alternate;if(ne!==null){var le=ne.child;if(le!==null){ne.child=null;do{var oe=le.sibling;le.sibling=null,le=oe}while(le!==null)}}qt=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,qt=u;else e:for(;qt!==null;){if(a=qt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Bd(9,a,a.return)}var X=a.sibling;if(X!==null){X.return=a.return,qt=X;break e}qt=a.return}}var O=t.current;for(qt=O;qt!==null;){u=qt;var H=u.child;if(u.subtreeFlags&2064&&H!==null)H.return=u,qt=H;else e:for(u=O;qt!==null;){if(m=qt,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:Ug(9,m)}}catch(Te){bi(m,m.return,Te)}if(m===u){qt=null;break e}var te=m.sibling;if(te!==null){te.return=m.return,qt=te;break e}qt=m.return}}if(Mn=s,xl(),go&&typeof go.onPostCommitFiberRoot=="function")try{go.onPostCommitFiberRoot(Mg,t)}catch{}i=!0}return i}finally{zn=n,bs.transition=e}}return!1}function Bk(t,e,n){e=Xu(n,e),e=lA(t,e,1),t=el(t,e,1),e=kr(),t!==null&&(Cp(t,1,e),Br(t,e))}function bi(t,e,n){if(t.tag===3)Bk(t,t,n);else for(;e!==null;){if(e.tag===3){Bk(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(tl===null||!tl.has(i))){t=Xu(n,t),t=cA(e,t,1),e=el(e,t,1),t=kr(),e!==null&&(Cp(e,1,t),Br(e,t));break}}e=e.return}}function A2(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=kr(),t.pingedLanes|=t.suspendedLanes&n,Wi===t&&(nr&n)===n&&(Ui===4||Ui===3&&(nr&130023424)===nr&&500>Ci()-Z0?ic(t,0):J0|=n),Br(t,e)}function NA(t,e){e===0&&(t.mode&1?(e=zf,zf<<=1,!(zf&130023424)&&(zf=4194304)):e=1);var n=kr();t=Qo(t,e),t!==null&&(Cp(t,e,n),Br(t,n))}function N2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NA(t,n)}function j2(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(At(314))}i!==null&&i.delete(e),NA(t,n)}var jA;jA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Lr.current)Or=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Or=!1,y2(t,e,n);Or=!!(t.flags&131072)}else Or=!1,oi&&e.flags&1048576&&R1(e,Qm,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Em(t,e),t=e.pendingProps;var s=Wu(e,xr.current);Fu(e,n),s=W0(null,e,i,t,s,n);var a=G0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fr(i)?(a=!0,Ym(e)):a=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,U0(e),s.updater=Vg,e.stateNode=s,s._reactInternals=e,pb(e,i,t,n),e=gb(null,e,i,!0,a,n)):(e.tag=0,oi&&a&&R0(e),Er(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Em(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=P2(i),t=Bs(i,t),s){case 0:e=mb(null,e,i,t,n);break e;case 1:e=Nk(null,e,i,t,n);break e;case 11:e=Sk(null,e,i,t,n);break e;case 14:e=Ak(null,e,i,Bs(i.type,t),n);break e}throw Error(At(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Bs(i,s),mb(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Bs(i,s),Nk(t,e,i,s,n);case 3:e:{if(pA(e),t===null)throw Error(At(387));i=e.pendingProps,a=e.memoizedState,s=a.element,V1(t,e),eg(e,i,null,n);var u=e.memoizedState;if(i=u.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){s=Xu(Error(At(423)),e),e=jk(t,e,i,n,s);break e}else if(i!==s){s=Xu(Error(At(424)),e),e=jk(t,e,i,n,s);break e}else for(Jr=Za(e.stateNode.containerInfo.firstChild),ts=e,oi=!0,zs=null,n=F1(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gu(),i===s){e=Jo(t,e,n);break e}Er(t,e,i,n)}e=e.child}return e;case 5:return U1(e),t===null&&ub(e),i=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,u=s.children,sb(i,s)?u=null:a!==null&&sb(i,a)&&(e.flags|=32),dA(t,e),Er(t,e,u,n),e.child;case 6:return t===null&&ub(e),null;case 13:return fA(t,e,n);case 4:return z0(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ku(e,null,i,n):Er(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Bs(i,s),Sk(t,e,i,s,n);case 7:return Er(t,e,e.pendingProps,n),e.child;case 8:return Er(t,e,e.pendingProps.children,n),e.child;case 12:return Er(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,a=e.memoizedProps,u=s.value,Jn(Jm,i._currentValue),i._currentValue=u,a!==null)if(Ws(a.value,u)){if(a.children===s.children&&!Lr.current){e=Jo(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var m=a.dependencies;if(m!==null){u=a.child;for(var x=m.firstContext;x!==null;){if(x.context===i){if(a.tag===1){x=Wo(-1,n&-n),x.tag=2;var _=a.updateQueue;if(_!==null){_=_.shared;var j=_.pending;j===null?x.next=x:(x.next=j.next,j.next=x),_.pending=x}}a.lanes|=n,x=a.alternate,x!==null&&(x.lanes|=n),hb(a.return,n,e),m.lanes|=n;break}x=x.next}}else if(a.tag===10)u=a.type===e.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(At(341));u.lanes|=n,m=u.alternate,m!==null&&(m.lanes|=n),hb(u,n,e),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===e){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}Er(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Fu(e,n),s=ws(s),i=i(s),e.flags|=1,Er(t,e,i,n),e.child;case 14:return i=e.type,s=Bs(i,e.pendingProps),s=Bs(i.type,s),Ak(t,e,i,s,n);case 15:return uA(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Bs(i,s),Em(t,e),e.tag=1,Fr(i)?(t=!0,Ym(e)):t=!1,Fu(e,n),aA(e,i,s),pb(e,i,s,n),gb(null,e,i,!0,t,n);case 19:return mA(t,e,n);case 22:return hA(t,e,n)}throw Error(At(156,e.tag))};function IA(t,e){return r1(t,e)}function I2(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xs(t,e,n,i){return new I2(t,e,n,i)}function iw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function P2(t){if(typeof t=="function")return iw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_0)return 11;if(t===E0)return 14}return 2}function il(t,e){var n=t.alternate;return n===null?(n=xs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cm(t,e,n,i,s,a){var u=2;if(i=t,typeof t=="function")iw(t)&&(u=1);else if(typeof t=="string")u=5;else e:switch(t){case bu:return rc(n.children,s,a,e);case w0:u=8,s|=8;break;case Lx:return t=xs(12,n,e,s|2),t.elementType=Lx,t.lanes=a,t;case Fx:return t=xs(13,n,e,s),t.elementType=Fx,t.lanes=a,t;case Bx:return t=xs(19,n,e,s),t.elementType=Bx,t.lanes=a,t;case US:return qg(n,s,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case BS:u=10;break e;case VS:u=9;break e;case _0:u=11;break e;case E0:u=14;break e;case Fa:u=16,i=null;break e}throw Error(At(130,t==null?t:typeof t,""))}return e=xs(u,n,e,s),e.elementType=t,e.type=i,e.lanes=a,e}function rc(t,e,n,i){return t=xs(7,t,i,e),t.lanes=n,t}function qg(t,e,n,i){return t=xs(22,t,i,e),t.elementType=US,t.lanes=n,t.stateNode={isHidden:!1},t}function ex(t,e,n){return t=xs(6,t,null,e),t.lanes=n,t}function tx(t,e,n){return e=xs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function M2(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dv(0),this.expirationTimes=Dv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dv(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rw(t,e,n,i,s,a,u,m,x){return t=new M2(t,e,n,m,x),e===1?(e=1,a===!0&&(e|=8)):e=0,a=xs(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},U0(a),t}function R2(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xu,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function PA(t){if(!t)return hl;t=t._reactInternals;e:{if(Ec(t)!==t||t.tag!==1)throw Error(At(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(At(171))}if(t.tag===1){var n=t.type;if(Fr(n))return P1(t,n,e)}return e}function MA(t,e,n,i,s,a,u,m,x){return t=rw(n,i,!0,t,s,a,u,m,x),t.context=PA(null),n=t.current,i=kr(),s=nl(n),a=Wo(i,s),a.callback=e??null,el(n,a,s),t.current.lanes=s,Cp(t,s,i),Br(t,i),t}function $g(t,e,n,i){var s=e.current,a=kr(),u=nl(s);return n=PA(n),e.context===null?e.context=n:e.pendingContext=n,e=Wo(a,u),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=el(s,e,u),t!==null&&($s(t,s,u,a),bm(t,s,u)),u}function lg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vk(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sw(t,e){Vk(t,e),(t=t.alternate)&&Vk(t,e)}function D2(){return null}var RA=typeof reportError=="function"?reportError:function(t){console.error(t)};function ow(t){this._internalRoot=t}Hg.prototype.render=ow.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(At(409));$g(t,e,null,null)};Hg.prototype.unmount=ow.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hc(function(){$g(null,t,null,null)}),e[Xo]=null}};function Hg(t){this._internalRoot=t}Hg.prototype.unstable_scheduleHydration=function(t){if(t){var e=h1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Va.length&&e!==0&&e<Va[n].priority;n++);Va.splice(n,0,t),n===0&&p1(t)}};function aw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Uk(){}function O2(t,e,n,i,s){if(s){if(typeof i=="function"){var a=i;i=function(){var _=lg(u);a.call(_)}}var u=MA(e,i,t,0,null,!1,!1,"",Uk);return t._reactRootContainer=u,t[Xo]=u.current,ip(t.nodeType===8?t.parentNode:t),hc(),u}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var m=i;i=function(){var _=lg(x);m.call(_)}}var x=rw(t,0,!1,null,null,!1,!1,"",Uk);return t._reactRootContainer=x,t[Xo]=x.current,ip(t.nodeType===8?t.parentNode:t),hc(function(){$g(e,x,n,i)}),x}function Gg(t,e,n,i,s){var a=n._reactRootContainer;if(a){var u=a;if(typeof s=="function"){var m=s;s=function(){var x=lg(u);m.call(x)}}$g(e,u,t,s)}else u=O2(n,e,t,s,i);return lg(u)}c1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ed(e.pendingLanes);n!==0&&(C0(e,n|1),Br(e,Ci()),!(Mn&6)&&(Qu=Ci()+500,xl()))}break;case 13:hc(function(){var i=Qo(t,1);if(i!==null){var s=kr();$s(i,t,1,s)}}),sw(t,1)}};S0=function(t){if(t.tag===13){var e=Qo(t,134217728);if(e!==null){var n=kr();$s(e,t,134217728,n)}sw(t,134217728)}};u1=function(t){if(t.tag===13){var e=nl(t),n=Qo(t,e);if(n!==null){var i=kr();$s(n,t,e,i)}sw(t,e)}};h1=function(){return zn};d1=function(t,e){var n=zn;try{return zn=t,e()}finally{zn=n}};Yx=function(t,e,n){switch(e){case"input":if(zx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=Lg(i);if(!s)throw Error(At(90));qS(i),zx(i,s)}}}break;case"textarea":HS(t,n);break;case"select":e=n.value,e!=null&&Ru(t,!!n.multiple,e,!1)}};JS=ew;ZS=hc;var L2={usingClientEntryPoint:!1,Events:[Ap,ku,Lg,XS,QS,ew]},fd={findFiberByHostInstance:Jl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F2={bundleType:fd.bundleType,version:fd.version,rendererPackageName:fd.rendererPackageName,rendererConfig:fd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=n1(t),t===null?null:t.stateNode},findFiberByHostInstance:fd.findFiberByHostInstance||D2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zf.isDisabled&&Zf.supportsFiber)try{Mg=Zf.inject(F2),go=Zf}catch{}}rs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L2;rs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aw(e))throw Error(At(200));return R2(t,e,null,n)};rs.createRoot=function(t,e){if(!aw(t))throw Error(At(299));var n=!1,i="",s=RA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=rw(t,1,!1,null,null,n,!1,i,s),t[Xo]=e.current,ip(t.nodeType===8?t.parentNode:t),new ow(e)};rs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(At(188)):(t=Object.keys(t).join(","),Error(At(268,t)));return t=n1(e),t=t===null?null:t.stateNode,t};rs.flushSync=function(t){return hc(t)};rs.hydrate=function(t,e,n){if(!Wg(e))throw Error(At(200));return Gg(null,t,e,!0,n)};rs.hydrateRoot=function(t,e,n){if(!aw(t))throw Error(At(405));var i=n!=null&&n.hydratedSources||null,s=!1,a="",u=RA;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),e=MA(e,null,t,1,n??null,s,!1,a,u),t[Xo]=e.current,ip(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Hg(e)};rs.render=function(t,e,n){if(!Wg(e))throw Error(At(200));return Gg(null,t,e,!1,n)};rs.unmountComponentAtNode=function(t){if(!Wg(t))throw Error(At(40));return t._reactRootContainer?(hc(function(){Gg(null,null,t,!1,function(){t._reactRootContainer=null,t[Xo]=null})}),!0):!1};rs.unstable_batchedUpdates=ew;rs.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Wg(n))throw Error(At(200));if(t==null||t._reactInternals===void 0)throw Error(At(38));return Gg(t,e,n,!1,i)};rs.version="18.3.1-next-f1338f8080-20240426";function DA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DA)}catch(t){console.error(t)}}DA(),DS.exports=rs;var B2=DS.exports,zk=B2;Dx.createRoot=zk.createRoot,Dx.hydrateRoot=zk.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dp(){return dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},dp.apply(this,arguments)}var Ka;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ka||(Ka={}));const qk="popstate";function V2(t){t===void 0&&(t={});function e(i,s){let{pathname:a,search:u,hash:m}=i.location;return Ab("",{pathname:a,search:u,hash:m},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:cg(s)}return z2(e,n,null,t)}function fi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function U2(){return Math.random().toString(36).substr(2,8)}function $k(t,e){return{usr:t.state,key:t.key,idx:e}}function Ab(t,e,n,i){return n===void 0&&(n=null),dp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?hh(e):e,{state:n,key:e&&e.key||i||U2()})}function cg(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function hh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function z2(t,e,n,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,u=s.history,m=Ka.Pop,x=null,_=j();_==null&&(_=0,u.replaceState(dp({},u.state,{idx:_}),""));function j(){return(u.state||{idx:null}).idx}function I(){m=Ka.Pop;let oe=j(),X=oe==null?null:oe-_;_=oe,x&&x({action:m,location:le.location,delta:X})}function U(oe,X){m=Ka.Push;let O=Ab(le.location,oe,X);_=j()+1;let H=$k(O,_),te=le.createHref(O);try{u.pushState(H,"",te)}catch(Te){if(Te instanceof DOMException&&Te.name==="DataCloneError")throw Te;s.location.assign(te)}a&&x&&x({action:m,location:le.location,delta:1})}function J(oe,X){m=Ka.Replace;let O=Ab(le.location,oe,X);_=j();let H=$k(O,_),te=le.createHref(O);u.replaceState(H,"",te),a&&x&&x({action:m,location:le.location,delta:0})}function ne(oe){let X=s.location.origin!=="null"?s.location.origin:s.location.href,O=typeof oe=="string"?oe:cg(oe);return O=O.replace(/ $/,"%20"),fi(X,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,X)}let le={get action(){return m},get location(){return t(s,u)},listen(oe){if(x)throw new Error("A history only accepts one active listener");return s.addEventListener(qk,I),x=oe,()=>{s.removeEventListener(qk,I),x=null}},createHref(oe){return e(s,oe)},createURL:ne,encodeLocation(oe){let X=ne(oe);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:U,replace:J,go(oe){return u.go(oe)}};return le}var Hk;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Hk||(Hk={}));function q2(t,e,n){return n===void 0&&(n="/"),$2(t,e,n)}function $2(t,e,n,i){let s=typeof e=="string"?hh(e):e,a=Ju(s.pathname||"/",n);if(a==null)return null;let u=OA(t);H2(u);let m=null;for(let x=0;m==null&&x<u.length;++x){let _=nL(a);m=eL(u[x],_)}return m}function OA(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let s=(a,u,m)=>{let x={relativePath:m===void 0?a.path||"":m,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};x.relativePath.startsWith("/")&&(fi(x.relativePath.startsWith(i),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(i.length));let _=rl([i,x.relativePath]),j=n.concat(x);a.children&&a.children.length>0&&(fi(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),OA(a.children,e,j,_)),!(a.path==null&&!a.index)&&e.push({path:_,score:J2(_,a.index),routesMeta:j})};return t.forEach((a,u)=>{var m;if(a.path===""||!((m=a.path)!=null&&m.includes("?")))s(a,u);else for(let x of LA(a.path))s(a,u,x)}),e}function LA(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let u=LA(i.join("/")),m=[];return m.push(...u.map(x=>x===""?a:[a,x].join("/"))),s&&m.push(...u),m.map(x=>t.startsWith("/")&&x===""?"/":x)}function H2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Z2(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const W2=/^:[\w-]+$/,G2=3,K2=2,Y2=1,X2=10,Q2=-2,Wk=t=>t==="*";function J2(t,e){let n=t.split("/"),i=n.length;return n.some(Wk)&&(i+=Q2),e&&(i+=K2),n.filter(s=>!Wk(s)).reduce((s,a)=>s+(W2.test(a)?G2:a===""?Y2:X2),i)}function Z2(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function eL(t,e,n){let{routesMeta:i}=t,s={},a="/",u=[];for(let m=0;m<i.length;++m){let x=i[m],_=m===i.length-1,j=a==="/"?e:e.slice(a.length)||"/",I=Nb({path:x.relativePath,caseSensitive:x.caseSensitive,end:_},j),U=x.route;if(!I)return null;Object.assign(s,I.params),u.push({params:s,pathname:rl([a,I.pathname]),pathnameBase:aL(rl([a,I.pathnameBase])),route:U}),I.pathnameBase!=="/"&&(a=rl([a,I.pathnameBase]))}return u}function Nb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=tL(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),m=s.slice(1);return{params:i.reduce((_,j,I)=>{let{paramName:U,isOptional:J}=j;if(U==="*"){let le=m[I]||"";u=a.slice(0,a.length-le.length).replace(/(.)\/+$/,"$1")}const ne=m[I];return J&&!ne?_[U]=void 0:_[U]=(ne||"").replace(/%2F/g,"/"),_},{}),pathname:a,pathnameBase:u,pattern:t}}function tL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),lw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,x)=>(i.push({paramName:m,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function nL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ju(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}const iL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rL=t=>iL.test(t);function sL(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?hh(t):t,a;if(n)if(rL(n))a=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),lw(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+n))}n.startsWith("/")?a=Gk(n.substring(1),"/"):a=Gk(n,e)}else a=e;return{pathname:a,search:lL(i),hash:cL(s)}}function Gk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function nx(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cw(t,e){let n=oL(t);return e?n.map((i,s)=>s===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function uw(t,e,n,i){i===void 0&&(i=!1);let s;typeof t=="string"?s=hh(t):(s=dp({},t),fi(!s.pathname||!s.pathname.includes("?"),nx("?","pathname","search",s)),fi(!s.pathname||!s.pathname.includes("#"),nx("#","pathname","hash",s)),fi(!s.search||!s.search.includes("#"),nx("#","search","hash",s)));let a=t===""||s.pathname==="",u=a?"/":s.pathname,m;if(u==null)m=n;else{let I=e.length-1;if(!i&&u.startsWith("..")){let U=u.split("/");for(;U[0]==="..";)U.shift(),I-=1;s.pathname=U.join("/")}m=I>=0?e[I]:"/"}let x=sL(s,m),_=u&&u!=="/"&&u.endsWith("/"),j=(a||u===".")&&n.endsWith("/");return!x.pathname.endsWith("/")&&(_||j)&&(x.pathname+="/"),x}const rl=t=>t.join("/").replace(/\/\/+/g,"/"),aL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const FA=["post","put","patch","delete"];new Set(FA);const hL=["get",...FA];new Set(hL);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pp(){return pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},pp.apply(this,arguments)}const Kg=F.createContext(null),BA=F.createContext(null),sa=F.createContext(null),Yg=F.createContext(null),oa=F.createContext({outlet:null,matches:[],isDataRoute:!1}),VA=F.createContext(null);function dL(t,e){let{relative:n}=e===void 0?{}:e;dh()||fi(!1);let{basename:i,navigator:s}=F.useContext(sa),{hash:a,pathname:u,search:m}=Xg(t,{relative:n}),x=u;return i!=="/"&&(x=u==="/"?i:rl([i,u])),s.createHref({pathname:x,search:m,hash:a})}function dh(){return F.useContext(Yg)!=null}function ko(){return dh()||fi(!1),F.useContext(Yg).location}function UA(t){F.useContext(sa).static||F.useLayoutEffect(t)}function kc(){let{isDataRoute:t}=F.useContext(oa);return t?SL():pL()}function pL(){dh()||fi(!1);let t=F.useContext(Kg),{basename:e,future:n,navigator:i}=F.useContext(sa),{matches:s}=F.useContext(oa),{pathname:a}=ko(),u=JSON.stringify(cw(s,n.v7_relativeSplatPath)),m=F.useRef(!1);return UA(()=>{m.current=!0}),F.useCallback(function(_,j){if(j===void 0&&(j={}),!m.current)return;if(typeof _=="number"){i.go(_);return}let I=uw(_,JSON.parse(u),a,j.relative==="path");t==null&&e!=="/"&&(I.pathname=I.pathname==="/"?e:rl([e,I.pathname])),(j.replace?i.replace:i.push)(I,j.state,j)},[e,i,u,a,t])}const fL=F.createContext(null);function mL(t){let e=F.useContext(oa).outlet;return e&&F.createElement(fL.Provider,{value:t},e)}function Xg(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=F.useContext(sa),{matches:s}=F.useContext(oa),{pathname:a}=ko(),u=JSON.stringify(cw(s,i.v7_relativeSplatPath));return F.useMemo(()=>uw(t,JSON.parse(u),a,n==="path"),[t,u,a,n])}function gL(t,e){return yL(t,e)}function yL(t,e,n,i){dh()||fi(!1);let{navigator:s}=F.useContext(sa),{matches:a}=F.useContext(oa),u=a[a.length-1],m=u?u.params:{};u&&u.pathname;let x=u?u.pathnameBase:"/";u&&u.route;let _=ko(),j;if(e){var I;let oe=typeof e=="string"?hh(e):e;x==="/"||(I=oe.pathname)!=null&&I.startsWith(x)||fi(!1),j=oe}else j=_;let U=j.pathname||"/",J=U;if(x!=="/"){let oe=x.replace(/^\//,"").split("/");J="/"+U.replace(/^\//,"").split("/").slice(oe.length).join("/")}let ne=q2(t,{pathname:J}),le=_L(ne&&ne.map(oe=>Object.assign({},oe,{params:Object.assign({},m,oe.params),pathname:rl([x,s.encodeLocation?s.encodeLocation(oe.pathname).pathname:oe.pathname]),pathnameBase:oe.pathnameBase==="/"?x:rl([x,s.encodeLocation?s.encodeLocation(oe.pathnameBase).pathname:oe.pathnameBase])})),a,n,i);return e&&le?F.createElement(Yg.Provider,{value:{location:pp({pathname:"/",search:"",hash:"",state:null,key:"default"},j),navigationType:Ka.Pop}},le):le}function vL(){let t=CL(),e=uL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:s},n):null,null)}const xL=F.createElement(vL,null);class bL extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?F.createElement(oa.Provider,{value:this.props.routeContext},F.createElement(VA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wL(t){let{routeContext:e,match:n,children:i}=t,s=F.useContext(Kg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(oa.Provider,{value:e},i)}function _L(t,e,n,i){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=i)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,m=(s=n)==null?void 0:s.errors;if(m!=null){let j=u.findIndex(I=>I.route.id&&(m==null?void 0:m[I.route.id])!==void 0);j>=0||fi(!1),u=u.slice(0,Math.min(u.length,j+1))}let x=!1,_=-1;if(n&&i&&i.v7_partialHydration)for(let j=0;j<u.length;j++){let I=u[j];if((I.route.HydrateFallback||I.route.hydrateFallbackElement)&&(_=j),I.route.id){let{loaderData:U,errors:J}=n,ne=I.route.loader&&U[I.route.id]===void 0&&(!J||J[I.route.id]===void 0);if(I.route.lazy||ne){x=!0,_>=0?u=u.slice(0,_+1):u=[u[0]];break}}}return u.reduceRight((j,I,U)=>{let J,ne=!1,le=null,oe=null;n&&(J=m&&I.route.id?m[I.route.id]:void 0,le=I.route.errorElement||xL,x&&(_<0&&U===0?(AL("route-fallback"),ne=!0,oe=null):_===U&&(ne=!0,oe=I.route.hydrateFallbackElement||null)));let X=e.concat(u.slice(0,U+1)),O=()=>{let H;return J?H=le:ne?H=oe:I.route.Component?H=F.createElement(I.route.Component,null):I.route.element?H=I.route.element:H=j,F.createElement(wL,{match:I,routeContext:{outlet:j,matches:X,isDataRoute:n!=null},children:H})};return n&&(I.route.ErrorBoundary||I.route.errorElement||U===0)?F.createElement(bL,{location:n.location,revalidation:n.revalidation,component:le,error:J,children:O(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):O()},null)}var zA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(zA||{}),qA=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qA||{});function EL(t){let e=F.useContext(Kg);return e||fi(!1),e}function kL(t){let e=F.useContext(BA);return e||fi(!1),e}function TL(t){let e=F.useContext(oa);return e||fi(!1),e}function $A(t){let e=TL(),n=e.matches[e.matches.length-1];return n.route.id||fi(!1),n.route.id}function CL(){var t;let e=F.useContext(VA),n=kL(),i=$A();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function SL(){let{router:t}=EL(zA.UseNavigateStable),e=$A(qA.UseNavigateStable),n=F.useRef(!1);return UA(()=>{n.current=!0}),F.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,pp({fromRouteId:e},a)))},[t,e])}const Kk={};function AL(t,e,n){Kk[t]||(Kk[t]=!0)}function NL(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function jb(t){let{to:e,replace:n,state:i,relative:s}=t;dh()||fi(!1);let{future:a,static:u}=F.useContext(sa),{matches:m}=F.useContext(oa),{pathname:x}=ko(),_=kc(),j=uw(e,cw(m,a.v7_relativeSplatPath),x,s==="path"),I=JSON.stringify(j);return F.useEffect(()=>_(JSON.parse(I),{replace:n,state:i,relative:s}),[_,I,s,n,i]),null}function hw(t){return mL(t.context)}function Sn(t){fi(!1)}function jL(t){let{basename:e="/",children:n=null,location:i,navigationType:s=Ka.Pop,navigator:a,static:u=!1,future:m}=t;dh()&&fi(!1);let x=e.replace(/^\/*/,"/"),_=F.useMemo(()=>({basename:x,navigator:a,static:u,future:pp({v7_relativeSplatPath:!1},m)}),[x,m,a,u]);typeof i=="string"&&(i=hh(i));let{pathname:j="/",search:I="",hash:U="",state:J=null,key:ne="default"}=i,le=F.useMemo(()=>{let oe=Ju(j,x);return oe==null?null:{location:{pathname:oe,search:I,hash:U,state:J,key:ne},navigationType:s}},[x,j,I,U,J,ne,s]);return le==null?null:F.createElement(sa.Provider,{value:_},F.createElement(Yg.Provider,{children:n,value:le}))}function IL(t){let{children:e,location:n}=t;return gL(Ib(e),n)}new Promise(()=>{});function Ib(t,e){e===void 0&&(e=[]);let n=[];return F.Children.forEach(t,(i,s)=>{if(!F.isValidElement(i))return;let a=[...e,s];if(i.type===F.Fragment){n.push.apply(n,Ib(i.props.children,a));return}i.type!==Sn&&fi(!1),!i.props.index||!i.props.children||fi(!1);let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Ib(i.props.children,a)),n.push(u)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ug(){return ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ug.apply(this,arguments)}function HA(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,a;for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function PL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ML(t,e){return t.button===0&&(!e||e==="_self")&&!PL(t)}const RL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],DL=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],OL="6";try{window.__reactRouterVersion=OL}catch{}const LL=F.createContext({isTransitioning:!1}),FL="startTransition",Yk=AD[FL];function BL(t){let{basename:e,children:n,future:i,window:s}=t,a=F.useRef();a.current==null&&(a.current=V2({window:s,v5Compat:!0}));let u=a.current,[m,x]=F.useState({action:u.action,location:u.location}),{v7_startTransition:_}=i||{},j=F.useCallback(I=>{_&&Yk?Yk(()=>x(I)):x(I)},[x,_]);return F.useLayoutEffect(()=>u.listen(j),[u,j]),F.useEffect(()=>NL(i),[i]),F.createElement(jL,{basename:e,children:n,location:m.location,navigationType:m.action,navigator:u,future:i})}const VL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zo=F.forwardRef(function(e,n){let{onClick:i,relative:s,reloadDocument:a,replace:u,state:m,target:x,to:_,preventScrollReset:j,viewTransition:I}=e,U=HA(e,RL),{basename:J}=F.useContext(sa),ne,le=!1;if(typeof _=="string"&&UL.test(_)&&(ne=_,VL))try{let H=new URL(window.location.href),te=_.startsWith("//")?new URL(H.protocol+_):new URL(_),Te=Ju(te.pathname,J);te.origin===H.origin&&Te!=null?_=Te+te.search+te.hash:le=!0}catch{}let oe=dL(_,{relative:s}),X=$L(_,{replace:u,state:m,target:x,preventScrollReset:j,relative:s,viewTransition:I});function O(H){i&&i(H),H.defaultPrevented||X(H)}return F.createElement("a",ug({},U,{href:ne||oe,onClick:le||a?i:O,ref:n,target:x}))}),zL=F.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:s=!1,className:a="",end:u=!1,style:m,to:x,viewTransition:_,children:j}=e,I=HA(e,DL),U=Xg(x,{relative:I.relative}),J=ko(),ne=F.useContext(BA),{navigator:le,basename:oe}=F.useContext(sa),X=ne!=null&&HL(U)&&_===!0,O=le.encodeLocation?le.encodeLocation(U).pathname:U.pathname,H=J.pathname,te=ne&&ne.navigation&&ne.navigation.location?ne.navigation.location.pathname:null;s||(H=H.toLowerCase(),te=te?te.toLowerCase():null,O=O.toLowerCase()),te&&oe&&(te=Ju(te,oe)||te);const Te=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let ge=H===O||!u&&H.startsWith(O)&&H.charAt(Te)==="/",Y=te!=null&&(te===O||!u&&te.startsWith(O)&&te.charAt(O.length)==="/"),M={isActive:ge,isPending:Y,isTransitioning:X},G=ge?i:void 0,z;typeof a=="function"?z=a(M):z=[a,ge?"active":null,Y?"pending":null,X?"transitioning":null].filter(Boolean).join(" ");let K=typeof m=="function"?m(M):m;return F.createElement(Zo,ug({},I,{"aria-current":G,className:z,ref:n,style:K,to:x,viewTransition:_}),typeof j=="function"?j(M):j)});var Pb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Pb||(Pb={}));var Xk;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Xk||(Xk={}));function qL(t){let e=F.useContext(Kg);return e||fi(!1),e}function $L(t,e){let{target:n,replace:i,state:s,preventScrollReset:a,relative:u,viewTransition:m}=e===void 0?{}:e,x=kc(),_=ko(),j=Xg(t,{relative:u});return F.useCallback(I=>{if(ML(I,n)){I.preventDefault();let U=i!==void 0?i:cg(_)===cg(j);x(t,{replace:U,state:s,preventScrollReset:a,relative:u,viewTransition:m})}},[_,x,j,i,s,n,t,a,u,m])}function HL(t,e){e===void 0&&(e={});let n=F.useContext(LL);n==null&&fi(!1);let{basename:i}=qL(Pb.useViewTransitionState),s=Xg(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Ju(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Ju(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Nb(s.pathname,u)!=null||Nb(s.pathname,a)!=null}var Qk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},WL=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],u=t[n++],m=t[n++],x=((s&7)<<18|(a&63)<<12|(u&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(x>>10)),e[i++]=String.fromCharCode(56320+(x&1023))}else{const a=t[n++],u=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},GA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const a=t[s],u=s+1<t.length,m=u?t[s+1]:0,x=s+2<t.length,_=x?t[s+2]:0,j=a>>2,I=(a&3)<<4|m>>4;let U=(m&15)<<2|_>>6,J=_&63;x||(J=64,u||(U=64)),i.push(n[j],n[I],n[U],n[J])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(WA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],m=s<t.length?n[t.charAt(s)]:0;++s;const _=s<t.length?n[t.charAt(s)]:64;++s;const I=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||m==null||_==null||I==null)throw new GL;const U=a<<2|m>>4;if(i.push(U),_!==64){const J=m<<4&240|_>>2;if(i.push(J),I!==64){const ne=_<<6&192|I;i.push(ne)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KL=function(t){const e=WA(t);return GA.encodeByteArray(e,!0)},hg=function(t){return KL(t).replace(/\./g,"")},KA=function(t){try{return GA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=()=>YL().__FIREBASE_DEFAULTS__,QL=()=>{if(typeof process>"u"||typeof Qk>"u")return;const t=Qk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KA(t[1]);return e&&JSON.parse(e)},Qg=()=>{try{return XL()||QL()||JL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},YA=t=>{var e,n;return(n=(e=Qg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},XA=t=>{const e=YA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},QA=()=>{var t;return(t=Qg())===null||t===void 0?void 0:t.config},JA=t=>{var e;return(e=Qg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[hg(JSON.stringify(n)),hg(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(br())}function tF(){var t;const e=(t=Qg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rF(){const t=br();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sF(){return!tF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pw(){try{return typeof indexedDB=="object"}catch{return!1}}function fw(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function eN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF="FirebaseError";class ks extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=oF,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tc.prototype.create)}}class Tc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?aF(a,i):"Error",m=`${this.serviceName}: ${u} (${s}).`;return new ks(s,m,i)}}function aF(t,e){return t.replace(lF,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const lF=/\{\$([^}]+)}/g;function cF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fp(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const a=t[s],u=e[s];if(Jk(a)&&Jk(u)){if(!fp(a,u))return!1}else if(a!==u)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function Jk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Td(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,a]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Cd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function uF(t,e){const n=new hF(t,e);return n.subscribe.bind(n)}class hF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");dF(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=ix),s.error===void 0&&(s.error=ix),s.complete===void 0&&(s.complete=ix);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ix(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=1e3,fF=2,mF=4*60*60*1e3,gF=.5;function Zk(t,e=pF,n=fF){const i=e*Math.pow(n,t),s=Math.round(gF*i*(Math.random()-.5)*2);return Math.min(mF,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(t){return t&&t._delegate?t._delegate:t}class Es{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new ZL;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xF(e))try{this.getOrInitializeService({instanceIdentifier:Yl})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(e=Yl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yl){return this.instances.has(e)}getOptions(e=Yl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(a);i===m&&u.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:vF(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Yl){return this.component?this.component.multipleInstances?e:Yl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vF(t){return t===Yl?void 0:t}function xF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Nn||(Nn={}));const wF={debug:Nn.DEBUG,verbose:Nn.VERBOSE,info:Nn.INFO,warn:Nn.WARN,error:Nn.ERROR,silent:Nn.SILENT},_F=Nn.INFO,EF={[Nn.DEBUG]:"log",[Nn.VERBOSE]:"log",[Nn.INFO]:"info",[Nn.WARN]:"warn",[Nn.ERROR]:"error"},kF=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=EF[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jg{constructor(e){this.name=e,this._logLevel=_F,this._logHandler=kF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nn.DEBUG,...e),this._logHandler(this,Nn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nn.VERBOSE,...e),this._logHandler(this,Nn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nn.INFO,...e),this._logHandler(this,Nn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nn.WARN,...e),this._logHandler(this,Nn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nn.ERROR,...e),this._logHandler(this,Nn.ERROR,...e)}}const TF=(t,e)=>e.some(n=>t instanceof n);let eT,tT;function CF(){return eT||(eT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SF(){return tT||(tT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tN=new WeakMap,Mb=new WeakMap,nN=new WeakMap,rx=new WeakMap,mw=new WeakMap;function AF(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(sl(t.result)),s()},u=()=>{i(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&tN.set(n,t)}).catch(()=>{}),mw.set(e,t),e}function NF(t){if(Mb.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),s()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Mb.set(t,e)}let Rb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jF(t){Rb=t(Rb)}function IF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(sx(this),e,...n);return nN.set(i,e.sort?e.sort():[e]),sl(i)}:SF().includes(t)?function(...e){return t.apply(sx(this),e),sl(tN.get(this))}:function(...e){return sl(t.apply(sx(this),e))}}function PF(t){return typeof t=="function"?IF(t):(t instanceof IDBTransaction&&NF(t),TF(t,CF())?new Proxy(t,Rb):t)}function sl(t){if(t instanceof IDBRequest)return AF(t);if(rx.has(t))return rx.get(t);const e=PF(t);return e!==t&&(rx.set(t,e),mw.set(e,t)),e}const sx=t=>mw.get(t);function iN(t,e,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const u=indexedDB.open(t,e),m=sl(u);return i&&u.addEventListener("upgradeneeded",x=>{i(sl(u.result),x.oldVersion,x.newVersion,sl(u.transaction),x)}),n&&u.addEventListener("blocked",x=>n(x.oldVersion,x.newVersion,x)),m.then(x=>{a&&x.addEventListener("close",()=>a()),s&&x.addEventListener("versionchange",_=>s(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const MF=["get","getKey","getAll","getAllKeys","count"],RF=["put","add","delete","clear"],ox=new Map;function nT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ox.get(e))return ox.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=RF.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||MF.includes(n)))return;const a=async function(u,...m){const x=this.transaction(u,s?"readwrite":"readonly");let _=x.store;return i&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),s&&x.done]))[0]};return ox.set(e,a),a}jF(t=>({...t,get:(e,n,i)=>nT(e,n)||t.get(e,n,i),has:(e,n)=>!!nT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OF(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function OF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Db="@firebase/app",iT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new Jg("@firebase/app"),LF="@firebase/app-compat",FF="@firebase/analytics-compat",BF="@firebase/analytics",VF="@firebase/app-check-compat",UF="@firebase/app-check",zF="@firebase/auth",qF="@firebase/auth-compat",$F="@firebase/database",HF="@firebase/data-connect",WF="@firebase/database-compat",GF="@firebase/functions",KF="@firebase/functions-compat",YF="@firebase/installations",XF="@firebase/installations-compat",QF="@firebase/messaging",JF="@firebase/messaging-compat",ZF="@firebase/performance",eB="@firebase/performance-compat",tB="@firebase/remote-config",nB="@firebase/remote-config-compat",iB="@firebase/storage",rB="@firebase/storage-compat",sB="@firebase/firestore",oB="@firebase/vertexai-preview",aB="@firebase/firestore-compat",lB="firebase",cB="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="[DEFAULT]",uB={[Db]:"fire-core",[LF]:"fire-core-compat",[BF]:"fire-analytics",[FF]:"fire-analytics-compat",[UF]:"fire-app-check",[VF]:"fire-app-check-compat",[zF]:"fire-auth",[qF]:"fire-auth-compat",[$F]:"fire-rtdb",[HF]:"fire-data-connect",[WF]:"fire-rtdb-compat",[GF]:"fire-fn",[KF]:"fire-fn-compat",[YF]:"fire-iid",[XF]:"fire-iid-compat",[QF]:"fire-fcm",[JF]:"fire-fcm-compat",[ZF]:"fire-perf",[eB]:"fire-perf-compat",[tB]:"fire-rc",[nB]:"fire-rc-compat",[iB]:"fire-gcs",[rB]:"fire-gcs-compat",[sB]:"fire-fst",[aB]:"fire-fst-compat",[oB]:"fire-vertex","fire-js":"fire-js",[lB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp=new Map,hB=new Map,Lb=new Map;function rT(t,e){try{t.container.addComponent(e)}catch(n){ea.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gs(t){const e=t.name;if(Lb.has(e))return ea.debug(`There were multiple attempts to register component ${e}.`),!1;Lb.set(e,t);for(const n of mp.values())rT(n,t);for(const n of hB.values())rT(n,t);return!0}function bl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fo(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ol=new Tc("app","Firebase",dB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ol.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=cB;function rN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ob,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw ol.create("bad-app-name",{appName:String(s)});if(n||(n=QA()),!n)throw ol.create("no-options");const a=mp.get(s);if(a){if(fp(n,a.options)&&fp(i,a.config))return a;throw ol.create("duplicate-app",{appName:s})}const u=new bF(s);for(const x of Lb.values())u.addComponent(x);const m=new pB(n,i,u);return mp.set(s,m),m}function Ip(t=Ob){const e=mp.get(t);if(!e&&t===Ob&&QA())return rN();if(!e)throw ol.create("no-app",{appName:t});return e}function fB(){return Array.from(mp.values())}function Vr(t,e,n){var i;let s=(i=uB[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const m=[`Unable to register library "${s}" with version "${e}":`];a&&m.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&m.push("and"),u&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ea.warn(m.join(" "));return}Gs(new Es(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB="firebase-heartbeat-database",gB=1,gp="firebase-heartbeat-store";let ax=null;function sN(){return ax||(ax=iN(mB,gB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gp)}catch(n){console.warn(n)}}}}).catch(t=>{throw ol.create("idb-open",{originalErrorMessage:t.message})})),ax}async function yB(t){try{const n=(await sN()).transaction(gp),i=await n.objectStore(gp).get(oN(t));return await n.done,i}catch(e){if(e instanceof ks)ea.warn(e.message);else{const n=ol.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ea.warn(n.message)}}}async function sT(t,e){try{const i=(await sN()).transaction(gp,"readwrite");await i.objectStore(gp).put(e,oN(t)),await i.done}catch(n){if(n instanceof ks)ea.warn(n.message);else{const i=ol.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ea.warn(i.message)}}}function oN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB=1024,xB=30*24*60*60*1e3;class bB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _B(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=oT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const m=new Date(u.date).valueOf();return Date.now()-m<=xB}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ea.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=oT(),{heartbeatsToSend:i,unsentEntries:s}=wB(this._heartbeatsCache.heartbeats),a=hg(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ea.warn(n),""}}}function oT(){return new Date().toISOString().substring(0,10)}function wB(t,e=vB){const n=[];let i=t.slice();for(const s of t){const a=n.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),aT(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),aT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class _B{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pw()?fw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return sT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return sT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function aT(t){return hg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EB(t){Gs(new Es("platform-logger",e=>new DF(e),"PRIVATE")),Gs(new Es("heartbeat",e=>new bB(e),"PRIVATE")),Vr(Db,iT,t),Vr(Db,iT,"esm2017"),Vr("fire-js","")}EB("");function gw(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function aN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kB=aN,lN=new Tc("auth","Firebase",aN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=new Jg("@firebase/auth");function TB(t,...e){dg.logLevel<=Nn.WARN&&dg.warn(`Auth (${Cc}): ${t}`,...e)}function Sm(t,...e){dg.logLevel<=Nn.ERROR&&dg.error(`Auth (${Cc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(t,...e){throw yw(t,...e)}function vo(t,...e){return yw(t,...e)}function cN(t,e,n){const i=Object.assign(Object.assign({},kB()),{[e]:n});return new Tc("auth","Firebase",i).create(e,{appName:t.name})}function Go(t){return cN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yw(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return lN.create(t,...e)}function cn(t,e,...n){if(!t)throw yw(e,...n)}function qo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sm(e),new Error(e)}function ta(t,e){t||qo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function CB(){return lT()==="http:"||lT()==="https:"}function lT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CB()||dw()||"connection"in navigator)?navigator.onLine:!0}function AB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n){this.shortDelay=e,this.longDelay=n,ta(n>e,"Short delay should be less than long delay!"),this.isMobile=eF()||iF()}get(){return SB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t,e){ta(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB=new Pp(3e4,6e4);function wl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function To(t,e,n,i,s={}){return hN(t,s,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const m=jp(Object.assign({key:t.config.apiKey},u)).slice(1),x=await t._getAdditionalHeaders();x["Content-Type"]="application/json",t.languageCode&&(x["X-Firebase-Locale"]=t.languageCode);const _=Object.assign({method:e,headers:x},a);return nF()||(_.referrerPolicy="no-referrer"),uN.fetch()(dN(t,t.config.apiHost,n,m),_)})}async function hN(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},NB),e);try{const s=new PB(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw em(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const m=a.ok?u.errorMessage:u.error.message,[x,_]=m.split(" : ");if(x==="FEDERATED_USER_ID_ALREADY_LINKED")throw em(t,"credential-already-in-use",u);if(x==="EMAIL_EXISTS")throw em(t,"email-already-in-use",u);if(x==="USER_DISABLED")throw em(t,"user-disabled",u);const j=i[x]||x.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw cN(t,j,_);Ks(t,j)}}catch(s){if(s instanceof ks)throw s;Ks(t,"network-request-failed",{message:String(s)})}}async function Mp(t,e,n,i,s={}){const a=await To(t,e,n,i,s);return"mfaPendingCredential"in a&&Ks(t,"multi-factor-auth-required",{_serverResponse:a}),a}function dN(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?vw(t.config,s):`${t.config.apiScheme}://${s}`}function IB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PB{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(vo(this.auth,"network-request-failed")),jB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function em(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=vo(t,e,i);return s.customData._tokenResponse=n,s}function cT(t){return t!==void 0&&t.enterprise!==void 0}class MB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function RB(t,e){return To(t,"GET","/v2/recaptchaConfig",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DB(t,e){return To(t,"POST","/v1/accounts:delete",e)}async function pN(t,e){return To(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OB(t,e=!1){const n=$n(t),i=await n.getIdToken(e),s=xw(i);cn(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:i,authTime:zd(lx(s.auth_time)),issuedAtTime:zd(lx(s.iat)),expirationTime:zd(lx(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function lx(t){return Number(t)*1e3}function xw(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Sm("JWT malformed, contained fewer than 3 sections"),null;try{const s=KA(n);return s?JSON.parse(s):(Sm("Failed to decode base64 JWT payload"),null)}catch(s){return Sm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function uT(t){const e=xw(t);return cn(e,"internal-error"),cn(typeof e.exp<"u","internal-error"),cn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ks&&LB(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function LB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zd(this.lastLoginAt),this.creationTime=zd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pg(t){var e;const n=t.auth,i=await t.getIdToken(),s=await dc(t,pN(n,{idToken:i}));cn(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?fN(a.providerUserInfo):[],m=VB(t.providerData,u),x=t.isAnonymous,_=!(t.email&&a.passwordHash)&&!(m!=null&&m.length),j=x?_:!1,I={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:m,metadata:new Bb(a.createdAt,a.lastLoginAt),isAnonymous:j};Object.assign(t,I)}async function BB(t){const e=$n(t);await pg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VB(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function fN(t){return t.map(e=>{var{providerId:n}=e,i=gw(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UB(t,e){const n=await hN(t,{},async()=>{const i=jp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,u=dN(t,s,"/v1/token",`key=${a}`),m=await t._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",uN.fetch()(u,{method:"POST",headers:m,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zB(t,e){return To(t,"POST","/v2/accounts:revokeToken",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){cn(e.idToken,"internal-error"),cn(typeof e.idToken<"u","internal-error"),cn(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){cn(e.length!==0,"internal-error");const n=uT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(cn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await UB(e,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,u=new Vu;return i&&(cn(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),s&&(cn(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(cn(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vu,this.toJSON())}_performRefresh(){return qo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(t,e){cn(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $o{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,a=gw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Bb(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await dc(this,this.stsTokenManager.getToken(this.auth,e));return cn(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OB(this,e)}reload(){return BB(this)}_assign(e){this!==e&&(cn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $o(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){cn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await pg(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fo(this.auth.app))return Promise.reject(Go(this.auth));const e=await this.getIdToken();return await dc(this,DB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,a,u,m,x,_,j;const I=(i=n.displayName)!==null&&i!==void 0?i:void 0,U=(s=n.email)!==null&&s!==void 0?s:void 0,J=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,ne=(u=n.photoURL)!==null&&u!==void 0?u:void 0,le=(m=n.tenantId)!==null&&m!==void 0?m:void 0,oe=(x=n._redirectEventId)!==null&&x!==void 0?x:void 0,X=(_=n.createdAt)!==null&&_!==void 0?_:void 0,O=(j=n.lastLoginAt)!==null&&j!==void 0?j:void 0,{uid:H,emailVerified:te,isAnonymous:Te,providerData:ge,stsTokenManager:Y}=n;cn(H&&Y,e,"internal-error");const M=Vu.fromJSON(this.name,Y);cn(typeof H=="string",e,"internal-error"),Ra(I,e.name),Ra(U,e.name),cn(typeof te=="boolean",e,"internal-error"),cn(typeof Te=="boolean",e,"internal-error"),Ra(J,e.name),Ra(ne,e.name),Ra(le,e.name),Ra(oe,e.name),Ra(X,e.name),Ra(O,e.name);const G=new $o({uid:H,auth:e,email:U,emailVerified:te,displayName:I,isAnonymous:Te,photoURL:ne,phoneNumber:J,tenantId:le,stsTokenManager:M,createdAt:X,lastLoginAt:O});return ge&&Array.isArray(ge)&&(G.providerData=ge.map(z=>Object.assign({},z))),oe&&(G._redirectEventId=oe),G}static async _fromIdTokenResponse(e,n,i=!1){const s=new Vu;s.updateFromServerResponse(n);const a=new $o({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await pg(a),a}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];cn(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?fN(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),m=new Vu;m.updateFromIdToken(i);const x=new $o({uid:s.localId,auth:e,stsTokenManager:m,isAnonymous:u}),_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Bb(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(x,_),x}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=new Map;function Ho(t){ta(t instanceof Function,"Expected a class definition");let e=hT.get(t);return e?(ta(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mN.type="NONE";const dT=mN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(t,e,n){return`firebase:${t}:${e}:${n}`}class Uu{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=Am(this.userKey,s.apiKey,a),this.fullPersistenceKey=Am("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$o._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Uu(Ho(dT),e,i);const s=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let a=s[0]||Ho(dT);const u=Am(i,e.config.apiKey,e.name);let m=null;for(const _ of n)try{const j=await _._get(u);if(j){const I=$o._fromJSON(e,j);_!==a&&(m=I),a=_;break}}catch{}const x=s.filter(_=>_._shouldAllowMigration);return!a._shouldAllowMigration||!x.length?new Uu(a,e,i):(a=x[0],m&&await a._set(u,m.toJSON()),await Promise.all(n.map(async _=>{if(_!==a)try{await _._remove(u)}catch{}})),new Uu(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wN(e))return"Blackberry";if(_N(e))return"Webos";if(yN(e))return"Safari";if((e.includes("chrome/")||vN(e))&&!e.includes("edge/"))return"Chrome";if(bN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function gN(t=br()){return/firefox\//i.test(t)}function yN(t=br()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vN(t=br()){return/crios\//i.test(t)}function xN(t=br()){return/iemobile/i.test(t)}function bN(t=br()){return/android/i.test(t)}function wN(t=br()){return/blackberry/i.test(t)}function _N(t=br()){return/webos/i.test(t)}function bw(t=br()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qB(t=br()){var e;return bw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $B(){return rF()&&document.documentMode===10}function EN(t=br()){return bw(t)||bN(t)||_N(t)||wN(t)||/windows phone/i.test(t)||xN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(t,e=[]){let n;switch(t){case"Browser":n=pT(br());break;case"Worker":n=`${pT(br())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((u,m)=>{try{const x=e(a);u(x)}catch(x){m(x)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WB(t,e={}){return To(t,"GET","/v2/passwordPolicy",wl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB=6;class KB{constructor(e){var n,i,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:GB,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,a,u,m;const x={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,x),this.validatePasswordCharacterOptions(e,x),x.isValid&&(x.isValid=(n=x.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),x.isValid&&(x.isValid=(i=x.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),x.isValid&&(x.isValid=(s=x.containsLowercaseLetter)!==null&&s!==void 0?s:!0),x.isValid&&(x.isValid=(a=x.containsUppercaseLetter)!==null&&a!==void 0?a:!0),x.isValid&&(x.isValid=(u=x.containsNumericCharacter)!==null&&u!==void 0?u:!0),x.isValid&&(x.isValid=(m=x.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),x}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fT(this),this.idTokenSubscription=new fT(this),this.beforeStateQueue=new HB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ho(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Uu.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await pN(this,{idToken:e}),i=await $o._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fo(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(m,m))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=s==null?void 0:s._redirectEventId,x=await this.tryRedirectSignIn(e);(!u||u===m)&&(x!=null&&x.user)&&(s=x.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return cn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fo(this.app))return Promise.reject(Go(this));const n=e?$n(e):null;return n&&cn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&cn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fo(this.app)?Promise.reject(Go(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fo(this.app)?Promise.reject(Go(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ho(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WB(this),n=new KB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await zB(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ho(e)||this._popupRedirectResolver;cn(n,this,"argument-error"),this.redirectPersistenceManager=await Uu.create(this,[Ho(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(cn(m,this,"internal-error"),m.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const x=e.addObserver(n,i,s);return()=>{u=!0,x()}}else{const x=e.addObserver(n);return()=>{u=!0,x()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return cn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&TB(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Sc(t){return $n(t)}class fT{constructor(e){this.auth=e,this.observer=null,this.addObserver=uF(n=>this.observer=n)}get next(){return cn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XB(t){Zg=t}function TN(t){return Zg.loadJS(t)}function QB(){return Zg.recaptchaEnterpriseScript}function JB(){return Zg.gapiScript}function ZB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const eV="recaptcha-enterprise",tV="NO_RECAPTCHA";class nV{constructor(e){this.type=eV,this.auth=Sc(e)}async verify(e="verify",n=!1){async function i(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,m)=>{RB(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(x=>{if(x.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new MB(x);return a.tenantId==null?a._agentRecaptchaConfig=_:a._tenantRecaptchaConfigs[a.tenantId]=_,u(_.siteKey)}}).catch(x=>{m(x)})})}function s(a,u,m){const x=window.grecaptcha;cT(x)?x.enterprise.ready(()=>{x.enterprise.execute(a,{action:e}).then(_=>{u(_)}).catch(()=>{u(tV)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{i(this.auth).then(m=>{if(!n&&cT(window.grecaptcha))s(m,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let x=QB();x.length!==0&&(x+=m),TN(x).then(()=>{s(m,a,u)}).catch(_=>{u(_)})}}).catch(m=>{u(m)})})}}async function mT(t,e,n,i=!1){const s=new nV(t);let a;try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const u=Object.assign({},e);return i?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Vb(t,e,n,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await mT(t,e,n,n==="getOobCode");return i(t,a)}else return i(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await mT(t,e,n,n==="getOobCode");return i(t,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(t,e){const n=bl(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(fp(a,e??{}))return s;Ks(s,"already-initialized")}return n.initialize({options:e})}function rV(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ho);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function sV(t,e,n){const i=Sc(t);cn(i._canInitEmulator,i,"emulator-config-failed"),cn(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,a=CN(e),{host:u,port:m}=oV(e),x=m===null?"":`:${m}`;i.config.emulator={url:`${a}//${u}${x}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:m,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),aV()}function CN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oV(t){const e=CN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:gT(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:gT(u)}}}function gT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qo("not implemented")}_getIdTokenResponse(e){return qo("not implemented")}_linkToIdToken(e,n){return qo("not implemented")}_getReauthenticationResolver(e){return qo("not implemented")}}async function lV(t,e){return To(t,"POST","/v1/accounts:update",e)}async function cV(t,e){return To(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uV(t,e){return Mp(t,"POST","/v1/accounts:signInWithPassword",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hV(t,e){return Mp(t,"POST","/v1/accounts:signInWithEmailLink",wl(t,e))}async function dV(t,e){return Mp(t,"POST","/v1/accounts:signInWithEmailLink",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp extends ww{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new yp(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new yp(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vb(e,n,"signInWithPassword",uV);case"emailLink":return hV(e,{email:this._email,oobCode:this._password});default:Ks(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vb(e,i,"signUpPassword",cV);case"emailLink":return dV(e,{idToken:n,email:this._email,oobCode:this._password});default:Ks(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(t,e){return Mp(t,"POST","/v1/accounts:signInWithIdp",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV="http://localhost";class pc extends ww{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ks("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,a=gw(n,["providerId","signInMethod"]);if(!i||!s)return null;const u=new pc(i,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return zu(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,zu(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zu(e,n)}buildRequest(){const e={requestUri:pV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mV(t){const e=Td(Cd(t)).link,n=e?Td(Cd(e)).deep_link_id:null,i=Td(Cd(t)).deep_link_id;return(i?Td(Cd(i)).link:null)||i||n||e||t}class _w{constructor(e){var n,i,s,a,u,m;const x=Td(Cd(e)),_=(n=x.apiKey)!==null&&n!==void 0?n:null,j=(i=x.oobCode)!==null&&i!==void 0?i:null,I=fV((s=x.mode)!==null&&s!==void 0?s:null);cn(_&&j&&I,"argument-error"),this.apiKey=_,this.operation=I,this.code=j,this.continueUrl=(a=x.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=x.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(m=x.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=mV(e);try{return new _w(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.providerId=dl.PROVIDER_ID}static credential(e,n){return yp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=_w.parseLink(n);return cn(i,"argument-error"),yp._fromEmailAndCode(e,i.code,i.tenantId)}}dl.PROVIDER_ID="password";dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp extends SN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends Rp{constructor(){super("facebook.com")}static credential(e){return pc._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return za.credentialFromTaggedObject(e)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return za.credential(e.oauthAccessToken)}catch{return null}}}za.FACEBOOK_SIGN_IN_METHOD="facebook.com";za.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends Rp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pc._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Vo.credential(n,i)}catch{return null}}}Vo.GOOGLE_SIGN_IN_METHOD="google.com";Vo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends Rp{constructor(){super("github.com")}static credential(e){return pc._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qa.credential(e.oauthAccessToken)}catch{return null}}}qa.GITHUB_SIGN_IN_METHOD="github.com";qa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends Rp{constructor(){super("twitter.com")}static credential(e,n){return pc._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $a.credentialFromTaggedObject(e)}static credentialFromError(e){return $a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return $a.credential(n,i)}catch{return null}}}$a.TWITTER_SIGN_IN_METHOD="twitter.com";$a.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(t,e){return Mp(t,"POST","/v1/accounts:signUp",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const a=await $o._fromIdTokenResponse(e,i,s),u=yT(i);return new fc({user:a,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=yT(i);return new fc({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function yT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg extends ks{constructor(e,n,i,s){var a;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,fg.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new fg(e,n,i,s)}}function AN(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?fg._fromErrorAndOperation(t,a,e,i):a})}async function yV(t,e,n=!1){const i=await dc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fc._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(t,e,n=!1){const{auth:i}=t;if(fo(i.app))return Promise.reject(Go(i));const s="reauthenticate";try{const a=await dc(t,AN(i,s,e,t),n);cn(a.idToken,i,"internal-error");const u=xw(a.idToken);cn(u,i,"internal-error");const{sub:m}=u;return cn(t.uid===m,i,"user-mismatch"),fc._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ks(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(t,e,n=!1){if(fo(t.app))return Promise.reject(Go(t));const i="signIn",s=await AN(t,i,e),a=await fc._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(a.user),a}async function IN(t,e){return jN(Sc(t),e)}async function vT(t,e){return NN($n(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(t){const e=Sc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vV(t,e,n){if(fo(t.app))return Promise.reject(Go(t));const i=Sc(t),u=await Vb(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gV).catch(x=>{throw x.code==="auth/password-does-not-meet-requirements"&&PN(t),x}),m=await fc._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(m.user),m}function xV(t,e,n){return fo(t.app)?Promise.reject(Go(t)):IN($n(t),dl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&PN(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(t,e){return To(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=$n(t),a={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await dc(i,bV(i.auth,a));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const m=i.providerData.find(({providerId:x})=>x==="password");m&&(m.displayName=i.displayName,m.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function _V(t,e){return EV($n(t),null,e)}async function EV(t,e,n){const{auth:i}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const u=await dc(t,lV(i,a));await t._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t,e){return $n(t).setPersistence(e)}function TV(t,e,n,i){return $n(t).onIdTokenChanged(e,n,i)}function CV(t,e,n){return $n(t).beforeAuthStateChanged(e,n)}function SV(t,e,n,i){return $n(t).onAuthStateChanged(e,n,i)}function cu(t){return $n(t).signOut()}async function AV(t){return $n(t).delete()}const mg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mg,"1"),this.storage.removeItem(mg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=1e3,jV=10;class RN extends MN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,m,x)=>{this.notifyListeners(u,x)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);$B()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,jV):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},NV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}RN.type="LOCAL";const DN=RN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON extends MN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ON.type="SESSION";const Ew=ON;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new ey(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:a}=n.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const m=Array.from(u).map(async _=>_(n.origin,a)),x=await IV(m);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:x})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ey.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((m,x)=>{const _=kw("",20);s.port1.start();const j=setTimeout(()=>{x(new Error("unsupported_event"))},i);u={messageChannel:s,onMessage(I){const U=I;if(U.data.eventId===_)switch(U.data.status){case"ack":clearTimeout(j),a=setTimeout(()=>{x(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),m(U.data.response);break;default:clearTimeout(j),clearTimeout(a),x(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(){return window}function MV(t){xo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(){return typeof xo().WorkerGlobalScope<"u"&&typeof xo().importScripts=="function"}async function RV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function OV(){return LN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="firebaseLocalStorageDb",LV=1,gg="firebaseLocalStorage",BN="fbase_key";class Dp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ty(t,e){return t.transaction([gg],e?"readwrite":"readonly").objectStore(gg)}function FV(){const t=indexedDB.deleteDatabase(FN);return new Dp(t).toPromise()}function Ub(){const t=indexedDB.open(FN,LV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(gg,{keyPath:BN})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(gg)?e(i):(i.close(),await FV(),e(await Ub()))})})}async function xT(t,e,n){const i=ty(t,!0).put({[BN]:e,value:n});return new Dp(i).toPromise()}async function BV(t,e){const n=ty(t,!1).get(e),i=await new Dp(n).toPromise();return i===void 0?null:i.value}function bT(t,e){const n=ty(t,!0).delete(e);return new Dp(n).toPromise()}const VV=800,UV=3;class VN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ub(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>UV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ey._getInstance(OV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await RV(),!this.activeServiceWorker)return;this.sender=new PV(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ub();return await xT(e,mg,"1"),await bT(e,mg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>xT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>BV(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=ty(s,!1).getAll();return new Dp(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VN.type="LOCAL";const zV=VN;new Pp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t,e){return e?Ho(e):(cn(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw extends ww{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $V(t){return jN(t.auth,new Tw(t),t.bypassAuthState)}function HV(t){const{auth:e,user:n}=t;return cn(n,e,"internal-error"),NN(n,new Tw(t),t.bypassAuthState)}async function WV(t){const{auth:e,user:n}=t;return cn(n,e,"internal-error"),yV(n,new Tw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n,i,s,a=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:u,type:m}=e;if(u){this.reject(u);return}const x={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(x))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $V;case"linkViaPopup":case"linkViaRedirect":return WV;case"reauthViaPopup":case"reauthViaRedirect":return HV;default:Ks(this.auth,"internal-error")}}resolve(e){ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=new Pp(2e3,1e4);class Iu extends UN{constructor(e,n,i,s,a){super(e,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,Iu.currentPopupAction&&Iu.currentPopupAction.cancel(),Iu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return cn(e,this.auth,"internal-error"),e}async onExecution(){ta(this.filter.length===1,"Popup operations only handle one event");const e=kw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Iu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GV.get())};e()}}Iu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="pendingRedirect",Nm=new Map;class YV extends UN{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Nm.get(this.auth._key());if(!e){try{const i=await XV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Nm.set(this.auth._key(),e)}return this.bypassAuthState||Nm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XV(t,e){const n=ZV(e),i=JV(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function QV(t,e){Nm.set(t._key(),e)}function JV(t){return Ho(t._redirectPersistence)}function ZV(t){return Am(KV,t.config.apiKey,t.name)}async function e3(t,e,n=!1){if(fo(t.app))return Promise.reject(Go(t));const i=Sc(t),s=qV(i,e),u=await new YV(i,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=10*60*1e3;class n3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!zN(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(vo(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t3&&this.cachedEventUids.clear(),this.cachedEventUids.has(wT(e))}saveEventToCache(e){this.cachedEventUids.add(wT(e)),this.lastProcessedEventTime=Date.now()}}function wT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function i3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r3(t,e={}){return To(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o3=/^https?/;async function a3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await r3(t);for(const n of e)try{if(l3(n))return}catch{}Ks(t,"unauthorized-domain")}function l3(t){const e=Fb(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!o3.test(n))return!1;if(s3.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=new Pp(3e4,6e4);function _T(){const t=xo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function u3(t){return new Promise((e,n)=>{var i,s,a;function u(){_T(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_T(),n(vo(t,"network-request-failed"))},timeout:c3.get()})}if(!((s=(i=xo().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=xo().gapi)===null||a===void 0)&&a.load)u();else{const m=ZB("iframefcb");return xo()[m]=()=>{gapi.load?u():n(vo(t,"network-request-failed"))},TN(`${JB()}?onload=${m}`).catch(x=>n(x))}}).catch(e=>{throw jm=null,e})}let jm=null;function h3(t){return jm=jm||u3(t),jm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=new Pp(5e3,15e3),p3="__/auth/iframe",f3="emulator/auth/iframe",m3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y3(t){const e=t.config;cn(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vw(e,f3):`https://${t.config.authDomain}/${p3}`,i={apiKey:e.apiKey,appName:t.name,v:Cc},s=g3.get(t.config.apiHost);s&&(i.eid=s);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${jp(i).slice(1)}`}async function v3(t){const e=await h3(t),n=xo().gapi;return cn(n,t,"internal-error"),e.open({where:document.body,url:y3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m3,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const u=vo(t,"network-request-failed"),m=xo().setTimeout(()=>{a(u)},d3.get());function x(){xo().clearTimeout(m),s(i)}i.ping(x).then(x,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b3=500,w3=600,_3="_blank",E3="http://localhost";class ET{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k3(t,e,n,i=b3,s=w3){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const x=Object.assign(Object.assign({},x3),{width:i.toString(),height:s.toString(),top:a,left:u}),_=br().toLowerCase();n&&(m=vN(_)?_3:n),gN(_)&&(e=e||E3,x.scrollbars="yes");const j=Object.entries(x).reduce((U,[J,ne])=>`${U}${J}=${ne},`,"");if(qB(_)&&m!=="_self")return T3(e||"",m),new ET(null);const I=window.open(e||"",m,j);cn(I,t,"popup-blocked");try{I.focus()}catch{}return new ET(I)}function T3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="__/auth/handler",S3="emulator/auth/handler",A3=encodeURIComponent("fac");async function kT(t,e,n,i,s,a){cn(t.config.authDomain,t,"auth-domain-config-required"),cn(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Cc,eventId:s};if(e instanceof SN){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",cF(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[j,I]of Object.entries({}))u[j]=I}if(e instanceof Rp){const j=e.getScopes().filter(I=>I!=="");j.length>0&&(u.scopes=j.join(","))}t.tenantId&&(u.tid=t.tenantId);const m=u;for(const j of Object.keys(m))m[j]===void 0&&delete m[j];const x=await t._getAppCheckToken(),_=x?`#${A3}=${encodeURIComponent(x)}`:"";return`${N3(t)}?${jp(m).slice(1)}${_}`}function N3({config:t}){return t.emulator?vw(t,S3):`https://${t.authDomain}/${C3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="webStorageSupport";class j3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ew,this._completeRedirectFn=e3,this._overrideRedirectResult=QV}async _openPopup(e,n,i,s){var a;ta((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await kT(e,n,i,Fb(),s);return k3(e,u,kw())}async _openRedirect(e,n,i,s){await this._originValidation(e);const a=await kT(e,n,i,Fb(),s);return MV(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(ta(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await v3(e),i=new n3(e);return n.register("authEvent",s=>(cn(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cx,{type:cx},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[cx];u!==void 0&&n(!!u),Ks(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return EN()||yN()||bw()}}const I3=j3;var TT="@firebase/auth",CT="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){cn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R3(t){Gs(new Es("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=i.options;cn(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const x={apiKey:u,authDomain:m,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kN(t)},_=new YB(i,s,a,x);return rV(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Gs(new Es("auth-internal",e=>{const n=Sc(e.getProvider("auth").getImmediate());return(i=>new P3(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(TT,CT,M3(t)),Vr(TT,CT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=5*60,O3=JA("authIdTokenMaxAge")||D3;let ST=null;const L3=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>O3)return;const s=n==null?void 0:n.token;ST!==s&&(ST=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function F3(t=Ip()){const e=bl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=iV(t,{popupRedirectResolver:I3,persistence:[zV,DN,Ew]}),i=JA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=L3(a.toString());CV(n,u,()=>u(n.currentUser)),TV(n,m=>u(m))}}const s=YA("auth");return s&&sV(n,`http://${s}`),n}function B3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}XB({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const a=vo("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",B3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R3("Browser");var AT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sc,qN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(Y,M){function G(){}G.prototype=M.prototype,Y.D=M.prototype,Y.prototype=new G,Y.prototype.constructor=Y,Y.C=function(z,K,se){for(var ie=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)ie[dt-2]=arguments[dt];return M.prototype[K].apply(z,ie)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(Y,M,G){G||(G=0);var z=Array(16);if(typeof M=="string")for(var K=0;16>K;++K)z[K]=M.charCodeAt(G++)|M.charCodeAt(G++)<<8|M.charCodeAt(G++)<<16|M.charCodeAt(G++)<<24;else for(K=0;16>K;++K)z[K]=M[G++]|M[G++]<<8|M[G++]<<16|M[G++]<<24;M=Y.g[0],G=Y.g[1],K=Y.g[2];var se=Y.g[3],ie=M+(se^G&(K^se))+z[0]+3614090360&4294967295;M=G+(ie<<7&4294967295|ie>>>25),ie=se+(K^M&(G^K))+z[1]+3905402710&4294967295,se=M+(ie<<12&4294967295|ie>>>20),ie=K+(G^se&(M^G))+z[2]+606105819&4294967295,K=se+(ie<<17&4294967295|ie>>>15),ie=G+(M^K&(se^M))+z[3]+3250441966&4294967295,G=K+(ie<<22&4294967295|ie>>>10),ie=M+(se^G&(K^se))+z[4]+4118548399&4294967295,M=G+(ie<<7&4294967295|ie>>>25),ie=se+(K^M&(G^K))+z[5]+1200080426&4294967295,se=M+(ie<<12&4294967295|ie>>>20),ie=K+(G^se&(M^G))+z[6]+2821735955&4294967295,K=se+(ie<<17&4294967295|ie>>>15),ie=G+(M^K&(se^M))+z[7]+4249261313&4294967295,G=K+(ie<<22&4294967295|ie>>>10),ie=M+(se^G&(K^se))+z[8]+1770035416&4294967295,M=G+(ie<<7&4294967295|ie>>>25),ie=se+(K^M&(G^K))+z[9]+2336552879&4294967295,se=M+(ie<<12&4294967295|ie>>>20),ie=K+(G^se&(M^G))+z[10]+4294925233&4294967295,K=se+(ie<<17&4294967295|ie>>>15),ie=G+(M^K&(se^M))+z[11]+2304563134&4294967295,G=K+(ie<<22&4294967295|ie>>>10),ie=M+(se^G&(K^se))+z[12]+1804603682&4294967295,M=G+(ie<<7&4294967295|ie>>>25),ie=se+(K^M&(G^K))+z[13]+4254626195&4294967295,se=M+(ie<<12&4294967295|ie>>>20),ie=K+(G^se&(M^G))+z[14]+2792965006&4294967295,K=se+(ie<<17&4294967295|ie>>>15),ie=G+(M^K&(se^M))+z[15]+1236535329&4294967295,G=K+(ie<<22&4294967295|ie>>>10),ie=M+(K^se&(G^K))+z[1]+4129170786&4294967295,M=G+(ie<<5&4294967295|ie>>>27),ie=se+(G^K&(M^G))+z[6]+3225465664&4294967295,se=M+(ie<<9&4294967295|ie>>>23),ie=K+(M^G&(se^M))+z[11]+643717713&4294967295,K=se+(ie<<14&4294967295|ie>>>18),ie=G+(se^M&(K^se))+z[0]+3921069994&4294967295,G=K+(ie<<20&4294967295|ie>>>12),ie=M+(K^se&(G^K))+z[5]+3593408605&4294967295,M=G+(ie<<5&4294967295|ie>>>27),ie=se+(G^K&(M^G))+z[10]+38016083&4294967295,se=M+(ie<<9&4294967295|ie>>>23),ie=K+(M^G&(se^M))+z[15]+3634488961&4294967295,K=se+(ie<<14&4294967295|ie>>>18),ie=G+(se^M&(K^se))+z[4]+3889429448&4294967295,G=K+(ie<<20&4294967295|ie>>>12),ie=M+(K^se&(G^K))+z[9]+568446438&4294967295,M=G+(ie<<5&4294967295|ie>>>27),ie=se+(G^K&(M^G))+z[14]+3275163606&4294967295,se=M+(ie<<9&4294967295|ie>>>23),ie=K+(M^G&(se^M))+z[3]+4107603335&4294967295,K=se+(ie<<14&4294967295|ie>>>18),ie=G+(se^M&(K^se))+z[8]+1163531501&4294967295,G=K+(ie<<20&4294967295|ie>>>12),ie=M+(K^se&(G^K))+z[13]+2850285829&4294967295,M=G+(ie<<5&4294967295|ie>>>27),ie=se+(G^K&(M^G))+z[2]+4243563512&4294967295,se=M+(ie<<9&4294967295|ie>>>23),ie=K+(M^G&(se^M))+z[7]+1735328473&4294967295,K=se+(ie<<14&4294967295|ie>>>18),ie=G+(se^M&(K^se))+z[12]+2368359562&4294967295,G=K+(ie<<20&4294967295|ie>>>12),ie=M+(G^K^se)+z[5]+4294588738&4294967295,M=G+(ie<<4&4294967295|ie>>>28),ie=se+(M^G^K)+z[8]+2272392833&4294967295,se=M+(ie<<11&4294967295|ie>>>21),ie=K+(se^M^G)+z[11]+1839030562&4294967295,K=se+(ie<<16&4294967295|ie>>>16),ie=G+(K^se^M)+z[14]+4259657740&4294967295,G=K+(ie<<23&4294967295|ie>>>9),ie=M+(G^K^se)+z[1]+2763975236&4294967295,M=G+(ie<<4&4294967295|ie>>>28),ie=se+(M^G^K)+z[4]+1272893353&4294967295,se=M+(ie<<11&4294967295|ie>>>21),ie=K+(se^M^G)+z[7]+4139469664&4294967295,K=se+(ie<<16&4294967295|ie>>>16),ie=G+(K^se^M)+z[10]+3200236656&4294967295,G=K+(ie<<23&4294967295|ie>>>9),ie=M+(G^K^se)+z[13]+681279174&4294967295,M=G+(ie<<4&4294967295|ie>>>28),ie=se+(M^G^K)+z[0]+3936430074&4294967295,se=M+(ie<<11&4294967295|ie>>>21),ie=K+(se^M^G)+z[3]+3572445317&4294967295,K=se+(ie<<16&4294967295|ie>>>16),ie=G+(K^se^M)+z[6]+76029189&4294967295,G=K+(ie<<23&4294967295|ie>>>9),ie=M+(G^K^se)+z[9]+3654602809&4294967295,M=G+(ie<<4&4294967295|ie>>>28),ie=se+(M^G^K)+z[12]+3873151461&4294967295,se=M+(ie<<11&4294967295|ie>>>21),ie=K+(se^M^G)+z[15]+530742520&4294967295,K=se+(ie<<16&4294967295|ie>>>16),ie=G+(K^se^M)+z[2]+3299628645&4294967295,G=K+(ie<<23&4294967295|ie>>>9),ie=M+(K^(G|~se))+z[0]+4096336452&4294967295,M=G+(ie<<6&4294967295|ie>>>26),ie=se+(G^(M|~K))+z[7]+1126891415&4294967295,se=M+(ie<<10&4294967295|ie>>>22),ie=K+(M^(se|~G))+z[14]+2878612391&4294967295,K=se+(ie<<15&4294967295|ie>>>17),ie=G+(se^(K|~M))+z[5]+4237533241&4294967295,G=K+(ie<<21&4294967295|ie>>>11),ie=M+(K^(G|~se))+z[12]+1700485571&4294967295,M=G+(ie<<6&4294967295|ie>>>26),ie=se+(G^(M|~K))+z[3]+2399980690&4294967295,se=M+(ie<<10&4294967295|ie>>>22),ie=K+(M^(se|~G))+z[10]+4293915773&4294967295,K=se+(ie<<15&4294967295|ie>>>17),ie=G+(se^(K|~M))+z[1]+2240044497&4294967295,G=K+(ie<<21&4294967295|ie>>>11),ie=M+(K^(G|~se))+z[8]+1873313359&4294967295,M=G+(ie<<6&4294967295|ie>>>26),ie=se+(G^(M|~K))+z[15]+4264355552&4294967295,se=M+(ie<<10&4294967295|ie>>>22),ie=K+(M^(se|~G))+z[6]+2734768916&4294967295,K=se+(ie<<15&4294967295|ie>>>17),ie=G+(se^(K|~M))+z[13]+1309151649&4294967295,G=K+(ie<<21&4294967295|ie>>>11),ie=M+(K^(G|~se))+z[4]+4149444226&4294967295,M=G+(ie<<6&4294967295|ie>>>26),ie=se+(G^(M|~K))+z[11]+3174756917&4294967295,se=M+(ie<<10&4294967295|ie>>>22),ie=K+(M^(se|~G))+z[2]+718787259&4294967295,K=se+(ie<<15&4294967295|ie>>>17),ie=G+(se^(K|~M))+z[9]+3951481745&4294967295,Y.g[0]=Y.g[0]+M&4294967295,Y.g[1]=Y.g[1]+(K+(ie<<21&4294967295|ie>>>11))&4294967295,Y.g[2]=Y.g[2]+K&4294967295,Y.g[3]=Y.g[3]+se&4294967295}i.prototype.u=function(Y,M){M===void 0&&(M=Y.length);for(var G=M-this.blockSize,z=this.B,K=this.h,se=0;se<M;){if(K==0)for(;se<=G;)s(this,Y,se),se+=this.blockSize;if(typeof Y=="string"){for(;se<M;)if(z[K++]=Y.charCodeAt(se++),K==this.blockSize){s(this,z),K=0;break}}else for(;se<M;)if(z[K++]=Y[se++],K==this.blockSize){s(this,z),K=0;break}}this.h=K,this.o+=M},i.prototype.v=function(){var Y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Y[0]=128;for(var M=1;M<Y.length-8;++M)Y[M]=0;var G=8*this.o;for(M=Y.length-8;M<Y.length;++M)Y[M]=G&255,G/=256;for(this.u(Y),Y=Array(16),M=G=0;4>M;++M)for(var z=0;32>z;z+=8)Y[G++]=this.g[M]>>>z&255;return Y};function a(Y,M){var G=m;return Object.prototype.hasOwnProperty.call(G,Y)?G[Y]:G[Y]=M(Y)}function u(Y,M){this.h=M;for(var G=[],z=!0,K=Y.length-1;0<=K;K--){var se=Y[K]|0;z&&se==M||(G[K]=se,z=!1)}this.g=G}var m={};function x(Y){return-128<=Y&&128>Y?a(Y,function(M){return new u([M|0],0>M?-1:0)}):new u([Y|0],0>Y?-1:0)}function _(Y){if(isNaN(Y)||!isFinite(Y))return I;if(0>Y)return oe(_(-Y));for(var M=[],G=1,z=0;Y>=G;z++)M[z]=Y/G|0,G*=4294967296;return new u(M,0)}function j(Y,M){if(Y.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(Y.charAt(0)=="-")return oe(j(Y.substring(1),M));if(0<=Y.indexOf("-"))throw Error('number format error: interior "-" character');for(var G=_(Math.pow(M,8)),z=I,K=0;K<Y.length;K+=8){var se=Math.min(8,Y.length-K),ie=parseInt(Y.substring(K,K+se),M);8>se?(se=_(Math.pow(M,se)),z=z.j(se).add(_(ie))):(z=z.j(G),z=z.add(_(ie)))}return z}var I=x(0),U=x(1),J=x(16777216);t=u.prototype,t.m=function(){if(le(this))return-oe(this).m();for(var Y=0,M=1,G=0;G<this.g.length;G++){var z=this.i(G);Y+=(0<=z?z:4294967296+z)*M,M*=4294967296}return Y},t.toString=function(Y){if(Y=Y||10,2>Y||36<Y)throw Error("radix out of range: "+Y);if(ne(this))return"0";if(le(this))return"-"+oe(this).toString(Y);for(var M=_(Math.pow(Y,6)),G=this,z="";;){var K=te(G,M).g;G=X(G,K.j(M));var se=((0<G.g.length?G.g[0]:G.h)>>>0).toString(Y);if(G=K,ne(G))return se+z;for(;6>se.length;)se="0"+se;z=se+z}},t.i=function(Y){return 0>Y?0:Y<this.g.length?this.g[Y]:this.h};function ne(Y){if(Y.h!=0)return!1;for(var M=0;M<Y.g.length;M++)if(Y.g[M]!=0)return!1;return!0}function le(Y){return Y.h==-1}t.l=function(Y){return Y=X(this,Y),le(Y)?-1:ne(Y)?0:1};function oe(Y){for(var M=Y.g.length,G=[],z=0;z<M;z++)G[z]=~Y.g[z];return new u(G,~Y.h).add(U)}t.abs=function(){return le(this)?oe(this):this},t.add=function(Y){for(var M=Math.max(this.g.length,Y.g.length),G=[],z=0,K=0;K<=M;K++){var se=z+(this.i(K)&65535)+(Y.i(K)&65535),ie=(se>>>16)+(this.i(K)>>>16)+(Y.i(K)>>>16);z=ie>>>16,se&=65535,ie&=65535,G[K]=ie<<16|se}return new u(G,G[G.length-1]&-2147483648?-1:0)};function X(Y,M){return Y.add(oe(M))}t.j=function(Y){if(ne(this)||ne(Y))return I;if(le(this))return le(Y)?oe(this).j(oe(Y)):oe(oe(this).j(Y));if(le(Y))return oe(this.j(oe(Y)));if(0>this.l(J)&&0>Y.l(J))return _(this.m()*Y.m());for(var M=this.g.length+Y.g.length,G=[],z=0;z<2*M;z++)G[z]=0;for(z=0;z<this.g.length;z++)for(var K=0;K<Y.g.length;K++){var se=this.i(z)>>>16,ie=this.i(z)&65535,dt=Y.i(K)>>>16,Dt=Y.i(K)&65535;G[2*z+2*K]+=ie*Dt,O(G,2*z+2*K),G[2*z+2*K+1]+=se*Dt,O(G,2*z+2*K+1),G[2*z+2*K+1]+=ie*dt,O(G,2*z+2*K+1),G[2*z+2*K+2]+=se*dt,O(G,2*z+2*K+2)}for(z=0;z<M;z++)G[z]=G[2*z+1]<<16|G[2*z];for(z=M;z<2*M;z++)G[z]=0;return new u(G,0)};function O(Y,M){for(;(Y[M]&65535)!=Y[M];)Y[M+1]+=Y[M]>>>16,Y[M]&=65535,M++}function H(Y,M){this.g=Y,this.h=M}function te(Y,M){if(ne(M))throw Error("division by zero");if(ne(Y))return new H(I,I);if(le(Y))return M=te(oe(Y),M),new H(oe(M.g),oe(M.h));if(le(M))return M=te(Y,oe(M)),new H(oe(M.g),M.h);if(30<Y.g.length){if(le(Y)||le(M))throw Error("slowDivide_ only works with positive integers.");for(var G=U,z=M;0>=z.l(Y);)G=Te(G),z=Te(z);var K=ge(G,1),se=ge(z,1);for(z=ge(z,2),G=ge(G,2);!ne(z);){var ie=se.add(z);0>=ie.l(Y)&&(K=K.add(G),se=ie),z=ge(z,1),G=ge(G,1)}return M=X(Y,K.j(M)),new H(K,M)}for(K=I;0<=Y.l(M);){for(G=Math.max(1,Math.floor(Y.m()/M.m())),z=Math.ceil(Math.log(G)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),se=_(G),ie=se.j(M);le(ie)||0<ie.l(Y);)G-=z,se=_(G),ie=se.j(M);ne(se)&&(se=U),K=K.add(se),Y=X(Y,ie)}return new H(K,Y)}t.A=function(Y){return te(this,Y).h},t.and=function(Y){for(var M=Math.max(this.g.length,Y.g.length),G=[],z=0;z<M;z++)G[z]=this.i(z)&Y.i(z);return new u(G,this.h&Y.h)},t.or=function(Y){for(var M=Math.max(this.g.length,Y.g.length),G=[],z=0;z<M;z++)G[z]=this.i(z)|Y.i(z);return new u(G,this.h|Y.h)},t.xor=function(Y){for(var M=Math.max(this.g.length,Y.g.length),G=[],z=0;z<M;z++)G[z]=this.i(z)^Y.i(z);return new u(G,this.h^Y.h)};function Te(Y){for(var M=Y.g.length+1,G=[],z=0;z<M;z++)G[z]=Y.i(z)<<1|Y.i(z-1)>>>31;return new u(G,Y.h)}function ge(Y,M){var G=M>>5;M%=32;for(var z=Y.g.length-G,K=[],se=0;se<z;se++)K[se]=0<M?Y.i(se+G)>>>M|Y.i(se+G+1)<<32-M:Y.i(se+G);return new u(K,Y.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,qN=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=_,u.fromString=j,sc=u}).apply(typeof AT<"u"?AT:typeof self<"u"?self:typeof window<"u"?window:{});var tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $N,Sd,HN,Im,zb,WN,GN,KN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,N,B){return g==Array.prototype||g==Object.prototype||(g[N]=B.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof tm=="object"&&tm];for(var N=0;N<g.length;++N){var B=g[N];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var i=n(this);function s(g,N){if(N)e:{var B=i;g=g.split(".");for(var re=0;re<g.length-1;re++){var Oe=g[re];if(!(Oe in B))break e;B=B[Oe]}g=g[g.length-1],re=B[g],N=N(re),N!=re&&N!=null&&e(B,g,{configurable:!0,writable:!0,value:N})}}function a(g,N){g instanceof String&&(g+="");var B=0,re=!1,Oe={next:function(){if(!re&&B<g.length){var We=B++;return{value:N(We,g[We]),done:!1}}return re=!0,{done:!0,value:void 0}}};return Oe[Symbol.iterator]=function(){return Oe},Oe}s("Array.prototype.values",function(g){return g||function(){return a(this,function(N,B){return B})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},m=this||self;function x(g){var N=typeof g;return N=N!="object"?N:g?Array.isArray(g)?"array":N:"null",N=="array"||N=="object"&&typeof g.length=="number"}function _(g){var N=typeof g;return N=="object"&&g!=null||N=="function"}function j(g,N,B){return g.call.apply(g.bind,arguments)}function I(g,N,B){if(!g)throw Error();if(2<arguments.length){var re=Array.prototype.slice.call(arguments,2);return function(){var Oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Oe,re),g.apply(N,Oe)}}return function(){return g.apply(N,arguments)}}function U(g,N,B){return U=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?j:I,U.apply(null,arguments)}function J(g,N){var B=Array.prototype.slice.call(arguments,1);return function(){var re=B.slice();return re.push.apply(re,arguments),g.apply(this,re)}}function ne(g,N){function B(){}B.prototype=N.prototype,g.aa=N.prototype,g.prototype=new B,g.prototype.constructor=g,g.Qb=function(re,Oe,We){for(var It=Array(arguments.length-2),jn=2;jn<arguments.length;jn++)It[jn-2]=arguments[jn];return N.prototype[Oe].apply(re,It)}}function le(g){const N=g.length;if(0<N){const B=Array(N);for(let re=0;re<N;re++)B[re]=g[re];return B}return[]}function oe(g,N){for(let B=1;B<arguments.length;B++){const re=arguments[B];if(x(re)){const Oe=g.length||0,We=re.length||0;g.length=Oe+We;for(let It=0;It<We;It++)g[Oe+It]=re[It]}else g.push(re)}}class X{constructor(N,B){this.i=N,this.j=B,this.h=0,this.g=null}get(){let N;return 0<this.h?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function O(g){return/^[\s\xa0]*$/.test(g)}function H(){var g=m.navigator;return g&&(g=g.userAgent)?g:""}function te(g){return te[" "](g),g}te[" "]=function(){};var Te=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ge(g,N,B){for(const re in g)N.call(B,g[re],re,g)}function Y(g,N){for(const B in g)N.call(void 0,g[B],B,g)}function M(g){const N={};for(const B in g)N[B]=g[B];return N}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(g,N){let B,re;for(let Oe=1;Oe<arguments.length;Oe++){re=arguments[Oe];for(B in re)g[B]=re[B];for(let We=0;We<G.length;We++)B=G[We],Object.prototype.hasOwnProperty.call(re,B)&&(g[B]=re[B])}}function K(g){var N=1;g=g.split(":");const B=[];for(;0<N&&g.length;)B.push(g.shift()),N--;return g.length&&B.push(g.join(":")),B}function se(g){m.setTimeout(()=>{throw g},0)}function ie(){var g=Ke;let N=null;return g.g&&(N=g.g,g.g=g.g.next,g.g||(g.h=null),N.next=null),N}class dt{constructor(){this.h=this.g=null}add(N,B){const re=Dt.get();re.set(N,B),this.h?this.h.next=re:this.g=re,this.h=re}}var Dt=new X(()=>new Ge,g=>g.reset());class Ge{constructor(){this.next=this.g=this.h=null}set(N,B){this.h=N,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,Re=!1,Ke=new dt,ct=()=>{const g=m.Promise.resolve(void 0);ut=()=>{g.then(Et)}};var Et=()=>{for(var g;g=ie();){try{g.h.call(g.g)}catch(B){se(B)}var N=Dt;N.j(g),100>N.h&&(N.h++,g.next=N.g,N.g=g)}Re=!1};function wt(){this.s=this.s,this.C=this.C}wt.prototype.s=!1,wt.prototype.ma=function(){this.s||(this.s=!0,this.N())},wt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function vt(g,N){this.type=g,this.g=this.target=N,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var Ot=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var g=!1,N=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const B=()=>{};m.addEventListener("test",B,N),m.removeEventListener("test",B,N)}catch{}return g}();function ht(g,N){if(vt.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var B=this.type=g.type,re=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=N,N=g.relatedTarget){if(Te){e:{try{te(N.nodeName);var Oe=!0;break e}catch{}Oe=!1}Oe||(N=null)}}else B=="mouseover"?N=g.fromElement:B=="mouseout"&&(N=g.toElement);this.relatedTarget=N,re?(this.clientX=re.clientX!==void 0?re.clientX:re.pageX,this.clientY=re.clientY!==void 0?re.clientY:re.pageY,this.screenX=re.screenX||0,this.screenY=re.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Pt[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&ht.aa.h.call(this)}}ne(ht,vt);var Pt={2:"touch",3:"pen",4:"mouse"};ht.prototype.h=function(){ht.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var st="closure_listenable_"+(1e6*Math.random()|0),be=0;function ae(g,N,B,re,Oe){this.listener=g,this.proxy=null,this.src=N,this.type=B,this.capture=!!re,this.ha=Oe,this.key=++be,this.da=this.fa=!1}function ke(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function me(g){this.src=g,this.g={},this.h=0}me.prototype.add=function(g,N,B,re,Oe){var We=g.toString();g=this.g[We],g||(g=this.g[We]=[],this.h++);var It=Pe(g,N,re,Oe);return-1<It?(N=g[It],B||(N.fa=!1)):(N=new ae(N,this.src,We,!!re,Oe),N.fa=B,g.push(N)),N};function Ye(g,N){var B=N.type;if(B in g.g){var re=g.g[B],Oe=Array.prototype.indexOf.call(re,N,void 0),We;(We=0<=Oe)&&Array.prototype.splice.call(re,Oe,1),We&&(ke(N),g.g[B].length==0&&(delete g.g[B],g.h--))}}function Pe(g,N,B,re){for(var Oe=0;Oe<g.length;++Oe){var We=g[Oe];if(!We.da&&We.listener==N&&We.capture==!!B&&We.ha==re)return Oe}return-1}var ze="closure_lm_"+(1e6*Math.random()|0),we={};function yt(g,N,B,re,Oe){if(Array.isArray(N)){for(var We=0;We<N.length;We++)yt(g,N[We],B,re,Oe);return null}return B=Fe(B),g&&g[st]?g.K(N,B,_(re)?!!re.capture:!1,Oe):xt(g,N,B,!1,re,Oe)}function xt(g,N,B,re,Oe,We){if(!N)throw Error("Invalid event type");var It=_(Oe)?!!Oe.capture:!!Oe,jn=Se(g);if(jn||(g[ze]=jn=new me(g)),B=jn.add(N,B,re,It,We),B.proxy)return B;if(re=Tt(),B.proxy=re,re.src=g,re.listener=B,g.addEventListener)Ot||(Oe=It),Oe===void 0&&(Oe=!1),g.addEventListener(N.toString(),re,Oe);else if(g.attachEvent)g.attachEvent(De(N.toString()),re);else if(g.addListener&&g.removeListener)g.addListener(re);else throw Error("addEventListener and attachEvent are unavailable.");return B}function Tt(){function g(B){return N.call(g.src,g.listener,B)}const N=_e;return g}function Ct(g,N,B,re,Oe){if(Array.isArray(N))for(var We=0;We<N.length;We++)Ct(g,N[We],B,re,Oe);else re=_(re)?!!re.capture:!!re,B=Fe(B),g&&g[st]?(g=g.i,N=String(N).toString(),N in g.g&&(We=g.g[N],B=Pe(We,B,re,Oe),-1<B&&(ke(We[B]),Array.prototype.splice.call(We,B,1),We.length==0&&(delete g.g[N],g.h--)))):g&&(g=Se(g))&&(N=g.g[N.toString()],g=-1,N&&(g=Pe(N,B,re,Oe)),(B=-1<g?N[g]:null)&&pt(B))}function pt(g){if(typeof g!="number"&&g&&!g.da){var N=g.src;if(N&&N[st])Ye(N.i,g);else{var B=g.type,re=g.proxy;N.removeEventListener?N.removeEventListener(B,re,g.capture):N.detachEvent?N.detachEvent(De(B),re):N.addListener&&N.removeListener&&N.removeListener(re),(B=Se(N))?(Ye(B,g),B.h==0&&(B.src=null,N[ze]=null)):ke(g)}}}function De(g){return g in we?we[g]:we[g]="on"+g}function _e(g,N){if(g.da)g=!0;else{N=new ht(N,this);var B=g.listener,re=g.ha||g.src;g.fa&&pt(g),g=B.call(re,N)}return g}function Se(g){return g=g[ze],g instanceof me?g:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fe(g){return typeof g=="function"?g:(g[ue]||(g[ue]=function(N){return g.handleEvent(N)}),g[ue])}function de(){wt.call(this),this.i=new me(this),this.M=this,this.F=null}ne(de,wt),de.prototype[st]=!0,de.prototype.removeEventListener=function(g,N,B,re){Ct(this,g,N,B,re)};function ye(g,N){var B,re=g.F;if(re)for(B=[];re;re=re.F)B.push(re);if(g=g.M,re=N.type||N,typeof N=="string")N=new vt(N,g);else if(N instanceof vt)N.target=N.target||g;else{var Oe=N;N=new vt(re,g),z(N,Oe)}if(Oe=!0,B)for(var We=B.length-1;0<=We;We--){var It=N.g=B[We];Oe=je(It,re,!0,N)&&Oe}if(It=N.g=g,Oe=je(It,re,!0,N)&&Oe,Oe=je(It,re,!1,N)&&Oe,B)for(We=0;We<B.length;We++)It=N.g=B[We],Oe=je(It,re,!1,N)&&Oe}de.prototype.N=function(){if(de.aa.N.call(this),this.i){var g=this.i,N;for(N in g.g){for(var B=g.g[N],re=0;re<B.length;re++)ke(B[re]);delete g.g[N],g.h--}}this.F=null},de.prototype.K=function(g,N,B,re){return this.i.add(String(g),N,!1,B,re)},de.prototype.L=function(g,N,B,re){return this.i.add(String(g),N,!0,B,re)};function je(g,N,B,re){if(N=g.i.g[String(N)],!N)return!0;N=N.concat();for(var Oe=!0,We=0;We<N.length;++We){var It=N[We];if(It&&!It.da&&It.capture==B){var jn=It.listener,Yn=It.ha||It.src;It.fa&&Ye(g.i,It),Oe=jn.call(Yn,re)!==!1&&Oe}}return Oe&&!re.defaultPrevented}function Ze(g,N,B){if(typeof g=="function")B&&(g=U(g,B));else if(g&&typeof g.handleEvent=="function")g=U(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(N)?-1:m.setTimeout(g,N||0)}function nt(g){g.g=Ze(()=>{g.g=null,g.i&&(g.i=!1,nt(g))},g.l);const N=g.h;g.h=null,g.m.apply(null,N)}class Ht extends wt{constructor(N,B){super(),this.m=N,this.l=B,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:nt(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bt(g){wt.call(this),this.h=g,this.g={}}ne(Bt,wt);var at=[];function rt(g){ge(g.g,function(N,B){this.g.hasOwnProperty(B)&&pt(N)},g),g.g={}}Bt.prototype.N=function(){Bt.aa.N.call(this),rt(this)},Bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=m.JSON.stringify,Ne=m.JSON.parse,Be=class{stringify(g){return m.JSON.stringify(g,void 0)}parse(g){return m.JSON.parse(g,void 0)}};function Me(){}Me.prototype.h=null;function Ue(g){return g.h||(g.h=g.i())}function He(){}var ft={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mt(){vt.call(this,"d")}ne(Mt,vt);function Nt(){vt.call(this,"c")}ne(Nt,vt);var Vt={},Qt=null;function tt(){return Qt=Qt||new de}Vt.La="serverreachability";function Ut(g){vt.call(this,Vt.La,g)}ne(Ut,vt);function Jt(g){const N=tt();ye(N,new Ut(N))}Vt.STAT_EVENT="statevent";function Lt(g,N){vt.call(this,Vt.STAT_EVENT,g),this.stat=N}ne(Lt,vt);function en(g){const N=tt();ye(N,new Lt(N,g))}Vt.Ma="timingevent";function rn(g,N){vt.call(this,Vt.Ma,g),this.size=N}ne(rn,vt);function gn(g,N){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){g()},N)}function hn(){this.g=!0}hn.prototype.xa=function(){this.g=!1};function Rn(g,N,B,re,Oe,We){g.info(function(){if(g.g)if(We)for(var It="",jn=We.split("&"),Yn=0;Yn<jn.length;Yn++){var Tn=jn[Yn].split("=");if(1<Tn.length){var Wn=Tn[0];Tn=Tn[1];var vi=Wn.split("_");It=2<=vi.length&&vi[1]=="type"?It+(Wn+"="+Tn+"&"):It+(Wn+"=redacted&")}}else It=null;else It=We;return"XMLHTTP REQ ("+re+") [attempt "+Oe+"]: "+N+`
`+B+`
`+It})}function vn(g,N,B,re,Oe,We,It){g.info(function(){return"XMLHTTP RESP ("+re+") [ attempt "+Oe+"]: "+N+`
`+B+`
`+We+" "+It})}function Kn(g,N,B,re){g.info(function(){return"XMLHTTP TEXT ("+N+"): "+ar(g,B)+(re?" "+re:"")})}function ji(g,N){g.info(function(){return"TIMEOUT: "+N})}hn.prototype.info=function(){};function ar(g,N){if(!g.g)return N;if(!N)return null;try{var B=JSON.parse(N);if(B){for(g=0;g<B.length;g++)if(Array.isArray(B[g])){var re=B[g];if(!(2>re.length)){var Oe=re[1];if(Array.isArray(Oe)&&!(1>Oe.length)){var We=Oe[0];if(We!="noop"&&We!="stop"&&We!="close")for(var It=1;It<Oe.length;It++)Oe[It]=""}}}}return he(B)}catch{return N}}var Pn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ie;function qe(){}ne(qe,Me),qe.prototype.g=function(){return new XMLHttpRequest},qe.prototype.i=function(){return{}},Ie=new qe;function Je(g,N,B,re){this.j=g,this.i=N,this.l=B,this.R=re||1,this.U=new Bt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}var St={},ot={};function ai(g,N,B){g.L=1,g.v=wi(lr(N)),g.m=B,g.P=!0,ii(g,null)}function ii(g,N){g.F=Date.now(),Ts(g),g.A=lr(g.v);var B=g.A,re=g.R;Array.isArray(re)||(re=[String(re)]),Cs(B.i,"t",re),g.C=0,B=g.j.J,g.h=new gt,g.g=ba(g.j,B?N:null,!g.m),0<g.O&&(g.M=new Ht(U(g.Y,g,g.g),g.O)),N=g.U,B=g.g,re=g.ca;var Oe="readystatechange";Array.isArray(Oe)||(Oe&&(at[0]=Oe.toString()),Oe=at);for(var We=0;We<Oe.length;We++){var It=yt(B,Oe[We],re||N.handleEvent,!1,N.h||N);if(!It)break;N.g[It.key]=It}N=g.H?M(g.H):{},g.m?(g.u||(g.u="POST"),N["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,N)):(g.u="GET",g.g.ea(g.A,g.u,null,N)),Jt(),Rn(g.i,g.u,g.A,g.l,g.R,g.m)}Je.prototype.ca=function(g){g=g.target;const N=this.M;N&&Hr(g)==3?N.j():this.Y(g)},Je.prototype.Y=function(g){try{if(g==this.g)e:{const vi=Hr(this.g);var N=this.g.Ba();const Yr=this.g.Z();if(!(3>vi)&&(vi!=3||this.g&&(this.h.h||this.g.oa()||Bc(this.g)))){this.J||vi!=4||N==7||(N==8||0>=Yr?Jt(3):Jt(2)),Co(this);var B=this.g.Z();this.X=B;t:if(Gi(this)){var re=Bc(this.g);g="";var Oe=re.length,We=Hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zr(this),Xs(this);var It="";break t}this.h.i=new m.TextDecoder}for(N=0;N<Oe;N++)this.h.h=!0,g+=this.h.i.decode(re[N],{stream:!(We&&N==Oe-1)});re.length=0,this.h.g+=g,this.C=0,It=this.h.g}else It=this.g.oa();if(this.o=B==200,vn(this.i,this.u,this.A,this.l,this.R,vi,B),this.o){if(this.T&&!this.K){t:{if(this.g){var jn,Yn=this.g;if((jn=Yn.g?Yn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(jn)){var Tn=jn;break t}}Tn=null}if(B=Tn)Kn(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,So(this,B);else{this.o=!1,this.s=3,en(12),zr(this),Xs(this);break e}}if(this.P){B=!0;let Pi;for(;!this.J&&this.C<It.length;)if(Pi=Ii(this,It),Pi==ot){vi==4&&(this.s=4,en(14),B=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(Pi==St){this.s=4,en(15),Kn(this.i,this.l,It,"[Invalid Chunk]"),B=!1;break}else Kn(this.i,this.l,Pi,null),So(this,Pi);if(Gi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vi!=4||It.length!=0||this.h.h||(this.s=1,en(16),B=!1),this.o=this.o&&B,!B)Kn(this.i,this.l,It,"[Invalid Chunked Response]"),zr(this),Xs(this);else if(0<It.length&&!this.W){this.W=!0;var Wn=this.j;Wn.g==this&&Wn.ba&&!Wn.M&&(Wn.j.info("Great, no buffering proxy detected. Bytes received: "+It.length),Gr(Wn),Wn.M=!0,en(11))}}else Kn(this.i,this.l,It,null),So(this,It);vi==4&&zr(this),this.o&&!this.J&&(vi==4?xa(this.j,this):(this.o=!1,Ts(this)))}else Vc(this.g),B==400&&0<It.indexOf("Unknown SID")?(this.s=3,en(12)):(this.s=0,en(13)),zr(this),Xs(this)}}}catch{}finally{}};function Gi(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Ii(g,N){var B=g.C,re=N.indexOf(`
`,B);return re==-1?ot:(B=Number(N.substring(B,re)),isNaN(B)?St:(re+=1,re+B>N.length?ot:(N=N.slice(re,re+B),g.C=re+B,N)))}Je.prototype.cancel=function(){this.J=!0,zr(this)};function Ts(g){g.S=Date.now()+g.I,aa(g,g.I)}function aa(g,N){if(g.B!=null)throw Error("WatchDog timer not null");g.B=gn(U(g.ba,g),N)}function Co(g){g.B&&(m.clearTimeout(g.B),g.B=null)}Je.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(ji(this.i,this.A),this.L!=2&&(Jt(),en(17)),zr(this),this.s=2,Xs(this)):aa(this,this.S-g)};function Xs(g){g.j.G==0||g.J||xa(g.j,g)}function zr(g){Co(g);var N=g.M;N&&typeof N.ma=="function"&&N.ma(),g.M=null,rt(g.U),g.g&&(N=g.g,g.g=null,N.abort(),N.ma())}function So(g,N){try{var B=g.j;if(B.G!=0&&(B.g==g||ca(B.h,g))){if(!g.K&&ca(B.h,g)&&B.G==3){try{var re=B.Da.g.parse(N)}catch{re=null}if(Array.isArray(re)&&re.length==3){var Oe=re;if(Oe[0]==0){e:if(!B.u){if(B.g)if(B.g.F+3e3<g.F)jo(B),ga(B);else break e;Ml(B),en(18)}}else B.za=Oe[1],0<B.za-B.T&&37500>Oe[2]&&B.F&&B.v==0&&!B.C&&(B.C=gn(U(B.Za,B),6e3));if(1>=El(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else hr(B,11)}else if((g.K||B.g==g)&&jo(B),!O(N))for(Oe=B.Da.g.parse(N),N=0;N<Oe.length;N++){let Tn=Oe[N];if(B.T=Tn[0],Tn=Tn[1],B.G==2)if(Tn[0]=="c"){B.K=Tn[1],B.ia=Tn[2];const Wn=Tn[3];Wn!=null&&(B.la=Wn,B.j.info("VER="+B.la));const vi=Tn[4];vi!=null&&(B.Aa=vi,B.j.info("SVER="+B.Aa));const Yr=Tn[5];Yr!=null&&typeof Yr=="number"&&0<Yr&&(re=1.5*Yr,B.L=re,B.j.info("backChannelRequestTimeoutMs_="+re)),re=B;const Pi=g.g;if(Pi){const Po=Pi.g?Pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Po){var We=re.h;We.g||Po.indexOf("spdy")==-1&&Po.indexOf("quic")==-1&&Po.indexOf("h2")==-1||(We.j=We.l,We.g=new Set,We.h&&(kl(We,We.h),We.h=null))}if(re.D){const Xi=Pi.g?Pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Xi&&(re.ya=Xi,Bn(re.I,re.D,Xi))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-g.F,B.j.info("Handshake RTT: "+B.R+"ms")),re=B;var It=g;if(re.qa=Dl(re,re.J?re.ia:null,re.W),It.K){Ic(re.h,It);var jn=It,Yn=re.L;Yn&&(jn.I=Yn),jn.B&&(Co(jn),Ts(jn)),re.g=It}else Pl(re);0<B.i.length&&cs(B)}else Tn[0]!="stop"&&Tn[0]!="close"||hr(B,7);else B.G==3&&(Tn[0]=="stop"||Tn[0]=="close"?Tn[0]=="stop"?hr(B,7):ma(B):Tn[0]!="noop"&&B.l&&B.l.ta(Tn),B.v=0)}}Jt(4)}catch{}}var la=class{constructor(g,N){this.g=g,this.map=N}};function jc(g){this.l=g||10,m.PerformanceNavigationTiming?(g=m.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vn(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function El(g){return g.h?1:g.g?g.g.size:0}function ca(g,N){return g.h?g.h==N:g.g?g.g.has(N):!1}function kl(g,N){g.g?g.g.add(N):g.h=N}function Ic(g,N){g.h&&g.h==N?g.h=null:g.g&&g.g.has(N)&&g.g.delete(N)}jc.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Tl(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let N=g.i;for(const B of g.g.values())N=N.concat(B.D);return N}return le(g.i)}function xh(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(x(g)){for(var N=[],B=g.length,re=0;re<B;re++)N.push(g[re]);return N}N=[],B=0;for(re in g)N[B++]=g[re];return N}function Pc(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(x(g)||typeof g=="string"){var N=[];g=g.length;for(var B=0;B<g;B++)N.push(B);return N}N=[],B=0;for(const re in g)N[B++]=re;return N}}}function ua(g,N){if(g.forEach&&typeof g.forEach=="function")g.forEach(N,void 0);else if(x(g)||typeof g=="string")Array.prototype.forEach.call(g,N,void 0);else for(var B=Pc(g),re=xh(g),Oe=re.length,We=0;We<Oe;We++)N.call(void 0,re[We],B&&B[We],g)}var ha=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cl(g,N){if(g){g=g.split("&");for(var B=0;B<g.length;B++){var re=g[B].indexOf("="),Oe=null;if(0<=re){var We=g[B].substring(0,re);Oe=g[B].substring(re+1)}else We=g[B];N(We,Oe?decodeURIComponent(Oe.replace(/\+/g," ")):"")}}}function os(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof os){this.h=g.h,Qs(this,g.j),this.o=g.o,this.g=g.g,Js(this,g.s),this.l=g.l;var N=g.i,B=new Zs;B.i=N.i,N.g&&(B.g=new Map(N.g),B.h=N.h),Ar(this,B),this.m=g.m}else g&&(N=String(g).match(ha))?(this.h=!1,Qs(this,N[1]||"",!0),this.o=qr(N[2]||""),this.g=qr(N[3]||"",!0),Js(this,N[4]),this.l=qr(N[5]||"",!0),Ar(this,N[6]||"",!0),this.m=qr(N[7]||"")):(this.h=!1,this.i=new Zs(null,this.h))}os.prototype.toString=function(){var g=[],N=this.j;N&&g.push(Ao(N,Mc,!0),":");var B=this.g;return(B||N=="file")&&(g.push("//"),(N=this.o)&&g.push(Ao(N,Mc,!0),"@"),g.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&g.push(":",String(B))),(B=this.l)&&(this.g&&B.charAt(0)!="/"&&g.push("/"),g.push(Ao(B,B.charAt(0)=="/"?da:Sl,!0))),(B=this.i.toString())&&g.push("?",B),(B=this.m)&&g.push("#",Ao(B,_h)),g.join("")};function lr(g){return new os(g)}function Qs(g,N,B){g.j=B?qr(N,!0):N,g.j&&(g.j=g.j.replace(/:$/,""))}function Js(g,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);g.s=N}else g.s=null}function Ar(g,N,B){N instanceof Zs?(g.i=N,Rc(g.i,g.h)):(B||(N=Ao(N,wh)),g.i=new Zs(N,g.h))}function Bn(g,N,B){g.i.set(N,B)}function wi(g){return Bn(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function qr(g,N){return g?N?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Ao(g,N,B){return typeof g=="string"?(g=encodeURI(g).replace(N,bh),B&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function bh(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Mc=/[#\/\?@]/g,Sl=/[#\?:]/g,da=/[#\?]/g,wh=/[#\?@]/g,_h=/#/g;function Zs(g,N){this.h=this.g=null,this.i=g||null,this.j=!!N}function $r(g){g.g||(g.g=new Map,g.h=0,g.i&&Cl(g.i,function(N,B){g.add(decodeURIComponent(N.replace(/\+/g," ")),B)}))}t=Zs.prototype,t.add=function(g,N){$r(this),this.i=null,g=Ss(this,g);var B=this.g.get(g);return B||this.g.set(g,B=[]),B.push(N),this.h+=1,this};function as(g,N){$r(g),N=Ss(g,N),g.g.has(N)&&(g.i=null,g.h-=g.g.get(N).length,g.g.delete(N))}function Al(g,N){return $r(g),N=Ss(g,N),g.g.has(N)}t.forEach=function(g,N){$r(this),this.g.forEach(function(B,re){B.forEach(function(Oe){g.call(N,Oe,re,this)},this)},this)},t.na=function(){$r(this);const g=Array.from(this.g.values()),N=Array.from(this.g.keys()),B=[];for(let re=0;re<N.length;re++){const Oe=g[re];for(let We=0;We<Oe.length;We++)B.push(N[re])}return B},t.V=function(g){$r(this);let N=[];if(typeof g=="string")Al(this,g)&&(N=N.concat(this.g.get(Ss(this,g))));else{g=Array.from(this.g.values());for(let B=0;B<g.length;B++)N=N.concat(g[B])}return N},t.set=function(g,N){return $r(this),this.i=null,g=Ss(this,g),Al(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[N]),this.h+=1,this},t.get=function(g,N){return g?(g=this.V(g),0<g.length?String(g[0]):N):N};function Cs(g,N,B){as(g,N),0<B.length&&(g.i=null,g.g.set(Ss(g,N),le(B)),g.h+=B.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],N=Array.from(this.g.keys());for(var B=0;B<N.length;B++){var re=N[B];const We=encodeURIComponent(String(re)),It=this.V(re);for(re=0;re<It.length;re++){var Oe=We;It[re]!==""&&(Oe+="="+encodeURIComponent(String(It[re]))),g.push(Oe)}}return this.i=g.join("&")};function Ss(g,N){return N=String(N),g.j&&(N=N.toLowerCase()),N}function Rc(g,N){N&&!g.j&&($r(g),g.i=null,g.g.forEach(function(B,re){var Oe=re.toLowerCase();re!=Oe&&(as(this,re),Cs(this,Oe,B))},g)),g.j=N}function Eh(g,N){const B=new hn;if(m.Image){const re=new Image;re.onload=J(Nr,B,"TestLoadImage: loaded",!0,N,re),re.onerror=J(Nr,B,"TestLoadImage: error",!1,N,re),re.onabort=J(Nr,B,"TestLoadImage: abort",!1,N,re),re.ontimeout=J(Nr,B,"TestLoadImage: timeout",!1,N,re),m.setTimeout(function(){re.ontimeout&&re.ontimeout()},1e4),re.src=g}else N(!1)}function Nl(g,N){const B=new hn,re=new AbortController,Oe=setTimeout(()=>{re.abort(),Nr(B,"TestPingServer: timeout",!1,N)},1e4);fetch(g,{signal:re.signal}).then(We=>{clearTimeout(Oe),We.ok?Nr(B,"TestPingServer: ok",!0,N):Nr(B,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(Oe),Nr(B,"TestPingServer: error",!1,N)})}function Nr(g,N,B,re,Oe){try{Oe&&(Oe.onload=null,Oe.onerror=null,Oe.onabort=null,Oe.ontimeout=null),re(B)}catch{}}function pa(){this.g=new Be}function Dc(g,N,B){const re=B||"";try{ua(g,function(Oe,We){let It=Oe;_(Oe)&&(It=he(Oe)),N.push(re+We+"="+encodeURIComponent(It))})}catch(Oe){throw N.push(re+"type="+encodeURIComponent("_badmap")),Oe}}function Ki(g){this.l=g.Ub||null,this.j=g.eb||!1}ne(Ki,Me),Ki.prototype.g=function(){return new No(this.l,this.j)},Ki.prototype.i=function(g){return function(){return g}}({});function No(g,N){de.call(this),this.D=g,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}ne(No,de),t=No.prototype,t.open=function(g,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=N,this.readyState=1,Ns(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const N={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(N.body=g),(this.D||m).fetch(new Request(this.A,N)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ns(this)),this.g&&(this.readyState=3,Ns(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eo(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function eo(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var N=g.value?g.value:new Uint8Array(0);(N=this.v.decode(N,{stream:!g.done}))&&(this.response=this.responseText+=N)}g.done?As(this):Ns(this),this.readyState==3&&eo(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,As(this))},t.Qa=function(g){this.g&&(this.response=g,As(this))},t.ga=function(){this.g&&As(this)};function As(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Ns(g)}t.setRequestHeader=function(g,N){this.u.append(g,N)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],N=this.h.entries();for(var B=N.next();!B.done;)B=B.value,g.push(B[0]+": "+B[1]),B=N.next();return g.join(`\r
`)};function Ns(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(No.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Oc(g){let N="";return ge(g,function(B,re){N+=re,N+=":",N+=B,N+=`\r
`}),N}function jl(g,N,B){e:{for(re in B){var re=!1;break e}re=!0}re||(B=Oc(B),typeof g=="string"?B!=null&&encodeURIComponent(String(B)):Bn(g,N,B))}function Zn(g){de.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}ne(Zn,de);var kh=/^https?$/i,Lc=["POST","PUT"];t=Zn.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,N,B,re){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);N=N?N.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ie.g(),this.v=this.o?Ue(this.o):Ue(Ie),this.g.onreadystatechange=U(this.Ea,this);try{this.B=!0,this.g.open(N,String(g),!0),this.B=!1}catch(We){fa(this,We);return}if(g=B||"",B=new Map(this.headers),re)if(Object.getPrototypeOf(re)===Object.prototype)for(var Oe in re)B.set(Oe,re[Oe]);else if(typeof re.keys=="function"&&typeof re.get=="function")for(const We of re.keys())B.set(We,re.get(We));else throw Error("Unknown input type for opt_headers: "+String(re));re=Array.from(B.keys()).find(We=>We.toLowerCase()=="content-type"),Oe=m.FormData&&g instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Lc,N,void 0))||re||Oe||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[We,It]of B)this.g.setRequestHeader(We,It);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fc(this),this.u=!0,this.g.send(g),this.u=!1}catch(We){fa(this,We)}};function fa(g,N){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=N,g.m=5,js(g),ls(g)}function js(g){g.A||(g.A=!0,ye(g,"complete"),ye(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,ye(this,"complete"),ye(this,"abort"),ls(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),Zn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?jr(this):this.bb())},t.bb=function(){jr(this)};function jr(g){if(g.h&&typeof u<"u"&&(!g.v[1]||Hr(g)!=4||g.Z()!=2)){if(g.u&&Hr(g)==4)Ze(g.Ea,0,g);else if(ye(g,"readystatechange"),Hr(g)==4){g.h=!1;try{const It=g.Z();e:switch(It){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var B;if(!(B=N)){var re;if(re=It===0){var Oe=String(g.D).match(ha)[1]||null;!Oe&&m.self&&m.self.location&&(Oe=m.self.location.protocol.slice(0,-1)),re=!kh.test(Oe?Oe.toLowerCase():"")}B=re}if(B)ye(g,"complete"),ye(g,"success");else{g.m=6;try{var We=2<Hr(g)?g.g.statusText:""}catch{We=""}g.l=We+" ["+g.Z()+"]",js(g)}}finally{ls(g)}}}}function ls(g,N){if(g.g){Fc(g);const B=g.g,re=g.v[0]?()=>{}:null;g.g=null,g.v=null,N||ye(g,"ready");try{B.onreadystatechange=re}catch{}}}function Fc(g){g.I&&(m.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function Hr(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<Hr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var N=this.g.responseText;return g&&N.indexOf(g)==0&&(N=N.substring(g.length)),Ne(N)}};function Bc(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Vc(g){const N={};g=(g.g&&2<=Hr(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let re=0;re<g.length;re++){if(O(g[re]))continue;var B=K(g[re]);const Oe=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const We=N[Oe]||[];N[Oe]=We,We.push(B)}Y(N,function(re){return re.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hn(g,N,B){return B&&B.internalChannelParams&&B.internalChannelParams[g]||N}function cr(g){this.Aa=0,this.i=[],this.j=new hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hn("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hn("baseRetryDelayMs",5e3,g),this.cb=Hn("retryDelaySeedMs",1e4,g),this.Wa=Hn("forwardChannelMaxRetries",2,g),this.wa=Hn("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new jc(g&&g.concurrentRequestLimit),this.Da=new pa,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=cr.prototype,t.la=8,t.G=1,t.connect=function(g,N,B,re){en(0),this.W=g,this.H=N||{},B&&re!==void 0&&(this.H.OSID=B,this.H.OAID=re),this.F=this.X,this.I=Dl(this,null,this.W),cs(this)};function ma(g){if(Il(g),g.G==3){var N=g.U++,B=lr(g.I);if(Bn(B,"SID",g.K),Bn(B,"RID",N),Bn(B,"TYPE","terminate"),ur(g,B),N=new Je(g,g.j,N),N.L=2,N.v=wi(lr(B)),B=!1,m.navigator&&m.navigator.sendBeacon)try{B=m.navigator.sendBeacon(N.v.toString(),"")}catch{}!B&&m.Image&&(new Image().src=N.v,B=!0),B||(N.g=ba(N.j,null),N.g.ea(N.v)),N.F=Date.now(),Ts(N)}Rl(g)}function ga(g){g.g&&(Gr(g),g.g.cancel(),g.g=null)}function Il(g){ga(g),g.u&&(m.clearTimeout(g.u),g.u=null),jo(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&m.clearTimeout(g.s),g.s=null)}function cs(g){if(!Vn(g.h)&&!g.s){g.s=!0;var N=g.Ga;ut||ct(),Re||(ut(),Re=!0),Ke.add(N,g),g.B=0}}function ya(g,N){return El(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=N.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=gn(U(g.Ga,g,N),Kr(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Oe=new Je(this,this.j,g);let We=this.o;if(this.S&&(We?(We=M(We),z(We,this.S)):We=this.S),this.m!==null||this.O||(Oe.H=We,We=null),this.P)e:{for(var N=0,B=0;B<this.i.length;B++){t:{var re=this.i[B];if("__data__"in re.map&&(re=re.map.__data__,typeof re=="string")){re=re.length;break t}re=void 0}if(re===void 0)break;if(N+=re,4096<N){N=B;break e}if(N===4096||B===this.i.length-1){N=B+1;break e}}N=1e3}else N=1e3;N=Wr(this,Oe,N),B=lr(this.I),Bn(B,"RID",g),Bn(B,"CVER",22),this.D&&Bn(B,"X-HTTP-Session-Id",this.D),ur(this,B),We&&(this.O?N="headers="+encodeURIComponent(String(Oc(We)))+"&"+N:this.m&&jl(B,this.m,We)),kl(this.h,Oe),this.Ua&&Bn(B,"TYPE","init"),this.P?(Bn(B,"$req",N),Bn(B,"SID","null"),Oe.T=!0,ai(Oe,B,null)):ai(Oe,B,N),this.G=2}}else this.G==3&&(g?to(this,g):this.i.length==0||Vn(this.h)||to(this))};function to(g,N){var B;N?B=N.l:B=g.U++;const re=lr(g.I);Bn(re,"SID",g.K),Bn(re,"RID",B),Bn(re,"AID",g.T),ur(g,re),g.m&&g.o&&jl(re,g.m,g.o),B=new Je(g,g.j,B,g.B+1),g.m===null&&(B.H=g.o),N&&(g.i=N.D.concat(g.i)),N=Wr(g,B,1e3),B.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),kl(g.h,B),ai(B,re,N)}function ur(g,N){g.H&&ge(g.H,function(B,re){Bn(N,re,B)}),g.l&&ua({},function(B,re){Bn(N,re,B)})}function Wr(g,N,B){B=Math.min(g.i.length,B);var re=g.l?U(g.l.Na,g.l,g):null;e:{var Oe=g.i;let We=-1;for(;;){const It=["count="+B];We==-1?0<B?(We=Oe[0].g,It.push("ofs="+We)):We=0:It.push("ofs="+We);let jn=!0;for(let Yn=0;Yn<B;Yn++){let Tn=Oe[Yn].g;const Wn=Oe[Yn].map;if(Tn-=We,0>Tn)We=Math.max(0,Oe[Yn].g-100),jn=!1;else try{Dc(Wn,It,"req"+Tn+"_")}catch{re&&re(Wn)}}if(jn){re=It.join("&");break e}}}return g=g.i.splice(0,B),N.D=g,re}function Pl(g){if(!g.g&&!g.u){g.Y=1;var N=g.Fa;ut||ct(),Re||(ut(),Re=!0),Ke.add(N,g),g.v=0}}function Ml(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=gn(U(g.Fa,g),Kr(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,va(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=gn(U(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,en(10),ga(this),va(this))};function Gr(g){g.A!=null&&(m.clearTimeout(g.A),g.A=null)}function va(g){g.g=new Je(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var N=lr(g.qa);Bn(N,"RID","rpc"),Bn(N,"SID",g.K),Bn(N,"AID",g.T),Bn(N,"CI",g.F?"0":"1"),!g.F&&g.ja&&Bn(N,"TO",g.ja),Bn(N,"TYPE","xmlhttp"),ur(g,N),g.m&&g.o&&jl(N,g.m,g.o),g.L&&(g.g.I=g.L);var B=g.g;g=g.ia,B.L=1,B.v=wi(lr(N)),B.m=null,B.P=!0,ii(B,g)}t.Za=function(){this.C!=null&&(this.C=null,ga(this),Ml(this),en(19))};function jo(g){g.C!=null&&(m.clearTimeout(g.C),g.C=null)}function xa(g,N){var B=null;if(g.g==N){jo(g),Gr(g),g.g=null;var re=2}else if(ca(g.h,N))B=N.D,Ic(g.h,N),re=1;else return;if(g.G!=0){if(N.o)if(re==1){B=N.m?N.m.length:0,N=Date.now()-N.F;var Oe=g.B;re=tt(),ye(re,new rn(re,B)),cs(g)}else Pl(g);else if(Oe=N.s,Oe==3||Oe==0&&0<N.X||!(re==1&&ya(g,N)||re==2&&Ml(g)))switch(B&&0<B.length&&(N=g.h,N.i=N.i.concat(B)),Oe){case 1:hr(g,5);break;case 4:hr(g,10);break;case 3:hr(g,6);break;default:hr(g,2)}}}function Kr(g,N){let B=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(B*=2),B*N}function hr(g,N){if(g.j.info("Error code "+N),N==2){var B=U(g.fb,g),re=g.Xa;const Oe=!re;re=new os(re||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Qs(re,"https"),wi(re),Oe?Eh(re.toString(),B):Nl(re.toString(),B)}else en(2);g.G=0,g.l&&g.l.sa(N),Rl(g),Il(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function Rl(g){if(g.G=0,g.ka=[],g.l){const N=Tl(g.h);(N.length!=0||g.i.length!=0)&&(oe(g.ka,N),oe(g.ka,g.i),g.h.i.length=0,le(g.i),g.i.length=0),g.l.ra()}}function Dl(g,N,B){var re=B instanceof os?lr(B):new os(B);if(re.g!="")N&&(re.g=N+"."+re.g),Js(re,re.s);else{var Oe=m.location;re=Oe.protocol,N=N?N+"."+Oe.hostname:Oe.hostname,Oe=+Oe.port;var We=new os(null);re&&Qs(We,re),N&&(We.g=N),Oe&&Js(We,Oe),B&&(We.l=B),re=We}return B=g.D,N=g.ya,B&&N&&Bn(re,B,N),Bn(re,"VER",g.la),ur(g,re),re}function ba(g,N,B){if(N&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return N=g.Ca&&!g.pa?new Zn(new Ki({eb:B})):new Zn(g.pa),N.Ha(g.J),N}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function no(){}t=no.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Io(){}Io.prototype.g=function(g,N){return new _i(g,N)};function _i(g,N){de.call(this),this.g=new cr(N),this.l=g,this.h=N&&N.messageUrlParams||null,g=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(g?g["X-WebChannel-Content-Type"]=N.messageContentType:g={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.va&&(g?g["X-WebChannel-Client-Profile"]=N.va:g={"X-WebChannel-Client-Profile":N.va}),this.g.S=g,(g=N&&N.Sb)&&!O(g)&&(this.g.m=g),this.v=N&&N.supportsCrossDomainXhr||!1,this.u=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!O(N)&&(this.g.D=N,g=this.h,g!==null&&N in g&&(g=this.h,N in g&&delete g[N])),this.j=new Yi(this)}ne(_i,de),_i.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_i.prototype.close=function(){ma(this.g)},_i.prototype.o=function(g){var N=this.g;if(typeof g=="string"){var B={};B.__data__=g,g=B}else this.u&&(B={},B.__data__=he(g),g=B);N.i.push(new la(N.Ya++,g)),N.G==3&&cs(N)},_i.prototype.N=function(){this.g.l=null,delete this.j,ma(this.g),delete this.g,_i.aa.N.call(this)};function Uc(g){Mt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var N=g.__sm__;if(N){e:{for(const B in N){g=B;break e}g=void 0}(this.i=g)&&(g=this.i,N=N!==null&&g in N?N[g]:void 0),this.data=N}else this.data=g}ne(Uc,Mt);function zc(){Nt.call(this),this.status=1}ne(zc,Nt);function Yi(g){this.g=g}ne(Yi,no),Yi.prototype.ua=function(){ye(this.g,"a")},Yi.prototype.ta=function(g){ye(this.g,new Uc(g))},Yi.prototype.sa=function(g){ye(this.g,new zc)},Yi.prototype.ra=function(){ye(this.g,"b")},Io.prototype.createWebChannel=Io.prototype.g,_i.prototype.send=_i.prototype.o,_i.prototype.open=_i.prototype.m,_i.prototype.close=_i.prototype.close,KN=function(){return new Io},GN=function(){return tt()},WN=Vt,zb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pn.NO_ERROR=0,Pn.TIMEOUT=8,Pn.HTTP_ERROR=6,Im=Pn,Ce.COMPLETE="complete",HN=Ce,He.EventType=ft,ft.OPEN="a",ft.CLOSE="b",ft.ERROR="c",ft.MESSAGE="d",de.prototype.listen=de.prototype.K,Sd=He,Zn.prototype.listenOnce=Zn.prototype.L,Zn.prototype.getLastError=Zn.prototype.Ka,Zn.prototype.getLastErrorCode=Zn.prototype.Ba,Zn.prototype.getStatus=Zn.prototype.Z,Zn.prototype.getResponseJson=Zn.prototype.Oa,Zn.prototype.getResponseText=Zn.prototype.oa,Zn.prototype.send=Zn.prototype.ea,Zn.prototype.setWithCredentials=Zn.prototype.Ha,$N=Zn}).apply(typeof tm<"u"?tm:typeof self<"u"?self:typeof window<"u"?window:{});const NT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gr.UNAUTHENTICATED=new gr(null),gr.GOOGLE_CREDENTIALS=new gr("google-credentials-uid"),gr.FIRST_PARTY=new gr("first-party-uid"),gr.MOCK_USER=new gr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=new Jg("@firebase/firestore");function md(){return mc.logLevel}function Xt(t,...e){if(mc.logLevel<=Nn.DEBUG){const n=e.map(Cw);mc.debug(`Firestore (${ph}): ${t}`,...n)}}function na(t,...e){if(mc.logLevel<=Nn.ERROR){const n=e.map(Cw);mc.error(`Firestore (${ph}): ${t}`,...n)}}function Zu(t,...e){if(mc.logLevel<=Nn.WARN){const n=e.map(Cw);mc.warn(`Firestore (${ph}): ${t}`,...n)}}function Cw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t="Unexpected state"){const e=`FIRESTORE (${ph}) INTERNAL ASSERTION FAILED: `+t;throw na(e),new Error(e)}function qn(t,e){t||un()}function mn(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $t extends ks{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gr.UNAUTHENTICATED))}shutdown(){}}class U3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class z3{constructor(e){this.t=e,this.currentUser=gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qn(this.o===void 0);let i=this.i;const s=x=>this.i!==i?(i=this.i,n(x)):Promise.resolve();let a=new Ko;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ko,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const x=a;e.enqueueRetryable(async()=>{await x.promise,await s(this.currentUser)})},m=x=>{Xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=x,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(x=>m(x)),setTimeout(()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?m(x):(Xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ko)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(qn(typeof i.accessToken=="string"),new YN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qn(e===null||typeof e=="string"),new gr(e)}}class q3{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=gr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $3{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new q3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){qn(this.o===void 0);const i=a=>{a.error!=null&&Xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,Xt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const s=a=>{Xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):Xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qn(typeof n.token=="string"),this.R=n.token,new H3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=G3(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<n&&(i+=e.charAt(s[a]%e.length))}return i}}function Fn(t,e){return t<e?-1:t>e?1:0}function eh(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $t(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $t(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $t(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $t(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zi.fromMillis(Date.now())}static fromDate(e){return zi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new zi(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fn(this.nanoseconds,e.nanoseconds):Fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new fn(e)}static min(){return new fn(new zi(0,0))}static max(){return new fn(new zi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n,i){n===void 0?n=0:n>e.length&&un(),i===void 0?i=e.length-n:i>e.length-n&&un(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return vp.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vp?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const a=e.get(s),u=n.get(s);if(a<u)return-1;if(a>u)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ti extends vp{construct(e,n,i){return new ti(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new $t(mt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new ti(n)}static emptyPath(){return new ti([])}}const K3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends vp{construct(e,n,i){return new tr(e,n,i)}static isValidIdentifier(e){return K3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tr(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const a=()=>{if(i.length===0)throw new $t(mt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;s<e.length;){const m=e[s];if(m==="\\"){if(s+1===e.length)throw new $t(mt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const x=e[s+1];if(x!=="\\"&&x!=="."&&x!=="`")throw new $t(mt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=x,s+=2}else m==="`"?(u=!u,s++):m!=="."||u?(i+=m,s++):(a(),s++)}if(a(),u)throw new $t(mt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tr(n)}static emptyPath(){return new tr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.path=e}static fromPath(e){return new on(ti.fromString(e))}static fromName(e){return new on(ti.fromString(e).popFirst(5))}static empty(){return new on(ti.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ti.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ti.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new on(new ti(e.slice()))}}function Y3(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=fn.fromTimestamp(i===1e9?new zi(n+1,0):new zi(n,i));return new pl(s,on.empty(),e)}function X3(t){return new pl(t.readTime,t.key,-1)}class pl{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new pl(fn.min(),on.empty(),-1)}static max(){return new pl(fn.max(),on.empty(),-1)}}function Q3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=on.comparator(t.documentKey,e.documentKey),n!==0?n:Fn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Op(t){if(t.code!==mt.FAILED_PRECONDITION||t.message!==J3)throw t;Xt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&un(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _t((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof _t?n:_t.resolve(n)}catch(n){return _t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):_t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):_t.reject(n)}static resolve(e){return new _t((n,i)=>{n(e)})}static reject(e){return new _t((n,i)=>{i(e)})}static waitFor(e){return new _t((n,i)=>{let s=0,a=0,u=!1;e.forEach(m=>{++s,m.next(()=>{++a,u&&a===s&&n()},x=>i(x))}),u=!0,a===s&&n()})}static or(e){let n=_t.resolve(!1);for(const i of e)n=n.next(s=>s?_t.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,a)=>{i.push(n.call(this,s,a))}),this.waitFor(i)}static mapArray(e,n){return new _t((i,s)=>{const a=e.length,u=new Array(a);let m=0;for(let x=0;x<a;x++){const _=x;n(e[_]).next(j=>{u[_]=j,++m,m===a&&i(u)},j=>s(j))}})}static doWhile(e,n){return new _t((i,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):i()};a()})}}function eU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lp(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Sw.oe=-1;function ny(t){return t==null}function yg(t){return t===0&&1/t==-1/0}function tU(t){return typeof t=="number"&&Number.isInteger(t)&&!yg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ac(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function QN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n){this.comparator=e,this.root=n||er.EMPTY}insert(e,n){return new gi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,er.BLACK,null,null))}remove(e){return new gi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,er.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nm(this.root,e,this.comparator,!1)}getReverseIterator(){return new nm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nm(this.root,e,this.comparator,!0)}}class nm{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class er{constructor(e,n,i,s,a){this.key=e,this.value=n,this.color=i??er.RED,this.left=s??er.EMPTY,this.right=a??er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,a){return new er(e??this.key,n??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const a=i(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,i),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return er.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw un();const e=this.left.check();if(e!==this.right.check())throw un();return e+(this.isRed()?0:1)}}er.EMPTY=null,er.RED=!0,er.BLACK=!1;er.EMPTY=new class{constructor(){this.size=0}get key(){throw un()}get value(){throw un()}get color(){throw un()}get left(){throw un()}get right(){throw un()}copy(e,n,i,s,a){return this}insert(e,n,i){return new er(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.comparator=e,this.data=new gi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new IT(this.data.getIterator())}getIteratorFrom(e){return new IT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof ir)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ir(this.comparator);return n.data=e,n}}class IT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.fields=e,e.sort(tr.comparator)}static empty(){return new Zr([])}unionWith(e){let n=new ir(tr.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Zr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return eh(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new JN("Invalid base64 string: "+a):a}}(e);return new sr(n)}static fromUint8Array(e){const n=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new sr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sr.EMPTY_BYTE_STRING=new sr("");const nU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fl(t){if(qn(!!t),typeof t=="string"){let e=0;const n=nU.exec(t);if(qn(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ti(t.seconds),nanos:Ti(t.nanos)}}function Ti(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gc(t){return typeof t=="string"?sr.fromBase64String(t):sr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Nw(t){const e=t.mapValue.fields.__previous_value__;return Aw(e)?Nw(e):e}function xp(t){const e=fl(t.mapValue.fields.__local_write_time__.timestampValue);return new zi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,n,i,s,a,u,m,x,_){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=x,this.useFetchStreams=_}}class bp{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new bp("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof bp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im={mapValue:{}};function yc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Aw(t)?4:sU(t)?9007199254740991:rU(t)?10:11:un()}function _o(t,e){if(t===e)return!0;const n=yc(t);if(n!==yc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xp(t).isEqual(xp(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=fl(s.timestampValue),m=fl(a.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return gc(s.bytesValue).isEqual(gc(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return Ti(s.geoPointValue.latitude)===Ti(a.geoPointValue.latitude)&&Ti(s.geoPointValue.longitude)===Ti(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Ti(s.integerValue)===Ti(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=Ti(s.doubleValue),m=Ti(a.doubleValue);return u===m?yg(u)===yg(m):isNaN(u)&&isNaN(m)}return!1}(t,e);case 9:return eh(t.arrayValue.values||[],e.arrayValue.values||[],_o);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},m=a.mapValue.fields||{};if(jT(u)!==jT(m))return!1;for(const x in u)if(u.hasOwnProperty(x)&&(m[x]===void 0||!_o(u[x],m[x])))return!1;return!0}(t,e);default:return un()}}function wp(t,e){return(t.values||[]).find(n=>_o(n,e))!==void 0}function th(t,e){if(t===e)return 0;const n=yc(t),i=yc(e);if(n!==i)return Fn(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fn(t.booleanValue,e.booleanValue);case 2:return function(a,u){const m=Ti(a.integerValue||a.doubleValue),x=Ti(u.integerValue||u.doubleValue);return m<x?-1:m>x?1:m===x?0:isNaN(m)?isNaN(x)?0:-1:1}(t,e);case 3:return PT(t.timestampValue,e.timestampValue);case 4:return PT(xp(t),xp(e));case 5:return Fn(t.stringValue,e.stringValue);case 6:return function(a,u){const m=gc(a),x=gc(u);return m.compareTo(x)}(t.bytesValue,e.bytesValue);case 7:return function(a,u){const m=a.split("/"),x=u.split("/");for(let _=0;_<m.length&&_<x.length;_++){const j=Fn(m[_],x[_]);if(j!==0)return j}return Fn(m.length,x.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,u){const m=Fn(Ti(a.latitude),Ti(u.latitude));return m!==0?m:Fn(Ti(a.longitude),Ti(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return MT(t.arrayValue,e.arrayValue);case 10:return function(a,u){var m,x,_,j;const I=a.fields||{},U=u.fields||{},J=(m=I.value)===null||m===void 0?void 0:m.arrayValue,ne=(x=U.value)===null||x===void 0?void 0:x.arrayValue,le=Fn(((_=J==null?void 0:J.values)===null||_===void 0?void 0:_.length)||0,((j=ne==null?void 0:ne.values)===null||j===void 0?void 0:j.length)||0);return le!==0?le:MT(J,ne)}(t.mapValue,e.mapValue);case 11:return function(a,u){if(a===im.mapValue&&u===im.mapValue)return 0;if(a===im.mapValue)return 1;if(u===im.mapValue)return-1;const m=a.fields||{},x=Object.keys(m),_=u.fields||{},j=Object.keys(_);x.sort(),j.sort();for(let I=0;I<x.length&&I<j.length;++I){const U=Fn(x[I],j[I]);if(U!==0)return U;const J=th(m[x[I]],_[j[I]]);if(J!==0)return J}return Fn(x.length,j.length)}(t.mapValue,e.mapValue);default:throw un()}}function PT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fn(t,e);const n=fl(t),i=fl(e),s=Fn(n.seconds,i.seconds);return s!==0?s:Fn(n.nanos,i.nanos)}function MT(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const a=th(n[s],i[s]);if(a)return a}return Fn(n.length,i.length)}function nh(t){return qb(t)}function qb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=fl(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return gc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return on.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const a of n.values||[])s?s=!1:i+=",",i+=qb(a);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const u of i)a?a=!1:s+=",",s+=`${u}:${qb(n.fields[u])}`;return s+"}"}(t.mapValue):un()}function RT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $b(t){return!!t&&"integerValue"in t}function jw(t){return!!t&&"arrayValue"in t}function DT(t){return!!t&&"nullValue"in t}function OT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pm(t){return!!t&&"mapValue"in t}function rU(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function qd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ac(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=qd(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.value=e}static empty(){return new Dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Pm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qd(n)}setAll(e){let n=tr.emptyPath(),i={},s=[];e.forEach((u,m)=>{if(!n.isImmediateParentOf(m)){const x=this.getFieldsMap(n);this.applyChanges(x,i,s),i={},s=[],n=m.popLast()}u?i[m.lastSegment()]=qd(u):s.push(m.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,s)}delete(e){const n=this.field(e.popLast());Pm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _o(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Pm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Ac(n,(s,a)=>e[s]=a);for(const s of i)delete e[s]}clone(){return new Dr(qd(this.value))}}function ZN(t){const e=[];return Ac(t.fields,(n,i)=>{const s=new tr([n]);if(Pm(i)){const a=ZN(i.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new Zr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n,i,s,a,u,m){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=a,this.data=u,this.documentState=m}static newInvalidDocument(e){return new vr(e,0,fn.min(),fn.min(),fn.min(),Dr.empty(),0)}static newFoundDocument(e,n,i,s){return new vr(e,1,n,fn.min(),i,s,0)}static newNoDocument(e,n){return new vr(e,2,n,fn.min(),fn.min(),Dr.empty(),0)}static newUnknownDocument(e,n){return new vr(e,3,n,fn.min(),fn.min(),Dr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n){this.position=e,this.inclusive=n}}function LT(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const a=e[s],u=t.position[s];if(a.field.isKeyField()?i=on.comparator(on.fromName(u.referenceValue),n.key):i=th(u,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function FT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_o(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n="asc"){this.field=e,this.dir=n}}function oU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{}class Oi extends ej{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new lU(e,n,i):n==="array-contains"?new hU(e,i):n==="in"?new dU(e,i):n==="not-in"?new pU(e,i):n==="array-contains-any"?new fU(e,i):new Oi(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new cU(e,i):new uU(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(th(n,this.value)):n!==null&&yc(this.value)===yc(n)&&this.matchesComparison(th(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return un()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ys extends ej{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ys(e,n)}matches(e){return tj(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function tj(t){return t.op==="and"}function nj(t){return aU(t)&&tj(t)}function aU(t){for(const e of t.filters)if(e instanceof Ys)return!1;return!0}function Hb(t){if(t instanceof Oi)return t.field.canonicalString()+t.op.toString()+nh(t.value);if(nj(t))return t.filters.map(e=>Hb(e)).join(",");{const e=t.filters.map(n=>Hb(n)).join(",");return`${t.op}(${e})`}}function ij(t,e){return t instanceof Oi?function(i,s){return s instanceof Oi&&i.op===s.op&&i.field.isEqual(s.field)&&_o(i.value,s.value)}(t,e):t instanceof Ys?function(i,s){return s instanceof Ys&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((a,u,m)=>a&&ij(u,s.filters[m]),!0):!1}(t,e):void un()}function rj(t){return t instanceof Oi?function(n){return`${n.field.canonicalString()} ${n.op} ${nh(n.value)}`}(t):t instanceof Ys?function(n){return n.op.toString()+" {"+n.getFilters().map(rj).join(" ,")+"}"}(t):"Filter"}class lU extends Oi{constructor(e,n,i){super(e,n,i),this.key=on.fromName(i.referenceValue)}matches(e){const n=on.comparator(e.key,this.key);return this.matchesComparison(n)}}class cU extends Oi{constructor(e,n){super(e,"in",n),this.keys=sj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uU extends Oi{constructor(e,n){super(e,"not-in",n),this.keys=sj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>on.fromName(i.referenceValue))}class hU extends Oi{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jw(n)&&wp(n.arrayValue,this.value)}}class dU extends Oi{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wp(this.value.arrayValue,n)}}class pU extends Oi{constructor(e,n){super(e,"not-in",n)}matches(e){if(wp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!wp(this.value.arrayValue,n)}}class fU extends Oi{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>wp(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e,n=null,i=[],s=[],a=null,u=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=u,this.endAt=m,this.ue=null}}function BT(t,e=null,n=[],i=[],s=null,a=null,u=null){return new mU(t,e,n,i,s,a,u)}function Iw(t){const e=mn(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Hb(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),ny(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>nh(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>nh(i)).join(",")),e.ue=n}return e.ue}function Pw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ij(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!FT(t.startAt,e.startAt)&&FT(t.endAt,e.endAt)}function Wb(t){return on.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n=null,i=[],s=[],a=null,u="F",m=null,x=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=u,this.startAt=m,this.endAt=x,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function gU(t,e,n,i,s,a,u,m){return new Fp(t,e,n,i,s,a,u,m)}function Mw(t){return new Fp(t)}function VT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function oj(t){return t.collectionGroup!==null}function $d(t){const e=mn(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new ir(tr.comparator);return u.filters.forEach(x=>{x.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new xg(a,i))}),n.has(tr.keyField().canonicalString())||e.ce.push(new xg(tr.keyField(),i))}return e.ce}function bo(t){const e=mn(t);return e.le||(e.le=yU(e,$d(t))),e.le}function yU(t,e){if(t.limitType==="F")return BT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new xg(s.field,a)});const n=t.endAt?new vg(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new vg(t.startAt.position,t.startAt.inclusive):null;return BT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Gb(t,e){const n=t.filters.concat([e]);return new Fp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kb(t,e,n){return new Fp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function iy(t,e){return Pw(bo(t),bo(e))&&t.limitType===e.limitType}function aj(t){return`${Iw(bo(t))}|lt:${t.limitType}`}function du(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>rj(s)).join(", ")}]`),ny(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>nh(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>nh(s)).join(",")),`Target(${i})`}(bo(t))}; limitType=${t.limitType})`}function ry(t,e){return e.isFoundDocument()&&function(i,s){const a=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):on.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(t,e)&&function(i,s){for(const a of $d(i))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const a of i.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(u,m,x){const _=LT(u,m,x);return u.inclusive?_<=0:_<0}(i.startAt,$d(i),s)||i.endAt&&!function(u,m,x){const _=LT(u,m,x);return u.inclusive?_>=0:_>0}(i.endAt,$d(i),s))}(t,e)}function vU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lj(t){return(e,n)=>{let i=!1;for(const s of $d(t)){const a=xU(s,e,n);if(a!==0)return a;i=i||s.field.isKeyField()}return 0}}function xU(t,e,n){const i=t.field.isKeyField()?on.comparator(e.key,n.key):function(a,u,m){const x=u.data.field(a),_=m.data.field(a);return x!==null&&_!==null?th(x,_):un()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return un()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,a]of i)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ac(this.inner,(n,i)=>{for(const[s,a]of i)e(s,a)})}isEmpty(){return QN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=new gi(on.comparator);function ia(){return bU}const cj=new gi(on.comparator);function Ad(...t){let e=cj;for(const n of t)e=e.insert(n.key,n);return e}function uj(t){let e=cj;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function tc(){return Hd()}function hj(){return Hd()}function Hd(){return new fh(t=>t.toString(),(t,e)=>t.isEqual(e))}const wU=new gi(on.comparator),_U=new ir(on.comparator);function An(...t){let e=_U;for(const n of t)e=e.add(n);return e}const EU=new ir(Fn);function kU(){return EU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yg(e)?"-0":e}}function dj(t){return{integerValue:""+t}}function TU(t,e){return tU(e)?dj(e):Rw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(){this._=void 0}}function CU(t,e,n){return t instanceof bg?function(s,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Aw(a)&&(a=Nw(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(n,e):t instanceof _p?fj(t,e):t instanceof Ep?mj(t,e):function(s,a){const u=pj(s,a),m=UT(u)+UT(s.Pe);return $b(u)&&$b(s.Pe)?dj(m):Rw(s.serializer,m)}(t,e)}function SU(t,e,n){return t instanceof _p?fj(t,e):t instanceof Ep?mj(t,e):n}function pj(t,e){return t instanceof wg?function(i){return $b(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class bg extends sy{}class _p extends sy{constructor(e){super(),this.elements=e}}function fj(t,e){const n=gj(e);for(const i of t.elements)n.some(s=>_o(s,i))||n.push(i);return{arrayValue:{values:n}}}class Ep extends sy{constructor(e){super(),this.elements=e}}function mj(t,e){let n=gj(e);for(const i of t.elements)n=n.filter(s=>!_o(s,i));return{arrayValue:{values:n}}}class wg extends sy{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function UT(t){return Ti(t.integerValue||t.doubleValue)}function gj(t){return jw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function AU(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof _p&&s instanceof _p||i instanceof Ep&&s instanceof Ep?eh(i.elements,s.elements,_o):i instanceof wg&&s instanceof wg?_o(i.Pe,s.Pe):i instanceof bg&&s instanceof bg}(t.transform,e.transform)}class NU{constructor(e,n){this.version=e,this.transformResults=n}}class Hs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hs}static exists(e){return new Hs(void 0,e)}static updateTime(e){return new Hs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class oy{}function yj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Dw(t.key,Hs.none()):new Bp(t.key,t.data,Hs.none());{const n=t.data,i=Dr.empty();let s=new ir(tr.comparator);for(let a of e.fields)if(!s.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?i.delete(a):i.set(a,u),s=s.add(a)}return new _l(t.key,i,new Zr(s.toArray()),Hs.none())}}function jU(t,e,n){t instanceof Bp?function(s,a,u){const m=s.value.clone(),x=qT(s.fieldTransforms,a,u.transformResults);m.setAll(x),a.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(t,e,n):t instanceof _l?function(s,a,u){if(!Mm(s.precondition,a))return void a.convertToUnknownDocument(u.version);const m=qT(s.fieldTransforms,a,u.transformResults),x=a.data;x.setAll(vj(s)),x.setAll(m),a.convertToFoundDocument(u.version,x).setHasCommittedMutations()}(t,e,n):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Wd(t,e,n,i){return t instanceof Bp?function(a,u,m,x){if(!Mm(a.precondition,u))return m;const _=a.value.clone(),j=$T(a.fieldTransforms,x,u);return _.setAll(j),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null}(t,e,n,i):t instanceof _l?function(a,u,m,x){if(!Mm(a.precondition,u))return m;const _=$T(a.fieldTransforms,x,u),j=u.data;return j.setAll(vj(a)),j.setAll(_),u.convertToFoundDocument(u.version,j).setHasLocalMutations(),m===null?null:m.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(I=>I.field))}(t,e,n,i):function(a,u,m){return Mm(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m}(t,e,n)}function IU(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),a=pj(i.transform,s||null);a!=null&&(n===null&&(n=Dr.empty()),n.set(i.field,a))}return n||null}function zT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&eh(i,s,(a,u)=>AU(a,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bp extends oy{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class _l extends oy{constructor(e,n,i,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function vj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function qT(t,e,n){const i=new Map;qn(t.length===n.length);for(let s=0;s<n.length;s++){const a=t[s],u=a.transform,m=e.data.field(a.field);i.set(a.field,SU(u,m,n[s]))}return i}function $T(t,e,n){const i=new Map;for(const s of t){const a=s.transform,u=n.data.field(s.field);i.set(s.field,CU(a,u,e))}return i}class Dw extends oy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PU extends oy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&jU(a,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Wd(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Wd(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=hj();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let m=this.applyToLocalView(u,a.mutatedFields);m=n.has(s.key)?null:m;const x=yj(u,m);x!==null&&i.set(s.key,x),u.isValidDocument()||u.convertToNoDocument(fn.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),An())}isEqual(e){return this.batchId===e.batchId&&eh(this.mutations,e.mutations,(n,i)=>zT(n,i))&&eh(this.baseMutations,e.baseMutations,(n,i)=>zT(n,i))}}class Ow{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){qn(e.mutations.length===i.length);let s=function(){return wU}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,i[u].version);return new Ow(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ri,In;function OU(t){switch(t){default:return un();case mt.CANCELLED:case mt.UNKNOWN:case mt.DEADLINE_EXCEEDED:case mt.RESOURCE_EXHAUSTED:case mt.INTERNAL:case mt.UNAVAILABLE:case mt.UNAUTHENTICATED:return!1;case mt.INVALID_ARGUMENT:case mt.NOT_FOUND:case mt.ALREADY_EXISTS:case mt.PERMISSION_DENIED:case mt.FAILED_PRECONDITION:case mt.ABORTED:case mt.OUT_OF_RANGE:case mt.UNIMPLEMENTED:case mt.DATA_LOSS:return!0}}function xj(t){if(t===void 0)return na("GRPC error has no .code"),mt.UNKNOWN;switch(t){case Ri.OK:return mt.OK;case Ri.CANCELLED:return mt.CANCELLED;case Ri.UNKNOWN:return mt.UNKNOWN;case Ri.DEADLINE_EXCEEDED:return mt.DEADLINE_EXCEEDED;case Ri.RESOURCE_EXHAUSTED:return mt.RESOURCE_EXHAUSTED;case Ri.INTERNAL:return mt.INTERNAL;case Ri.UNAVAILABLE:return mt.UNAVAILABLE;case Ri.UNAUTHENTICATED:return mt.UNAUTHENTICATED;case Ri.INVALID_ARGUMENT:return mt.INVALID_ARGUMENT;case Ri.NOT_FOUND:return mt.NOT_FOUND;case Ri.ALREADY_EXISTS:return mt.ALREADY_EXISTS;case Ri.PERMISSION_DENIED:return mt.PERMISSION_DENIED;case Ri.FAILED_PRECONDITION:return mt.FAILED_PRECONDITION;case Ri.ABORTED:return mt.ABORTED;case Ri.OUT_OF_RANGE:return mt.OUT_OF_RANGE;case Ri.UNIMPLEMENTED:return mt.UNIMPLEMENTED;case Ri.DATA_LOSS:return mt.DATA_LOSS;default:return un()}}(In=Ri||(Ri={}))[In.OK=0]="OK",In[In.CANCELLED=1]="CANCELLED",In[In.UNKNOWN=2]="UNKNOWN",In[In.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",In[In.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",In[In.NOT_FOUND=5]="NOT_FOUND",In[In.ALREADY_EXISTS=6]="ALREADY_EXISTS",In[In.PERMISSION_DENIED=7]="PERMISSION_DENIED",In[In.UNAUTHENTICATED=16]="UNAUTHENTICATED",In[In.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",In[In.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",In[In.ABORTED=10]="ABORTED",In[In.OUT_OF_RANGE=11]="OUT_OF_RANGE",In[In.UNIMPLEMENTED=12]="UNIMPLEMENTED",In[In.INTERNAL=13]="INTERNAL",In[In.UNAVAILABLE=14]="UNAVAILABLE",In[In.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=new sc([4294967295,4294967295],0);function HT(t){const e=LU().encode(t),n=new qN;return n.update(e),new Uint8Array(n.digest())}function WT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new sc([n,i],0),new sc([s,a],0)]}class Lw{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Nd(`Invalid padding: ${n}`);if(i<0)throw new Nd(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Nd(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Nd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=sc.fromNumber(this.Ie)}Ee(e,n,i){let s=e.add(n.multiply(sc.fromNumber(i)));return s.compare(FU)===1&&(s=new sc([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=HT(e),[i,s]=WT(n);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,s,a);if(!this.de(u))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Lw(a,s,n);return i.forEach(m=>u.insert(m)),u}insert(e){if(this.Ie===0)return;const n=HT(e),[i,s]=WT(n);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,s,a);this.Ae(u)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Nd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n,i,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Vp.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new ay(fn.min(),s,new gi(Fn),ia(),An())}}class Vp{constructor(e,n,i,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Vp(i,n,An(),An(),An())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n,i,s){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=s}}class bj{constructor(e,n){this.targetId=e,this.me=n}}class wj{constructor(e,n,i=sr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class GT{constructor(){this.fe=0,this.ge=YT(),this.pe=sr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=An(),n=An(),i=An();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:un()}}),new Vp(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=YT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class BU{constructor(e){this.Le=e,this.Be=new Map,this.ke=ia(),this.qe=KT(),this.Qe=new gi(Fn)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:un()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,i=e.me.count,s=this.Je(n);if(s){const a=s.target;if(Wb(a))if(i===0){const u=new on(a.path);this.Ue(n,u,vr.newNoDocument(u,fn.min()))}else qn(i===1);else{const u=this.Ye(n);if(u!==i){const m=this.Ze(e),x=m?this.Xe(m,e,u):1;if(x!==0){this.je(n);const _=x===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,_)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let u,m;try{u=gc(i).toUint8Array()}catch(x){if(x instanceof JN)return Zu("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw x}try{m=new Lw(u,s,a)}catch(x){return Zu(x instanceof Nd?"BloomFilter error: ":"Applying bloom filter failed: ",x),null}return m.Ie===0?null:m}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let s=0;return i.forEach(a=>{const u=this.Le.tt(),m=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(m)||(this.Ue(n,a,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((a,u)=>{const m=this.Je(u);if(m){if(a.current&&Wb(m.target)){const x=new on(m.target.path);this.ke.get(x)!==null||this.it(u,x)||this.Ue(u,x,vr.newNoDocument(x,e))}a.be&&(n.set(u,a.ve()),a.Ce())}});let i=An();this.qe.forEach((a,u)=>{let m=!0;u.forEachWhile(x=>{const _=this.Je(x);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(i=i.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const s=new ay(e,n,this.Qe,this.ke,i);return this.ke=ia(),this.qe=KT(),this.Qe=new gi(Fn),s}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new GT,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ir(Fn),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Xt("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new GT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function KT(){return new gi(on.comparator)}function YT(){return new gi(on.comparator)}const VU={asc:"ASCENDING",desc:"DESCENDING"},UU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zU={and:"AND",or:"OR"};class qU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yb(t,e){return t.useProto3Json||ny(e)?e:{value:e}}function _g(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _j(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $U(t,e){return _g(t,e.toTimestamp())}function wo(t){return qn(!!t),fn.fromTimestamp(function(n){const i=fl(n);return new zi(i.seconds,i.nanos)}(t))}function Fw(t,e){return Xb(t,e).canonicalString()}function Xb(t,e){const n=function(s){return new ti(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Ej(t){const e=ti.fromString(t);return qn(Aj(e)),e}function Qb(t,e){return Fw(t.databaseId,e.path)}function ux(t,e){const n=Ej(e);if(n.get(1)!==t.databaseId.projectId)throw new $t(mt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $t(mt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new on(Tj(n))}function kj(t,e){return Fw(t.databaseId,e)}function HU(t){const e=Ej(t);return e.length===4?ti.emptyPath():Tj(e)}function Jb(t){return new ti(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Tj(t){return qn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function XT(t,e,n){return{name:Qb(t,e),fields:n.value.mapValue.fields}}function WU(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:un()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(_,j){return _.useProto3Json?(qn(j===void 0||typeof j=="string"),sr.fromBase64String(j||"")):(qn(j===void 0||j instanceof Buffer||j instanceof Uint8Array),sr.fromUint8Array(j||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&function(_){const j=_.code===void 0?mt.UNKNOWN:xj(_.code);return new $t(j,_.message||"")}(u);n=new wj(i,s,a,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=ux(t,i.document.name),a=wo(i.document.updateTime),u=i.document.createTime?wo(i.document.createTime):fn.min(),m=new Dr({mapValue:{fields:i.document.fields}}),x=vr.newFoundDocument(s,a,u,m),_=i.targetIds||[],j=i.removedTargetIds||[];n=new Rm(_,j,x.key,x)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=ux(t,i.document),a=i.readTime?wo(i.readTime):fn.min(),u=vr.newNoDocument(s,a),m=i.removedTargetIds||[];n=new Rm([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=ux(t,i.document),a=i.removedTargetIds||[];n=new Rm([],a,s,null)}else{if(!("filter"in e))return un();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:a}=i,u=new DU(s,a),m=i.targetId;n=new bj(m,u)}}return n}function GU(t,e){let n;if(e instanceof Bp)n={update:XT(t,e.key,e.value)};else if(e instanceof Dw)n={delete:Qb(t,e.key)};else if(e instanceof _l)n={update:XT(t,e.key,e.data),updateMask:n4(e.fieldMask)};else{if(!(e instanceof PU))return un();n={verify:Qb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(a,u){const m=u.transform;if(m instanceof bg)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof _p)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ep)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof wg)return{fieldPath:u.field.canonicalString(),increment:m.Pe};throw un()}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:$U(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:un()}(t,e.precondition)),n}function KU(t,e){return t&&t.length>0?(qn(e!==void 0),t.map(n=>function(s,a){let u=s.updateTime?wo(s.updateTime):wo(a);return u.isEqual(fn.min())&&(u=wo(a)),new NU(u,s.transformResults||[])}(n,e))):[]}function YU(t,e){return{documents:[kj(t,e.path)]}}function XU(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=kj(t,s);const a=function(_){if(_.length!==0)return Sj(Ys.create(_,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const u=function(_){if(_.length!==0)return _.map(j=>function(U){return{field:pu(U.field),direction:ZU(U.dir)}}(j))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const m=Yb(t,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{_t:n,parent:s}}function QU(t){let e=HU(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){qn(i===1);const j=n.from[0];j.allDescendants?s=j.collectionId:e=e.child(j.collectionId)}let a=[];n.where&&(a=function(I){const U=Cj(I);return U instanceof Ys&&nj(U)?U.getFilters():[U]}(n.where));let u=[];n.orderBy&&(u=function(I){return I.map(U=>function(ne){return new xg(fu(ne.field),function(oe){switch(oe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ne.direction))}(U))}(n.orderBy));let m=null;n.limit&&(m=function(I){let U;return U=typeof I=="object"?I.value:I,ny(U)?null:U}(n.limit));let x=null;n.startAt&&(x=function(I){const U=!!I.before,J=I.values||[];return new vg(J,U)}(n.startAt));let _=null;return n.endAt&&(_=function(I){const U=!I.before,J=I.values||[];return new vg(J,U)}(n.endAt)),gU(e,s,u,a,m,"F",x,_)}function JU(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return un()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Cj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=fu(n.unaryFilter.field);return Oi.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=fu(n.unaryFilter.field);return Oi.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=fu(n.unaryFilter.field);return Oi.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=fu(n.unaryFilter.field);return Oi.create(u,"!=",{nullValue:"NULL_VALUE"});default:return un()}}(t):t.fieldFilter!==void 0?function(n){return Oi.create(fu(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return un()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ys.create(n.compositeFilter.filters.map(i=>Cj(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return un()}}(n.compositeFilter.op))}(t):un()}function ZU(t){return VU[t]}function e4(t){return UU[t]}function t4(t){return zU[t]}function pu(t){return{fieldPath:t.canonicalString()}}function fu(t){return tr.fromServerFormat(t.fieldPath)}function Sj(t){return t instanceof Oi?function(n){if(n.op==="=="){if(OT(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NAN"}};if(DT(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(OT(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NOT_NAN"}};if(DT(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pu(n.field),op:e4(n.op),value:n.value}}}(t):t instanceof Ys?function(n){const i=n.getFilters().map(s=>Sj(s));return i.length===1?i[0]:{compositeFilter:{op:t4(n.op),filters:i}}}(t):un()}function n4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Aj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n,i,s,a=fn.min(),u=fn.min(),m=sr.EMPTY_BYTE_STRING,x=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=x}withSequenceNumber(e){return new Ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.ct=e}}function r4(t){const e=QU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.un=new o4}addToCollectionParentIndex(e,n){return this.un.add(n),_t.resolve()}getCollectionParents(e,n){return _t.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return _t.resolve()}deleteFieldIndex(e,n){return _t.resolve()}deleteAllFieldIndexes(e){return _t.resolve()}createTargetIndexes(e,n){return _t.resolve()}getDocumentsMatchingTarget(e,n){return _t.resolve(null)}getIndexType(e,n){return _t.resolve(0)}getFieldIndexes(e,n){return _t.resolve([])}getNextCollectionGroupToUpdate(e){return _t.resolve(null)}getMinOffset(e,n){return _t.resolve(pl.min())}getMinOffsetFromCollectionGroup(e,n){return _t.resolve(pl.min())}updateCollectionGroup(e,n,i){return _t.resolve()}updateIndexEntries(e,n){return _t.resolve()}}class o4{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new ir(ti.comparator),a=!s.has(i);return this.index[n]=s.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new ir(ti.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ih(0)}static kn(){return new ih(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(){this.changes=new fh(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?_t.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&Wd(i.mutation,s,Zr.empty(),zi.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,An()).next(()=>i))}getLocalViewOfDocuments(e,n,i=An()){const s=tc();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(a=>{let u=Ad();return a.forEach((m,x)=>{u=u.insert(m,x.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const i=tc();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,An()))}populateOverlays(e,n,i){const s=[];return i.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,m)=>{n.set(u,m)})})}computeViews(e,n,i,s){let a=ia();const u=Hd(),m=function(){return Hd()}();return n.forEach((x,_)=>{const j=i.get(_.key);s.has(_.key)&&(j===void 0||j.mutation instanceof _l)?a=a.insert(_.key,_):j!==void 0?(u.set(_.key,j.mutation.getFieldMask()),Wd(j.mutation,_,j.mutation.getFieldMask(),zi.now())):u.set(_.key,Zr.empty())}),this.recalculateAndSaveOverlays(e,a).next(x=>(x.forEach((_,j)=>u.set(_,j)),n.forEach((_,j)=>{var I;return m.set(_,new l4(j,(I=u.get(_))!==null&&I!==void 0?I:null))}),m))}recalculateAndSaveOverlays(e,n){const i=Hd();let s=new gi((u,m)=>u-m),a=An();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const m of u)m.keys().forEach(x=>{const _=n.get(x);if(_===null)return;let j=i.get(x)||Zr.empty();j=m.applyToLocalView(_,j),i.set(x,j);const I=(s.get(m.batchId)||An()).add(x);s=s.insert(m.batchId,I)})}).next(()=>{const u=[],m=s.getReverseIterator();for(;m.hasNext();){const x=m.getNext(),_=x.key,j=x.value,I=hj();j.forEach(U=>{if(!a.has(U)){const J=yj(n.get(U),i.get(U));J!==null&&I.set(U,J),a=a.add(U)}}),u.push(this.documentOverlayCache.saveOverlays(e,_,I))}return _t.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(u){return on.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-a.size):_t.resolve(tc());let m=-1,x=a;return u.next(_=>_t.forEach(_,(j,I)=>(m<I.largestBatchId&&(m=I.largestBatchId),a.get(j)?_t.resolve():this.remoteDocumentCache.getEntry(e,j).next(U=>{x=x.insert(j,U)}))).next(()=>this.populateOverlays(e,_,a)).next(()=>this.computeViews(e,x,_,An())).next(j=>({batchId:m,changes:uj(j)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new on(n)).next(i=>{let s=Ad();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const a=n.collectionGroup;let u=Ad();return this.indexManager.getCollectionParents(e,a).next(m=>_t.forEach(m,x=>{const _=function(I,U){return new Fp(U,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,x.child(a));return this.getDocumentsMatchingCollectionQuery(e,_,i,s).next(j=>{j.forEach((I,U)=>{u=u.insert(I,U)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,i,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,s))).next(u=>{a.forEach((x,_)=>{const j=_.getKey();u.get(j)===null&&(u=u.insert(j,vr.newInvalidDocument(j)))});let m=Ad();return u.forEach((x,_)=>{const j=a.get(x);j!==void 0&&Wd(j.mutation,_,Zr.empty(),zi.now()),ry(n,_)&&(m=m.insert(x,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return _t.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:wo(s.createTime)}}(n)),_t.resolve()}getNamedQuery(e,n){return _t.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:r4(s.bundledQuery),readTime:wo(s.readTime)}}(n)),_t.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.overlays=new gi(on.comparator),this.Ir=new Map}getOverlay(e,n){return _t.resolve(this.overlays.get(n))}getOverlays(e,n){const i=tc();return _t.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&i.set(s,a)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,a)=>{this.ht(e,n,a)}),_t.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.Ir.get(i);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(i)),_t.resolve()}getOverlaysForCollection(e,n,i){const s=tc(),a=n.length+1,u=new on(n.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const x=m.getNext().value,_=x.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===a&&x.largestBatchId>i&&s.set(x.getKey(),x)}return _t.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let a=new gi((_,j)=>_-j);const u=this.overlays.getIterator();for(;u.hasNext();){const _=u.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>i){let j=a.get(_.largestBatchId);j===null&&(j=tc(),a=a.insert(_.largestBatchId,j)),j.set(_.getKey(),_)}}const m=tc(),x=a.getIterator();for(;x.hasNext()&&(x.getNext().value.forEach((_,j)=>m.set(_,j)),!(m.size()>=s)););return _t.resolve(m)}ht(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const u=this.Ir.get(s.largestBatchId).delete(i.key);this.Ir.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new RU(n,i));let a=this.Ir.get(n);a===void 0&&(a=An(),this.Ir.set(n,a)),this.Ir.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.sessionToken=sr.EMPTY_BYTE_STRING}getSessionToken(e){return _t.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,_t.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.Tr=new ir($i.Er),this.dr=new ir($i.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new $i(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new $i(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){const n=new on(new ti([])),i=new $i(n,e),s=new $i(n,e+1),a=[];return this.dr.forEachInRange([i,s],u=>{this.Vr(u),a.push(u.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new on(new ti([])),i=new $i(n,e),s=new $i(n,e+1);let a=An();return this.dr.forEachInRange([i,s],u=>{a=a.add(u.key)}),a}containsKey(e){const n=new $i(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class $i{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return on.comparator(e.key,n.key)||Fn(e.wr,n.wr)}static Ar(e,n){return Fn(e.wr,n.wr)||on.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ir($i.Er)}checkEmpty(e){return _t.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new MU(a,n,i,s);this.mutationQueue.push(u);for(const m of s)this.br=this.br.add(new $i(m.key,a)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return _t.resolve(u)}lookupMutationBatch(e,n){return _t.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.vr(i),a=s<0?0:s;return _t.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return _t.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return _t.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new $i(n,0),s=new $i(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([i,s],u=>{const m=this.Dr(u.wr);a.push(m)}),_t.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new ir(Fn);return n.forEach(s=>{const a=new $i(s,0),u=new $i(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,u],m=>{i=i.add(m.wr)})}),_t.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let a=i;on.isDocumentKey(a)||(a=a.child(""));const u=new $i(new on(a),0);let m=new ir(Fn);return this.br.forEachWhile(x=>{const _=x.key.path;return!!i.isPrefixOf(_)&&(_.length===s&&(m=m.add(x.wr)),!0)},u),_t.resolve(this.Cr(m))}Cr(e){const n=[];return e.forEach(i=>{const s=this.Dr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){qn(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return _t.forEach(n.mutations,s=>{const a=new $i(s.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){const i=new $i(n,0),s=this.br.firstAfterOrEqual(i);return _t.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,_t.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e){this.Mr=e,this.docs=function(){return new gi(on.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),a=s?s.size:0,u=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return _t.resolve(i?i.document.mutableCopy():vr.newInvalidDocument(n))}getEntries(e,n){let i=ia();return n.forEach(s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():vr.newInvalidDocument(s))}),_t.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let a=ia();const u=n.path,m=new on(u.child("")),x=this.docs.getIteratorFrom(m);for(;x.hasNext();){const{key:_,value:{document:j}}=x.getNext();if(!u.isPrefixOf(_.path))break;_.path.length>u.length+1||Q3(X3(j),i)<=0||(s.has(j.key)||ry(n,j))&&(a=a.insert(j.key,j.mutableCopy()))}return _t.resolve(a)}getAllFromCollectionGroup(e,n,i,s){un()}Or(e,n){return _t.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new m4(this)}getSize(e){return _t.resolve(this.size)}}class m4 extends a4{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(i)}),_t.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.persistence=e,this.Nr=new fh(n=>Iw(n),Pw),this.lastRemoteSnapshotVersion=fn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Bw,this.targetCount=0,this.kr=ih.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,s)=>n(s)),_t.resolve()}getLastRemoteSnapshotVersion(e){return _t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _t.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),_t.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),_t.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ih(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,_t.resolve()}updateTargetData(e,n){return this.Kn(n),_t.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,_t.resolve()}removeTargets(e,n,i){let s=0;const a=[];return this.Nr.forEach((u,m)=>{m.sequenceNumber<=n&&i.get(m.targetId)===null&&(this.Nr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),_t.waitFor(a).next(()=>s)}getTargetCount(e){return _t.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return _t.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),_t.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),_t.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),_t.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return _t.resolve(i)}containsKey(e,n){return _t.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Sw(0),this.Kr=!1,this.Kr=!0,this.$r=new d4,this.referenceDelegate=e(this),this.Ur=new g4(this),this.indexManager=new s4,this.remoteDocumentCache=function(s){return new f4(s)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new i4(n),this.Gr=new u4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new h4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new p4(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){Xt("MemoryPersistence","Starting transaction:",e);const s=new v4(this.Qr.next());return this.referenceDelegate.zr(),i(s).next(a=>this.referenceDelegate.jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Hr(e,n){return _t.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}}class v4 extends Z3{constructor(e){super(),this.currentSequenceNumber=e}}class Vw{constructor(e){this.persistence=e,this.Jr=new Bw,this.Yr=null}static Zr(e){return new Vw(e)}get Xr(){if(this.Yr)return this.Yr;throw un()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),_t.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),_t.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),_t.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.Xr.add(a.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _t.forEach(this.Xr,i=>{const s=on.fromPath(i);return this.ei(e,s).next(a=>{a||n.removeEntry(s,fn.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return _t.or([()=>_t.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=s}static Wi(e,n){let i=An(),s=An();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Uw(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return sF()?8:eU(br())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,s){const a={result:null};return this.Yi(e,n).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.Zi(e,n,s,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new x4;return this.Xi(e,n,u).next(m=>{if(a.result=m,this.zi)return this.es(e,n,u,m.size)})}).next(()=>a.result)}es(e,n,i,s){return i.documentReadCount<this.ji?(md()<=Nn.DEBUG&&Xt("QueryEngine","SDK will not create cache indexes for query:",du(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),_t.resolve()):(md()<=Nn.DEBUG&&Xt("QueryEngine","Query:",du(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Hi*s?(md()<=Nn.DEBUG&&Xt("QueryEngine","The SDK decides to create cache indexes for query:",du(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bo(n))):_t.resolve())}Yi(e,n){if(VT(n))return _t.resolve(null);let i=bo(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Kb(n,null,"F"),i=bo(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=An(...a);return this.Ji.getDocuments(e,u).next(m=>this.indexManager.getMinOffset(e,i).next(x=>{const _=this.ts(n,m);return this.ns(n,_,u,x.readTime)?this.Yi(e,Kb(n,null,"F")):this.rs(e,_,n,x)}))})))}Zi(e,n,i,s){return VT(n)||s.isEqual(fn.min())?_t.resolve(null):this.Ji.getDocuments(e,i).next(a=>{const u=this.ts(n,a);return this.ns(n,u,i,s)?_t.resolve(null):(md()<=Nn.DEBUG&&Xt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),du(n)),this.rs(e,u,n,Y3(s,-1)).next(m=>m))})}ts(e,n){let i=new ir(lj(e));return n.forEach((s,a)=>{ry(e,a)&&(i=i.add(a))}),i}ns(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Xi(e,n,i){return md()<=Nn.DEBUG&&Xt("QueryEngine","Using full collection scan to execute query:",du(n)),this.Ji.getDocumentsMatchingQuery(e,n,pl.min(),i)}rs(e,n,i,s){return this.Ji.getDocumentsMatchingQuery(e,i,s).next(a=>(n.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,n,i,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new gi(Fn),this._s=new fh(a=>Iw(a),Pw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c4(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function _4(t,e,n,i){return new w4(t,e,n,i)}async function Nj(t,e){const n=mn(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(a=>(s=a,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],m=[];let x=An();for(const _ of s){u.push(_.batchId);for(const j of _.mutations)x=x.add(j.key)}for(const _ of a){m.push(_.batchId);for(const j of _.mutations)x=x.add(j.key)}return n.localDocuments.getDocuments(i,x).next(_=>({hs:_,removedBatchIds:u,addedBatchIds:m}))})})}function E4(t,e){const n=mn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(m,x,_,j){const I=_.batch,U=I.keys();let J=_t.resolve();return U.forEach(ne=>{J=J.next(()=>j.getEntry(x,ne)).next(le=>{const oe=_.docVersions.get(ne);qn(oe!==null),le.version.compareTo(oe)<0&&(I.applyToRemoteDocument(le,_),le.isValidDocument()&&(le.setReadTime(_.commitVersion),j.addEntry(le)))})}),J.next(()=>m.mutationQueue.removeMutationBatch(x,I))}(n,i,e,a).next(()=>a.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(m){let x=An();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(x=x.add(m.batch.mutations[_].key));return x}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function jj(t){const e=mn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function k4(t,e){const n=mn(t),i=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const m=[];e.targetChanges.forEach((j,I)=>{const U=s.get(I);if(!U)return;m.push(n.Ur.removeMatchingKeys(a,j.removedDocuments,I).next(()=>n.Ur.addMatchingKeys(a,j.addedDocuments,I)));let J=U.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(I)!==null?J=J.withResumeToken(sr.EMPTY_BYTE_STRING,fn.min()).withLastLimboFreeSnapshotVersion(fn.min()):j.resumeToken.approximateByteSize()>0&&(J=J.withResumeToken(j.resumeToken,i)),s=s.insert(I,J),function(le,oe,X){return le.resumeToken.approximateByteSize()===0||oe.snapshotVersion.toMicroseconds()-le.snapshotVersion.toMicroseconds()>=3e8?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(U,J,j)&&m.push(n.Ur.updateTargetData(a,J))});let x=ia(),_=An();if(e.documentUpdates.forEach(j=>{e.resolvedLimboDocuments.has(j)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(a,j))}),m.push(T4(a,u,e.documentUpdates).next(j=>{x=j.Ps,_=j.Is})),!i.isEqual(fn.min())){const j=n.Ur.getLastRemoteSnapshotVersion(a).next(I=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,i));m.push(j)}return _t.waitFor(m).next(()=>u.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,x,_)).next(()=>x)}).then(a=>(n.os=s,a))}function T4(t,e,n){let i=An(),s=An();return n.forEach(a=>i=i.add(a)),e.getEntries(t,i).next(a=>{let u=ia();return n.forEach((m,x)=>{const _=a.get(m);x.isFoundDocument()!==_.isFoundDocument()&&(s=s.add(m)),x.isNoDocument()&&x.version.isEqual(fn.min())?(e.removeEntry(m,x.readTime),u=u.insert(m,x)):!_.isValidDocument()||x.version.compareTo(_.version)>0||x.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(x),u=u.insert(m,x)):Xt("LocalStore","Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",x.version)}),{Ps:u,Is:s}})}function C4(t,e){const n=mn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function S4(t,e){const n=mn(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Ur.getTargetData(i,e).next(a=>a?(s=a,_t.resolve(s)):n.Ur.allocateTargetId(i).next(u=>(s=new Ya(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.os.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}async function Zb(t,e,n){const i=mn(t),s=i.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Lp(u))throw u;Xt("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.os=i.os.remove(e),i._s.delete(s.target)}function QT(t,e,n){const i=mn(t);let s=fn.min(),a=An();return i.persistence.runTransaction("Execute query","readwrite",u=>function(x,_,j){const I=mn(x),U=I._s.get(j);return U!==void 0?_t.resolve(I.os.get(U)):I.Ur.getTargetData(_,j)}(i,u,bo(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(u,m.targetId).next(x=>{a=x})}).next(()=>i.ss.getDocumentsMatchingQuery(u,e,n?s:fn.min(),n?a:An())).next(m=>(A4(i,vU(e),m),{documents:m,Ts:a})))}function A4(t,e,n){let i=t.us.get(e)||fn.min();n.forEach((s,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),t.us.set(e,i)}class JT{constructor(){this.activeTargetIds=kU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class N4{constructor(){this.so=new JT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new JT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Xt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Xt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rm=null;function hx(){return rm===null?rm=function(){return 268435456+Math.round(2147483648*Math.random())}():rm++,"0x"+rm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="WebChannelConnection";class M4 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${s}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}get Fo(){return!1}Mo(n,i,s,a,u){const m=hx(),x=this.xo(n,i.toUriEncodedString());Xt("RestConnection",`Sending RPC '${n}' ${m}:`,x,s);const _={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(_,a,u),this.No(n,x,_,s).then(j=>(Xt("RestConnection",`Received RPC '${n}' ${m}: `,j),j),j=>{throw Zu("RestConnection",`RPC '${n}' ${m} failed with error: `,j,"url: ",x,"request:",s),j})}Lo(n,i,s,a,u,m){return this.Mo(n,i,s,a,u)}Oo(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ph}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,u)=>n[u]=a),s&&s.headers.forEach((a,u)=>n[u]=a)}xo(n,i){const s=I4[n];return`${this.Do}/v1/${i}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,s){const a=hx();return new Promise((u,m)=>{const x=new $N;x.setWithCredentials(!0),x.listenOnce(HN.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case Im.NO_ERROR:const j=x.getResponseJson();Xt(mr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(j)),u(j);break;case Im.TIMEOUT:Xt(mr,`RPC '${e}' ${a} timed out`),m(new $t(mt.DEADLINE_EXCEEDED,"Request time out"));break;case Im.HTTP_ERROR:const I=x.getStatus();if(Xt(mr,`RPC '${e}' ${a} failed with status:`,I,"response text:",x.getResponseText()),I>0){let U=x.getResponseJson();Array.isArray(U)&&(U=U[0]);const J=U==null?void 0:U.error;if(J&&J.status&&J.message){const ne=function(oe){const X=oe.toLowerCase().replace(/_/g,"-");return Object.values(mt).indexOf(X)>=0?X:mt.UNKNOWN}(J.status);m(new $t(ne,J.message))}else m(new $t(mt.UNKNOWN,"Server responded with status "+x.getStatus()))}else m(new $t(mt.UNAVAILABLE,"Connection failed."));break;default:un()}}finally{Xt(mr,`RPC '${e}' ${a} completed.`)}});const _=JSON.stringify(s);Xt(mr,`RPC '${e}' ${a} sending request:`,s),x.send(n,"POST",_,i,15)})}Bo(e,n,i){const s=hx(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=KN(),m=GN(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(x.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(x.useFetchStreams=!0),this.Oo(x.initMessageHeaders,n,i),x.encodeInitMessageHeaders=!0;const j=a.join("");Xt(mr,`Creating RPC '${e}' stream ${s}: ${j}`,x);const I=u.createWebChannel(j,x);let U=!1,J=!1;const ne=new P4({Io:oe=>{J?Xt(mr,`Not sending because RPC '${e}' stream ${s} is closed:`,oe):(U||(Xt(mr,`Opening RPC '${e}' stream ${s} transport.`),I.open(),U=!0),Xt(mr,`RPC '${e}' stream ${s} sending:`,oe),I.send(oe))},To:()=>I.close()}),le=(oe,X,O)=>{oe.listen(X,H=>{try{O(H)}catch(te){setTimeout(()=>{throw te},0)}})};return le(I,Sd.EventType.OPEN,()=>{J||(Xt(mr,`RPC '${e}' stream ${s} transport opened.`),ne.yo())}),le(I,Sd.EventType.CLOSE,()=>{J||(J=!0,Xt(mr,`RPC '${e}' stream ${s} transport closed`),ne.So())}),le(I,Sd.EventType.ERROR,oe=>{J||(J=!0,Zu(mr,`RPC '${e}' stream ${s} transport errored:`,oe),ne.So(new $t(mt.UNAVAILABLE,"The operation could not be completed")))}),le(I,Sd.EventType.MESSAGE,oe=>{var X;if(!J){const O=oe.data[0];qn(!!O);const H=O,te=H.error||((X=H[0])===null||X===void 0?void 0:X.error);if(te){Xt(mr,`RPC '${e}' stream ${s} received error:`,te);const Te=te.status;let ge=function(G){const z=Ri[G];if(z!==void 0)return xj(z)}(Te),Y=te.message;ge===void 0&&(ge=mt.INTERNAL,Y="Unknown error status: "+Te+" with message "+te.message),J=!0,ne.So(new $t(ge,Y)),I.close()}else Xt(mr,`RPC '${e}' stream ${s} received:`,O),ne.bo(O)}}),le(m,WN.STAT_EVENT,oe=>{oe.stat===zb.PROXY?Xt(mr,`RPC '${e}' stream ${s} detected buffering proxy`):oe.stat===zb.NOPROXY&&Xt(mr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{ne.wo()},0),ne}}function dx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t){return new qU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e,n,i=1e3,s=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=s,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-i);s>0&&Xt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n,i,s,a,u,m,x){this.ui=e,this.Ho=i,this.Jo=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=x,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ij(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===mt.RESOURCE_EXHAUSTED?(na(n.toString()),na("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===mt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Yo===n&&this.P_(i,s)},i=>{e(()=>{const s=new $t(mt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(s)})})}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{i(()=>this.I_(s))}),this.stream.onMessage(s=>{i(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Xt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Xt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class R4 extends Pj{constructor(e,n,i,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,u),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=WU(this.serializer,e),i=function(a){if(!("targetChange"in a))return fn.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?fn.min():u.readTime?wo(u.readTime):fn.min()}(e);return this.listener.d_(n,i)}A_(e){const n={};n.database=Jb(this.serializer),n.addTarget=function(a,u){let m;const x=u.target;if(m=Wb(x)?{documents:YU(a,x)}:{query:XU(a,x)._t},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=_j(a,u.resumeToken);const _=Yb(a,u.expectedCount);_!==null&&(m.expectedCount=_)}else if(u.snapshotVersion.compareTo(fn.min())>0){m.readTime=_g(a,u.snapshotVersion.toTimestamp());const _=Yb(a,u.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const i=JU(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){const n={};n.database=Jb(this.serializer),n.removeTarget=e,this.a_(n)}}class D4 extends Pj{constructor(e,n,i,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,u),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return qn(!!e.streamToken),this.lastStreamToken=e.streamToken,qn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){qn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=KU(e.writeResults,e.commitTime),i=wo(e.commitTime);return this.listener.g_(i,n)}p_(){const e={};e.database=Jb(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>GU(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4 extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new $t(mt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Mo(e,Xb(n,i),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new $t(mt.UNKNOWN,a.toString())})}Lo(e,n,i,s,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,m])=>this.connection.Lo(e,Xb(n,i),s,u,m,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new $t(mt.UNKNOWN,u.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class L4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(na(n),this.D_=!1):Xt("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,n,i,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(u=>{i.enqueueAndForget(async()=>{Nc(this)&&(Xt("RemoteStore","Restarting streams for network reachability change."),await async function(x){const _=mn(x);_.L_.add(4),await Up(_),_.q_.set("Unknown"),_.L_.delete(4),await cy(_)}(this))})}),this.q_=new L4(i,s)}}async function cy(t){if(Nc(t))for(const e of t.B_)await e(!0)}async function Up(t){for(const e of t.B_)await e(!1)}function Mj(t,e){const n=mn(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Hw(n)?$w(n):mh(n).r_()&&qw(n,e))}function zw(t,e){const n=mn(t),i=mh(n);n.N_.delete(e),i.r_()&&Rj(n,e),n.N_.size===0&&(i.r_()?i.o_():Nc(n)&&n.q_.set("Unknown"))}function qw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fn.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mh(t).A_(e)}function Rj(t,e){t.Q_.xe(e),mh(t).R_(e)}function $w(t){t.Q_=new BU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),mh(t).start(),t.q_.v_()}function Hw(t){return Nc(t)&&!mh(t).n_()&&t.N_.size>0}function Nc(t){return mn(t).L_.size===0}function Dj(t){t.Q_=void 0}async function B4(t){t.q_.set("Online")}async function V4(t){t.N_.forEach((e,n)=>{qw(t,e)})}async function U4(t,e){Dj(t),Hw(t)?(t.q_.M_(e),$w(t)):t.q_.set("Unknown")}async function z4(t,e,n){if(t.q_.set("Online"),e instanceof wj&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const m of a.targetIds)s.N_.has(m)&&(await s.remoteSyncer.rejectListen(m,u),s.N_.delete(m),s.Q_.removeTarget(m))}(t,e)}catch(i){Xt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Eg(t,i)}else if(e instanceof Rm?t.Q_.Ke(e):e instanceof bj?t.Q_.He(e):t.Q_.We(e),!n.isEqual(fn.min()))try{const i=await jj(t.localStore);n.compareTo(i)>=0&&await function(a,u){const m=a.Q_.rt(u);return m.targetChanges.forEach((x,_)=>{if(x.resumeToken.approximateByteSize()>0){const j=a.N_.get(_);j&&a.N_.set(_,j.withResumeToken(x.resumeToken,u))}}),m.targetMismatches.forEach((x,_)=>{const j=a.N_.get(x);if(!j)return;a.N_.set(x,j.withResumeToken(sr.EMPTY_BYTE_STRING,j.snapshotVersion)),Rj(a,x);const I=new Ya(j.target,x,_,j.sequenceNumber);qw(a,I)}),a.remoteSyncer.applyRemoteEvent(m)}(t,n)}catch(i){Xt("RemoteStore","Failed to raise snapshot:",i),await Eg(t,i)}}async function Eg(t,e,n){if(!Lp(e))throw e;t.L_.add(1),await Up(t),t.q_.set("Offline"),n||(n=()=>jj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Xt("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await cy(t)})}function Oj(t,e){return e().catch(n=>Eg(t,n,e))}async function uy(t){const e=mn(t),n=ml(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;q4(e);)try{const s=await C4(e.localStore,i);if(s===null){e.O_.length===0&&n.o_();break}i=s.batchId,$4(e,s)}catch(s){await Eg(e,s)}Lj(e)&&Fj(e)}function q4(t){return Nc(t)&&t.O_.length<10}function $4(t,e){t.O_.push(e);const n=ml(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Lj(t){return Nc(t)&&!ml(t).n_()&&t.O_.length>0}function Fj(t){ml(t).start()}async function H4(t){ml(t).p_()}async function W4(t){const e=ml(t);for(const n of t.O_)e.m_(n.mutations)}async function G4(t,e,n){const i=t.O_.shift(),s=Ow.from(i,e,n);await Oj(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await uy(t)}async function K4(t,e){e&&ml(t).V_&&await async function(i,s){if(function(u){return OU(u)&&u!==mt.ABORTED}(s.code)){const a=i.O_.shift();ml(i).s_(),await Oj(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s)),await uy(i)}}(t,e),Lj(t)&&Fj(t)}async function eC(t,e){const n=mn(t);n.asyncQueue.verifyOperationInProgress(),Xt("RemoteStore","RemoteStore received new credentials");const i=Nc(n);n.L_.add(3),await Up(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await cy(n)}async function Y4(t,e){const n=mn(t);e?(n.L_.delete(2),await cy(n)):e||(n.L_.add(2),await Up(n),n.q_.set("Unknown"))}function mh(t){return t.K_||(t.K_=function(n,i,s){const a=mn(n);return a.w_(),new R4(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Eo:B4.bind(null,t),Ro:V4.bind(null,t),mo:U4.bind(null,t),d_:z4.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Hw(t)?$w(t):t.q_.set("Unknown")):(await t.K_.stop(),Dj(t))})),t.K_}function ml(t){return t.U_||(t.U_=function(n,i,s){const a=mn(n);return a.w_(),new D4(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:H4.bind(null,t),mo:K4.bind(null,t),f_:W4.bind(null,t),g_:G4.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await uy(t)):(await t.U_.stop(),t.O_.length>0&&(Xt("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n,i,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new Ko,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,a){const u=Date.now()+i,m=new Ww(e,n,u,s,a);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $t(mt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gw(t,e){if(na("AsyncQueue",`${e}: ${t}`),Lp(t))return new $t(mt.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e){this.comparator=e?(n,i)=>e(n,i)||on.comparator(n.key,i.key):(n,i)=>on.comparator(n.key,i.key),this.keyedMap=Ad(),this.sortedSet=new gi(this.comparator)}static emptySet(e){return new qu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new qu;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.W_=new gi(on.comparator)}track(e){const n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):un():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}}class rh{constructor(e,n,i,s,a,u,m,x,_){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=x,this.hasCachedResults=_}static fromInitialDocuments(e,n,i,s,a){const u=[];return n.forEach(m=>{u.push({type:0,doc:m})}),new rh(e,n,qu.emptySet(n),u,i,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&iy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Q4{constructor(){this.queries=nC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const s=mn(n),a=s.queries;s.queries=nC(),a.forEach((u,m)=>{for(const x of m.j_)x.onError(i)})})(this,new $t(mt.ABORTED,"Firestore shutting down"))}}function nC(){return new fh(t=>aj(t),iy)}async function Bj(t,e){const n=mn(t);let i=3;const s=e.query;let a=n.queries.get(s);a?!a.H_()&&e.J_()&&(i=2):(a=new X4,i=e.J_()?0:1);try{switch(i){case 0:a.z_=await n.onListen(s,!0);break;case 1:a.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const m=Gw(u,`Initialization of query '${du(e.query)}' failed`);return void e.onError(m)}n.queries.set(s,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&Kw(n)}async function Vj(t,e){const n=mn(t),i=e.query;let s=3;const a=n.queries.get(i);if(a){const u=a.j_.indexOf(e);u>=0&&(a.j_.splice(u,1),a.j_.length===0?s=e.J_()?0:1:!a.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function J4(t,e){const n=mn(t);let i=!1;for(const s of e){const a=s.query,u=n.queries.get(a);if(u){for(const m of u.j_)m.X_(s)&&(i=!0);u.z_=s}}i&&Kw(n)}function Z4(t,e,n){const i=mn(t),s=i.queries.get(e);if(s)for(const a of s.j_)a.onError(n);i.queries.delete(e)}function Kw(t){t.Y_.forEach(e=>{e.next()})}var e0,iC;(iC=e0||(e0={})).ea="default",iC.Cache="cache";class Uj{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new rh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=rh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==e0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e){this.key=e}}class qj{constructor(e){this.key=e}}class e5{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=An(),this.mutatedKeys=An(),this.Aa=lj(e),this.Ra=new qu(this.Aa)}get Va(){return this.Ta}ma(e,n){const i=n?n.fa:new tC,s=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,u=s,m=!1;const x=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,_=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((j,I)=>{const U=s.get(j),J=ry(this.query,I)?I:null,ne=!!U&&this.mutatedKeys.has(U.key),le=!!J&&(J.hasLocalMutations||this.mutatedKeys.has(J.key)&&J.hasCommittedMutations);let oe=!1;U&&J?U.data.isEqual(J.data)?ne!==le&&(i.track({type:3,doc:J}),oe=!0):this.ga(U,J)||(i.track({type:2,doc:J}),oe=!0,(x&&this.Aa(J,x)>0||_&&this.Aa(J,_)<0)&&(m=!0)):!U&&J?(i.track({type:0,doc:J}),oe=!0):U&&!J&&(i.track({type:1,doc:U}),oe=!0,(x||_)&&(m=!0)),oe&&(J?(u=u.add(J),a=le?a.add(j):a.delete(j)):(u=u.delete(j),a=a.delete(j)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const j=this.query.limitType==="F"?u.last():u.first();u=u.delete(j.key),a=a.delete(j.key),i.track({type:1,doc:j})}return{Ra:u,fa:i,ns:m,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const u=e.fa.G_();u.sort((j,I)=>function(J,ne){const le=oe=>{switch(oe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return un()}};return le(J)-le(ne)}(j.type,I.type)||this.Aa(j.doc,I.doc)),this.pa(i),s=s!=null&&s;const m=n&&!s?this.ya():[],x=this.da.size===0&&this.current&&!s?1:0,_=x!==this.Ea;return this.Ea=x,u.length!==0||_?{snapshot:new rh(this.query,e.Ra,a,u,e.mutatedKeys,x===0,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new tC,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=An(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return e.forEach(i=>{this.da.has(i)||n.push(new qj(i))}),this.da.forEach(i=>{e.has(i)||n.push(new zj(i))}),n}ba(e){this.Ta=e.Ts,this.da=An();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return rh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class t5{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class n5{constructor(e){this.key=e,this.va=!1}}class i5{constructor(e,n,i,s,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ca={},this.Fa=new fh(m=>aj(m),iy),this.Ma=new Map,this.xa=new Set,this.Oa=new gi(on.comparator),this.Na=new Map,this.La=new Bw,this.Ba={},this.ka=new Map,this.qa=ih.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function r5(t,e,n=!0){const i=Yj(t);let s;const a=i.Fa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Da()):s=await $j(i,e,n,!0),s}async function s5(t,e){const n=Yj(t);await $j(n,e,!0,!1)}async function $j(t,e,n,i){const s=await S4(t.localStore,bo(e)),a=s.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let m;return i&&(m=await o5(t,e,a,u==="current",s.resumeToken)),t.isPrimaryClient&&n&&Mj(t.remoteStore,s),m}async function o5(t,e,n,i,s){t.Ka=(I,U,J)=>async function(le,oe,X,O){let H=oe.view.ma(X);H.ns&&(H=await QT(le.localStore,oe.query,!1).then(({documents:Y})=>oe.view.ma(Y,H)));const te=O&&O.targetChanges.get(oe.targetId),Te=O&&O.targetMismatches.get(oe.targetId)!=null,ge=oe.view.applyChanges(H,le.isPrimaryClient,te,Te);return sC(le,oe.targetId,ge.wa),ge.snapshot}(t,I,U,J);const a=await QT(t.localStore,e,!0),u=new e5(e,a.Ts),m=u.ma(a.documents),x=Vp.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),_=u.applyChanges(m,t.isPrimaryClient,x);sC(t,n,_.wa);const j=new t5(e,n,u);return t.Fa.set(e,j),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),_.snapshot}async function a5(t,e,n){const i=mn(t),s=i.Fa.get(e),a=i.Ma.get(s.targetId);if(a.length>1)return i.Ma.set(s.targetId,a.filter(u=>!iy(u,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Zb(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&zw(i.remoteStore,s.targetId),t0(i,s.targetId)}).catch(Op)):(t0(i,s.targetId),await Zb(i.localStore,s.targetId,!0))}async function l5(t,e){const n=mn(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),zw(n.remoteStore,i.targetId))}async function c5(t,e,n){const i=g5(t);try{const s=await function(u,m){const x=mn(u),_=zi.now(),j=m.reduce((J,ne)=>J.add(ne.key),An());let I,U;return x.persistence.runTransaction("Locally write mutations","readwrite",J=>{let ne=ia(),le=An();return x.cs.getEntries(J,j).next(oe=>{ne=oe,ne.forEach((X,O)=>{O.isValidDocument()||(le=le.add(X))})}).next(()=>x.localDocuments.getOverlayedDocuments(J,ne)).next(oe=>{I=oe;const X=[];for(const O of m){const H=IU(O,I.get(O.key).overlayedDocument);H!=null&&X.push(new _l(O.key,H,ZN(H.value.mapValue),Hs.exists(!0)))}return x.mutationQueue.addMutationBatch(J,_,X,m)}).next(oe=>{U=oe;const X=oe.applyToLocalDocumentSet(I,le);return x.documentOverlayCache.saveOverlays(J,oe.batchId,X)})}).then(()=>({batchId:U.batchId,changes:uj(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(u,m,x){let _=u.Ba[u.currentUser.toKey()];_||(_=new gi(Fn)),_=_.insert(m,x),u.Ba[u.currentUser.toKey()]=_}(i,s.batchId,n),await zp(i,s.changes),await uy(i.remoteStore)}catch(s){const a=Gw(s,"Failed to persist write");n.reject(a)}}async function Hj(t,e){const n=mn(t);try{const i=await k4(n.localStore,e);e.targetChanges.forEach((s,a)=>{const u=n.Na.get(a);u&&(qn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.va=!0:s.modifiedDocuments.size>0?qn(u.va):s.removedDocuments.size>0&&(qn(u.va),u.va=!1))}),await zp(n,i,e)}catch(i){await Op(i)}}function rC(t,e,n){const i=mn(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Fa.forEach((a,u)=>{const m=u.view.Z_(e);m.snapshot&&s.push(m.snapshot)}),function(u,m){const x=mn(u);x.onlineState=m;let _=!1;x.queries.forEach((j,I)=>{for(const U of I.j_)U.Z_(m)&&(_=!0)}),_&&Kw(x)}(i.eventManager,e),s.length&&i.Ca.d_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function u5(t,e,n){const i=mn(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Na.get(e),a=s&&s.key;if(a){let u=new gi(on.comparator);u=u.insert(a,vr.newNoDocument(a,fn.min()));const m=An().add(a),x=new ay(fn.min(),new Map,new gi(Fn),u,m);await Hj(i,x),i.Oa=i.Oa.remove(a),i.Na.delete(e),Yw(i)}else await Zb(i.localStore,e,!1).then(()=>t0(i,e,n)).catch(Op)}async function h5(t,e){const n=mn(t),i=e.batch.batchId;try{const s=await E4(n.localStore,e);Gj(n,i,null),Wj(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await zp(n,s)}catch(s){await Op(s)}}async function d5(t,e,n){const i=mn(t);try{const s=await function(u,m){const x=mn(u);return x.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let j;return x.mutationQueue.lookupMutationBatch(_,m).next(I=>(qn(I!==null),j=I.keys(),x.mutationQueue.removeMutationBatch(_,I))).next(()=>x.mutationQueue.performConsistencyCheck(_)).next(()=>x.documentOverlayCache.removeOverlaysForBatchId(_,j,m)).next(()=>x.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,j)).next(()=>x.localDocuments.getDocuments(_,j))})}(i.localStore,e);Gj(i,e,n),Wj(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await zp(i,s)}catch(s){await Op(s)}}function Wj(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Gj(t,e,n){const i=mn(t);let s=i.Ba[i.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),i.Ba[i.currentUser.toKey()]=s}}function t0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(i=>{t.La.containsKey(i)||Kj(t,i)})}function Kj(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(zw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Yw(t))}function sC(t,e,n){for(const i of n)i instanceof zj?(t.La.addReference(i.key,e),p5(t,i)):i instanceof qj?(Xt("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||Kj(t,i.key)):un()}function p5(t,e){const n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(Xt("SyncEngine","New document in limbo: "+n),t.xa.add(i),Yw(t))}function Yw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new on(ti.fromString(e)),i=t.qa.next();t.Na.set(i,new n5(n)),t.Oa=t.Oa.insert(n,i),Mj(t.remoteStore,new Ya(bo(Mw(n.path)),i,"TargetPurposeLimboResolution",Sw.oe))}}async function zp(t,e,n){const i=mn(t),s=[],a=[],u=[];i.Fa.isEmpty()||(i.Fa.forEach((m,x)=>{u.push(i.Ka(x,e,n).then(_=>{var j;if((_||n)&&i.isPrimaryClient){const I=_?!_.fromCache:(j=n==null?void 0:n.targetChanges.get(x.targetId))===null||j===void 0?void 0:j.current;i.sharedClientState.updateQueryState(x.targetId,I?"current":"not-current")}if(_){s.push(_);const I=Uw.Wi(x.targetId,_);a.push(I)}}))}),await Promise.all(u),i.Ca.d_(s),await async function(x,_){const j=mn(x);try{await j.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>_t.forEach(_,U=>_t.forEach(U.$i,J=>j.persistence.referenceDelegate.addReference(I,U.targetId,J)).next(()=>_t.forEach(U.Ui,J=>j.persistence.referenceDelegate.removeReference(I,U.targetId,J)))))}catch(I){if(!Lp(I))throw I;Xt("LocalStore","Failed to update sequence numbers: "+I)}for(const I of _){const U=I.targetId;if(!I.fromCache){const J=j.os.get(U),ne=J.snapshotVersion,le=J.withLastLimboFreeSnapshotVersion(ne);j.os=j.os.insert(U,le)}}}(i.localStore,a))}async function f5(t,e){const n=mn(t);if(!n.currentUser.isEqual(e)){Xt("SyncEngine","User change. New user:",e.toKey());const i=await Nj(n.localStore,e);n.currentUser=e,function(a,u){a.ka.forEach(m=>{m.forEach(x=>{x.reject(new $t(mt.CANCELLED,u))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await zp(n,i.hs)}}function m5(t,e){const n=mn(t),i=n.Na.get(e);if(i&&i.va)return An().add(i.key);{let s=An();const a=n.Ma.get(e);if(!a)return s;for(const u of a){const m=n.Fa.get(u);s=s.unionWith(m.view.Va)}return s}}function Yj(t){const e=mn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u5.bind(null,e),e.Ca.d_=J4.bind(null,e.eventManager),e.Ca.$a=Z4.bind(null,e.eventManager),e}function g5(t){const e=mn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d5.bind(null,e),e}class kg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ly(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return _4(this.persistence,new b4,e.initialUser,this.serializer)}Ga(e){return new y4(Vw.Zr,this.serializer)}Wa(e){return new N4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kg.provider={build:()=>new kg};class n0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>rC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=f5.bind(null,this.syncEngine),await Y4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Q4}()}createDatastore(e){const n=ly(e.databaseInfo.databaseId),i=function(a){return new M4(a)}(e.databaseInfo);return function(a,u,m,x){return new O4(a,u,m,x)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,a,u,m){return new F4(i,s,a,u,m)}(this.localStore,this.datastore,e.asyncQueue,n=>rC(this.syncEngine,n,0),function(){return ZT.D()?new ZT:new j4}())}createSyncEngine(e,n){return function(s,a,u,m,x,_,j){const I=new i5(s,a,u,m,x,_);return j&&(I.Qa=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=mn(s);Xt("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Up(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}n0.provider={build:()=>new n0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):na("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,n,i,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=gr.UNAUTHENTICATED,this.clientId=XN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{Xt("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(Xt("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ko;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Gw(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function px(t,e){t.asyncQueue.verifyOperationInProgress(),Xt("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await Nj(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function oC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await v5(t);Xt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>eC(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>eC(e.remoteStore,s)),t._onlineComponents=e}async function v5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Xt("FirestoreClient","Using user provided OfflineComponentProvider");try{await px(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===mt.FAILED_PRECONDITION||s.code===mt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Zu("Error using user provided cache. Falling back to memory cache: "+n),await px(t,new kg)}}else Xt("FirestoreClient","Using default OfflineComponentProvider"),await px(t,new kg);return t._offlineComponents}async function Qj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Xt("FirestoreClient","Using user provided OnlineComponentProvider"),await oC(t,t._uninitializedComponentsProvider._online)):(Xt("FirestoreClient","Using default OnlineComponentProvider"),await oC(t,new n0))),t._onlineComponents}function x5(t){return Qj(t).then(e=>e.syncEngine)}async function Jj(t){const e=await Qj(t),n=e.eventManager;return n.onListen=r5.bind(null,e.syncEngine),n.onUnlisten=a5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=s5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=l5.bind(null,e.syncEngine),n}function b5(t,e,n={}){const i=new Ko;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,m,x,_){const j=new Xj({next:U=>{j.Za(),u.enqueueAndForget(()=>Vj(a,I));const J=U.docs.has(m);!J&&U.fromCache?_.reject(new $t(mt.UNAVAILABLE,"Failed to get document because the client is offline.")):J&&U.fromCache&&x&&x.source==="server"?_.reject(new $t(mt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(U)},error:U=>_.reject(U)}),I=new Uj(Mw(m.path),j,{includeMetadataChanges:!0,_a:!0});return Bj(a,I)}(await Jj(t),t.asyncQueue,e,n,i)),i.promise}function w5(t,e,n={}){const i=new Ko;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,m,x,_){const j=new Xj({next:U=>{j.Za(),u.enqueueAndForget(()=>Vj(a,I)),U.fromCache&&x.source==="server"?_.reject(new $t(mt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(U)},error:U=>_.reject(U)}),I=new Uj(m,j,{includeMetadataChanges:!0,_a:!0});return Bj(a,I)}(await Jj(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t,e,n){if(!n)throw new $t(mt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _5(t,e,n,i){if(e===!0&&i===!0)throw new $t(mt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lC(t){if(!on.isDocumentKey(t))throw new $t(mt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cC(t){if(on.isDocumentKey(t))throw new $t(mt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":un()}function Eo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $t(mt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hy(t);throw new $t(mt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new $t(mt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $t(mt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zj((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new $t(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new $t(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new $t(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dy{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uC({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $t(mt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $t(mt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uC(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new V3;switch(i.type){case"firstParty":return new $3(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new $t(mt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=aC.get(n);i&&(Xt("ComponentProvider","Removing Datastore"),aC.delete(n),i.terminate())}(this),Promise.resolve()}}function E5(t,e,n,i={}){var s;const a=(t=Eo(t,dy))._getSettings(),u=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&Zu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),i.mockUserToken){let m,x;if(typeof i.mockUserToken=="string")m=i.mockUserToken,x=gr.MOCK_USER;else{m=ZA(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new $t(mt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new gr(_)}t._authCredentials=new U3(new YN(m,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new gh(this.firestore,e,this._query)}}class Tr{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new al(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tr(this.firestore,e,this._key)}}class al extends gh{constructor(e,n,i){super(e,n,Mw(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tr(this.firestore,null,new on(e))}withConverter(e){return new al(this.firestore,e,this._path)}}function tI(t,e,...n){if(t=$n(t),eI("collection","path",e),t instanceof dy){const i=ti.fromString(e,...n);return cC(i),new al(t,null,i)}{if(!(t instanceof Tr||t instanceof al))throw new $t(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ti.fromString(e,...n));return cC(i),new al(t.firestore,null,i)}}function Tg(t,e,...n){if(t=$n(t),arguments.length===1&&(e=XN.newId()),eI("doc","path",e),t instanceof dy){const i=ti.fromString(e,...n);return lC(i),new Tr(t,null,new on(i))}{if(!(t instanceof Tr||t instanceof al))throw new $t(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ti.fromString(e,...n));return lC(i),new Tr(t.firestore,t instanceof al?t.converter:null,new on(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ij(this,"async_queue_retry"),this.Vu=()=>{const i=dx();i&&Xt("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=dx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=dx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ko;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Lp(e))throw e;Xt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const s=function(u){let m=u.message||"";return u.stack&&(m=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),m}(i);throw na("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Ww.createAndSchedule(this,e,n,i,a=>this.yu(a));return this.Tu.push(s),s}fu(){this.Eu&&un()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class yh extends dy{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new hC,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hC(e),this._firestoreClient=void 0,await e}}}function k5(t,e){const n=typeof t=="object"?t:Ip(),i=typeof t=="string"?t:"(default)",s=bl(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const a=XA("firestore");a&&E5(s,...a)}return s}function Xw(t){if(t._terminated)throw new $t(mt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||T5(t),t._firestoreClient}function T5(t){var e,n,i;const s=t._freezeSettings(),a=function(m,x,_,j){return new iU(m,x,_,j.host,j.ssl,j.experimentalForceLongPolling,j.experimentalAutoDetectLongPolling,Zj(j.experimentalLongPollingOptions),j.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new y5(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(m){const x=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(x),_online:x}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sh(sr.fromBase64String(e))}catch(n){throw new $t(mt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new sh(sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $t(mt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $t(mt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $t(mt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fn(this._lat,e._lat)||Fn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=/^__.*__$/;class S5{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new _l(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bp(e,this.data,n,this.fieldTransforms)}}class nI{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new _l(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw un()}}class e_{constructor(e,n,i,s,a,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new e_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:i,xu:!1});return s.Ou(e),s}Nu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:i,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Cg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(iI(this.Cu)&&C5.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class A5{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||ly(e)}Qu(e,n,i,s=!1){return new e_({Cu:e,methodName:n,qu:i,path:tr.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function t_(t){const e=t._freezeSettings(),n=ly(t._databaseId);return new A5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function N5(t,e,n,i,s,a={}){const u=t.Qu(a.merge||a.mergeFields?2:0,e,n,s);n_("Data must be an object, but it was:",u,i);const m=rI(i,u);let x,_;if(a.merge)x=new Zr(u.fieldMask),_=u.fieldTransforms;else if(a.mergeFields){const j=[];for(const I of a.mergeFields){const U=i0(e,I,n);if(!u.contains(U))throw new $t(mt.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);oI(j,U)||j.push(U)}x=new Zr(j),_=u.fieldTransforms.filter(I=>x.covers(I.field))}else x=null,_=u.fieldTransforms;return new S5(new Dr(m),x,_)}class fy extends Qw{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fy}}function j5(t,e,n,i){const s=t.Qu(1,e,n);n_("Data must be an object, but it was:",s,i);const a=[],u=Dr.empty();Ac(i,(x,_)=>{const j=i_(e,x,n);_=$n(_);const I=s.Nu(j);if(_ instanceof fy)a.push(j);else{const U=qp(_,I);U!=null&&(a.push(j),u.set(j,U))}});const m=new Zr(a);return new nI(u,m,s.fieldTransforms)}function I5(t,e,n,i,s,a){const u=t.Qu(1,e,n),m=[i0(e,i,n)],x=[s];if(a.length%2!=0)throw new $t(mt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<a.length;U+=2)m.push(i0(e,a[U])),x.push(a[U+1]);const _=[],j=Dr.empty();for(let U=m.length-1;U>=0;--U)if(!oI(_,m[U])){const J=m[U];let ne=x[U];ne=$n(ne);const le=u.Nu(J);if(ne instanceof fy)_.push(J);else{const oe=qp(ne,le);oe!=null&&(_.push(J),j.set(J,oe))}}const I=new Zr(_);return new nI(j,I,u.fieldTransforms)}function P5(t,e,n,i=!1){return qp(n,t.Qu(i?4:3,e))}function qp(t,e){if(sI(t=$n(t)))return n_("Unsupported field value:",e,t),rI(t,e);if(t instanceof Qw)return function(i,s){if(!iI(s.Cu))throw s.Bu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,s){const a=[];let u=0;for(const m of i){let x=qp(m,s.Lu(u));x==null&&(x={nullValue:"NULL_VALUE"}),a.push(x),u++}return{arrayValue:{values:a}}}(t,e)}return function(i,s){if((i=$n(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return TU(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=zi.fromDate(i);return{timestampValue:_g(s.serializer,a)}}if(i instanceof zi){const a=new zi(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:_g(s.serializer,a)}}if(i instanceof Jw)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof sh)return{bytesValue:_j(s.serializer,i._byteString)};if(i instanceof Tr){const a=s.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw s.Bu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Fw(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Zw)return function(u,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(x=>{if(typeof x!="number")throw m.Bu("VectorValues must only contain numeric values.");return Rw(m.serializer,x)})}}}}}}(i,s);throw s.Bu(`Unsupported field value: ${hy(i)}`)}(t,e)}function rI(t,e){const n={};return QN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ac(t,(i,s)=>{const a=qp(s,e.Mu(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function sI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zi||t instanceof Jw||t instanceof sh||t instanceof Tr||t instanceof Qw||t instanceof Zw)}function n_(t,e,n){if(!sI(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=hy(n);throw i==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+i)}}function i0(t,e,n){if((e=$n(e))instanceof py)return e._internalPath;if(typeof e=="string")return i_(t,e);throw Cg("Field path arguments must be of type string or ",t,!1,void 0,n)}const M5=new RegExp("[~\\*/\\[\\]]");function i_(t,e,n){if(e.search(M5)>=0)throw Cg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new py(...e.split("."))._internalPath}catch{throw Cg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cg(t,e,n,i,s){const a=i&&!i.isEmpty(),u=s!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let x="";return(a||u)&&(x+=" (found",a&&(x+=` in field ${i}`),u&&(x+=` in document ${s}`),x+=")"),new $t(mt.INVALID_ARGUMENT,m+t+x)}function oI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n,i,s,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new R5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(r_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class R5 extends aI{data(){return super.data()}}function r_(t,e){return typeof e=="string"?i_(t,e):e instanceof py?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $t(mt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class s_{}class O5 extends s_{}function dC(t,e,...n){let i=[];e instanceof s_&&i.push(e),i=i.concat(n),function(a){const u=a.filter(x=>x instanceof o_).length,m=a.filter(x=>x instanceof my).length;if(u>1||u>0&&m>0)throw new $t(mt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class my extends O5{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new my(e,n,i)}_apply(e){const n=this._parse(e);return lI(e._query,n),new gh(e.firestore,e.converter,Gb(e._query,n))}_parse(e){const n=t_(e.firestore);return function(a,u,m,x,_,j,I){let U;if(_.isKeyField()){if(j==="array-contains"||j==="array-contains-any")throw new $t(mt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${j}' queries on documentId().`);if(j==="in"||j==="not-in"){mC(I,j);const J=[];for(const ne of I)J.push(fC(x,a,ne));U={arrayValue:{values:J}}}else U=fC(x,a,I)}else j!=="in"&&j!=="not-in"&&j!=="array-contains-any"||mC(I,j),U=P5(m,u,I,j==="in"||j==="not-in");return Oi.create(_,j,U)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function pC(t,e,n){const i=e,s=r_("where",t);return my._create(s,i,n)}class o_ extends s_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new o_(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Ys.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,a){let u=s;const m=a.getFlattenedFilters();for(const x of m)lI(u,x),u=Gb(u,x)}(e._query,n),new gh(e.firestore,e.converter,Gb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function fC(t,e,n){if(typeof(n=$n(n))=="string"){if(n==="")throw new $t(mt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oj(e)&&n.indexOf("/")!==-1)throw new $t(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ti.fromString(n));if(!on.isDocumentKey(i))throw new $t(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return RT(t,new on(i))}if(n instanceof Tr)return RT(t,n._key);throw new $t(mt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hy(n)}.`)}function mC(t,e){if(!Array.isArray(t)||t.length===0)throw new $t(mt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lI(t,e){const n=function(s,a){for(const u of s)for(const m of u.getFlattenedFilters())if(a.indexOf(m.op)>=0)return m.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $t(mt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $t(mt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class L5{convertValue(e,n="none"){switch(yc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ti(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw un()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ac(e,(s,a)=>{i[s]=this.convertValue(a,n)}),i}convertVectorValue(e){var n,i,s;const a=(s=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(u=>Ti(u.doubleValue));return new Zw(a)}convertGeoPoint(e){return new Jw(Ti(e.latitude),Ti(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Nw(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(xp(e));default:return null}}convertTimestamp(e){const n=fl(e);return new zi(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ti.fromString(e);qn(Aj(i));const s=new bp(i.get(1),i.get(3)),a=new on(i.popFirst(5));return s.isEqual(n)||na(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cI extends aI{constructor(e,n,i,s,a,u){super(e,n,i,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(r_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Dm extends cI{data(e={}){return super.data(e)}}class B5{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new jd(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Dm(this._firestore,this._userDataWriter,i.key,i,new jd(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $t(mt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(m=>{const x=new Dm(s._firestore,s._userDataWriter,m.doc.key,m.doc,new jd(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);return m.doc,{type:"added",doc:x,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>a||m.type!==3).map(m=>{const x=new Dm(s._firestore,s._userDataWriter,m.doc.key,m.doc,new jd(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let _=-1,j=-1;return m.type!==0&&(_=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),j=u.indexOf(m.doc.key)),{type:V5(m.type),doc:x,oldIndex:_,newIndex:j}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function V5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return un()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t){t=Eo(t,Tr);const e=Eo(t.firestore,yh);return b5(Xw(e),t._key).then(n=>U5(e,t,n))}class uI extends L5{constructor(e){super(),this.firestore=e}convertBytes(e){return new sh(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tr(this.firestore,null,n)}}function Om(t){t=Eo(t,gh);const e=Eo(t.firestore,yh),n=Xw(e),i=new uI(e);return D5(t._query),w5(n,t._query).then(s=>new B5(e,i,t,s))}function r0(t,e,n){t=Eo(t,Tr);const i=Eo(t.firestore,yh),s=F5(t.converter,e,n);return a_(i,[N5(t_(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Hs.none())])}function s0(t,e,n,...i){t=Eo(t,Tr);const s=Eo(t.firestore,yh),a=t_(s);let u;return u=typeof(e=$n(e))=="string"||e instanceof py?I5(a,"updateDoc",t._key,e,n,i):j5(a,"updateDoc",t._key,e),a_(s,[u.toMutation(t._key,Hs.exists(!0))])}function yC(t){return a_(Eo(t.firestore,yh),[new Dw(t._key,Hs.none())])}function a_(t,e){return function(i,s){const a=new Ko;return i.asyncQueue.enqueueAndForget(async()=>c5(await x5(i),s,a)),a.promise}(Xw(t),e)}function U5(t,e,n){const i=n.docs.get(e._key),s=new uI(t);return new cI(t,s,e._key,i,new jd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){ph=s})(Cc),Gs(new Es("firestore",(i,{instanceIdentifier:s,options:a})=>{const u=i.getProvider("app").getImmediate(),m=new yh(new z3(i.getProvider("auth-internal")),new W3(i.getProvider("app-check-internal")),function(_,j){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new $t(mt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bp(_.options.projectId,j)}(u,s),u);return a=Object.assign({useFetchStreams:n},a),m._setSettings(a),m},"PUBLIC").setMultipleInstances(!0)),Vr(NT,"4.7.3",e),Vr(NT,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="firebasestorage.googleapis.com",dI="storageBucket",z5=2*60*1e3,q5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends ks{constructor(e,n,i=0){super(fx(e),`Firebase Storage: ${n} (${fx(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ni.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ai;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ai||(Ai={}));function fx(t){return"storage/"+t}function l_(){const t="An unknown error occurred, please check the error payload for server response.";return new Ni(Ai.UNKNOWN,t)}function $5(t){return new Ni(Ai.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function H5(t){return new Ni(Ai.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function W5(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ni(Ai.UNAUTHENTICATED,t)}function G5(){return new Ni(Ai.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function K5(t){return new Ni(Ai.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Y5(){return new Ni(Ai.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function X5(){return new Ni(Ai.CANCELED,"User canceled the upload/download.")}function Q5(t){return new Ni(Ai.INVALID_URL,"Invalid URL '"+t+"'.")}function J5(t){return new Ni(Ai.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Z5(){return new Ni(Ai.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+dI+"' property when initializing the app?")}function ez(){return new Ni(Ai.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function tz(t){return new Ni(Ai.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function o0(t){return new Ni(Ai.INVALID_ARGUMENT,t)}function pI(){return new Ni(Ai.APP_DELETED,"The Firebase app was deleted.")}function nz(t){return new Ni(Ai.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Gd(t,e){return new Ni(Ai.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function gd(t){throw new Ni(Ai.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=es.makeFromUrl(e,n)}catch{return new es(e,"")}if(i.path==="")return i;throw J5(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function a(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const u="(/(.*))?$",m=new RegExp("^gs://"+s+u,"i"),x={bucket:1,path:3};function _(te){te.path_=decodeURIComponent(te.path)}const j="v[A-Za-z0-9_]+",I=n.replace(/[.]/g,"\\."),U="(/([^?#]*).*)?$",J=new RegExp(`^https?://${I}/${j}/b/${s}/o${U}`,"i"),ne={bucket:1,path:3},le=n===hI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,oe="([^?#]*)",X=new RegExp(`^https?://${le}/${s}/${oe}`,"i"),H=[{regex:m,indices:x,postModify:a},{regex:J,indices:ne,postModify:_},{regex:X,indices:{bucket:1,path:2},postModify:_}];for(let te=0;te<H.length;te++){const Te=H[te],ge=Te.regex.exec(e);if(ge){const Y=ge[Te.indices.bucket];let M=ge[Te.indices.path];M||(M=""),i=new es(Y,M),Te.postModify(i);break}}if(i==null)throw Q5(e);return i}}class iz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(t,e,n){let i=1,s=null,a=null,u=!1,m=0;function x(){return m===2}let _=!1;function j(...oe){_||(_=!0,e.apply(null,oe))}function I(oe){s=setTimeout(()=>{s=null,t(J,x())},oe)}function U(){a&&clearTimeout(a)}function J(oe,...X){if(_){U();return}if(oe){U(),j.call(null,oe,...X);return}if(x()||u){U(),j.call(null,oe,...X);return}i<64&&(i*=2);let H;m===1?(m=2,H=0):H=(i+Math.random())*1e3,I(H)}let ne=!1;function le(oe){ne||(ne=!0,U(),!_&&(s!==null?(oe||(m=2),clearTimeout(s),I(0)):oe||(m=1)))}return I(0),a=setTimeout(()=>{u=!0,le(!0)},n),le}function sz(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(t){return t!==void 0}function az(t){return typeof t=="object"&&!Array.isArray(t)}function fI(t){return typeof t=="string"||t instanceof String}function vC(t){return c_()&&t instanceof Blob}function c_(){return typeof Blob<"u"}function xC(t,e,n,i){if(i<e)throw o0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw o0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function lz(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var oc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(oc||(oc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cz(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e,n,i,s,a,u,m,x,_,j,I,U=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=m,this.errorCallback_=x,this.timeout_=_,this.progressCallback_=j,this.connectionFactory_=I,this.retry=U,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((J,ne)=>{this.resolve_=J,this.reject_=ne,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new sm(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=m=>{const x=m.loaded,_=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(x,_)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const m=a.getErrorCode()===oc.NO_ERROR,x=a.getStatus();if(!m||cz(x,this.additionalRetryCodes_)&&this.retry){const j=a.getErrorCode()===oc.ABORT;i(!1,new sm(!1,null,j));return}const _=this.successCodes_.indexOf(x)!==-1;i(!0,new sm(_,a))})},n=(i,s)=>{const a=this.resolve_,u=this.reject_,m=s.connection;if(s.wasSuccessCode)try{const x=this.callback_(m,m.getResponse());oz(x)?a(x):a()}catch(x){u(x)}else if(m!==null){const x=l_();x.serverResponse=m.getErrorText(),this.errorCallback_?u(this.errorCallback_(m,x)):u(x)}else if(s.canceled){const x=this.appDelete_?pI():X5();u(x)}else{const x=Y5();u(x)}};this.canceled_?n(!1,new sm(!1,null,!0)):this.backoffId_=rz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&sz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sm{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function hz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function dz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function pz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function fz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function mz(t,e,n,i,s,a,u=!0){const m=lz(t.urlParams),x=t.url+m,_=Object.assign({},t.headers);return pz(_,e),hz(_,n),dz(_,a),fz(_,i),new uz(x,t.method,_,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function yz(...t){const e=gz();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(c_())return new Blob(t);throw new Ni(Ai.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function vz(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xz(t){if(typeof atob>"u")throw tz("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class mx{constructor(e,n){this.data=e,this.contentType=n||null}}function bz(t,e){switch(t){case mo.RAW:return new mx(gI(e));case mo.BASE64:case mo.BASE64URL:return new mx(yI(t,e));case mo.DATA_URL:return new mx(_z(e),Ez(e))}throw l_()}function gI(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=i,u=t.charCodeAt(++n);i=65536|(a&1023)<<10|u&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function wz(t){let e;try{e=decodeURIComponent(t)}catch{throw Gd(mo.DATA_URL,"Malformed data URL.")}return gI(e)}function yI(t,e){switch(t){case mo.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Gd(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case mo.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Gd(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=xz(e)}catch(s){throw s.message.includes("polyfill")?s:Gd(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}class vI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Gd(mo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=kz(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function _z(t){const e=new vI(t);return e.base64?yI(mo.BASE64,e.rest):wz(e.rest)}function Ez(t){return new vI(t).contentType}function kz(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n){let i=0,s="";vC(e)?(this.data_=e,i=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(vC(this.data_)){const i=this.data_,s=vz(i,e,n);return s===null?null:new Ha(s)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Ha(i,!0)}}static getBlob(...e){if(c_()){const n=e.map(i=>i instanceof Ha?i.data_:i);return new Ha(yz.apply(null,n))}else{const n=e.map(u=>fI(u)?bz(mo.RAW,u).data:u.data_);let i=0;n.forEach(u=>{i+=u.byteLength});const s=new Uint8Array(i);let a=0;return n.forEach(u=>{for(let m=0;m<u.length;m++)s[a++]=u[m]}),new Ha(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tz(t){let e;try{e=JSON.parse(t)}catch{return null}return az(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Sz(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function xI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(t,e){return e}class _r{constructor(e,n,i,s){this.server=e,this.local=n||e,this.writable=!!i,this.xform=s||Az}}let om=null;function Nz(t){return!fI(t)||t.length<2?t:xI(t)}function jz(){if(om)return om;const t=[];t.push(new _r("bucket")),t.push(new _r("generation")),t.push(new _r("metageneration")),t.push(new _r("name","fullPath",!0));function e(a,u){return Nz(u)}const n=new _r("name");n.xform=e,t.push(n);function i(a,u){return u!==void 0?Number(u):u}const s=new _r("size");return s.xform=i,t.push(s),t.push(new _r("timeCreated")),t.push(new _r("updated")),t.push(new _r("md5Hash",null,!0)),t.push(new _r("cacheControl",null,!0)),t.push(new _r("contentDisposition",null,!0)),t.push(new _r("contentEncoding",null,!0)),t.push(new _r("contentLanguage",null,!0)),t.push(new _r("contentType",null,!0)),t.push(new _r("metadata","customMetadata",!0)),om=t,om}function Iz(t,e){function n(){const i=t.bucket,s=t.fullPath,a=new es(i,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function Pz(t,e,n){const i={};i.type="file";const s=n.length;for(let a=0;a<s;a++){const u=n[a];i[u.local]=u.xform(i,e[u.server])}return Iz(i,t),i}function Mz(t,e,n){const i=Tz(e);return i===null?null:Pz(t,i,n)}function Rz(t,e){const n={},i=e.length;for(let s=0;s<i;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class bI{constructor(e,n,i,s){this.url=e,this.method=n,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dz(t){if(!t)throw l_()}function Oz(t,e){function n(i,s){const a=Mz(t,s,e);return Dz(a!==null),a}return n}function wI(t){function e(n,i){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=G5():s=W5():n.getStatus()===402?s=H5(t.bucket):n.getStatus()===403?s=K5(t.path):s=i,s.status=n.getStatus(),s.serverResponse=i.serverResponse,s}return e}function Lz(t){const e=wI(t);function n(i,s){let a=e(i,s);return i.getStatus()===404&&(a=$5(t.path)),a.serverResponse=s.serverResponse,a}return n}function Fz(t,e){const n=e.fullServerUrl(),i=mI(n,t.host,t._protocol),s="DELETE",a=t.maxOperationRetryTime;function u(x,_){}const m=new bI(i,s,u,a);return m.successCodes=[200,204],m.errorHandler=Lz(e),m}function Bz(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Vz(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=Bz(null,e)),i}function Uz(t,e,n,i,s){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function m(){let H="";for(let te=0;te<2;te++)H=H+Math.random().toString().slice(2);return H}const x=m();u["Content-Type"]="multipart/related; boundary="+x;const _=Vz(e,i,s),j=Rz(_,n),I="--"+x+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+j+`\r
--`+x+`\r
Content-Type: `+_.contentType+`\r
\r
`,U=`\r
--`+x+"--",J=Ha.getBlob(I,i,U);if(J===null)throw ez();const ne={name:_.fullPath},le=mI(a,t.host,t._protocol),oe="POST",X=t.maxUploadRetryTime,O=new bI(le,oe,Oz(t,n),X);return O.urlParams=ne,O.headers=u,O.body=J.uploadData(),O.errorHandler=wI(e),O}class zz{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=oc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=oc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=oc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,s){if(this.sent_)throw gd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw gd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw gd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw gd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw gd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class qz extends zz{initXhr(){this.xhr_.responseType="text"}}function _I(){return new qz}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n){this._service=e,n instanceof es?this._location=n:this._location=es.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new vc(e,n)}get root(){const e=new es(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xI(this._location.path)}get storage(){return this._service}get parent(){const e=Cz(this._location.path);if(e===null)return null;const n=new es(this._location.bucket,e);return new vc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw nz(e)}}function $z(t,e,n){t._throwIfRoot("uploadBytes");const i=Uz(t.storage,t._location,jz(),new Ha(e,!0),n);return t.storage.makeRequestWithTokens(i,_I).then(s=>({metadata:s,ref:t}))}function Hz(t){t._throwIfRoot("deleteObject");const e=Fz(t.storage,t._location);return t.storage.makeRequestWithTokens(e,_I)}function Wz(t,e){const n=Sz(t._location.path,e),i=new es(t._location.bucket,n);return new vc(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gz(t){return/^[A-Za-z]+:\/\//.test(t)}function Kz(t,e){return new vc(t,e)}function EI(t,e){if(t instanceof u_){const n=t;if(n._bucket==null)throw Z5();const i=new vc(n,n._bucket);return e!=null?EI(i,e):i}else return e!==void 0?Wz(t,e):t}function Yz(t,e){if(e&&Gz(e)){if(t instanceof u_)return Kz(t,e);throw o0("To use ref(service, url), the first argument must be a Storage instance.")}else return EI(t,e)}function bC(t,e){const n=e==null?void 0:e[dI];return n==null?null:es.makeFromBucketSpec(n,t)}function Xz(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:ZA(s,t.app.options.projectId))}class u_{constructor(e,n,i,s,a){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=hI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=z5,this._maxUploadRetryTime=q5,this._requests=new Set,s!=null?this._bucket=es.makeFromBucketSpec(s,this._host):this._bucket=bC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=es.makeFromBucketSpec(this._url,e):this._bucket=bC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vc(this,e)}_makeRequest(e,n,i,s,a=!0){if(this._deleted)return new iz(pI());{const u=mz(e,this._appId,i,s,n,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const wC="@firebase/storage",_C="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="storage";function Qz(t,e,n){return t=$n(t),$z(t,e,n)}function EC(t){return t=$n(t),Hz(t)}function a0(t,e){return t=$n(t),Yz(t,e)}function Jz(t=Ip(),e){t=$n(t);const i=bl(t,kI).getImmediate({identifier:e}),s=XA("storage");return s&&Zz(i,...s),i}function Zz(t,e,n,i={}){Xz(t,e,n,i)}function e6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new u_(n,i,s,e,Cc)}function t6(){Gs(new Es(kI,e6,"PUBLIC").setMultipleInstances(!0)),Vr(wC,_C,""),Vr(wC,_C,"esm2017")}t6();var n6="firebase",i6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(n6,i6,"app");const TI="@firebase/installations",h_="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=1e4,SI=`w:${h_}`,AI="FIS_v2",r6="https://firebaseinstallations.googleapis.com/v1",s6=60*60*1e3,o6="installations",a6="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xc=new Tc(o6,a6,l6);function NI(t){return t instanceof ks&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI({projectId:t}){return`${r6}/projects/${t}/installations`}function II(t){return{token:t.token,requestStatus:2,expiresIn:u6(t.expiresIn),creationTime:Date.now()}}async function PI(t,e){const i=(await e.json()).error;return xc.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function MI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function c6(t,{refreshToken:e}){const n=MI(t);return n.append("Authorization",h6(e)),n}async function RI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function u6(t){return Number(t.replace("s","000"))}function h6(t){return`${AI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d6({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=jI(t),s=MI(t),a=e.getImmediate({optional:!0});if(a){const _=await a.getHeartbeatsHeader();_&&s.append("x-firebase-client",_)}const u={fid:n,authVersion:AI,appId:t.appId,sdkVersion:SI},m={method:"POST",headers:s,body:JSON.stringify(u)},x=await RI(()=>fetch(i,m));if(x.ok){const _=await x.json();return{fid:_.fid||n,registrationStatus:2,refreshToken:_.refreshToken,authToken:II(_.authToken)}}else throw await PI("Create Installation",x)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=/^[cdef][\w-]{21}$/,l0="";function m6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=g6(t);return f6.test(n)?n:l0}catch{return l0}}function g6(t){return p6(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=new Map;function LI(t,e){const n=gy(t);FI(n,e),y6(n,e)}function FI(t,e){const n=OI.get(t);if(n)for(const i of n)i(e)}function y6(t,e){const n=v6();n&&n.postMessage({key:t,fid:e}),x6()}let nc=null;function v6(){return!nc&&"BroadcastChannel"in self&&(nc=new BroadcastChannel("[Firebase] FID Change"),nc.onmessage=t=>{FI(t.data.key,t.data.fid)}),nc}function x6(){OI.size===0&&nc&&(nc.close(),nc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6="firebase-installations-database",w6=1,bc="firebase-installations-store";let gx=null;function d_(){return gx||(gx=iN(b6,w6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(bc)}}})),gx}async function Sg(t,e){const n=gy(t),s=(await d_()).transaction(bc,"readwrite"),a=s.objectStore(bc),u=await a.get(n);return await a.put(e,n),await s.done,(!u||u.fid!==e.fid)&&LI(t,e.fid),e}async function BI(t){const e=gy(t),i=(await d_()).transaction(bc,"readwrite");await i.objectStore(bc).delete(e),await i.done}async function yy(t,e){const n=gy(t),s=(await d_()).transaction(bc,"readwrite"),a=s.objectStore(bc),u=await a.get(n),m=e(u);return m===void 0?await a.delete(n):await a.put(m,n),await s.done,m&&(!u||u.fid!==m.fid)&&LI(t,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p_(t){let e;const n=await yy(t.appConfig,i=>{const s=_6(i),a=E6(t,s);return e=a.registrationPromise,a.installationEntry});return n.fid===l0?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function _6(t){const e=t||{fid:m6(),registrationStatus:0};return VI(e)}function E6(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(xc.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=k6(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:T6(t)}:{installationEntry:e}}async function k6(t,e){try{const n=await d6(t,e);return Sg(t.appConfig,n)}catch(n){throw NI(n)&&n.customData.serverCode===409?await BI(t.appConfig):await Sg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function T6(t){let e=await kC(t.appConfig);for(;e.registrationStatus===1;)await DI(100),e=await kC(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await p_(t);return i||n}return e}function kC(t){return yy(t,e=>{if(!e)throw xc.create("installation-not-found");return VI(e)})}function VI(t){return C6(t)?{fid:t.fid,registrationStatus:0}:t}function C6(t){return t.registrationStatus===1&&t.registrationTime+CI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6({appConfig:t,heartbeatServiceProvider:e},n){const i=A6(t,n),s=c6(t,n),a=e.getImmediate({optional:!0});if(a){const _=await a.getHeartbeatsHeader();_&&s.append("x-firebase-client",_)}const u={installation:{sdkVersion:SI,appId:t.appId}},m={method:"POST",headers:s,body:JSON.stringify(u)},x=await RI(()=>fetch(i,m));if(x.ok){const _=await x.json();return II(_)}else throw await PI("Generate Auth Token",x)}function A6(t,{fid:e}){return`${jI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f_(t,e=!1){let n;const i=await yy(t.appConfig,a=>{if(!UI(a))throw xc.create("not-registered");const u=a.authToken;if(!e&&I6(u))return a;if(u.requestStatus===1)return n=N6(t,e),a;{if(!navigator.onLine)throw xc.create("app-offline");const m=M6(a);return n=j6(t,m),m}});return n?await n:i.authToken}async function N6(t,e){let n=await TC(t.appConfig);for(;n.authToken.requestStatus===1;)await DI(100),n=await TC(t.appConfig);const i=n.authToken;return i.requestStatus===0?f_(t,e):i}function TC(t){return yy(t,e=>{if(!UI(e))throw xc.create("not-registered");const n=e.authToken;return R6(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function j6(t,e){try{const n=await S6(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await Sg(t.appConfig,i),n}catch(n){if(NI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await BI(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Sg(t.appConfig,i)}throw n}}function UI(t){return t!==void 0&&t.registrationStatus===2}function I6(t){return t.requestStatus===2&&!P6(t)}function P6(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+s6}function M6(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function R6(t){return t.requestStatus===1&&t.requestTime+CI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D6(t){const e=t,{installationEntry:n,registrationPromise:i}=await p_(e);return i?i.catch(console.error):f_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(t,e=!1){const n=t;return await L6(n),(await f_(n,e)).token}async function L6(t){const{registrationPromise:e}=await p_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(t){if(!t||!t.options)throw yx("App Configuration");if(!t.name)throw yx("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw yx(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function yx(t){return xc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="installations",B6="installations-internal",V6=t=>{const e=t.getProvider("app").getImmediate(),n=F6(e),i=bl(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},U6=t=>{const e=t.getProvider("app").getImmediate(),n=bl(e,zI).getImmediate();return{getId:()=>D6(n),getToken:s=>O6(n,s)}};function z6(){Gs(new Es(zI,V6,"PUBLIC")),Gs(new Es(B6,U6,"PRIVATE"))}z6();Vr(TI,h_);Vr(TI,h_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="analytics",q6="firebase_id",$6="origin",H6=60*1e3,W6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",m_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new Jg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ns=new Tc("analytics","Analytics",G6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(t){if(!t.startsWith(m_)){const e=ns.create("invalid-gtag-resource",{gtagURL:t});return Ur.warn(e.message),""}return t}function qI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Y6(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function X6(t,e){const n=Y6("firebase-js-sdk-policy",{createScriptURL:K6}),i=document.createElement("script"),s=`${m_}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function Q6(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function J6(t,e,n,i,s,a){const u=i[s];try{if(u)await e[u];else{const x=(await qI(n)).find(_=>_.measurementId===s);x&&await e[x.appId]}}catch(m){Ur.error(m)}t("config",s,a)}async function Z6(t,e,n,i,s){try{let a=[];if(s&&s.send_to){let u=s.send_to;Array.isArray(u)||(u=[u]);const m=await qI(n);for(const x of u){const _=m.find(I=>I.measurementId===x),j=_&&e[_.appId];if(j)a.push(j);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",i,s||{})}catch(a){Ur.error(a)}}function e9(t,e,n,i){async function s(a,...u){try{if(a==="event"){const[m,x]=u;await Z6(t,e,n,m,x)}else if(a==="config"){const[m,x]=u;await J6(t,e,n,i,m,x)}else if(a==="consent"){const[m,x]=u;t("consent",m,x)}else if(a==="get"){const[m,x,_]=u;t("get",m,x,_)}else if(a==="set"){const[m]=u;t("set",m)}else t(a,...u)}catch(m){Ur.error(m)}}return s}function t9(t,e,n,i,s){let a=function(...u){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=e9(a,t,e,n),{gtagCore:a,wrappedGtag:window[s]}}function n9(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(m_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=30,r9=1e3;class s9{constructor(e={},n=r9){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const $I=new s9;function o9(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function a9(t){var e;const{appId:n,apiKey:i}=t,s={method:"GET",headers:o9(i)},a=W6.replace("{app-id}",n),u=await fetch(a,s);if(u.status!==200&&u.status!==304){let m="";try{const x=await u.json();!((e=x.error)===null||e===void 0)&&e.message&&(m=x.error.message)}catch{}throw ns.create("config-fetch-failed",{httpStatus:u.status,responseMessage:m})}return u.json()}async function l9(t,e=$I,n){const{appId:i,apiKey:s,measurementId:a}=t.options;if(!i)throw ns.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:i};throw ns.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new h9;return setTimeout(async()=>{m.abort()},H6),HI({appId:i,apiKey:s,measurementId:a},u,m,e)}async function HI(t,{throttleEndTimeMillis:e,backoffCount:n},i,s=$I){var a;const{appId:u,measurementId:m}=t;try{await c9(i,e)}catch(x){if(m)return Ur.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${x==null?void 0:x.message}]`),{appId:u,measurementId:m};throw x}try{const x=await a9(t);return s.deleteThrottleMetadata(u),x}catch(x){const _=x;if(!u9(_)){if(s.deleteThrottleMetadata(u),m)return Ur.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:u,measurementId:m};throw x}const j=Number((a=_==null?void 0:_.customData)===null||a===void 0?void 0:a.httpStatus)===503?Zk(n,s.intervalMillis,i9):Zk(n,s.intervalMillis),I={throttleEndTimeMillis:Date.now()+j,backoffCount:n+1};return s.setThrottleMetadata(u,I),Ur.debug(`Calling attemptFetch again in ${j} millis`),HI(t,I,i,s)}}function c9(t,e){return new Promise((n,i)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(a),i(ns.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function u9(t){if(!(t instanceof ks)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class h9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function d9(t,e,n,i,s){if(s&&s.global){t("event",n,i);return}else{const a=await e,u=Object.assign(Object.assign({},i),{send_to:a});t("event",n,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p9(){if(pw())try{await fw()}catch(t){return Ur.warn(ns.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ur.warn(ns.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function f9(t,e,n,i,s,a,u){var m;const x=l9(t);x.then(J=>{n[J.measurementId]=J.appId,t.options.measurementId&&J.measurementId!==t.options.measurementId&&Ur.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${J.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(J=>Ur.error(J)),e.push(x);const _=p9().then(J=>{if(J)return i.getId()}),[j,I]=await Promise.all([x,_]);n9(a)||X6(a,j.measurementId),s("js",new Date);const U=(m=u==null?void 0:u.config)!==null&&m!==void 0?m:{};return U[$6]="firebase",U.update=!0,I!=null&&(U[q6]=I),s("config",j.measurementId,U),j.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e){this.app=e}_delete(){return delete Kd[this.app.options.appId],Promise.resolve()}}let Kd={},CC=[];const SC={};let vx="dataLayer",g9="gtag",AC,WI,NC=!1;function y9(){const t=[];if(dw()&&t.push("This is a browser extension environment."),eN()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=ns.create("invalid-analytics-context",{errorInfo:e});Ur.warn(n.message)}}function v9(t,e,n){y9();const i=t.options.appId;if(!i)throw ns.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ur.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ns.create("no-api-key");if(Kd[i]!=null)throw ns.create("already-exists",{id:i});if(!NC){Q6(vx);const{wrappedGtag:a,gtagCore:u}=t9(Kd,CC,SC,vx,g9);WI=a,AC=u,NC=!0}return Kd[i]=f9(t,CC,SC,e,AC,vx,n),new m9(t)}function x9(t=Ip()){t=$n(t);const e=bl(t,Ag);return e.isInitialized()?e.getImmediate():b9(t)}function b9(t,e={}){const n=bl(t,Ag);if(n.isInitialized()){const s=n.getImmediate();if(fp(e,n.getOptions()))return s;throw ns.create("already-initialized")}return n.initialize({options:e})}async function w9(){if(dw()||!eN()||!pw())return!1;try{return await fw()}catch{return!1}}function _9(t,e,n,i){t=$n(t),d9(WI,Kd[t.app.options.appId],e,n,i).catch(s=>Ur.error(s))}const jC="@firebase/analytics",IC="0.10.8";function E9(){Gs(new Es(Ag,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return v9(i,s,n)},"PUBLIC")),Gs(new Es("analytics-internal",t,"PRIVATE")),Vr(jC,IC),Vr(jC,IC,"esm2017");function t(e){try{const n=e.getProvider(Ag).getImmediate();return{logEvent:(i,s,a)=>_9(n,i,s,a)}}catch(n){throw ns.create("interop-component-reg-failed",{reason:n})}}}E9();const k9={apiKey:"AIzaSyBwpIugx9UYl8EZFSQz2kBUEqdAqkc-xAg",authDomain:"meandrituals-72041.firebaseapp.com",projectId:"meandrituals-72041",storageBucket:"meandrituals-72041.firebasestorage.app",messagingSenderId:"1086898403259",appId:"1:1086898403259:web:55bad861fddbd7f229f69e",measurementId:"G-J9KPY6T85X"},vy=fB().length?Ip():rN(k9),ki=F3(vy),$u=k5(vy),c0=Jz(vy);let PC=null;w9().then(t=>(t&&(PC=x9(vy)),PC)).catch(()=>null);const T9=1e3*60*60*24*30,GI=F.createContext(void 0),oh=t=>String(t??"").trim().toLowerCase(),ah=()=>new Date().toISOString(),MC=(t,e,n)=>{var a,u,m,x,_;const i=t.email??"",s={email:i,emailLower:oh(i),updatedAt:ah()};return n!=null&&n.includeCreatedAt&&(s.createdAt=t.metadata.creationTime??ah(),s.admin=(n==null?void 0:n.admin)??!1),n!=null&&n.status&&(s.status=n.status),e&&(s.personalInfo={firstName:((a=e.firstName)==null?void 0:a.trim())||"",lastName:((u=e.lastName)==null?void 0:u.trim())||"",email:i},s.identityInfo={username:((m=e.username)==null?void 0:m.trim())||"",birthday:((x=e.birthday)==null?void 0:x.trim())||"",gender:((_=e.gender)==null?void 0:_.trim())||""},s.acceptTerms=!!e.acceptTerms),s},RC=async(t,e)=>{try{const n=a0(c0,`users/${t}/profile.json`),i=JSON.stringify(e,null,2),s=new Blob([i],{type:"application/json"});await Qz(n,s,{contentType:"application/json"})}catch(n){console.error("Profile snapshot upload failed",n)}},am=async(t,e)=>{const n=Tg($u,"users",t.uid),i=await gC(n);if(!i.exists()){const m=MC(t,e,{includeCreatedAt:!0,status:"actif",admin:!1});return m.deletionPlannedAt=null,await r0(n,m),m}const s=i.data(),a={};if(s.createdAt||(a.createdAt=t.metadata.creationTime??ah()),!s.email&&t.email&&(a.email=t.email),!s.emailLower&&t.email&&(a.emailLower=oh(t.email)),s.admin===void 0&&(a.admin=!1),Object.keys(a).length>0&&(a.updatedAt=ah(),await s0(n,a)),e){const m=MC(t,e);await r0(n,m,{merge:!0})}return(await gC(n)).data()??s},DC=async t=>{const e=oh(t);if(!e)return null;const n=tI($u,"users"),i=dC(n,pC("emailLower","==",e)),s=await Om(i);if(s.docs[0])return s.docs[0];const a=dC(n,pC("email","==",t)),u=await Om(a);return u.docs[0]?u.docs[0]:(await Om(n)).docs.find(x=>{const _=x.data();return oh(_.email??"")===e})??null},C9=({children:t})=>{const[e,n]=F.useState(ki.currentUser),[i,s]=F.useState(null),[a,u]=F.useState(null),[m,x]=F.useState(null),[_,j]=F.useState(!1);F.useEffect(()=>{let M=!0;const G=SV(ki,async z=>{if(n(z),!z){s(null),u(null),x(null),M&&j(!0);return}try{const K=await am(z);s(K),u(K.createdAt??z.metadata.creationTime??null),x(K.deletionPlannedAt??null),K.status==="desactive"&&await cu(ki)}catch(K){console.error("Firebase user load failed",K)}finally{M&&j(!0)}});return()=>{M=!1,G()}},[]);const I=F.useCallback(async M=>{try{await kV(ki,M?DN:Ew)}catch(G){console.error("Auth persistence failed",G)}},[]),U=F.useCallback(async M=>{const{email:G,password:z,remember:K=!1}=M;if(!G||!z)return!1;try{await I(K);const se=await xV(ki,G,z),ie=await am(se.user);if(ie.status==="desactive")return await cu(ki),!1;if(ie.deletionPlannedAt){const dt=new Date(ie.deletionPlannedAt).getTime();if(Number.isFinite(dt)&&dt<=Date.now())return await cu(ki),!1}return!0}catch(se){return console.error("Login failed",se),!1}},[I]),J=F.useCallback(async M=>{const{email:G,password:z,remember:K=!1,profile:se}=M;if(!G||!z)return!1;try{await I(K);const ie=await vV(ki,G,z),dt=(se==null?void 0:se.username)||[se==null?void 0:se.firstName,se==null?void 0:se.lastName].filter(Boolean).join(" ");return dt&&await wV(ie.user,{displayName:dt}),(async()=>{try{const Dt=await am(ie.user,se);await RC(ie.user.uid,Dt)}catch(Dt){console.error("Post-register profile setup failed",Dt)}})(),!0}catch(ie){return console.error("Register failed",ie),!1}},[I]),ne=F.useCallback(async M=>{var G;if(!M)return!1;try{await I(!0);const z=Vo.credential(M),K=await IN(ki,z),se=await am(K.user);return(G=K.additionalUserInfo)!=null&&G.isNewUser&&await RC(K.user.uid,se),se.status==="desactive"?(await cu(ki),!1):!0}catch(z){return console.error("Google login failed",z),!1}},[I]),le=F.useCallback(async()=>{try{await cu(ki)}catch(M){console.error("Logout failed",M)}},[]),oe=F.useCallback(async M=>{var G;if(!((G=ki.currentUser)!=null&&G.email)||!M)return!1;try{const z=dl.credential(ki.currentUser.email,M);return await vT(ki.currentUser,z),!0}catch(z){return console.error("Password verification failed",z),!1}},[]),X=F.useCallback(async(M,G)=>{const z=ki.currentUser;if(!(z!=null&&z.email))return{success:!1,error:"Vous devez etre connecte pour changer votre mot de passe."};if(!M||!G)return{success:!1,error:"Tous les champs sont obligatoires."};if(G.length<6)return{success:!1,error:"Le nouveau mot de passe doit contenir au moins 6 caracteres."};if(G===M)return{success:!1,error:"Le nouveau mot de passe doit etre different de l actuel."};try{const K=dl.credential(z.email,M);return await vT(z,K),await _V(z,G),{success:!0}}catch(K){return console.error("Password change failed",K),{success:!1,error:"Mot de passe actuel invalide ou session expiree."}}},[]),O=F.useCallback(async()=>{const M=ki.currentUser;if(!M)return{success:!1,error:"Vous devez etre connecte pour desactiver votre compte."};const G=new Date(Date.now()+T9).toISOString();try{return await s0(Tg($u,"users",M.uid),{deletionPlannedAt:G,updatedAt:ah()}),x(G),{success:!0,deleteAt:G}}catch(z){return console.error("Account deactivation failed",z),{success:!1,error:"Impossible de planifier la desactivation."}}},[]),H=F.useCallback(async()=>{const M=ki.currentUser;if(!M)return{success:!1,error:"Vous devez etre connecte pour supprimer votre compte."};try{await yC(Tg($u,"users",M.uid))}catch(G){console.error("User document delete failed",G)}try{await EC(a0(c0,`users/${M.uid}/profile.json`))}catch{}try{return await AV(M),{success:!0}}catch(G){return console.error("Account delete failed",G),{success:!1,error:"Suppression impossible sans reconnexion recente. Reconnectez-vous puis reessayez."}}},[]),te=F.useCallback(async()=>{try{return(await Om(tI($u,"users"))).docs.map(G=>{const z=G.data();return{email:z.email??G.id,createdAt:z.createdAt??null,status:z.status??"actif",deletionPlannedAt:z.deletionPlannedAt??null}})}catch(M){return console.error("Admin users load failed",M),[]}},[]),Te=F.useCallback(async(M,G)=>{var z;if(!M)return{success:!1,error:"Email requis pour mettre  jour le statut."};try{const K=await DC(M);if(!K)return{success:!1,error:"Utilisateur introuvable."};const se={status:G,updatedAt:ah()};return G==="actif"&&(se.deletionPlannedAt=null),await s0(K.ref,se),((z=ki.currentUser)==null?void 0:z.uid)===K.id&&G==="desactive"&&await cu(ki),{success:!0}}catch(K){return console.error("Admin status update failed",K),{success:!1,error:"Mise  jour impossible."}}},[]),ge=F.useCallback(async M=>{var z;if(!M)return{success:!1,error:"Email requis pour supprimer le compte."};const G=(z=ki.currentUser)==null?void 0:z.email;if(G&&oh(G)===oh(M))return{success:!1,error:"Utilisez la suppression de compte depuis vos paramtres."};try{const K=await DC(M);if(!K)return{success:!1,error:"Utilisateur introuvable."};await yC(K.ref);try{await EC(a0(c0,`users/${K.id}/profile.json`))}catch{}return{success:!0}}catch(K){return console.error("Admin delete failed",K),{success:!1,error:"Suppression impossible avec les droits actuels."}}},[]),Y=F.useMemo(()=>{const M=(e==null?void 0:e.email)??null,G=!!(i!=null&&i.admin);return{isAuthReady:_,isAuthenticated:!!e,isAdmin:G,userEmail:M,createdAt:a,login:U,register:J,loginWithGoogle:ne,logout:le,verifyPassword:oe,changePassword:X,deactivateAccount:O,deleteAccount:H,scheduledDeletionDate:m,adminListUsers:te,adminUpdateStatus:Te,adminDeleteUser:ge}},[a,ge,te,Te,_,e,X,O,H,U,ne,le,J,m,i==null?void 0:i.admin,oe]);return o.jsx(GI.Provider,{value:Y,children:t})},or=()=>{const t=F.useContext(GI);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},KI=t=>String(t??"").trim().toLowerCase()||"guest",di=(t,e)=>`planner:${KI(t)}:${e}`,ll=KI;function S9(t){return typeof t=="function"?t():t}function OC(t,e){try{const n=localStorage.getItem(t);if(n===null)return e();try{return JSON.parse(n)}catch{return n}}catch{return e()}}function Si(t,e){const{userEmail:n}=or(),i=F.useMemo(()=>di(n,t),[t,n]),s=F.useRef(null),a=F.useRef(!0),u=()=>(s.current===null&&(s.current=S9(e)),s.current),[m,x]=F.useState(()=>OC(i,u));return F.useEffect(()=>{a.current=!0,x(_=>OC(i,()=>_??u()))},[i]),F.useEffect(()=>{try{if(a.current){a.current=!1;return}localStorage.setItem(i,JSON.stringify(m))}catch{}},[i,m]),[m,x]}const YI=F.createContext(void 0),A9="planner.calendar.tasks",N9=({children:t})=>{const[e,n]=Si(A9,()=>[]),i=F.useMemo(()=>({tasks:e,addTask:s=>{n(a=>[s,...a])},updateTask:(s,a)=>{n(u=>u.map(m=>m.id===s?{...m,...a}:m))},removeTask:s=>{n(a=>a.filter(u=>u.id!==s))}}),[e,n]);return o.jsx(YI.Provider,{value:i,children:t})},g_=()=>{const t=F.useContext(YI);if(!t)throw new Error("useTasks must be used within a TasksProvider");return t},u0="planner.cookieConsent",j9=["googtrans"],Ql={essential:!0,analytics:!1,preferences:!1},XI=F.createContext(void 0),I9=()=>{if(typeof window>"u")return{status:"unknown",preferences:Ql};try{const t=window.localStorage.getItem(u0);if(!t)return{status:"unknown",preferences:Ql};const e=JSON.parse(t);return!e||!e.preferences?{status:"unknown",preferences:Ql}:{status:e.status??"unknown",preferences:{...Ql,...e.preferences,essential:!0},decidedAt:e.decidedAt}}catch{return{status:"unknown",preferences:Ql}}},P9=({children:t})=>{const[e,n]=F.useState(()=>I9()),[i,s]=F.useState(!1);F.useEffect(()=>{if(e.status==="unknown"){window.localStorage.removeItem(u0);return}try{window.localStorage.setItem(u0,JSON.stringify(e))}catch{}},[e]),F.useEffect(()=>{typeof document>"u"||e.status==="accepted"&&e.preferences.preferences||j9.forEach(U=>{document.cookie=`${U}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;`})},[e.status,e.preferences.preferences]);const a=U=>{n(U)},u=()=>{a({status:"accepted",preferences:{essential:!0,analytics:!0,preferences:!0},decidedAt:Date.now()}),s(!1)},m=()=>{a({status:"rejected",preferences:{...Ql,analytics:!1,preferences:!1},decidedAt:Date.now()}),s(!1)},x=U=>{a({status:"custom",preferences:{...Ql,...U},decidedAt:Date.now()}),s(!1)},_=()=>s(!0),j=()=>s(!1),I=F.useMemo(()=>({status:e.status,preferences:e.preferences,shouldShowBanner:e.status==="unknown",isPreferenceCenterOpen:i,acceptAll:u,rejectAll:m,saveCustomPreferences:x,openPreferences:_,closePreferences:j}),[e,i]);return o.jsx(XI.Provider,{value:I,children:t})},vh=()=>{const t=F.useContext(XI);if(!t)throw new Error("useCookieConsent must be used within CookieConsentProvider");return t},cl="/assets/katie-huber-rhoades-dupe%20(1)-IWbrAz5u.jpeg",M9="planner.profile.preferences.v1",R9=t=>{var e;try{const n=localStorage.getItem(t);if(!n)return"";const i=JSON.parse(n);return((e=i==null?void 0:i.identityInfo)==null?void 0:e.username)??""}catch{return""}};function D9(){const{isAuthenticated:t,isAdmin:e,logout:n,userEmail:i}=or(),s=kc(),[a,u]=F.useState(!1),[m,x]=F.useState(""),[_,j]=F.useState(!1),[I,U]=F.useState(()=>localStorage.getItem("profile-photo")??cl),J=F.useRef(null),ne=F.useRef(null),le=F.useMemo(()=>di(ll(i),M9),[i]),X=F.useMemo(()=>R9(le),[le])||(i?i.split("@")[0]:"Utilisateur"),O=F.useMemo(()=>[{label:"A propos de moi",path:"/a-propos"},{label:"Accueil",path:"/home"},{label:"Mentions legales",path:"/mentions-legales"},{label:"Politique de confidentialite",path:"/confidentialite"},{label:"Contact",path:"/contact"},{label:"Finances",path:"/finances"},{label:"Cuisine",path:"/alimentation"},{label:"Calendrier mensuel",path:"/calendrier"},{label:"Wishlist",path:"/wishlist"},{label:"Sport",path:"/sport"},{label:"Workout",path:"/sport/workout"},{label:"Diet",path:"/diet"},{label:"Goals",path:"/goals"},{label:"S'aimer soi-meme",path:"/self-love"},{label:"Archives",path:"/archives"},{label:"FAQ",path:"/faq"},{label:"Cookies",path:"/cookies"},{label:"Paramtres",path:"/parametres"}],[]),H=F.useMemo(()=>{const K=m.trim().toLowerCase();return K?O.filter(se=>se.label.toLowerCase().startsWith(K)):[]},[O,m]),te=_&&H.length>0,Te=()=>{u(!1)},ge=()=>{n(),s("/login"),Te()},Y=K=>{s(K),Te()},M=()=>{const K=m.trim().toLowerCase();if(!K)return;const se=O.find(ie=>ie.label.toLowerCase().startsWith(K));se?z(se.path):window.alert(`Aucun resultat pour "${m}".`)},G=K=>{const se=K.target.value;x(se),se.trim()?j(!0):j(!1)},z=K=>{Y(K),x(""),j(!1)};return F.useEffect(()=>{const K=se=>{J.current&&!J.current.contains(se.target)&&Te()};return a&&document.addEventListener("mousedown",K),()=>document.removeEventListener("mousedown",K)},[a]),F.useEffect(()=>{const K=se=>{ne.current&&!ne.current.contains(se.target)&&j(!1)};return _&&document.addEventListener("mousedown",K),()=>document.removeEventListener("mousedown",K)},[_]),F.useEffect(()=>{const K=()=>{U(localStorage.getItem("profile-photo")??cl)};return window.addEventListener("storage",K),()=>window.removeEventListener("storage",K)},[]),o.jsx("header",{className:"site-header",children:o.jsxs("div",{className:"site-header__inner",children:[o.jsx(Zo,{to:t?"/home":"/",className:"brand",children:"Me&rituals"}),o.jsxs("div",{className:"nav-search nav-search--center",ref:ne,children:[o.jsx("button",{className:"nav-search__button","aria-label":"Valider la recherche",onClick:M,children:o.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("circle",{cx:"11",cy:"11",r:"7"}),o.jsx("line",{x1:"16.65",y1:"16.65",x2:"21",y2:"21"})]})}),o.jsx("input",{className:"nav-search__input",type:"search",placeholder:"Rechercher","aria-label":"Rechercher",value:m,onChange:G,onKeyDown:K=>{K.key==="Enter"&&(K.preventDefault(),M())},onFocus:()=>{m.trim()&&j(!0)}}),te?o.jsx("ul",{className:"nav-search__suggestions",role:"listbox",children:H.map(K=>o.jsx("li",{children:o.jsx("button",{type:"button",className:"nav-search__suggestion",role:"option",onClick:()=>z(K.path),children:K.label})},K.path))}):null]}),o.jsxs("div",{className:"header-cta",children:[t&&e?o.jsx("button",{className:"admin-button",onClick:()=>s("/admin"),children:"Back-office"}):null,o.jsx("div",{className:"header-auth",children:t?null:o.jsx("button",{className:"auth-button auth-button--login",onClick:()=>s("/login"),children:"Connexion"})}),t?o.jsxs("div",{className:"header-menu",ref:J,children:[o.jsxs("button",{type:"button",className:a?"header-menu__profile is-open":"header-menu__profile","aria-haspopup":"true","aria-expanded":a,onClick:()=>u(K=>!K),children:[o.jsx("span",{className:"header-menu__avatar",children:o.jsx("img",{src:I,alt:"Profil"})}),o.jsx("span",{className:"header-menu__name",children:X}),o.jsx("span",{className:"header-menu__caret","aria-hidden":"true",children:o.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),o.jsxs("button",{type:"button",className:a?"header-menu__toggle is-open":"header-menu__toggle","aria-haspopup":"true","aria-expanded":a,onClick:()=>u(K=>!K),children:[o.jsx("span",{}),o.jsx("span",{}),o.jsx("span",{})]}),a?o.jsx("div",{className:"header-menu__panel",role:"menu",children:o.jsxs("ul",{className:"header-menu__list",children:[o.jsx("li",{children:o.jsx("button",{type:"button",className:"header-menu__item",onClick:()=>Y("/archives"),children:"Archives"})}),o.jsx("li",{children:o.jsx("button",{type:"button",className:"header-menu__item",onClick:()=>Y("/parametres"),children:"Paramtres"})}),o.jsx("li",{children:o.jsx("button",{type:"button",className:"header-menu__item header-menu__item--danger",onClick:ge,children:"Dconnexion"})})]})}):null]}):null]})]})})}const O9=({className:t=""})=>o.jsx("svg",{className:t,role:"img","aria-hidden":"true",width:"20",height:"20",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fill:"currentColor",d:"M7.5 2h9A5.5 5.5 0 0 1 22 7.5v9A5.5 5.5 0 0 1 16.5 22h-9A5.5 5.5 0 0 1 2 16.5v-9A5.5 5.5 0 0 1 7.5 2Zm0 2A3.5 3.5 0 0 0 4 7.5v9A3.5 3.5 0 0 0 7.5 20h9a3.5 3.5 0 0 0 3.5-3.5v-9A3.5 3.5 0 0 0 16.5 4h-9Zm9.75 2.25a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5ZM12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10Zm0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6Z"})}),uu=({href:t,children:e})=>o.jsx("a",{className:"site-footer__link",href:t,children:e}),L9=()=>{const t="https://www.instagram.com/",{openPreferences:e}=vh();return o.jsxs("footer",{className:"site-footer",children:[o.jsxs("div",{className:"site-footer__inner",children:[o.jsx("div",{className:"site-footer__brand",children:o.jsxs("h2",{className:"site-footer__title",children:["Organise ton esprit.",o.jsx("br",{})," Aligne ton nergie.",o.jsx("br",{})," Crer la vie qui te ressemble."]})}),o.jsxs("div",{className:"site-footer__sections","aria-label":"Navigation complementaire",children:[o.jsxs("div",{className:"site-footer__section",children:[o.jsx("h3",{className:"site-footer__section-title",children:" propos"}),o.jsx(uu,{href:"/a-propos",children:" propos de moi"}),o.jsx(uu,{href:"/contact",children:"Contacte-moi"}),o.jsx(uu,{href:"/faq",children:"FAQ"})]}),o.jsxs("div",{className:"site-footer__section",children:[o.jsx("h3",{className:"site-footer__section-title",children:"Infos"}),o.jsx(uu,{href:"/mentions-legales",children:"Mentions lgales"}),o.jsx(uu,{href:"/confidentialite",children:"Politique de confidentialit"}),o.jsx(uu,{href:"/cookies",children:"Gestion des cookies"})]}),o.jsxs("div",{className:"site-footer__section",children:[o.jsx("h3",{className:"site-footer__section-title",children:"Suis-moi"}),o.jsxs("a",{className:"site-footer__social-link",href:t,target:"_blank",rel:"noreferrer noopener",children:[o.jsx(O9,{className:"site-footer__social-icon"}),"Instagram"]})]})]})]}),o.jsxs("div",{className:"site-footer__bottom",children:[o.jsx("span",{children:" 2025 Planner."}),o.jsx("span",{children:"Tous droits rservs. 4 dcembre 2025"})]})]})},F9=()=>{const{isAuthenticated:t,isAuthReady:e}=or(),n=ko();return e?t?o.jsx(hw,{}):o.jsx(jb,{to:"/login",replace:!0,state:{from:n}}):null},xx="/assets/MoodBoard-C4veH-_8.png",B9="planner.custom.moodboard",QI=F.createContext(void 0);function V9({children:t}){const{userEmail:e}=or(),n=F.useMemo(()=>di(e,B9),[e]),[i,s]=F.useState(xx),[a,u]=F.useState(!1);F.useEffect(()=>{try{const I=window.localStorage.getItem(n);if(I){s(I),u(!0);return}s(xx),u(!1)}catch{}},[n]);const m=F.useCallback(I=>{try{I?window.localStorage.setItem(n,I):window.localStorage.removeItem(n)}catch{}},[n]),x=F.useCallback(I=>{s(I),u(!0),m(I)},[m]),_=F.useCallback(()=>{s(xx),u(!1),m(null)},[m]),j=F.useMemo(()=>({moodboardSrc:i,isCustom:a,updateMoodboard:x,resetMoodboard:_}),[a,i,_,x]);return o.jsx(QI.Provider,{value:j,children:t})}function JI(){const t=F.useContext(QI);if(!t)throw new Error("useMoodboard doit etre utilise dans MoodboardProvider");return t}const LC="planner.auth.remember",U9="planner.profile.preferences.v1",FC="planner.auth.email_history.v1",BC=[{value:"",label:"Ne pas prciser"},{value:"femme",label:"Femme"},{value:"homme",label:"Homme"}],VC=({crossed:t})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:t?o.jsxs(o.Fragment,{children:[o.jsx("path",{d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.21 16.058 7 19 11.478 19c1.805 0 3.508-.43 5.02-1.196",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),o.jsx("path",{d:"M6.228 6.228A10.45 10.45 0 0111.478 5c4.477 0 8.268 2.943 9.543 7a10.523 10.523 0 01-4.03 5.56",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),o.jsx("path",{d:"M15 12a3 3 0 00-3-3",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),o.jsx("path",{d:"M3 3l18 18",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]}):o.jsxs(o.Fragment,{children:[o.jsx("path",{d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),o.jsx("path",{d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})}),UC=({mode:t})=>{const e=kc(),n=ko(),{isAuthenticated:i,login:s,register:a,userEmail:u,loginWithGoogle:m}=or(),{moodboardSrc:x}=JI(),[_,j]=F.useState(""),[I,U]=F.useState(()=>{if(typeof window>"u")return[];try{const De=window.localStorage.getItem(FC);return De?JSON.parse(De):[]}catch{return[]}}),[J,ne]=F.useState(""),[le,oe]=F.useState(!1),[X,O]=F.useState(()=>typeof window>"u"?!1:window.localStorage.getItem(LC)==="true"),[H,te]=F.useState(""),[Te,ge]=F.useState(""),[Y,M]=F.useState(""),[G,z]=F.useState(""),[K,se]=F.useState(""),[ie,dt]=F.useState(""),[Dt,Ge]=F.useState(!1),[ut,Re]=F.useState(!1),[Ke,ct]=F.useState(0),[Et,wt]=F.useState(!1),vt=F.useRef(null),Ot=F.useRef(null),ht=void 0,Pt=F.useRef(!1),st=F.useMemo(()=>{var _e;const De=n.state;return((_e=De==null?void 0:De.from)==null?void 0:_e.pathname)??"/home"},[n.state]),be=F.useMemo(()=>{var De;return((De=BC.find(_e=>_e.value===ie))==null?void 0:De.label)??"Ne pas prciser"},[ie]);F.useEffect(()=>{if(i){if(t==="register"&&Pt.current)return;e(st,{replace:!0})}},[st,i,t,e]),F.useEffect(()=>{const De="google-client-script";if(document.getElementById(De)){wt(!0);return}const _e=document.createElement("script");_e.src="https://accounts.google.com/gsi/client",_e.async=!0,_e.defer=!0,_e.id=De,_e.onload=()=>wt(!0),document.body.appendChild(_e)},[]),F.useEffect(()=>{},[st,ht,Et,m,e]),F.useEffect(()=>{if(!Dt)return;const De=_e=>{const Se=_e.target;Ot.current&&!Ot.current.contains(Se)&&Ge(!1)};return document.addEventListener("mousedown",De),()=>document.removeEventListener("mousedown",De)},[Dt]),F.useEffect(()=>{typeof window>"u"||window.localStorage.setItem(LC,X?"true":"false")},[X]),F.useEffect(()=>{if(!(typeof window>"u"))try{window.localStorage.setItem(FC,JSON.stringify(I))}catch{}},[I]),F.useEffect(()=>{ct(0),te("")},[t]);const ae=F.useCallback(De=>di(ll(De),U9),[]),ke=De=>{const _e=De.trim();_e&&U(Se=>{if(Se[0]===_e)return Se;const ue=Se.filter(Fe=>Fe!==_e);return[_e,...ue].slice(0,5)})},me=De=>{try{const _e=localStorage.getItem(ae(De));let Se=_e?JSON.parse(_e):{};Se={...Se,personalInfo:{...Se.personalInfo,firstName:Te,lastName:Y,email:De},identityInfo:{...Se.identityInfo,username:G,birthday:K,gender:ie}},localStorage.setItem(ae(De),JSON.stringify(Se))}catch{}},Ye=()=>{ke(_)},Pe=async De=>{if(De.preventDefault(),te(""),t==="register"){const Se=J.trim().length>=6,ue=/[A-Z]/.test(J),Fe=/[a-z]/.test(J),de=/\d/.test(J),ye=/[!@#$%^&*\-_?]/.test(J);if(Ke===0){if(!_.trim()){te("Merci de renseigner un email.");return}ct(1);return}if(Ke===1){if(!Te.trim()||!Y.trim()||!G.trim()){te("Merci de renseigner prenom, nom et pseudo.");return}ct(2);return}if(!J.trim()||!Se||!ue||!Fe||!de||!ye){te("Le mot de passe doit avoir au moins 6 caracteres, 1 majuscule, 1 minuscule, 1 chiffre et 1 caractere special.");return}if(!ut){te("Merci d accepter les conditions generales.");return}}if(t==="register"&&(Pt.current=!0),!(t==="login"?await s({email:_,password:J,remember:X}):await a({email:_,password:J,remember:X,profile:{firstName:Te,lastName:Y,username:G,birthday:K,gender:ie,acceptTerms:ut}}))){Pt.current=!1,te(t==="register"?"Un compte existe dj avec cet email.":"Merci de renseigner un email et un mot de passe valides.");return}if(t==="register"&&me(_),ke(_),te(""),t==="register"){e("/bienvenue",{replace:!0,state:{from:st}});return}e(st,{replace:!0})},ze=()=>{if(!_.trim()){te("Renseigne ton email pour recevoir un lien de reinitialisation.");return}te(""),window.alert("Un lien de rinitialisation a t envoy  "+_+".")},we=t==="login"?"Connexion":"Cration de compte",yt=t==="login"?"Pas encore de compte ?":"Dj un compte ?",xt=t==="login"?"/register":"/login",Tt=t==="register",Ct=["Email","Identit","Scurit"],pt=t==="login"?"Se connecter":Ke>=Ct.length-1?"Crer mon compte":"Continuer";return o.jsxs("div",{className:"auth-page",children:[o.jsxs("div",{className:"auth-hero",children:[o.jsx("div",{className:"auth-visual",children:o.jsx("img",{src:x,alt:"Moodboard Planner"})}),o.jsxs("div",{className:"auth-panel",children:[o.jsx("h1",{className:"auth-title",children:we}),o.jsxs("div",{className:"auth-switch",children:[o.jsx("span",{children:yt}),o.jsx(Zo,{to:xt,children:t==="login"?"Crer un compte":"Se connecter"})]}),i&&t!=="register"?o.jsxs("p",{className:"auth-status",children:["Connecte en tant que ",o.jsx("strong",{children:u})]}):null,o.jsxs("form",{className:"auth-form",onSubmit:Pe,children:[Tt?o.jsx("div",{className:"auth-steps","aria-label":"Progression de cration de compte",children:Ct.map((De,_e)=>o.jsxs("div",{className:`auth-step${Ke===_e?" is-active":Ke>_e?" is-done":""}`,children:[o.jsx("span",{className:"auth-step__index",children:_e+1}),o.jsx("span",{className:"auth-step__label",children:De})]},De))}):null,t==="register"?o.jsxs(o.Fragment,{children:[Ke===0?o.jsxs("label",{children:["Email",o.jsx("input",{type:"email",value:_,onChange:De=>j(De.target.value),onBlur:Ye,placeholder:"toi@exemple.com",required:!0,autoComplete:"email",list:"auth-email-history"}),I.length>0?o.jsx("datalist",{id:"auth-email-history",children:I.map(De=>o.jsx("option",{value:De},De))}):null]}):null,Ke===1?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"auth-form__row",children:[o.jsxs("label",{children:["Prnom",o.jsx("input",{type:"text",value:Te,onChange:De=>ge(De.target.value),placeholder:"Prnom",required:!0})]}),o.jsxs("label",{children:["Nom",o.jsx("input",{type:"text",value:Y,onChange:De=>M(De.target.value),placeholder:"Nom",required:!0})]})]}),o.jsxs("label",{children:["Pseudo",o.jsx("input",{type:"text",value:G,onChange:De=>z(De.target.value),placeholder:"Ton pseudo",required:!0})]})]}):null,Ke===2?o.jsxs(o.Fragment,{children:[o.jsxs("label",{children:["Mot de passe",o.jsxs("div",{className:"auth-password-field",children:[o.jsx("input",{type:le?"text":"password",value:J,onChange:De=>ne(De.target.value),placeholder:"********",minLength:6,required:!0}),o.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>oe(De=>!De),"aria-label":le?"Masquer le mot de passe":"Afficher le mot de passe","aria-pressed":le,children:o.jsx(VC,{crossed:!le})})]}),o.jsx("p",{className:"auth-password-hint",children:"6 caractres minimum, avec 1 majuscule, 1 minuscule, 1 chiffre et 1 caractre spcial."})]}),o.jsxs("div",{className:"auth-form__row",children:[o.jsxs("label",{children:["Anniversaire",o.jsx("input",{type:"date",value:K,onChange:De=>se(De.target.value),required:!0})]}),o.jsxs("label",{children:["Genre",o.jsxs("div",{className:"auth-form__select",ref:Ot,children:[o.jsxs("button",{type:"button",className:ie?"auth-form__select-trigger":"auth-form__select-trigger is-placeholder","aria-haspopup":"listbox","aria-expanded":Dt,onClick:()=>Ge(De=>!De),children:[o.jsx("span",{children:be}),o.jsx("svg",{className:"auth-form__select-chevron",viewBox:"0 0 20 20","aria-hidden":"true",children:o.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})]}),Dt?o.jsx("div",{className:"auth-form__select-menu",role:"listbox",children:BC.map(De=>o.jsx("button",{type:"button",role:"option","aria-selected":ie===De.value,className:ie===De.value?"is-selected":void 0,onMouseDown:_e=>{_e.preventDefault(),dt(De.value),Ge(!1)},children:De.label},De.value))}):null]})]})]}),o.jsxs("label",{className:"auth-terms",children:[o.jsx("input",{type:"checkbox",checked:ut,onChange:De=>Re(De.target.checked),required:!0}),"Jaccepte les conditions gnrales."]})]}):null]}):o.jsxs(o.Fragment,{children:[o.jsxs("label",{children:["Email",o.jsx("input",{type:"email",value:_,onChange:De=>j(De.target.value),onBlur:Ye,placeholder:"toi@exemple.com",required:!0,autoComplete:"email",list:"auth-email-history"})]}),I.length>0?o.jsx("datalist",{id:"auth-email-history",children:I.map(De=>o.jsx("option",{value:De},De))}):null,o.jsxs("label",{children:["Mot de passe",o.jsxs("div",{className:"auth-password-field",children:[o.jsx("input",{type:le?"text":"password",value:J,onChange:De=>ne(De.target.value),placeholder:"********",minLength:6,required:!0}),o.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>oe(De=>!De),"aria-label":le?"Masquer le mot de passe":"Afficher le mot de passe","aria-pressed":le,children:o.jsx(VC,{crossed:!le})})]})]})]}),H?o.jsx("p",{className:"auth-error",children:H}):null,t==="login"?o.jsxs(o.Fragment,{children:[o.jsxs("label",{className:"auth-remember",children:[o.jsx("input",{type:"checkbox",checked:X,onChange:De=>O(De.target.checked)}),"Se souvenir de moi"]}),o.jsx("button",{type:"submit",className:"auth-submit",children:pt}),o.jsx("button",{type:"button",className:"auth-forgot",onClick:ze,children:"Mot de passe oubli ?"})]}):o.jsxs("div",{className:"auth-step-actions",children:[Ke>0?o.jsx("button",{type:"button",className:"auth-secondary",onClick:()=>ct(De=>Math.max(De-1,0)),children:"Retour"}):null,o.jsx("button",{type:"submit",className:"auth-submit",children:pt})]})]}),o.jsxs("div",{className:"auth-google",children:[o.jsx("div",{ref:vt}),o.jsx("p",{className:"auth-google__hint",children:"Ajoute VITE_GOOGLE_CLIENT_ID pour activer Google."})]})]})]}),o.jsx("div",{className:"page-footer-bar","aria-hidden":"true"})]})},z9="planner.onboarding.answers.v1",q9=["Instagram","TikTok","Pinterest","Recherche Google","Recommandation d'un proche","Publicit en ligne","Etsy","Autre"],$9=["Dcouvrir du contenu inspirant","Organiser mon quotidien","Amliorer mon bien-tre","Mieux grer mes projets / objectifs","Trouver des outils pratiques","Suivre les nouveauts","Autre raison"],H9=[{label:"Sport",icon:""},{label:"Journaling",icon:""},{label:"Self-love",icon:""},{label:"Finances",icon:""},{label:"Routine",icon:""},{label:"Wishlist",icon:""},{label:"Calendrier mensuel",icon:""},{label:"Cuisine",icon:""}],W9={source:"",sourceOther:"",reasons:[],reasonsOther:"",categories:[]},G9=()=>{const t=kc(),e=ko(),{userEmail:n}=or(),[i,s]=F.useState(0),[a,u]=F.useState(W9),m=F.useMemo(()=>di(ll(n),z9),[n]),x=F.useMemo(()=>{var te;const H=e.state;return typeof(H==null?void 0:H.from)=="string"?H.from:(te=H==null?void 0:H.from)!=null&&te.pathname?H.from.pathname:"/home"},[e.state]);F.useEffect(()=>{try{const H=localStorage.getItem(m);if(!H)return;const te=JSON.parse(H);u(Te=>({...Te,...te,reasons:Array.isArray(te.reasons)?te.reasons:Te.reasons,categories:Array.isArray(te.categories)?te.categories:Te.categories}))}catch{}},[m]);const _=3,j=Math.round((i+1)/_*100),I=F.useMemo(()=>i===0?a.source?a.source==="Autre"?!!a.sourceOther.trim():!0:!1:i===1?!(a.reasons.length===0||a.reasons.includes("Autre raison")&&!a.reasonsOther.trim()):i===2?a.categories.length>0:!1,[a,i]),U=H=>{try{localStorage.setItem(m,JSON.stringify({...H,completedAt:new Date().toISOString()}))}catch{}},J=async H=>{const te=ki.currentUser;if(te)try{const Te=new Date().toISOString();await r0(Tg($u,"users",te.uid),{onboarding:{source:H.source,sourceOther:H.sourceOther,reasons:H.reasons,reasonsOther:H.reasonsOther,categories:H.categories,completedAt:Te},updatedAt:Te},{merge:!0})}catch(Te){console.error("Onboarding save failed",Te)}},ne=async H=>{U(H),await J(H),t(x,{replace:!0})},le=async()=>{if(I){if(i>=_-1){await ne(a);return}s(H=>Math.min(H+1,_-1))}},oe=()=>{s(H=>Math.max(H-1,0))},X=(H,te)=>{u(Te=>{const ge=Te[H],Y=ge.includes(te)?ge.filter(M=>M!==te):[...ge,te];return{...Te,[H]:Y,reasonsOther:H==="reasons"&&te==="Autre raison"&&ge.includes(te)?"":Te.reasonsOther}})},O=H=>{const te={...a,source:H,sourceOther:H==="Autre"?a.sourceOther:""};u(te),H!=="Autre"&&s(1)};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"onboarding-layout",children:[o.jsxs("section",{className:"onboarding-panel",children:[o.jsxs("div",{className:"onboarding-progress",children:[o.jsxs("div",{className:"onboarding-progress__meta",children:[o.jsxs("span",{children:["Question ",i+1," / ",_]}),o.jsxs("span",{children:[j,"%"]})]}),o.jsx("div",{className:"progress-bar","aria-hidden":"true",children:o.jsx("div",{className:"progress-fill",style:{width:`${j}%`}})})]}),i===0?o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"onboarding-question",children:"Comment avez-vous connu ce site ?"}),o.jsx("p",{className:"onboarding-hint",children:"Choix unique"}),o.jsx("div",{className:"onboarding-options",children:q9.map(H=>o.jsxs("label",{className:`onboarding-option${a.source===H?" is-selected":""}`,children:[o.jsx("input",{type:"checkbox",name:"onboarding-source",value:H,checked:a.source===H,onChange:()=>O(H)}),o.jsx("span",{className:"onboarding-option__label",children:H==="Autre"?"Autre ( prciser)":H}),o.jsx("span",{className:"onboarding-option__control","aria-hidden":"true"})]},H))}),a.source==="Autre"?o.jsxs("label",{className:"onboarding-other",children:["Prcise ta rponse",o.jsx("input",{type:"text",value:a.sourceOther,onChange:H=>u(te=>({...te,sourceOther:H.target.value})),placeholder:"Ex: blog, forum..."})]}):null]}):null,i===1?o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"onboarding-question",children:"Qu'est-ce qui vous a donn envie de crer un compte ?"}),o.jsx("p",{className:"onboarding-hint",children:"Plusieurs rponses possibles"}),o.jsx("div",{className:"onboarding-options",children:$9.map(H=>o.jsxs("label",{className:`onboarding-option${a.reasons.includes(H)?" is-selected":""}`,children:[o.jsx("input",{type:"checkbox",value:H,checked:a.reasons.includes(H),onChange:()=>X("reasons",H)}),o.jsx("span",{className:"onboarding-option__label",children:H}),o.jsx("span",{className:"onboarding-option__control","aria-hidden":"true"})]},H))}),a.reasons.includes("Autre raison")?o.jsxs("label",{className:"onboarding-other",children:["Dis-nous en plus",o.jsx("input",{type:"text",value:a.reasonsOther,onChange:H=>u(te=>({...te,reasonsOther:H.target.value})),placeholder:"Autre raison"})]}):null]}):null,i===2?o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"onboarding-question",children:"Quelles catgories vous intressent le plus ?"}),o.jsx("p",{className:"onboarding-hint",children:"Plusieurs rponses possibles"}),o.jsx("div",{className:"onboarding-options onboarding-options--grid",children:H9.map(H=>o.jsxs("label",{className:`onboarding-option${a.categories.includes(H.label)?" is-selected":""}`,children:[o.jsx("input",{type:"checkbox",value:H.label,checked:a.categories.includes(H.label),onChange:()=>X("categories",H.label)}),o.jsx("span",{className:"onboarding-option__icon","aria-hidden":"true",children:H.icon}),o.jsx("span",{className:"onboarding-option__label",children:H.label}),o.jsx("span",{className:"onboarding-option__control","aria-hidden":"true"})]},H.label))})]}):null]}),o.jsxs("div",{className:"onboarding-actions",children:[i>0?o.jsx("button",{type:"button",className:"onboarding-button onboarding-button--ghost",onClick:oe,children:"Retour"}):null,i<_-1?o.jsx("button",{type:"button",className:"onboarding-button",onClick:le,disabled:!I,children:"Suivant"}):o.jsx("button",{type:"button",className:"onboarding-button",onClick:le,disabled:!I,children:"Terminer"})]})]}),o.jsx("div",{className:"page-footer-bar","aria-hidden":"true"})]})},xy="/assets/ebony-forsyth-dupe-GFqzB8NI.jpeg",ZI="/assets/medhanshi-mandawewala-dupe-bl03DVWt.jpeg",eP="/assets/selflove-CaLSWpi4.jpeg",tP="/assets/l-b-dupe-DeI3DkrK.jpeg",nP="/assets/katie-mansfield-dupe-BLIPcaqU.jpeg",iP="/assets/mallika-jain-dupe-JMU-PO8Q.jpeg",rP="/assets/sport-CQaJLkG1.jpeg",yd=[{title:"Sport",text:"Bouge avec douceur et plaisir.",image:rP},{title:"Journaling",text:"cris, clarifie et te recentre.",image:iP},{title:"S'aimer soi-mme",text:"Instants self-love au quotidien.",image:eP},{title:"Wishlist",text:"Garde tes envies au mme endroit.",image:ZI},{title:"Calendrier mensuel",text:"Une vue claire sur le mois.",image:cl},{title:"Finances",text:"Budget et dpenses sans stress.",image:xy},{title:"Routine",text:"Rituels matin et soir qui te ressemblent.",image:tP},{title:"Cuisine",text:"Ides repas pour librer ta charge mentale.",image:nP}],K9=["Allger ta charge mentale","Taider  te sentir plus sereine","Reprendre le contrle de ton temps","Crer une vie qui te ressemble","Te reconnecter  toi-mme"],Y9=()=>{const t=kc(),e=ko(),{isAuthenticated:n,userEmail:i,logout:s}=or(),{moodboardSrc:a}=JI(),[u,m]=F.useState(0),x=F.useMemo(()=>Array.from({length:4},(U,J)=>{const ne=yd.length;return yd[(u+J+ne)%ne]}),[u]),_=()=>{m(U=>(U-1+yd.length)%yd.length)},j=()=>{m(U=>(U+1)%yd.length)},I=F.useMemo(()=>{var J;const U=e.state;return((J=U==null?void 0:U.from)==null?void 0:J.pathname)??"/home"},[e.state]);return F.useEffect(()=>{n&&t(I,{replace:!0})},[I,n,t]),o.jsxs("div",{className:"landing-page",children:[o.jsxs("section",{className:"landing-hero",children:[o.jsxs("div",{className:"landing-hero__content",children:[o.jsx("h1",{children:"Lespace qui transforme ton quotidien en une vie plus fluide, plus douce et plus aligne."}),o.jsx("p",{className:"landing-hero__accent",children:"Parce que tu mrites une vie structure sans pression, productive sans stress, et inspirante au quotidien."}),o.jsxs("div",{className:"landing-hero__actions",children:[o.jsx("button",{type:"button",className:"landing-cta-button",onClick:()=>t("/login"),children:"Commencer mon organisation positive"}),n?o.jsx("button",{type:"button",className:"landing-secondary-button",onClick:()=>t("/home"),children:"Reprendre ma planification"}):null]}),n?o.jsxs("div",{className:"landing-hero__status",children:["Connect en tant que ",o.jsx("strong",{children:i}),o.jsx("button",{type:"button",onClick:s,children:"Se dconnecter"})]}):null]}),o.jsx("div",{className:"landing-hero__visual",children:o.jsx("img",{src:a,alt:"Moodboard Planner"})})]}),o.jsxs("section",{className:"landing-daily-hub","aria-labelledby":"landing-daily-hub-title",children:[o.jsxs("div",{className:"landing-section-heading",children:[o.jsx("h2",{id:"landing-daily-hub-title",children:"Sur ce site tu as accs  :"}),o.jsx("p",{children:"Fini les carnets parpills, les notes sur ton tlphone et les applis dans tous les sens. Ici, tout est centralis pour simplifier ton quotidien et te librer de la charge mentale."})]}),o.jsxs("div",{className:"landing-carousel",children:[o.jsx("button",{type:"button",className:"landing-carousel__arrow landing-carousel__arrow--left","aria-label":"Cartes prcdentes",onClick:_,children:o.jsx("span",{"aria-hidden":"true",children:""})}),o.jsx("div",{className:"landing-carousel__grid",children:x.map(U=>o.jsxs("article",{className:"landing-carousel__card",children:[o.jsx("div",{className:"landing-carousel__image",children:o.jsx("img",{src:U.image,alt:U.title})}),o.jsxs("div",{className:"landing-carousel__body",children:[o.jsx("h3",{children:U.title}),o.jsx("p",{children:U.text})]})]},U.title))}),o.jsx("button",{type:"button",className:"landing-carousel__arrow landing-carousel__arrow--right","aria-label":"Cartes suivantes",onClick:j,children:o.jsx("span",{"aria-hidden":"true",children:""})})]})]}),o.jsxs("section",{className:"landing-differentiator","aria-labelledby":"landing-differentiator-title",children:[o.jsxs("div",{className:"landing-section-heading",children:[o.jsx("h2",{id:"landing-differentiator-title",children:"Bien plus qu'un outil d'organisation"}),o.jsx("p",{children:"Ce site nest pas seulement un planner digital. Cest un vritable cocon positif, conu pour te rappeler que tu peux avancer  ton rythme, avec bienveillance envers toi-mme."}),o.jsx("p",{children:"Tout est pens pour que tu te sentes bien, inspire et en accord avec toi."})]}),o.jsx("ul",{className:"landing-differentiator__list",children:K9.map(U=>o.jsx("li",{children:U},U))})]}),o.jsxs("section",{className:"landing-final-cta","aria-labelledby":"landing-final-cta-title",children:[o.jsx("h2",{id:"landing-final-cta-title",children:"Et si tu t'offrais enfin une organisation qui te fait du bien ?"}),o.jsx("p",{children:"Tu nas pas besoin den faire davantage. Tu as besoin dun espace qui te laisse respirer, te guide et soutienne ton panouissement."}),o.jsx("button",{type:"button",className:"landing-cta-button",onClick:()=>t("/register"),children:"Je commence mon organisation positive ds maintenant"})]}),o.jsx("div",{className:"page-footer-bar","aria-hidden":"true"})]})},X9="/assets/activities-CIytRtmO.jpeg",Q9="planner.home.moodboard",lm=X9,J9="planner.profile.preferences.v1",Z9="planner.onboarding.answers.v1",eq="profile-photo",zC=cl,tq="home.card-titles",nq="home.card-images",iq="home.card-usage",sP=[{image:rP,alt:"Sport",kicker:"nergie",title:"Sport",path:"/sport"},{image:cl,alt:"Calendrier",kicker:"Vue globale",title:"Calendrier mensuel",path:"/calendrier"},{image:ZI,alt:"Wishlist",kicker:"Envie",title:"Wishlist",path:"/wishlist"},{image:iP,alt:"Journaling",kicker:"Reflet",title:"Journaling",path:"/journaling"},{image:eP,alt:"Self-love",kicker:"Care",title:"S'aimer soi-mme",path:"/self-love"},{image:xy,alt:"Finances",kicker:"Budget",title:"Finances",path:"/finances"},{image:tP,alt:"Routine",kicker:"Rythme",title:"Routine",path:"/routine"},{image:nP,alt:"Cuisine",kicker:"Saveurs",title:"Cuisine",path:"/alimentation"}],rq={sport:"/sport",journaling:"/journaling","self-love":"/self-love",finances:"/finances",routine:"/routine",wishlist:"/wishlist","calendrier mensuel":"/calendrier",cuisine:"/alimentation"},sq=t=>{var e;return((e=sP.find(n=>n.path===t))==null?void 0:e.title)??""},oq=t=>Math.min(100,Math.max(0,t)),aq=t=>new Date(t).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"}),lq=()=>new Date().toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),qC=()=>{const t=new Date,e=new Date(t.getFullYear(),0,1),n=new Date(t.getFullYear()+1,0,1),i=new Date(t.getFullYear(),t.getMonth(),1),s=new Date(t.getFullYear(),t.getMonth()+1,1),a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),u=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1),m=(x,_)=>oq((t.getTime()-x.getTime())/(_.getTime()-x.getTime())*100);return{year:m(e,n),month:m(i,s),day:m(a,u)}},cq=t=>{var e;try{const n=localStorage.getItem(t);if(!n)return"";const i=JSON.parse(n);return((e=i==null?void 0:i.identityInfo)==null?void 0:e.username)??""}catch{return""}};function uo(t){try{const e=localStorage.getItem(t);if(!e)return null;try{const n=JSON.parse(e);return typeof n=="string"?n:e}catch{return e}}catch{return null}}function Da(t,e){localStorage.setItem(t,e)}function $C(t){try{localStorage.removeItem(t)}catch{}}async function uq(t,e){const n=e==null?void 0:e.size,i=e==null?void 0:e.quality,s=await new Promise((le,oe)=>{const X=new FileReader;X.onerror=()=>oe(new Error("Lecture du fichier impossible.")),X.onload=()=>{const O=typeof X.result=="string"?X.result:null;O?le(O):oe(new Error("Fichier invalide."))},X.readAsDataURL(t)}),a=await new Promise((le,oe)=>{const X=new Image;X.onload=()=>le(X),X.onerror=()=>oe(new Error("Image non valide.")),X.src=s}),u=document.createElement("canvas");u.width=n,u.height=n;const m=u.getContext("2d");if(!m)throw new Error("Canvas indisponible.");const x=a.width,_=a.height,j=Math.min(x,_),I=Math.floor((x-j)/2),U=Math.floor((_-j)/2);m.drawImage(a,I,U,j,j,0,0,n,n);const J=u.toDataURL("image/webp",i);return J.startsWith("data:image/webp")?J:u.toDataURL("image/jpeg",i)}async function HC(t,e){const n=(e==null?void 0:e.maxSide)??1600,i=(e==null?void 0:e.quality)??.78,s=await new Promise((le,oe)=>{const X=new FileReader;X.onerror=()=>oe(new Error("Lecture du fichier impossible.")),X.onload=()=>{const O=typeof X.result=="string"?X.result:null;O?le(O):oe(new Error("Fichier invalide."))},X.readAsDataURL(t)}),a=await new Promise((le,oe)=>{const X=new Image;X.onload=()=>le(X),X.onerror=()=>oe(new Error("Image non valide.")),X.src=s}),u=a.width,m=a.height;if(!u||!m)throw new Error("Image invalide.");const x=Math.min(1,n/Math.max(u,m)),_=Math.round(u*x),j=Math.round(m*x),I=document.createElement("canvas");I.width=_,I.height=j;const U=I.getContext("2d");if(!U)throw new Error("Canvas indisponible.");U.drawImage(a,0,0,_,j);const J=I.toDataURL("image/webp",i);return J.startsWith("data:image/webp")?J:I.toDataURL("image/jpeg",i)}function hq(){const t=kc(),{tasks:e}=g_(),{userEmail:n}=or(),i=n??"anonymous",s=F.useCallback(de=>di(i,de),[i]),a=F.useMemo(()=>s(eq),[s]),u=F.useMemo(()=>di(ll(i),J9),[i]),m=F.useMemo(()=>s(Q9),[s]),x=F.useMemo(()=>s("todos"),[s]),_=F.useMemo(()=>s(tq),[s]),j=F.useMemo(()=>s(nq),[s]),I=F.useMemo(()=>s(iq),[s]),U=F.useMemo(()=>di(ll(i),Z9),[i]),[J,ne]=F.useState(null),[le,oe]=F.useState(null),[X,O]=F.useState({}),[H,te]=F.useState(()=>new Date),Te=F.useRef({}),[ge,Y]=F.useState(()=>uo(a)??zC),[M,G]=F.useState(null),z=F.useRef(null),[K,se]=F.useState(()=>uo(m)??lm),[ie,dt]=F.useState(null),Dt=F.useRef(null),[Ge,ut]=F.useState(""),[Re,Ke]=F.useState(()=>{try{const de=localStorage.getItem(x);if(!de)return[];const ye=JSON.parse(de);return Array.isArray(ye)?ye:[]}catch{return[]}}),[ct,Et]=F.useState(()=>qC()),wt=F.useMemo(()=>cq(u),[u]),vt=K!==lm,[Ot,ht]=F.useState(()=>{const de=uo(_);if(!de)return{};try{const ye=JSON.parse(de);return ye&&typeof ye=="object"?ye:{}}catch{return{}}}),[Pt,st]=F.useState(()=>{const de=uo(j);if(!de)return{};try{const ye=JSON.parse(de);return ye&&typeof ye=="object"?ye:{}}catch{return{}}}),[be,ae]=F.useState(()=>{const de=uo(I);if(!de)return{};try{const ye=JSON.parse(de);return ye&&typeof ye=="object"?ye:{}}catch{return{}}}),ke=F.useMemo(()=>{try{const de=localStorage.getItem(U);if(!de)return[];const ye=JSON.parse(de);if(!Array.isArray(ye==null?void 0:ye.categories))return[];const je=ye.categories.map(Ze=>rq[String(Ze).trim().toLowerCase()]??"").filter(Boolean);return Array.from(new Set(je))}catch{return[]}},[U]),me=F.useMemo(()=>{const de=new Map(ke.map((je,Ze)=>[je,Ze]));return sP.map((je,Ze)=>{const nt=be[je.path]??0,Ht=Math.floor(nt/3),Bt=de.get(je.path),at=Bt!==void 0,rt=Ht+(at?2:0);return{card:je,index:Ze,score:rt,usage:nt,isPreferred:at,preferredOrderIndex:at?Bt:Number.POSITIVE_INFINITY}}).sort((je,Ze)=>Ze.score-je.score||Number(Ze.isPreferred)-Number(je.isPreferred)||je.preferredOrderIndex-Ze.preferredOrderIndex||je.index-Ze.index).map(je=>je.card)},[be,ke]);F.useEffect(()=>{const de=uo(a);if(de){Y(de);return}const ye=uo("profile-photo");if(ye){Y(ye);try{Da(a,ye)}catch{}return}Y(zC)},[a]),F.useEffect(()=>{try{Da(a,ge)}catch{G("Impossible denregistrer la photo (stockage plein). Choisis une image plus lgre.")}},[a,ge]),F.useEffect(()=>{const de=uo(m);if(de){se(de);return}const ye=uo("planner.home.moodboard");if(ye){se(ye);try{Da(m,ye)}catch{}return}se(lm)},[m]),F.useEffect(()=>{try{Da(m,K)}catch{dt("Impossible denregistrer le moodboard (stockage plein). Choisis une image plus lgre.")}},[m,K]),F.useEffect(()=>{localStorage.setItem(x,JSON.stringify(Re))},[x,Re]),F.useEffect(()=>{Da(_,JSON.stringify(Ot))},[_,Ot]),F.useEffect(()=>{Da(j,JSON.stringify(Pt))},[j,Pt]),F.useEffect(()=>{Da(I,JSON.stringify(be))},[I,be]),F.useEffect(()=>{const de=setInterval(()=>te(new Date),6e4);return()=>clearInterval(de)},[]),F.useEffect(()=>{const de=()=>Et(qC());de();const ye=setInterval(de,6e4);return()=>clearInterval(ye)},[]),F.useEffect(()=>{if(!J)return;const de=ye=>{const je=ye.target;je.closest(".profile-menu")||je.closest(".card-menu-popover")||ne(null)};return document.addEventListener("mousedown",de),()=>document.removeEventListener("mousedown",de)},[J]);const Ye=()=>{const de=Ge.trim();de&&(Ke(ye=>[{id:`todo-${Date.now()}`,text:de,done:!1},...ye]),ut(""))},Pe=de=>{Ke(ye=>ye.map(je=>je.id===de?{...je,done:!je.done}:je))},ze=de=>{Ke(ye=>ye.filter(je=>je.id!==de))},we=async de=>{var je;G(null);const ye=(je=de.target.files)==null?void 0:je[0];if(ye){if(!ye.type.startsWith("image/")){G("Format non support. Choisis une image."),de.target.value="";return}try{const Ze=await uq(ye,{size:320,quality:.82});Y(Ze)}catch(Ze){G(Ze instanceof Error?Ze.message:"Erreur lors du traitement de limage.")}finally{de.target.value=""}}},yt=async de=>{var je;dt(null);const ye=(je=de.target.files)==null?void 0:je[0];if(ye){if(!ye.type.startsWith("image/")){dt("Format non support. Choisis une image."),de.target.value="";return}try{const Ze=await HC(ye,{maxSide:1600,quality:.78});se(Ze)}catch(Ze){dt(Ze instanceof Error?Ze.message:"Erreur lors du traitement de limage.")}finally{de.target.value=""}}},xt=()=>{dt(null),se(lm),$C(m),$C("planner.home.moodboard")},Tt=F.useCallback(de=>Ot[de.path]??de.title,[Ot]),Ct=F.useCallback(de=>Pt[de.path]??de.image,[Pt]),pt=F.useCallback(de=>{const ye=uo(I);let je={};if(ye)try{const nt=JSON.parse(ye);nt&&typeof nt=="object"&&(je=nt)}catch{je={}}const Ze={...je,[de]:(je[de]??0)+1};Da(I,JSON.stringify(Ze)),ae(Ze)},[I]),De=de=>{ne(null),oe(de.path),O(ye=>({...ye,[de.path]:Tt(de)}))},_e=de=>{var ye;ne(null),(ye=Te.current[de.path])==null||ye.click()},Se=async(de,ye)=>{if(ye&&ye.type.startsWith("image/"))try{const je=await HC(ye,{maxSide:1200,quality:.8});st(Ze=>({...Ze,[de.path]:je}))}catch{}},ue=de=>{const ye=(X[de]??"").trim(),je=sq(de);ht(Ze=>{const nt={...Ze};return ye.length===0||ye===je?delete nt[de]:nt[de]=ye,nt}),oe(null)},Fe=F.useMemo(()=>{const de=H.getTime();return e.map(Ze=>{const nt=new Date(`${Ze.date}T00:00`).getTime(),Ht=new Date(`${Ze.date}T${Ze.start??"00:00"}`),Bt=new Date(`${Ze.date}T${Ze.end??Ze.start??"23:59"}`),at=Number.isFinite(Ht.getTime())?Ht.getTime():nt,rt=Number.isFinite(Bt.getTime())?Bt.getTime():at;return{id:Ze.id,title:Ze.title,date:Ze.date,start:Ze.start,end:Ze.end,dateTs:Number.isFinite(nt)?nt:0,startTs:at,endTs:rt}}).filter(Ze=>Ze.endTs>de).sort((Ze,nt)=>Ze.startTs-nt.startTs).slice(0,2).map(({dateTs:Ze,startTs:nt,endTs:Ht,...Bt})=>Bt)},[H,e]);return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"page home-page",children:[o.jsxs("aside",{className:"aside-right",children:[o.jsxs("div",{className:"profile-card",children:[o.jsxs("div",{className:"profile-photo",children:[o.jsx("img",{src:ge,alt:"Profil"}),o.jsx("button",{className:"profile-menu","aria-label":"Modifier la photo",type:"button",onClick:()=>{var de;return(de=z.current)==null?void 0:de.click()},children:o.jsx("span",{"aria-hidden":"true",children:"..."})}),o.jsx("input",{ref:z,type:"file",accept:"image/*",className:"profile-file-input",onChange:we})]}),o.jsx("div",{className:"profile-actions",children:M?o.jsx("p",{className:"profile-error",children:M}):null})]}),o.jsx("p",{className:"profile-welcome",children:`C'est un plaisir de te revoir${wt?`, ${wt}`:""}.`}),o.jsxs("div",{className:"progress-panel",children:[o.jsxs("div",{className:"progress-row",children:[o.jsxs("div",{className:"progress-label",children:[o.jsx("span",{children:"Anne"}),o.jsxs("span",{children:[ct.year.toFixed(1),"%"]})]}),o.jsx("div",{className:"progress-bar",children:o.jsx("div",{className:"progress-fill",style:{width:`${ct.year}%`}})})]}),o.jsxs("div",{className:"progress-row",children:[o.jsxs("div",{className:"progress-label",children:[o.jsx("span",{children:"Mois"}),o.jsxs("span",{children:[ct.month.toFixed(1),"%"]})]}),o.jsx("div",{className:"progress-bar",children:o.jsx("div",{className:"progress-fill",style:{width:`${ct.month}%`}})})]}),o.jsxs("div",{className:"progress-row",children:[o.jsxs("div",{className:"progress-label",children:[o.jsx("span",{children:"Journe"}),o.jsxs("span",{children:[ct.day.toFixed(1),"%"]})]}),o.jsx("div",{className:"progress-bar",children:o.jsx("div",{className:"progress-fill",style:{width:`${ct.day}%`}})})]})]}),o.jsxs("div",{className:"notes",children:[o.jsx("div",{className:"notes-header",children:o.jsx("div",{children:o.jsx("h3",{children:"Bloc-notes"})})}),o.jsxs("div",{className:"todo-input",children:[o.jsx("input",{type:"text",value:Ge,onChange:de=>ut(de.target.value),onKeyDown:de=>{(de.key===" "||de.key==="Spacebar")&&(de.preventDefault(),Ye())},placeholder:"Ajouter une tche"}),o.jsx("button",{type:"button",className:"todo-add",onClick:Ye,"aria-label":"Ajouter une tche",children:"+"})]}),o.jsx("ul",{className:"todo-list",children:Re.map(de=>o.jsxs("li",{className:de.done?"todo-item is-done":"todo-item",children:[o.jsxs("label",{children:[o.jsx("input",{type:"checkbox",checked:de.done,onChange:()=>Pe(de.id)}),o.jsx("span",{children:de.text})]}),o.jsx("button",{type:"button",onClick:()=>ze(de.id),"aria-label":"Supprimer la tche",children:"x"})]},de.id))})]})]}),o.jsxs("main",{className:"board",children:[o.jsx("section",{className:"home-hero-strip",children:o.jsxs("div",{className:"home-hero-strip__center",children:[o.jsx("div",{className:"today",children:lq()}),o.jsx("h1",{children:"Organise tes journes avec intention"})]})}),o.jsx("section",{className:"card-grid",children:me.map(de=>o.jsxs("article",{className:"card",role:"button",tabIndex:0,onClick:()=>{le||(pt(de.path),t(de.path))},onKeyDown:ye=>{ye.key==="Enter"&&!le&&(pt(de.path),t(de.path))},children:[o.jsxs("div",{className:"card-menu-wrapper",children:[o.jsx("button",{type:"button",className:"profile-menu","aria-label":`Modifier ${de.title}`,onClick:ye=>{ye.stopPropagation(),ne(J===de.title?null:de.title)},children:o.jsx("span",{"aria-hidden":"true",children:"..."})}),J===de.title?o.jsxs("div",{className:"card-menu-popover",role:"menu",onClick:ye=>ye.stopPropagation(),children:[o.jsx("button",{type:"button",className:"card-menu-popover__item",onClick:()=>De(de),children:"Modifier le texte"}),o.jsx("button",{type:"button",className:"card-menu-popover__item",onClick:()=>_e(de),children:"Modifier la photo"})]}):null]}),o.jsx("img",{src:Ct(de),alt:de.alt}),o.jsx("input",{ref:ye=>{Te.current[de.path]=ye},type:"file",accept:"image/*",className:"card-file-input",onClick:ye=>ye.stopPropagation(),onChange:ye=>{var je;Se(de,(je=ye.target.files)==null?void 0:je[0]),ye.target.value=""}}),o.jsx("div",{className:"card-body",children:le===de.path?o.jsx("input",{type:"text",className:"card-title-input",value:X[de.path]??Tt(de),onChange:ye=>O(je=>({...je,[de.path]:ye.target.value})),onClick:ye=>ye.stopPropagation(),onKeyDown:ye=>{ye.stopPropagation(),ye.key==="Enter"&&(ye.preventDefault(),ue(de.path)),ye.key==="Escape"&&(ye.preventDefault(),O(je=>({...je,[de.path]:Tt(de)})),oe(null))},onBlur:()=>ue(de.path),autoFocus:!0}):o.jsx("h3",{children:Tt(de)})})]},de.title))})]}),o.jsxs("aside",{className:"aside-left",children:[o.jsx("div",{className:"aside-title",children:"Prochaines tches"}),o.jsx("div",{className:"task-window",children:o.jsx("div",{className:"task-list",children:Fe.length>0?Fe.map(de=>o.jsxs("article",{className:"task-card",children:[o.jsx("div",{className:"task-card__header",children:o.jsx("p",{className:"task-date",children:aq(de.date)})}),o.jsx("h4",{className:"task-title",children:de.title}),de.start||de.end?o.jsx("div",{className:"task-meta",children:o.jsxs("span",{className:"task-time-chip",children:[de.start??""," ",de.end?`- ${de.end}`:""]})}):null]},`${de.title}-${de.date}`)):o.jsxs("article",{className:"task-card",children:[o.jsx("p",{className:"task-title",children:"Aucune tche prvue"}),o.jsx("p",{className:"task-note",children:"Ajoute une tche dans le calendrier."})]})})})]}),o.jsxs("section",{className:"home-moodboard",children:[o.jsxs("div",{className:"home-moodboard__top",children:[o.jsx("h2",{children:"Moodboard"}),o.jsxs("div",{className:"home-moodboard__top-actions",children:[o.jsx("button",{type:"button",className:"home-moodboard__button",onClick:()=>{var de;return(de=Dt.current)==null?void 0:de.click()},children:"Changer l'image"}),vt?o.jsx("button",{type:"button",className:"home-moodboard__reset",onClick:xt,children:"Rinitialiser"}):null]}),o.jsx("input",{ref:Dt,type:"file",accept:"image/*",className:"home-moodboard__file-input",onChange:yt})]}),ie?o.jsx("p",{className:"home-moodboard__error",children:ie}):null,o.jsx("div",{className:"home-moodboard__preview",children:o.jsx("img",{src:K,alt:"Moodboard personnalis"})})]}),o.jsx("div",{className:"home-footer-bar","aria-hidden":"true"})]})})}const yi=({eyebrow:t,title:e,className:n})=>o.jsx("header",{className:`sport-header${n?` ${n}`:""}`,children:o.jsxs("div",{children:[o.jsx("span",{className:"sport-header__eyebrow",children:t}),o.jsx("h1",{children:e})]})}),dq="/assets/tuany-kohler-dupe-CPMNy1_5.jpeg",pq="/assets/thayna-queiroz-dupe-_QYpnJch.jpeg",fq="/assets/sport-1-BufSr-_U.jpg",mq="planner.sportBoard.v2",WC="planner.sport.quickchips.v1",oP=[{id:"mon",label:"Lundi"},{id:"tue",label:"Mardi"},{id:"wed",label:"Mercredi"},{id:"thu",label:"Jeudi"},{id:"fri",label:"Vendredi"},{id:"sat",label:"Samedi"},{id:"sun",label:"Dimanche"}],Ng=["","","","","","",""],gq=["+ Nouvel vnement","+ Nouvel exercice","+ Routine du jour","+ Nouvelle nourriture","+ Daily meal","+ Nouvel objectif"],yq=t=>new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"short"}).format(new Date(t)),aP=t=>{const e=t.getFullYear(),n=`${t.getMonth()+1}`.padStart(2,"0"),i=`${t.getDate()}`.padStart(2,"0");return`${e}-${n}-${i}`},lP=t=>{const e=new Date(t),n=e.getDay(),i=n===0?-6:1-n;return e.setDate(e.getDate()+i),e.setHours(0,0,0,0),e},bx=()=>{const t=lP(new Date);return oP.map(({label:e},n)=>{const i=new Date(t);return i.setDate(t.getDate()+n),{id:`sport-board-${n}`,label:e,dateISO:aP(i),activity:Ng[n%Ng.length],done:!1}})},vq=t=>{if(!Array.isArray(t)||t.length===0)return"";const e=new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"short"}),n=e.format(new Date(t[0].dateISO)),i=e.format(new Date(t[t.length-1].dateISO));return`${n} - ${i}`},xq=new Set(["Cardio","Renforcement","Yoga","Fitness","Mobility","Pilates","Repos actif"]),bq=()=>{const{userEmail:t}=or(),[e,n]=Si(mq,bx),[i,s]=Si(WC,()=>[]),[a,u]=F.useState(()=>i.some(O=>O.text.trim().length>0)),[m,x]=F.useState(null),_=F.useMemo(()=>di(t,WC),[t]),j=F.useMemo(()=>[{id:"life-workout",label:"Workout",image:dq},{id:"life-diet",label:"Diet",image:pq},{id:"life-goals",label:"Goals",image:fq}],[]);F.useEffect(()=>{var ge;if(!Array.isArray(e)||e.length!==oP.length){n(bx());return}const O=aP(lP(new Date));if(((ge=e[0])==null?void 0:ge.dateISO)!==O){n(bx());return}let te=!1;const Te=e.map((Y,M)=>{const G=Y.activity??Ng[M%Ng.length];return xq.has(G)?(te=!0,{...Y,activity:""}):G!==Y.activity?(te=!0,{...Y,activity:G}):Y});te&&n(Te)},[e,n]);const I=F.useMemo(()=>vq(e),[e]),U=O=>H=>{const te=H.target.value;n(Te=>Te.map(ge=>ge.id===O?{...ge,activity:te}:ge))},J=O=>H=>{const{checked:te}=H.target;n(Te=>Te.map(ge=>ge.id===O?{...ge,done:te}:ge))},ne=O=>{s(H=>[...H,{id:`chip-${Date.now()}`,text:O}]),u(!0)},le=(O,H)=>{s(te=>te.map(Te=>Te.id===O?{...Te,text:H}:Te))},oe=()=>{s(O=>O.length>0?O:[{id:`chip-${Date.now()}`,text:""}]),u(!0)},X=O=>{s(H=>{const te=H.filter(Te=>Te.id!==O);return te.length===0&&u(!1),te})};return F.useEffect(()=>{if(i.length===0){u(!1);return}i.some(O=>O.text.trim().length>0)&&u(!0)},[i]),F.useEffect(()=>{if(!a)return;const O=H=>{const te=H.target;if(te.closest(".sport-chip__inline-editor")||te.closest(".sport-chip--add")||te.closest(".sport-chip--remove"))return;const Te=i.map(ge=>({...ge,text:ge.text.trim()})).filter(ge=>ge.text.length>0);if(Te.length===0){s([]),u(!1);return}s(Te)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[a,i,s]),F.useEffect(()=>{const O=()=>{const H=i.some(te=>te.text.trim().length>0);if(i.length>0&&!H)try{localStorage.removeItem(_)}catch{}};return window.addEventListener("beforeunload",O),window.addEventListener("pagehide",O),()=>{window.removeEventListener("beforeunload",O),window.removeEventListener("pagehide",O),O()}},[i,_]),F.useEffect(()=>{if(!m)return;const O=H=>{const te=H.target;te.closest(".sport-life-card__menu")||te.closest(".sport-life-card__menu-popover")||x(null)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[m]),o.jsxs("div",{className:"sport-page",children:[o.jsx(yi,{eyebrow:"Routine active",title:"Sport"}),o.jsxs("section",{className:"sport-quick-panels",children:[o.jsxs("div",{className:"sport-quick-panel",children:[o.jsx("div",{className:"sport-quick-panel__header",children:o.jsx("span",{className:"sport-quick-panel__title",children:"Ajouts rapides"})}),o.jsx("div",{className:"sport-quick-panel__chips",children:a&&i.length>0?o.jsxs(o.Fragment,{children:[i.map(O=>o.jsxs("div",{className:"sport-chip__inline-editor",children:[o.jsx("input",{type:"text",value:O.text,onChange:H=>le(O.id,H.target.value),placeholder:"Ajoute ton ide de sance",maxLength:40}),o.jsx("button",{type:"button",className:"sport-chip sport-chip--remove",onClick:()=>X(O.id),children:"-"})]},O.id)),o.jsx("div",{className:"sport-chip__add-row",children:o.jsx("button",{type:"button",className:"sport-chip sport-chip--add",onClick:()=>ne(""),children:"+"})})]}):gq.map(O=>o.jsx("button",{type:"button",className:"sport-chip",onClick:()=>oe(),children:O},O))})]}),o.jsxs("div",{className:"sport-quick-panel",children:[o.jsx("div",{className:"sport-quick-panel__header",children:o.jsx("span",{className:"sport-quick-panel__title",children:"My Life"})}),o.jsx("div",{className:"sport-quick-panel__cards",children:j.map(O=>o.jsxs(Zo,{className:"sport-life-card",to:O.id==="life-workout"?"/sport/workout":O.id==="life-diet"?"/diet":O.id==="life-goals"?"/goals":"#","aria-label":`Ouvrir ${O.label}`,children:[o.jsxs("div",{className:"sport-life-card__menu-wrapper",children:[o.jsx("button",{type:"button",className:"sport-life-card__menu","aria-label":`Modifier ${O.label}`,onClick:H=>{H.preventDefault(),H.stopPropagation(),x(m===O.id?null:O.id)},children:o.jsx("span",{"aria-hidden":"true",children:"..."})}),m===O.id?o.jsx("div",{className:"sport-life-card__menu-popover",role:"menu",onClick:H=>H.stopPropagation(),children:o.jsx("button",{type:"button",className:"sport-life-card__menu-item",children:"Modifier la photo"})}):null]}),o.jsx("div",{className:"sport-life-card__media",children:o.jsx("img",{src:O.image,alt:O.label})}),o.jsx("h3",{children:O.label})]},O.id))})]})]}),o.jsxs("section",{className:"sport-board",children:[o.jsxs("header",{className:"sport-section-header",children:[o.jsx("div",{children:o.jsx("h2",{children:"Planning de sport"})}),I?o.jsxs("p",{className:"sport-board__range",children:["Semaine du ",I]}):null]}),o.jsx("div",{className:"sport-board__group",children:o.jsx("div",{className:"sport-board__columns",role:"list",children:e.map(O=>o.jsxs("article",{className:"sport-board-card",role:"listitem",children:[o.jsxs("header",{className:"sport-board-card__header",children:[o.jsxs("div",{children:[o.jsx("h3",{children:O.label}),o.jsx("time",{dateTime:O.dateISO,children:yq(O.dateISO)})]}),o.jsx("span",{className:`sport-board-card__status${O.done?" is-done":""}`,children:O.done?"Fait":" planifier"})]}),o.jsxs("label",{className:"sport-board-card__field",children:[o.jsx("span",{children:"Sance"}),o.jsx("input",{type:"text",value:O.activity,onChange:U(O.id),placeholder:"cris le sport prvu"})]}),o.jsxs("label",{className:"sport-board-card__checkbox",children:[o.jsx("input",{type:"checkbox",checked:O.done,onChange:J(O.id)}),o.jsx("span",{children:"Sance effectue"})]})]},O.id))})})]}),o.jsx("div",{className:"sport-page__footer-bar","aria-hidden":"true"})]})},wq=[{value:"bright",label:"Lgre",emoji:""},{value:"good",label:"Stable",emoji:""},{value:"neutral",label:"Neutre",emoji:""},{value:"low",label:"Lourde",emoji:""},{value:"overwhelmed",label:"Sature",emoji:""}],_q=[{value:"low",label:"Faible"},{value:"medium",label:"Moyenne"},{value:"high",label:"Haute"}],Eq=[{value:"better",label:"Un peu mieux"},{value:"same",label:"Pareil"},{value:"clearer",label:"Plus clair"},{value:"tiredRelieved",label:"Fatigu(e) mais soulag(e)"}],kq=[{value:"gratitude",label:"Une chose pour laquelle je suis reconnaissant(e) aujourd'hui"},{value:"victory",label:"Une petite victoire du jour"}],GC={bright:["Qu'est-ce qui t'a fait du bien aujourd'hui, mme un peu ?","Quelle petite chose nourrit ta joie en ce moment ?","Qu'est-ce que tu veux garder prcieusement de cette journe ?","De quoi as-tu envie de te remercier aujourd'hui ?"],good:["Qu'est-ce qui te stabilise en ce moment ?","Quelle partie de ta journe t'a donn un peu d'lan ?","Qu'est-ce que tu aimerais continuer demain ?","Qu'est-ce qui te rassure aujourd'hui ?"],neutral:["Que veux-tu dposer ici, sans filtre ?","De quoi aurais-tu besoin l, maintenant ?","Qu'est-ce que tu vites en ce moment ?","Qu'est-ce que tu veux clarifier doucement ?"],low:["Qu'est-ce qui te pse le plus aujourd'hui ?","Quel petit geste pourrait te soulager aujourd'hui ?","Qu'est-ce qui te manque en ce moment ?","Qu'est-ce que tu aimerais qu'on comprenne de toi ?"],overwhelmed:["Qu'est-ce qui te prend trop de place aujourd'hui ?","De quoi pourrais-tu te dlester, mme un peu ?","Quelle limite douce pourrais-tu poser ?","Qu'est-ce que tu veux laisser pour plus tard ?"]},KC=()=>{const t=new Date,e=t.getFullYear(),n=`${t.getMonth()+1}`.padStart(2,"0"),i=`${t.getDate()}`.padStart(2,"0");return`${e}-${n}-${i}`},cP=t=>{const[e,n,i]=t.split("-").map(Number);return!e||!n||!i?null:new Date(e,n-1,i)},Tq=t=>{const e=new Date(t.getFullYear(),0,0),n=t.getTime()-e.getTime();return Math.floor(n/864e5)},Cq=(t,e)=>{const n=cP(t),i=n?Tq(n):0,s=GC[e]??GC.neutral;return s[i%s.length]},Sq=t=>{const e=cP(t);if(!e)return t;const n=e.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"});return n.charAt(0).toUpperCase()+n.slice(1)},Aq=t=>{const e=t.replace(/\s+/g," ").trimStart(),n=e.trim().split(" ").filter(Boolean);return n.length<=3?e:n.slice(0,3).join(" ")},Nq=()=>{const[,t]=Si("planner.journal.entries",()=>[]),[e,n]=F.useState({date:KC(),mood:"neutral",energy:"medium",keyword:"",content:"",questionAnswer:"",postFeeling:"",positiveAnchor:"",positiveAnchorType:"gratitude"}),[i,s]=F.useState(!1),a=F.useRef(null);F.useEffect(()=>()=>{a.current!==null&&window.clearTimeout(a.current)},[]);const u=F.useMemo(()=>Cq(e.date,e.mood),[e.date,e.mood]),m=F.useMemo(()=>Sq(e.date),[e.date]),x=()=>{const _={id:`entry-${Date.now()}`,date:e.date,mood:e.mood,energy:e.energy,keyword:e.keyword.trim()||void 0,question:u,questionAnswer:e.questionAnswer.trim()||void 0,content:e.content.trim()||void 0,postFeeling:e.postFeeling||void 0,positiveAnchor:e.positiveAnchor.trim()||void 0,positiveAnchorType:e.positiveAnchorType,createdAt:Date.now()};t(j=>[_,...j]),n(j=>({...j,date:KC(),keyword:"",content:"",questionAnswer:"",postFeeling:"",positiveAnchor:"",positiveAnchorType:"gratitude"})),s(!0),a.current!==null&&window.clearTimeout(a.current),a.current=window.setTimeout(()=>{s(!1),a.current=null},2e3)};return o.jsxs("div",{className:"journaling-page aesthetic-page",children:[o.jsx(yi,{eyebrow:"Reflet",title:"Journaling"}),o.jsxs("section",{className:"journaling-section journaling-checkin journaling-section--delay-1",children:[o.jsxs("header",{className:"journaling-section__header",children:[o.jsxs("div",{children:[o.jsx("h2",{children:"Check-in motionnel"}),o.jsx("p",{children:"Commence par un point rapide. C'est juste pour toi."})]}),o.jsx("div",{className:"journaling-checkin__date",children:m})]}),o.jsxs("div",{className:"journaling-checkin__grid",children:[o.jsxs("div",{className:"journaling-checkin__block",children:[o.jsx("span",{className:"journaling-checkin__label",children:"Humeur du jour"}),o.jsx("div",{className:"journaling-mood__options",children:wq.map(_=>o.jsxs("label",{className:"journaling-choice",children:[o.jsx("input",{type:"radio",name:"mood",value:_.value,checked:e.mood===_.value,onChange:()=>n(j=>({...j,mood:_.value}))}),o.jsxs("span",{className:"journaling-choice__content",children:[o.jsx("span",{className:"journaling-choice__emoji","aria-hidden":"true",children:_.emoji}),o.jsx("span",{children:_.label})]})]},_.value))})]}),o.jsxs("div",{className:"journaling-checkin__block",children:[o.jsx("span",{className:"journaling-checkin__label",children:"Niveau d'nergie"}),o.jsx("div",{className:"journaling-energy__options",children:_q.map(_=>o.jsxs("label",{className:"journaling-choice journaling-choice--pill",children:[o.jsx("input",{type:"radio",name:"energy",value:_.value,checked:e.energy===_.value,onChange:()=>n(j=>({...j,energy:_.value}))}),o.jsxs("span",{className:"journaling-choice__content",children:[o.jsx("span",{className:"journaling-choice__dot","aria-hidden":"true"}),o.jsx("span",{children:_.label})]})]},_.value))})]}),o.jsxs("div",{className:"journaling-checkin__block",children:[o.jsx("span",{className:"journaling-checkin__label",children:"Mot-cl du jour"}),o.jsx("input",{className:"journaling-input",type:"text",value:e.keyword,onChange:_=>n(j=>({...j,keyword:Aq(_.target.value)})),placeholder:"1  3 mots"}),o.jsx("p",{className:"journaling-helper",children:"Libre, simple, sans pression."})]})]})]}),o.jsxs("section",{className:"journaling-section journaling-question journaling-section--delay-2",children:[o.jsx("header",{className:"journaling-section__header",children:o.jsxs("div",{children:[o.jsx("h2",{children:"Question guide du jour"}),o.jsx("p",{children:"Une seule question, pour ouvrir une porte sans t'enfermer."})]})}),o.jsxs("div",{className:"journaling-question__card",children:[o.jsx("p",{className:"journaling-question__prompt",children:u}),o.jsxs("div",{className:"journaling-question__answer",children:[o.jsx("span",{children:"Ta rponse"}),o.jsx("textarea",{value:e.questionAnswer,onChange:_=>n(j=>({...j,questionAnswer:_.target.value})),placeholder:"cris ce qui vient, mme en quelques mots.",rows:4})]})]})]}),o.jsxs("section",{className:"journaling-section journaling-write journaling-section--delay-3",children:[o.jsx("header",{className:"journaling-section__header",children:o.jsxs("div",{children:[o.jsx("h2",{children:"Zone d'criture principale"}),o.jsx("p",{children:"cris librement. Personne ne te lira. Tu peux t'arrter quand tu veux."})]})}),o.jsx("textarea",{value:e.content,onChange:_=>n(j=>({...j,content:_.target.value})),placeholder:"cris librement. Personne ne te lira. Tu peux t'arrter quand tu veux.",rows:10})]}),o.jsxs("section",{className:"journaling-section journaling-closure journaling-section--delay-4",children:[o.jsx("header",{className:"journaling-section__header",children:o.jsxs("div",{children:[o.jsx("h2",{children:"Clture motionnelle"}),o.jsx("p",{children:"Un petit retour sur ce que l'criture vient de bouger."})]})}),o.jsxs("div",{className:"journaling-closure__grid",children:[o.jsxs("div",{className:"journaling-closure__block",children:[o.jsx("span",{className:"journaling-checkin__label",children:"Comment te sens-tu maintenant ?"}),o.jsx("div",{className:"journaling-post__options",children:Eq.map(_=>o.jsxs("label",{className:"journaling-choice journaling-choice--wide",children:[o.jsx("input",{type:"radio",name:"postFeeling",value:_.value,checked:e.postFeeling===_.value,onChange:()=>n(j=>({...j,postFeeling:_.value}))}),o.jsx("span",{className:"journaling-choice__content",children:_.label})]},_.value))})]}),o.jsxs("div",{className:"journaling-closure__block",children:[o.jsx("span",{className:"journaling-checkin__label",children:"Ancrage positif optionnel"}),o.jsx("div",{className:"journaling-anchor__options",children:kq.map(_=>o.jsxs("label",{className:"journaling-toggle",children:[o.jsx("input",{type:"radio",name:"anchorType",value:_.value,checked:e.positiveAnchorType===_.value,onChange:()=>n(j=>({...j,positiveAnchorType:_.value}))}),o.jsx("span",{className:"journaling-toggle__label",children:_.label})]},_.value))}),o.jsx("textarea",{value:e.positiveAnchor,onChange:_=>n(j=>({...j,positiveAnchor:_.target.value})),placeholder:"Ex : Je me suis fait(e) un ami.",rows:4})]})]})]}),o.jsxs("section",{className:"journaling-save",children:[o.jsx("button",{type:"button",className:"journaling-save__button",onClick:x,children:"Sauvegarder cette page"}),o.jsxs("div",{className:`journaling-save__confirmation${i?" is-visible":""}`,"aria-live":"polite",children:[o.jsx("span",{"aria-hidden":"true",children:""}),o.jsx("strong",{children:"Page enregistre"})]})]}),o.jsx("div",{className:"journaling-page__footer-bar","aria-hidden":"true"})]})},jq="/assets/Timbre-1-BN7ny1h6.png",Iq="/assets/Timbre-2-BG6VgFFz.png",uP=6,Pq=["J'apprends  me traiter avec douceur.","Je mrite l'attention que je me donne.","Je prends soin de moi un peu plus chaque jour."],hP=()=>({certificatePhoto:null,photos:Array.from({length:uP},(t,e)=>({id:`photo-${e}`,dataUrl:null})),qualities:[{id:"quality-1",text:"Mon sourire illumine les gens."},{id:"quality-2",text:"J'ai une force tranquille."},{id:"quality-3",text:"Je sais couter avec le cur."}],thoughts:[{id:"thought-1",text:"Je ne suis pas assez."},{id:"thought-2",text:"Je dois tout contrler."},{id:"thought-3",text:"Je ne mrite pas ce que j'ai."}],journal:[],letterTo:"Moi du futur",letterFrom:"Moi du prsent",letterBody:"Cher moi, merci de continuer  te choisir chaque jour...",kittyLetterBody:"Je suis si fier/fire de toi. Merci de te relever, de rire, de pleurer et de croire en toi-mme quand c'est compliqu. Tu es doux/douce, courageux/courageuse et tellement lumineux/lumineuse.",innerChildMessage:"",innerChildReassurance:"",innerChildNeededWords:"",bestFriendAdvice:"",bestFriendSelfTalk:"",customAffirmations:[...Pq],savedLetters:[]}),YC=["Je m'offre la mme douceur que je donne aux autres.","Je suis dj assez et je le reste  chaque souffle.","Ma prsence est un cadeau pour ce monde.","Je choisis de me regarder avec de l'amour aujourd'hui.","Je laisse ma lumire briller sans me cacher.","Je suis digne de tendresse, de joie et de paix."],XC=[`"S'aimer soi-mme est le dbut d'une histoire d'amour qui dure toute la vie." - Oscar Wilde`,'"Tu es ton propre refuge. Tu es ton propre soleil."','"Tu es le rsultat de lamour de toutes les femmes qui tont prcde."','"Noublie pas de tmerveiller de ta force douce."','"Tu es une uvre en mouvement, magnifique  chaque tape."'],Mq="planner.selfLove",Xr=t=>{const e=hP();if(!t||typeof t!="object")return e;const n=t,i=Array.isArray(n.photos)?n.photos.slice(0,uP).map((I,U)=>({id:typeof(I==null?void 0:I.id)=="string"?I.id:`photo-${U}`,dataUrl:typeof(I==null?void 0:I.dataUrl)=="string"?I.dataUrl:null})):e.photos,s=Array.isArray(n.qualities)?n.qualities.filter(I=>!!I&&typeof I.id=="string"&&typeof I.text=="string").map(I=>({id:I.id,text:I.text})):e.qualities,a=Array.isArray(n.thoughts)?n.thoughts.filter(I=>!!I&&typeof I.id=="string"&&typeof I.text=="string").map(I=>({id:I.id,text:I.text})):e.thoughts,u=Array.isArray(n.journal)?n.journal.filter(I=>!!I&&typeof I.id=="string"&&typeof I.text=="string"&&typeof I.createdAt=="string").map(I=>({id:I.id,text:I.text,createdAt:I.createdAt})):e.journal,m=Array.isArray(n.customAffirmations)?n.customAffirmations.map(I=>typeof I=="string"?I:"").slice(0,3):e.customAffirmations;for(;m.length<e.customAffirmations.length;)m.push(e.customAffirmations[m.length]);let x=typeof n.letterTo=="string"?n.letterTo:e.letterTo,_=typeof n.letterFrom=="string"?n.letterFrom:e.letterFrom;x==="Moi du futur"&&_==="Moi du present"&&(x="Moi du prsent",_="Moi du futur");const j=Array.isArray(n.savedLetters)?n.savedLetters.filter(I=>!!I&&(I.template==="classic"||I.template==="kitty")&&typeof I.id=="string"&&typeof I.body=="string"&&typeof I.createdAt=="string").map(I=>({id:I.id,template:I.template,to:typeof I.to=="string"?I.to:void 0,from:typeof I.from=="string"?I.from:void 0,body:I.body,createdAt:I.createdAt,innerChild:I.innerChild&&typeof I.innerChild=="object"&&typeof I.innerChild.message=="string"&&typeof I.innerChild.reassurance=="string"&&typeof I.innerChild.neededWords=="string"?{message:I.innerChild.message,reassurance:I.innerChild.reassurance,neededWords:I.innerChild.neededWords}:void 0,bestFriend:I.bestFriend&&typeof I.bestFriend=="object"&&typeof I.bestFriend.advice=="string"&&typeof I.bestFriend.selfTalk=="string"?{advice:I.bestFriend.advice,selfTalk:I.bestFriend.selfTalk}:void 0,entryType:I.entryType==="innerChild"||I.entryType==="bestFriend"?I.entryType:"letter"})):e.savedLetters;return{certificatePhoto:typeof n.certificatePhoto=="string"?n.certificatePhoto:e.certificatePhoto,photos:i,qualities:s,thoughts:a,journal:u,letterTo:x,letterFrom:_,letterBody:typeof n.letterBody=="string"?n.letterBody:e.letterBody,kittyLetterBody:typeof n.kittyLetterBody=="string"?n.kittyLetterBody:e.kittyLetterBody,innerChildMessage:typeof n.innerChildMessage=="string"?n.innerChildMessage:e.innerChildMessage,innerChildReassurance:typeof n.innerChildReassurance=="string"?n.innerChildReassurance:e.innerChildReassurance,innerChildNeededWords:typeof n.innerChildNeededWords=="string"?n.innerChildNeededWords:e.innerChildNeededWords,bestFriendAdvice:typeof n.bestFriendAdvice=="string"?n.bestFriendAdvice:e.bestFriendAdvice,bestFriendSelfTalk:typeof n.bestFriendSelfTalk=="string"?n.bestFriendSelfTalk:e.bestFriendSelfTalk,customAffirmations:m,savedLetters:j}},Rq=()=>{const[t,e]=Si(Mq,hP),[n,i]=F.useState(""),[s,a]=F.useState(""),[u,m]=F.useState(""),[x,_]=F.useState(new Set),[j,I]=F.useState("classic"),[U,J]=F.useState(!1),ne=F.useRef(null),[le,oe]=F.useState(!1),X=F.useRef(null),O=F.useMemo(()=>Xr(t),[t]);F.useEffect(()=>(document.body.classList.add("self-love-page--gradient"),()=>{document.body.classList.remove("self-love-page--gradient"),ne.current!==null&&window.clearTimeout(ne.current),X.current!==null&&window.clearTimeout(X.current)}),[]),F.useMemo(()=>{var Ge;return O.certificatePhoto?O.certificatePhoto:((Ge=O.photos.find(ut=>ut.dataUrl))==null?void 0:Ge.dataUrl)??null},[O.certificatePhoto,O.photos]),F.useMemo(()=>{const ut=new Date().toISOString().slice(0,10).split("").reduce((Re,Ke)=>Re+Ke.charCodeAt(0),0);return YC[ut%YC.length]},[]),F.useMemo(()=>{const ut=new Date().toISOString().slice(0,10).split("").reverse().reduce((Re,Ke)=>Re+Ke.charCodeAt(0),0);return XC[ut%XC.length]},[]);const H=(Ge,ut)=>{var ct;const Re=(ct=ut.target.files)==null?void 0:ct[0];if(!Re)return;const Ke=new FileReader;Ke.onload=()=>{const Et=typeof Ke.result=="string"?Ke.result:null;e(wt=>{const vt=Xr(wt);return{...vt,photos:vt.photos.map(Ot=>Ot.id===Ge?{...Ot,dataUrl:Et}:Ot)}})},Ke.readAsDataURL(Re)},te=Ge=>{e(ut=>{const Re=Xr(ut);return{...Re,photos:Re.photos.map(Ke=>Ke.id===Ge?{...Ke,dataUrl:null}:Ke)}})},Te=Ge=>{Ge.preventDefault();const ut=n.trim();ut.length!==0&&(e(Re=>{const Ke=Xr(Re);return{...Ke,qualities:[{id:`quality-${Date.now()}`,text:ut},...Ke.qualities]}}),i(""))},ge=Ge=>{e(ut=>{const Re=Xr(ut);return{...Re,qualities:Re.qualities.filter(Ke=>Ke.id!==Ge)}})},Y=Ge=>{Ge.preventDefault();const ut=s.trim();ut.length!==0&&(e(Re=>{const Ke=Xr(Re);return{...Ke,thoughts:[...Ke.thoughts,{id:`thought-${Date.now()}`,text:ut}]}}),a(""))},M=Ge=>{_(ut=>new Set(ut).add(Ge)),window.setTimeout(()=>{e(ut=>{const Re=Xr(ut);return{...Re,thoughts:Re.thoughts.filter(Ke=>Ke.id!==Ge)}}),_(ut=>{const Re=new Set(ut);return Re.delete(Ge),Re})},620)},G=(Ge,ut)=>{e(Re=>({...Xr(Re),[Ge]:ut}))},z=(Ge,ut)=>{e(Re=>({...Xr(Re),[Ge]:ut}))},K=(Ge,ut)=>{e(Re=>({...Xr(Re),[Ge]:ut}))},se=()=>{const Ge={message:O.innerChildMessage.trim(),reassurance:O.innerChildReassurance.trim(),neededWords:O.innerChildNeededWords.trim()};if(!Object.values(Ge).some(Re=>Re.length>0)){window.alert("Commence par crire quelques phrases avant d'ajouter cet exercice.");return}const ut={id:`exercise-inner-child-${Date.now()}`,template:"classic",body:[Ge.message,Ge.reassurance,Ge.neededWords].filter(Re=>Re.length>0).join(`

`),createdAt:new Date().toISOString(),innerChild:Ge,entryType:"innerChild"};e(Re=>{const Ke=Xr(Re);return{...Ke,savedLetters:[ut,...Ke.savedLetters].slice(0,30)}}),oe(!0),X.current!==null&&window.clearTimeout(X.current),X.current=window.setTimeout(()=>{oe(!1),X.current=null},2e3)},ie=()=>{const Ge={advice:O.bestFriendAdvice.trim(),selfTalk:O.bestFriendSelfTalk.trim()};if(!Object.values(Ge).some(Re=>Re.length>0)){window.alert("Commence par crire quelques phrases avant d'ajouter cet exercice.");return}const ut={id:`exercise-best-friend-${Date.now()}`,template:"kitty",body:[Ge.advice,Ge.selfTalk].filter(Re=>Re.length>0).join(`

`),createdAt:new Date().toISOString(),bestFriend:Ge,entryType:"bestFriend"};e(Re=>{const Ke=Xr(Re);return{...Ke,savedLetters:[ut,...Ke.savedLetters].slice(0,30)}}),oe(!0),X.current!==null&&window.clearTimeout(X.current),X.current=window.setTimeout(()=>{oe(!1),X.current=null},2e3)},dt=Ge=>{const Re=O.letterBody.trim();if(Re.length===0){window.alert("Commence par crire ta lettre avant de l'enregistrer.");return}const Ke={message:O.innerChildMessage.trim(),reassurance:O.innerChildReassurance.trim(),neededWords:O.innerChildNeededWords.trim()},ct=Object.values(Ke).some(Ot=>Ot.length>0),Et={advice:O.bestFriendAdvice.trim(),selfTalk:O.bestFriendSelfTalk.trim()},wt=Object.values(Et).some(Ot=>Ot.length>0),vt={id:`saved-letter-${Date.now()}`,template:Ge,to:O.letterTo,from:O.letterFrom,body:Re,createdAt:new Date().toISOString(),innerChild:ct?Ke:void 0,bestFriend:wt?Et:void 0,entryType:"letter"};e(Ot=>{const ht=Xr(Ot);return{...ht,savedLetters:[vt,...ht.savedLetters].slice(0,30)}}),J(!0),ne.current!==null&&window.clearTimeout(ne.current),ne.current=window.setTimeout(()=>{J(!1),ne.current=null},2e3)},Dt=F.useMemo(()=>{const Ge=new Date;return{short:Ge.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),full:Ge.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}},[]);return o.jsxs("div",{className:"self-love-page",children:[o.jsx(yi,{eyebrow:"Self love",title:"S'aimer soi-mme"}),o.jsxs("section",{className:"self-love-section self-love-section--photos",children:[o.jsxs("div",{children:[o.jsx("h2",{children:"Aime-toi !"}),o.jsx("p",{children:"Regarde-toi avec bienveillance et choisis 6 photos o tu rayonnes."})]}),o.jsx("div",{className:"self-love-photos-frame",children:o.jsx("div",{className:"self-love-photos",children:O.photos.map((Ge,ut)=>o.jsxs("div",{className:"self-love-photo-card",children:[o.jsxs("label",{className:"self-love-photo-card__drop",children:[Ge.dataUrl?o.jsx("img",{src:Ge.dataUrl,alt:`Souvenir ${ut+1}`}):o.jsxs("span",{className:"self-love-photo-card__placeholder",children:[o.jsx("span",{role:"img","aria-label":"mirror"}),"Photo ",ut+1]}),o.jsx("input",{type:"file",accept:"image/*",onChange:Re=>H(Ge.id,Re)})]}),Ge.dataUrl?o.jsx("button",{type:"button",onClick:()=>te(Ge.id),children:"Changer la photo"}):o.jsx("span",{className:"self-love-photo-card__hint",children:"Ajoute une photo"})]},Ge.id))})})]}),o.jsxs("div",{className:"self-love-sections-row",children:[o.jsxs("section",{className:"self-love-section self-love-section--qualities",children:[o.jsx("h2",{children:"Liste tes qualits"}),o.jsxs("form",{className:"self-love-form-row",onSubmit:Te,children:[o.jsx("input",{type:"text",placeholder:"Ex : Je sais couter avec le cur. ",value:n,onChange:Ge=>i(Ge.target.value)}),o.jsx("button",{type:"submit",children:"+ Ajouter une qualit"})]}),o.jsxs("div",{className:"self-love-list-pad",children:[o.jsxs("div",{className:"self-love-list-pad__bow",children:[o.jsx("span",{"aria-hidden":"true"}),o.jsx("div",{children:o.jsx("strong",{children:"Ce que j'aime chez moi"})})]}),o.jsxs("ul",{className:"self-love-list",children:[O.qualities.map(Ge=>o.jsxs("li",{children:[o.jsx("span",{className:"self-love-list__heart","aria-hidden":"true",children:"*"}),o.jsx("span",{className:"self-love-list__text",children:Ge.text}),o.jsx("button",{type:"button",className:"modal__close",onClick:()=>ge(Ge.id),"aria-label":"Retirer cette qualit",children:o.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M6 6 18 18M18 6 6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]},Ge.id)),O.qualities.length===0?o.jsxs("li",{className:"self-love-list__empty",children:[o.jsx("span",{className:"self-love-list__heart","aria-hidden":"true",children:"*"}),o.jsx("span",{className:"self-love-list__text",children:"Commence par noter une seule phrase douce. Le reste suivra."})]}):null]})]})]}),o.jsxs("section",{className:"self-love-section self-love-section--thoughts",children:[o.jsxs("div",{children:[o.jsx("h2",{children:"Penses ngatives  laisser derrire toi"}),o.jsx("p",{children:"Clique sur une pense pour la laisser s'envoler."})]}),o.jsxs("form",{className:"self-love-form-row",onSubmit:Y,children:[o.jsx("input",{type:"text",placeholder:"Ex. Je dois tre parfait(e).",value:s,onChange:Ge=>a(Ge.target.value)}),o.jsx("button",{type:"submit",children:"Ajouter"})]}),o.jsxs("div",{className:"self-love-thoughts",children:[O.thoughts.map(Ge=>{const ut=x.has(Ge.id);return o.jsxs("button",{type:"button",className:ut?"self-love-thought self-love-thought--releasing":"self-love-thought",onClick:()=>M(Ge.id),children:[o.jsx("span",{children:Ge.text}),o.jsx("em",{children:"Clique pour la dissoudre"})]},Ge.id)}),O.thoughts.length===0?o.jsx("div",{className:"self-love-thought self-love-thought--empty",children:o.jsx("span",{children:"Plus aucune pense limitante ici. Bravo !"})}):null]})]})]}),o.jsxs("section",{className:"self-love-section self-love-exercises",children:[o.jsxs("div",{children:[o.jsx("h2",{children:"Exercices guids pour t'aimer davantage"}),o.jsx("p",{children:"Prends quelques instants pour crire et laisser ton cur s'exprimer."})]}),o.jsxs("div",{className:"self-love-exercise__grid",children:[o.jsxs("article",{className:"self-love-exercise__card",children:[o.jsx("div",{className:"self-love-exercise__eyebrow",children:"L'enfant intrieur"}),o.jsx("h3",{children:"Dialogue doux avec ton pass"}),o.jsx("p",{children:"Imagine une situation difficile d'enfance et offre-toi aujourd'hui les mots qui avaient manqu."}),o.jsxs("label",{className:"self-love-exercise__prompt",children:[o.jsx("span",{children:"Que souhaiterais-tu lui dire maintenant ?"}),o.jsx("textarea",{className:"self-love-exercise__textarea",value:O.innerChildMessage,onChange:Ge=>z("innerChildMessage",Ge.target.value),placeholder:"Je te dirais..."})]}),o.jsxs("label",{className:"self-love-exercise__prompt",children:[o.jsx("span",{children:"Comment pourrais-tu le rassurer ?"}),o.jsx("textarea",{className:"self-love-exercise__textarea",value:O.innerChildReassurance,onChange:Ge=>z("innerChildReassurance",Ge.target.value),placeholder:"Je te rassure en..."})]}),o.jsxs("label",{className:"self-love-exercise__prompt",children:[o.jsx("span",{children:"De quoi aurait-il eu besoin d'entendre ?"}),o.jsx("textarea",{className:"self-love-exercise__textarea",value:O.innerChildNeededWords,onChange:Ge=>z("innerChildNeededWords",Ge.target.value),placeholder:"Tu avais besoin d'entendre..."})]}),o.jsx("button",{type:"button",className:"self-love-exercise__save",onClick:se,children:"Ajouter aux archives"})]}),o.jsxs("article",{className:"self-love-exercise__card",children:[o.jsx("div",{className:"self-love-exercise__eyebrow",children:"Jeu des rles"}),o.jsx("h3",{children:"Le meilleur ami comme boussole"}),o.jsx("p",{children:"Imagine qu'un ami cher vive exactement la mme situation que toi. Quelles paroles lui offrirais-tu ?"}),o.jsxs("label",{className:"self-love-exercise__prompt",children:[o.jsx("span",{children:"Que lui dirais-tu ?"}),o.jsx("textarea",{className:"self-love-exercise__textarea",value:O.bestFriendAdvice,onChange:Ge=>K("bestFriendAdvice",Ge.target.value),placeholder:"Je lui dirais..."})]}),o.jsxs("label",{className:"self-love-exercise__prompt",children:[o.jsx("span",{children:"Quelle est la diffrence avec ce que tu te dis  toi-mme ?"}),o.jsx("textarea",{className:"self-love-exercise__textarea",value:O.bestFriendSelfTalk,onChange:Ge=>K("bestFriendSelfTalk",Ge.target.value),placeholder:"Je remarque que..."})]}),o.jsx("p",{className:"self-love-exercise__hint",children:"Cet exercice casse l'auto-critique et rappelle que tu mrites la mme douceur."}),o.jsx("button",{type:"button",className:"self-love-exercise__save",onClick:ie,children:"Ajouter aux archives"})]})]}),o.jsxs("div",{className:`journaling-save__confirmation self-love-letter__confirmation${le?" is-visible":""}`,"aria-live":"polite",children:[o.jsx("span",{"aria-hidden":"true",children:""}),o.jsx("strong",{children:"Page ajoute !"})]})]}),o.jsxs("section",{className:"self-love-section self-love-letter",children:[o.jsx("div",{className:"self-love-letter__tabs",children:o.jsx("button",{type:"button",className:j==="classic"?"is-active":"",onClick:()=>I("classic"),children:"Lettre romantique"})}),o.jsx("div",{className:"self-love-letter__cards",children:o.jsxs("div",{className:`self-love-letter__frame self-love-letter__card self-love-letter__card--classic${j==="classic"?" is-active":""}`,"aria-hidden":j!=="classic",style:j==="classic"?void 0:{display:"none"},children:[o.jsx("p",{className:"self-love-letter__title",children:"Lettre d'amour envers moi-mme"}),o.jsxs("div",{className:"self-love-letter__addresses",children:[o.jsxs("div",{className:"self-love-letter__fields",children:[o.jsxs("label",{children:[o.jsx("span",{children:"De :"}),o.jsx("input",{type:"text",value:O.letterTo,onChange:Ge=>G("letterTo",Ge.target.value),placeholder:"Ton moi futur "})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Pour :"}),o.jsx("input",{type:"text",value:O.letterFrom,onChange:Ge=>G("letterFrom",Ge.target.value),placeholder:"Ta version prsente"})]})]}),o.jsxs("div",{className:"self-love-letter__stamps","aria-hidden":"true",children:[o.jsx("div",{className:"self-love-letter__stamp self-love-letter__stamp--love",children:o.jsx("img",{src:jq,alt:"Timbre d'amour"})}),o.jsx("div",{className:"self-love-letter__stamp self-love-letter__stamp--key",children:o.jsx("img",{src:Iq,alt:"Timbre secret"})})]})]}),o.jsxs("div",{className:"self-love-letter__body",children:[o.jsx("p",{className:"self-love-letter__salutation",children:"Cher moi,"}),o.jsx("textarea",{value:O.letterBody,onChange:Ge=>G("letterBody",Ge.target.value),placeholder:"cris-toi avec douceur..."})]}),o.jsxs("div",{className:"self-love-letter__footer",children:[o.jsx("div",{children:o.jsx("span",{className:"self-love-letter__date",children:Dt.short})}),o.jsx("button",{type:"button",className:"self-love-letter__save",onClick:()=>dt("classic"),children:"Enregistrer cette lettre"})]})]})}),o.jsxs("div",{className:`journaling-save__confirmation self-love-letter__confirmation${U?" is-visible":""}`,"aria-live":"polite",children:[o.jsx("span",{"aria-hidden":"true",children:""}),o.jsx("strong",{children:"Page ajoute !"})]})]}),o.jsx("div",{className:"self-love-footer-bar","aria-hidden":"true"})]})},dP="/assets/ruby--dupe-BoZeQ1Rb.jpeg",pP="/assets/emma-masur-dupe-DPky4xmR.jpeg",fP="/assets/makeup-AqL95g9S.jpeg",mP="/assets/margaux-martinez-dupe-DWRExhrX.jpeg",gP="/assets/madeline-%20edwards-dupe-DauRYLsU.jpeg",yP="/assets/rowena-regterschot-dupe-CV0Eqhy2.jpeg",vP="/assets/voyage-BTCyFYuG.jpeg",xP="/assets/lauren-lista-dupe-DW4yj_eE.jpeg",bP="/assets/frances-leynes-dupe-BQOVBmg3.jpeg",jg=6,kp=[{id:"hair",label:"Hair essentials",accent:"#f497c0",cover:dP,blurb:"Brushes, soins et petits accessoires pour une routine cheveux complte."},{id:"outfits",label:"Outfits",accent:"#fcd67d",cover:pP,blurb:"Ides tenues et pices coup de cur pour tes looks prfrs."},{id:"makeup",label:"Makeup wishlist",accent:"#fbcada",cover:fP,blurb:"Palettes, gloss ou nouveaux blushs  tester absolument."},{id:"electronics",label:"Appareils lectroniques",accent:"#c9d9ff",cover:xy,blurb:"Gadgets tech, accessoires photo ou outils de productivit."},{id:"skincare",label:"Skincare",accent:"#c1e7db",cover:mP,blurb:"Soins cocooning, masques favoris et indispensables glow."},{id:"books",label:"Livres",accent:"#b4cfff",cover:gP,blurb:"Romans, dveloppement perso et lectures inspires."},{id:"room",label:"Chambre",accent:"#d9c5ff",cover:yP,blurb:"Dco, ambiance et petits objets cozy pour ta chambre."},{id:"travel",label:"Voyages",accent:"#f6b094",cover:vP,blurb:"Destinations ou expriences  ajouter  ta bucket list."},{id:"jewelry",label:"Bijoux",accent:"#ffd4a8",cover:xP,blurb:"Bagues, colliers et accessoires brillants  collectionner."},{id:"bag",label:"Sac",accent:"#f3b4c5",cover:bP,blurb:"Sacs tendance et intemporels pour toutes les occasions."}],Lm=["#f6a6c1","#c3d9ff","#ffe3a7","#c6eed7","#fbcfe8","#d9c5ff"],wx=[dP,pP,fP,xy,mP,gP,yP,vP,xP,bP],mu="Ta catgorie personnalise.",Dq=new Set(kp.map(t=>t.id)),QC=t=>Dq.has(t),JC=t=>t>1?"lments":"lment",wP=t=>{let e=0;for(let n=0;n<t.length;n+=1){const i=t.charCodeAt(n);e=(e<<5)-e+i,e|=0}return Math.abs(e)},gu=t=>Lm[wP(t)%Lm.length]??Lm[0],yu=t=>wx[wP(`${t}-cover`)%wx.length]??wx[0],Fm=t=>kp.find(e=>e.id===t),Ig=t=>({title:t.label,items:[],note:"",isFavorite:!1,accent:t.accent,cover:t.cover,blurb:t.blurb,createdAt:Date.now(),usageCount:0,lastUsedAt:0,definitionVersion:jg}),Oq=(t,e)=>{const n=gu(t),i=yu(t);return{title:e,items:[],note:"",isFavorite:!1,accent:n,cover:i,blurb:mu,createdAt:Date.now(),usageCount:0,lastUsedAt:0,definitionVersion:jg}},cm=(t,e)=>{const n=Fm(t);if(n){const i=Ig(n);return e?{...i,title:e}:i}return Oq(t,e??"Nouvelle catgorie")},Lq=()=>kp.reduce((t,e)=>(t[e.id]=Ig(e),t),{}),ZC=()=>({title:"",subtitle:"",imageUrl:"",imageName:"",link:"",subcategory:""}),Fq=t=>{try{return new URL(t).host.replace(/^www\./,"")}catch{return t}},_P=t=>{const e=t.trim();if(!e)return"";try{return new URL(e).href}catch{try{return new URL(`https://${e}`).href}catch{return""}}},Bq=t=>{if(!t)return null;const e=_P(t);return e?{href:e,host:Fq(e)}:null},eS=()=>({title:"",blurb:"",accent:Lm[0],coverData:"",coverName:""}),Vq=()=>{var ar,Pn;const[t,e]=Si("planner.wishlist",Lq),[n,i]=F.useState(null),[s,a]=F.useState(null),[u,m]=F.useState(!1),[x,_]=F.useState(!1),[j,I]=F.useState(null),[U,J]=F.useState(""),[ne,le]=F.useState(""),[oe,X]=F.useState(""),[O,H]=F.useState(""),[te,Te]=F.useState(""),[ge,Y]=F.useState(()=>ZC()),[M,G]=F.useState(null),[z,K]=F.useState(!1),[se,ie]=F.useState(()=>eS()),[dt,Dt]=F.useState(!1),[Ge,ut]=F.useState(null),[Re,Ke]=F.useState(null),[ct,Et]=F.useState({}),[wt,vt]=F.useState(!1),[Ot,ht]=F.useState(!1),[Pt,st]=F.useState(null),[be,ae]=F.useState(null),[ke,me]=F.useState(""),Ye=F.useRef(null),Pe=F.useRef(null),ze=F.useRef(null),we=F.useCallback(()=>{Y(ZC()),Ye.current&&(Ye.current.value="")},[]),yt=F.useCallback(Ce=>{e(Ie=>{const qe=Ce(Ie);try{localStorage.setItem("planner.wishlist",JSON.stringify(qe))}catch{}return qe})},[e]);F.useEffect(()=>{e(Ce=>{let Ie=!1;const qe={...Ce};return kp.forEach((Je,gt)=>{const St=qe[Je.id];if(!St){qe[Je.id]=Ig(Je),Ie=!0;return}let ot=St;(St.definitionVersion??0)<jg&&(ot=ot===St?{...ot}:ot,ot.accent=Je.accent,ot.cover=Je.cover,ot.blurb=Je.blurb,ot.definitionVersion=jg,Ie=!0),(!St.title||St.title.trim().length===0)&&(ot=ot===St?{...ot}:ot,ot.title=Je.label,Ie=!0),St.accent||(ot=ot===St?{...ot}:ot,ot.accent=Je.accent,Ie=!0),St.cover||(ot=ot===St?{...ot}:ot,ot.cover=Je.cover,Ie=!0),St.blurb||(ot=ot===St?{...ot}:ot,ot.blurb=Je.blurb,Ie=!0),St.createdAt||(ot=ot===St?{...ot}:ot,ot.createdAt=Date.now()+gt,Ie=!0),typeof St.order!="number"&&(ot=ot===St?{...ot}:ot,ot.order=gt,Ie=!0),typeof St.usageCount!="number"&&(ot=ot===St?{...ot}:ot,ot.usageCount=0,Ie=!0),typeof St.lastUsedAt!="number"&&(ot=ot===St?{...ot}:ot,ot.lastUsedAt=0,Ie=!0),ot!==St&&(qe[Je.id]=ot)}),Object.entries(qe).forEach(([Je,gt],St)=>{let ot=gt;gt.accent||(ot=ot===gt?{...ot}:ot,ot.accent=gu(Je),Ie=!0),gt.cover||(ot=ot===gt?{...ot}:ot,ot.cover=yu(Je),Ie=!0),gt.blurb||(ot=ot===gt?{...ot}:ot,ot.blurb=mu,Ie=!0),gt.createdAt||(ot=ot===gt?{...ot}:ot,ot.createdAt=Date.now()+St,Ie=!0),typeof gt.order!="number"&&(ot=ot===gt?{...ot}:ot,ot.order=(gt.createdAt??Date.now())+St,Ie=!0),typeof gt.usageCount!="number"&&(ot=ot===gt?{...ot}:ot,ot.usageCount=0,Ie=!0),typeof gt.lastUsedAt!="number"&&(ot=ot===gt?{...ot}:ot,ot.lastUsedAt=0,Ie=!0),ot!==gt&&(qe[Je]=ot)}),Ie?qe:Ce})},[e]),F.useEffect(()=>(document.body.classList.add("wishlist-page--gradient"),()=>{document.body.classList.remove("wishlist-page--gradient")}),[]);const xt=F.useMemo(()=>{const Ce=kp.map((qe,Je)=>{const gt=t[qe.id]??Ig(qe);return{id:qe.id,title:gt.title??qe.label,label:qe.label,accent:gt.accent??qe.accent,cover:gt.cover??qe.cover,blurb:gt.blurb??qe.blurb,items:gt.items??[],note:gt.note,isFavorite:gt.isFavorite??!1,entry:gt,isBase:!0,order:gt.order??Je,usageCount:gt.usageCount??0}}),Ie=Object.entries(t).filter(([qe])=>!QC(qe)).map(([qe,Je])=>({id:qe,title:Je.title??"Nouvelle catgorie",label:Je.title??"Collection perso",accent:Je.accent??gu(qe),cover:Je.cover??yu(qe),blurb:Je.blurb??mu,items:Je.items??[],note:Je.note,isFavorite:Je.isFavorite??!1,entry:Je,isBase:!1,order:Je.order??Je.createdAt??Number.MAX_SAFE_INTEGER,usageCount:Je.usageCount??0})).sort((qe,Je)=>qe.order-Je.order);return[...Ce,...Ie].sort((qe,Je)=>{const gt=qe.usageCount>=3?qe.usageCount:0,St=Je.usageCount>=3?Je.usageCount:0;return St!==gt?St-gt:qe.order-Je.order})},[t]),Tt=F.useMemo(()=>s?xt.find(Ce=>Ce.id===s)??null:null,[xt,s]),Ct=(Tt==null?void 0:Tt.entry)??null;F.useEffect(()=>{var Ie;if(we(),ut(null),Et({}),Ke(null),Dt(!1),vt(!1),!s){Te(""),_(!1),ht(!1);return}const Ce=((Ie=t[s])==null?void 0:Ie.note)??"";Te(Ce),_(!1),ht(!1)},[we,s,t]),F.useEffect(()=>{const Ce=Ie=>{const qe=Ie.target;qe!=null&&qe.closest(".profile-menu")||qe!=null&&qe.closest(".wishlist-card__menu-popover")||qe!=null&&qe.closest(".wishlist-note__menu")||qe!=null&&qe.closest(".wishlist-note__menu-popover")||qe!=null&&qe.closest(".wishlist-item__menu")||(i(null),Ke(null),!(qe!=null&&qe.closest(".wishlist-note__menu"))&&!(qe!=null&&qe.closest(".wishlist-note__menu-popover"))&&vt(!1))};return window.addEventListener("pointerdown",Ce),()=>window.removeEventListener("pointerdown",Ce)},[]),F.useEffect(()=>{if(!Ct){Et({}),Ke(null);return}Et(Ce=>{const Ie={};return Ct.items.forEach(qe=>{Ce[qe.id]&&(Ie[qe.id]=!0)}),Ie}),Re&&!Ct.items.some(Ce=>Ce.id===Re)&&Ke(null)},[Re,Ct]);const pt=F.useMemo(()=>{if(!Ct)return[];const Ce=new Map;return Ct.items.forEach(Ie=>{const qe=Ie.subcategory&&Ie.subcategory.trim().length>0?Ie.subcategory.trim():"__uncategorized",Je=Ce.get(qe);Je?Je.push(Ie):Ce.set(qe,[Ie])}),Array.from(Ce.entries()).map(([Ie,qe])=>({key:Ie,label:Ie==="__uncategorized"?"Sans sous-catgorie":Ie,items:qe}))},[Ct]),De=F.useCallback(Ce=>{if(!Ce)return[];const Ie=t[Ce];if(!Ie)return[];const qe=new Set;return Ie.items.forEach(Je=>{Je.subcategory&&Je.subcategory.trim().length>0&&qe.add(Je.subcategory.trim())}),Array.from(qe).sort((Je,gt)=>Je.localeCompare(gt,"fr",{sensitivity:"base"}))},[t]),_e=F.useMemo(()=>De(s),[De,s]),ue=(((ar=Ct==null?void 0:Ct.note)==null?void 0:ar.trim())??"").length>0;F.useMemo(()=>xt.filter(Ce=>Ce.id!==s),[xt,s]);const Fe=F.useMemo(()=>Pt?xt.filter(Ce=>Ce.id!==Pt.categoryId):[],[xt,Pt]);F.useEffect(()=>{if(!Ot||ue||x)return;const Ce=Ie=>{const qe=Ie.target;qe!=null&&qe.closest(".wishlist-modal__note-display")||qe!=null&&qe.closest(".wishlist-modal__note")||ht(!1)};return window.addEventListener("pointerdown",Ce),()=>window.removeEventListener("pointerdown",Ce)},[ue,x,Ot]);const de=(Ce,Ie)=>{Ce.stopPropagation(),Ce.preventDefault(),i(qe=>qe===Ie?null:Ie)},ye=Ce=>{const Ie=Date.now();yt(qe=>{const Je=qe[Ce]??cm(Ce);return{...qe,[Ce]:{...Je,usageCount:(Je.usageCount??0)+1,lastUsedAt:Ie}}}),a(Ce),i(null),m(!1),Dt(!1)},je=(Ce,Ie)=>{(Ce.key==="Enter"||Ce.key===" ")&&(Ce.preventDefault(),ye(Ie))},Ze=(Ce,Ie)=>{Ce.stopPropagation(),Ce.preventDefault(),Ke(qe=>qe===Ie?null:Ie)},nt=Ce=>{Et(Ie=>({...Ie,[Ce]:!Ie[Ce]}))},Ht=Ce=>{Ce.stopPropagation(),Ce.preventDefault(),vt(Ie=>!Ie)},Bt=Ce=>{Y({title:Ce.title,subtitle:Ce.subtitle??"",imageUrl:Ce.imageUrl??"",imageName:Ce.imageName??"",link:Ce.link??"",subcategory:Ce.subcategory??""}),ut(Ce.id),m(!0),Dt(!1),Ke(null)},at=()=>{m(!1),ut(null),Dt(!1),we()},rt=Ce=>{var Je;const Ie=(Je=Ce.target.files)==null?void 0:Je[0];if(!Ie){Y(gt=>({...gt,imageUrl:"",imageName:""})),Ye.current&&(Ye.current.value="");return}const qe=new FileReader;qe.onload=()=>{const gt=typeof qe.result=="string"?qe.result:"";Y(St=>({...St,imageUrl:gt,imageName:Ie.name}))},qe.readAsDataURL(Ie)},he=()=>{Y(Ce=>({...Ce,imageUrl:"",imageName:""})),Ye.current&&(Ye.current.value="")},Ne=Ce=>{e(Ie=>{const qe=Ie[Ce.categoryId];return qe?{...Ie,[Ce.categoryId]:{...qe,items:qe.items.map(Je=>Je.id===Ce.id?{...Je,isDone:!Je.isDone}:Je)}}:Ie}),Ke(null),G(Ce.isDone?"lment remis  faire":"lment marqu comme fait")},Be=Ce=>{e(Ie=>{const qe=Ie[Ce.categoryId];if(!qe)return Ie;const Je={...Ce,id:`wish-${Date.now()}-${Math.random().toString(36).slice(2,6)}`};return{...Ie,[Ce.categoryId]:{...qe,items:[Je,...qe.items]}}}),Ke(null),G("lment dupliqu")},Me=()=>{Ct&&Te(Ct.note??""),ht(!0),_(!0),vt(!1)},Ue=Ce=>{const Ie=Ce.categoryId;e(qe=>{const Je=qe[Ie];return Je?{...qe,[Ie]:{...Je,items:Je.items.filter(gt=>gt.id!==Ce.id)}}:qe}),Ge===Ce.id&&(ut(null),we(),m(!1)),Ke(null),G("lment supprim")},He=(Ce,Ie,qe)=>{if(Ce.categoryId===Ie){typeof qe<"u"&&(e(Je=>{const gt=Je[Ce.categoryId];return gt?{...Je,[Ce.categoryId]:{...gt,items:gt.items.map(St=>St.id===Ce.id?{...St,subcategory:qe}:St)}}:Je}),G("Catgorie mise  jour")),Ke(null);return}e(Je=>{var ii;const gt=Je[Ce.categoryId];if(!gt)return Je;const St=gt.items.filter(Gi=>Gi.id!==Ce.id),ot={...Ce,categoryId:Ie,subcategory:qe??Ce.subcategory},ai=Je[Ie]??cm(Ie,((ii=Fm(Ie))==null?void 0:ii.label)??"Wishlist");return{...Je,[Ce.categoryId]:{...gt,items:St},[Ie]:{...ai,items:[ot,...ai.items??[]]}}}),Ge===Ce.id&&(ut(null),we(),m(!1)),Ke(null),G("lment dplac")},ft=Ce=>{st(Ce),ae(null),me(Ce.subcategory??""),Ke(null)},Mt=()=>{st(null),ae(null),me("")},Nt=()=>{!Pt||!be||(He(Pt,be,ke.trim().length>0?ke.trim():void 0),Mt())},Vt=()=>{ie(eS()),Pe.current&&(Pe.current.value="")},Qt=Ce=>{var Je;const Ie=(Je=Ce.target.files)==null?void 0:Je[0];if(!Ie){ie(gt=>({...gt,coverData:"",coverName:""})),Pe.current&&(Pe.current.value="");return}const qe=new FileReader;qe.onload=()=>{const gt=typeof qe.result=="string"?qe.result:"";ie(St=>({...St,coverData:gt,coverName:Ie.name}))},qe.readAsDataURL(Ie)},tt=Ce=>{var Je;const Ie=(Je=Ce.target.files)==null?void 0:Je[0];if(!Ie){X(""),le(O);return}const qe=new FileReader;qe.onload=()=>{const gt=typeof qe.result=="string"?qe.result:"";if(!gt){X(""),le(O);return}le(gt),X(Ie.name)},qe.readAsDataURL(Ie)},Ut=()=>{le(O),X(""),ze.current&&(ze.current.value="")},Jt=()=>{Vt(),K(!1)},Lt=Ce=>{Ce.preventDefault();const Ie=se.title.trim();if(Ie.length===0)return;const qe=se.blurb.trim(),Je=`custom-${Date.now()}`,gt=se.accent.trim().length>0?se.accent.trim():gu(Je),St=se.coverData||yu(Je),ot={title:Ie,items:[],note:"",isFavorite:!1,accent:gt,cover:St,blurb:qe.length>0?qe:mu,createdAt:Date.now(),order:Date.now(),usageCount:0,lastUsedAt:0};yt(ai=>({...ai,[Je]:ot})),K(!1),Vt(),a(Je),m(!0),i(null),_(!1),Te(""),G("Nouvelle carte ajoute")},en=Ce=>{if(Ce.preventDefault(),!s)return;const Ie=ge.title.trim();if(Ie.length===0)return;const qe=ge.subtitle.trim(),Je=ge.imageUrl.trim(),gt=ge.link.trim(),St=_P(gt),ot=ge.subcategory.trim(),ai=ge.imageName.trim();gt.length>0&&!St&&G("Lien invalide : ajoute un domaine valide ou http(s)://");const ii=Gi=>{e(Ii=>{const Ts=Ii[s]??cm(s);return{...Ii,[s]:Gi(Ts)}})};if(Ge)ii(Gi=>({...Gi,items:Gi.items.map(Ii=>Ii.id===Ge?{...Ii,title:Ie,subtitle:qe.length>0?qe:void 0,imageUrl:Je.length>0?Je:void 0,imageName:ai.length>0?ai:void 0,link:St.length>0?St:void 0,subcategory:ot.length>0?ot:void 0}:Ii)})),G("lment mis  jour");else{const Gi={id:`wish-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,categoryId:s,title:Ie,subtitle:qe.length>0?qe:void 0,imageUrl:Je.length>0?Je:void 0,imageName:ai.length>0?ai:void 0,link:St.length>0?St:void 0,subcategory:ot.length>0?ot:void 0,isDone:!1};ii(Ii=>({...Ii,items:[Gi,...Ii.items]})),G("Produit ajout  ta wishlist")}m(!1),Dt(!1),ut(null),Ke(null),we()},rn=Ce=>{if(Ce.preventDefault(),!j)return;const Ie=U.trim();Ie.length!==0&&(e(qe=>{const Je=qe[j],gt=(Je==null?void 0:Je.cover)??O??yu(j),St=ne&&ne.trim().length>0?ne:gt;if(Je)return{...qe,[j]:{...Je,title:Ie,cover:St}};const ot=Fm(j);return{...qe,[j]:{title:Ie,items:[],note:"",isFavorite:!1,accent:(ot==null?void 0:ot.accent)??gu(j),cover:St,blurb:(ot==null?void 0:ot.blurb)??mu,createdAt:Date.now(),order:Date.now()}}}),I(null),G("Catgorie mise  jour"))},gn=Ce=>{const Ie=!QC(Ce);e(qe=>{if(Ie){if(!qe[Ce])return qe;const St={...qe};return delete St[Ce],St}const Je=Fm(Ce),gt=qe[Ce];return!gt&&!Je?qe:{...qe,[Ce]:{...gt??cm(Ce),title:(gt==null?void 0:gt.title)??(Je==null?void 0:Je.label)??"Catgorie",items:[],note:"",isFavorite:(gt==null?void 0:gt.isFavorite)??!1,accent:(gt==null?void 0:gt.accent)??(Je==null?void 0:Je.accent)??gu(Ce),cover:(gt==null?void 0:gt.cover)??(Je==null?void 0:Je.cover)??yu(Ce),blurb:(gt==null?void 0:gt.blurb)??(Je==null?void 0:Je.blurb)??mu}}}),s===Ce&&(m(!1),_(!1),Te(""),Ie&&a(null)),i(null),G(Ie?"Carte supprime":"Catgorie nettoye")},hn=async Ce=>{const Ie=t[Ce],qe=xt.find(ii=>ii.id===Ce),Je=(Ie==null?void 0:Ie.title)??(qe==null?void 0:qe.title)??"Wishlist",gt=(Ie==null?void 0:Ie.items)??[],St=[`Wishlist - ${Je}`,"",...gt.map((ii,Gi)=>{const Ii=[`${Gi+1}. ${ii.title}`];return ii.subtitle&&Ii.push(`(${ii.subtitle})`),ii.subcategory&&Ii.push(`[${ii.subcategory}]`),ii.link&&Ii.push(`-> ${ii.link}`),Ii.join(" ")})];Ie!=null&&Ie.note&&Ie.note.trim().length>0&&St.push("",`Note : ${Ie.note.trim()}`);const ot=St.join(`
`),ai=window.navigator;try{typeof ai.share=="function"?(await ai.share({title:Je,text:ot}),G("Ta wishlist a t partage")):ai.clipboard?(await ai.clipboard.writeText(ot),G("Wishlist copie dans le presse-papiers")):window.prompt("Copie ta wishlist :",ot)}catch(ii){console.error("Share wishlist failed",ii),G("Impossible de partager pour le moment")}i(null)},Rn=Ce=>{e(Ie=>{const qe=Ie[Ce];return qe?{...Ie,[Ce]:{...qe,isFavorite:!qe.isFavorite}}:Ie}),G("Catgorie marque comme favorite")},vn=()=>{if(!s)return;const Ce=te.trim();e(Ie=>{const qe=Ie[s];return qe?{...Ie,[s]:{...qe,note:Ce}}:Ie}),Te(Ce),_(!1),vt(!1),G("Note mise  jour")},Kn=()=>{s&&(e(Ce=>{const Ie=Ce[s];return Ie?{...Ce,[s]:{...Ie,note:""}}:Ce}),Te(""),_(!1),vt(!1),G("Mmo supprim"))},ji=()=>{a(null),m(!1),_(!1),ht(!1),Te(""),Dt(!1),ut(null),Ke(null),Et({}),vt(!1),we()};return o.jsxs("div",{className:"wishlist-page aesthetic-page",onClick:()=>i(null),children:[o.jsxs("div",{className:"wishlist-heading-row",children:[o.jsx(yi,{eyebrow:"Envies",title:"Ma Wishlist"}),o.jsx("button",{type:"button",className:"wishlist-heading-row__button",onClick:()=>{Vt(),K(!0)},children:"Ajouter une catgorie"})]}),o.jsx("section",{className:"wishlist-grid",children:xt.map((Ce,Ie)=>{const qe=Ce.items.length,Je=Ce.title,gt=Ce.isFavorite;return o.jsxs("article",{className:"wishlist-card",role:"button",tabIndex:0,onClick:()=>ye(Ce.id),onKeyDown:St=>je(St,Ce.id),style:{animationDelay:`${Ie*70}ms`},children:[o.jsx("img",{className:"wishlist-card__cover",src:Ce.cover,alt:`Moodboard ${Je}`}),o.jsx("div",{className:"wishlist-card__overlay",style:{background:`linear-gradient(160deg, ${Ce.accent} 0%, rgba(12,11,19,0.8) 100%)`}}),o.jsx("button",{type:"button",className:"profile-menu","aria-label":`Options pour ${Je}`,onClick:St=>de(St,Ce.id),children:o.jsx("span",{"aria-hidden":"true",children:"..."})}),n===Ce.id?o.jsxs("div",{className:"wishlist-card__menu-popover",role:"menu",onClick:St=>St.stopPropagation(),children:[o.jsx("button",{type:"button",role:"menuitem",onClick:()=>{I(Ce.id),i(null)},children:"Modifier"}),o.jsx("button",{type:"button",role:"menuitem",onClick:()=>gn(Ce.id),children:"Supprimer"}),o.jsx("button",{type:"button",role:"menuitem",onClick:()=>hn(Ce.id),children:"Partager"})]}):null,o.jsxs("div",{className:"wishlist-card__content",children:[o.jsxs("span",{className:"wishlist-card__count",children:[qe," ",JC(qe)]}),o.jsxs("div",{className:"wishlist-card__title",children:[o.jsx("h2",{children:Je}),gt?o.jsx("span",{"aria-label":"Catgorie favorite",className:"wishlist-card__favorite",children:"??"}):null]}),o.jsx("p",{children:Ce.blurb??""})]})]},Ce.id)})}),s&&Tt&&Ct?o.jsx("div",{className:"wishlist-modal__backdrop",role:"dialog","aria-modal":"true",onClick:ji,children:o.jsxs("div",{className:"wishlist-modal",onClick:Ce=>Ce.stopPropagation(),children:[o.jsx("button",{type:"button",className:"modal__close","aria-label":"Fermer",onClick:ji,children:o.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M6 6 18 18M18 6 6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),o.jsx("div",{className:"wishlist-modal__cover",children:o.jsx("img",{src:Tt.cover,alt:`Photo ${Ct.title}`})}),o.jsxs("div",{className:"wishlist-modal__body",children:[o.jsxs("header",{className:"wishlist-modal__header",children:[o.jsxs("div",{children:[o.jsx("h3",{children:Ct.title}),(Pn=Tt.blurb)!=null&&Pn.trim().length?o.jsx("span",{className:"wishlist-modal__eyebrow",children:Tt.blurb}):null]}),o.jsxs("span",{className:"wishlist-modal__badge",children:[Ct.items.length," ",JC(Ct.items.length)]})]}),Ot&&x?o.jsxs("form",{className:"wishlist-modal__note",onSubmit:Ce=>{Ce.preventDefault(),vn()},children:[o.jsxs("label",{children:[o.jsxs("span",{className:"wishlist-memo-label",children:[o.jsx("svg",{className:"wishlist-memo-label__icon",viewBox:"0 0 26 26","aria-hidden":"true",children:o.jsx("path",{d:"M4 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H9l-4 5v-5H7a3 3 0 0 1-3-3Z",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})}),o.jsx("span",{children:"Mmo"})]}),o.jsx("textarea",{rows:3,value:te,onChange:Ce=>Te(Ce.target.value),placeholder:"Ajouter des dtails ou un moodboard rapide..."})]}),o.jsxs("div",{className:"wishlist-modal__note-actions",children:[o.jsx("button",{type:"submit",children:"Enregistrer"}),o.jsx("button",{type:"button",onClick:()=>{_(!1),Te(Ct.note??"")},children:"Annuler"})]})]}):null,!x&&(ue||Ot)?o.jsxs("div",{className:"wishlist-modal__note-display",children:[o.jsxs("div",{className:"wishlist-note__header",children:[o.jsxs("strong",{className:"wishlist-memo-label",children:[o.jsx("svg",{className:"wishlist-memo-label__icon",viewBox:"0 0 26 26","aria-hidden":"true",children:o.jsx("path",{d:"M4 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H9l-4 5v-5H7a3 3 0 0 1-3-3Z",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})}),o.jsx("span",{children:"Mmo"})]}),o.jsxs("div",{className:"wishlist-note__menu",children:[o.jsx("button",{type:"button",className:"wishlist-note__menu-toggle","aria-haspopup":"true","aria-expanded":wt,onClick:Ht,children:o.jsx("span",{"aria-hidden":"true",children:"..."})}),wt?o.jsxs("div",{className:"wishlist-note__menu-popover",role:"menu",children:[o.jsx("button",{type:"button",onClick:Me,children:"Modifier"}),o.jsx("button",{type:"button",disabled:!ue,onClick:Kn,className:"wishlist-note__menu-danger",children:"Supprimer"})]}):null]})]}),ue?o.jsx("p",{children:Ct.note}):o.jsx("p",{className:"wishlist-modal__note-placeholder",children:"Ajoute un mmo pour cette catgorie."}),!ue&&Ot?o.jsx("button",{className:"wishlist-note__add",type:"button",onClick:Me,children:"Ajouter un mmo"}):null]}):null,u?o.jsxs("form",{className:"wishlist-modal__form",onSubmit:en,children:[o.jsx("h4",{children:Ge?"Modifier l'lment":"Ajouter un lment"}),o.jsxs("div",{className:"wishlist-modal__form-media",children:[o.jsxs("div",{className:"wishlist-upload",children:[o.jsx("span",{className:"wishlist-upload__label",children:"Photo"}),o.jsxs("label",{className:ge.imageUrl?"wishlist-upload__trigger wishlist-upload__trigger--has-image":"wishlist-upload__trigger",children:[o.jsx("input",{ref:Ye,type:"file",accept:"image/*",onChange:rt}),ge.imageUrl?o.jsx("img",{src:ge.imageUrl,alt:ge.title||"Prvisualisation de l'lment"}):o.jsxs("div",{className:"wishlist-upload__placeholder",children:[o.jsx("span",{children:"+"}),o.jsx("small",{children:"Ajouter une photo"})]})]}),ge.imageUrl?o.jsx("button",{type:"button",className:"wishlist-upload__remove",onClick:he,children:"Retirer l'image"}):null]}),o.jsxs("div",{className:"wishlist-modal__form-text",children:[o.jsxs("label",{children:[o.jsx("span",{children:"Titre"}),o.jsx("input",{type:"text",value:ge.title,onChange:Ce=>Y(Ie=>({...Ie,title:Ce.target.value})),placeholder:"Nom du produit",required:!0})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Sous-titre (optionnel)"}),o.jsx("input",{type:"text",value:ge.subtitle,onChange:Ce=>Y(Ie=>({...Ie,subtitle:Ce.target.value})),placeholder:"Ex : Couleur, dition limite, prix..."})]})]})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Lien (optionnel)"}),o.jsx("input",{type:"text",inputMode:"url",value:ge.link,onChange:Ce=>Y(Ie=>({...Ie,link:Ce.target.value})),placeholder:"Lien boutique ou rfrence"})]}),o.jsxs("div",{className:"wishlist-category-picker",children:[ge.subcategory.trim().length>0?o.jsxs("span",{className:"wishlist-category-picker__current",children:["Catgorie actuelle : ",ge.subcategory]}):null,o.jsxs("button",{type:"button",className:"wishlist-category-picker__toggle",onClick:()=>Dt(Ce=>!Ce),"aria-expanded":dt,children:[o.jsx("span",{children:"+ Ajouter  la catgorie"}),o.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:dt?"wishlist-category-picker__chevron wishlist-category-picker__chevron--open":"wishlist-category-picker__chevron",children:o.jsx("path",{d:"M8.5 5.5 15 12l-6.5 6.5",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),dt?o.jsxs("div",{className:"wishlist-category-picker__panel",children:[o.jsxs("label",{children:[o.jsx("span",{children:"Nom de la catgorie"}),o.jsx("input",{type:"text",value:ge.subcategory,onChange:Ce=>Y(Ie=>({...Ie,subcategory:Ce.target.value})),placeholder:"Ex : Accessoires, Nol, Lecture..."})]}),_e.length>0?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"wishlist-category-picker__hint",children:"Suggestions dj utilises"}),o.jsx("ul",{className:"wishlist-category-picker__list",children:_e.map(Ce=>o.jsx("li",{children:o.jsx("button",{type:"button",onClick:()=>{Y(Ie=>({...Ie,subcategory:Ce})),Dt(!1)},children:Ce})},Ce))})]}):o.jsx("p",{className:"wishlist-category-picker__empty",children:"Tu n'as pas encore cr de catgorie personnalise."})]}):null]}),o.jsxs("footer",{className:"wishlist-modal__form-actions",children:[o.jsx("button",{type:"submit",children:"Enregistrer"}),o.jsx("button",{type:"button",onClick:at,children:"Annuler"})]})]}):null,o.jsx("div",{className:"wishlist-modal__list",children:Ct.items.length===0?o.jsx("p",{className:"wishlist-modal__empty",children:"Aucun lment encore. Clique sur + pour enregistrer tes envies dans cette catgorie."}):pt.map(Ce=>o.jsxs("div",{className:"wishlist-modal__group",children:[Ce.key!=="__uncategorized"?o.jsx("h4",{children:Ce.label}):null,o.jsx("ul",{children:Ce.items.map(Ie=>{const qe=Bq(Ie.link);return o.jsxs("li",{className:Ie.isDone?"wishlist-item wishlist-item--done":"wishlist-item",children:[o.jsxs("div",{className:"wishlist-item__header",children:[o.jsx("div",{className:"wishlist-item__media",children:Ie.imageUrl?o.jsx("img",{src:Ie.imageUrl,alt:Ie.title}):o.jsx("span",{className:"wishlist-item__placeholder","aria-hidden":"true",children:Ie.title.charAt(0).toUpperCase()})}),o.jsxs("div",{className:"wishlist-item__text",children:[o.jsx("strong",{children:Ie.title}),Ie.subtitle?o.jsx("span",{children:Ie.subtitle}):null,Ie.isDone?o.jsx("span",{className:"wishlist-item__status",children:"Fait"}):null,Ce.key==="__uncategorized"&&Ie.subcategory?o.jsx("span",{className:"wishlist-item__subcategory",children:Ie.subcategory}):null]}),o.jsxs("div",{className:"wishlist-item__actions",children:[o.jsx("button",{type:"button",className:ct[Ie.id]?"wishlist-item__toggle wishlist-item__toggle--open":"wishlist-item__toggle","aria-expanded":ct[Ie.id]??!1,onClick:()=>nt(Ie.id),children:o.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M6 9l6 6 6-6",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),o.jsxs("div",{className:"wishlist-item__menu",children:[o.jsx("button",{type:"button",className:"profile-menu","aria-haspopup":"true","aria-expanded":Re===Ie.id,onClick:Je=>Ze(Je,Ie.id),children:o.jsx("span",{"aria-hidden":"true",children:"..."})}),Re===Ie.id?o.jsxs("div",{className:"wishlist-item__menu-popover",role:"menu",children:[o.jsx("button",{type:"button",onClick:()=>Bt(Ie),children:"Modifier"}),o.jsx("button",{type:"button",onClick:()=>Ne(Ie),children:Ie.isDone?"Marquer comme  faire":"Marquer comme fait"}),o.jsx("button",{type:"button",onClick:()=>Be(Ie),children:"Dupliquer"}),o.jsx("button",{type:"button",onClick:()=>ft(Ie),children:"Dplacer vers une autre wishlist"}),o.jsx("button",{type:"button",className:"wishlist-item__menu-danger",onClick:()=>Ue(Ie),children:"Supprimer"})]}):null]})]})]}),ct[Ie.id]?o.jsx("div",{className:"wishlist-item__details-panel",children:qe?o.jsxs("a",{className:"wishlist-item__link-chip",href:qe.href,target:"_blank",rel:"noreferrer",children:[o.jsx("img",{className:"wishlist-item__link-favicon",src:`https://www.google.com/s2/favicons?domain=${qe.host}&sz=64`,alt:"",loading:"lazy"}),o.jsxs("span",{children:["Visiter ",qe.host]})]}):o.jsx("p",{className:"wishlist-item__details-empty",children:"Ajoute un lien pour retrouver l'article."})}):null]},Ie.id)})})]},Ce.key))})]}),o.jsxs("footer",{className:"wishlist-modal__actions",children:[o.jsx("button",{type:"button",onClick:()=>{I(s),i(null)},children:"Modifier"}),o.jsx("button",{type:"button",onClick:()=>{m(Ce=>{const Ie=!Ce;return ut(null),we(),Ie||Dt(!1),Ie}),Ke(null)},"aria-pressed":u,children:"+"}),o.jsx("button",{type:"button",onClick:()=>{ht(Ce=>{const Ie=!Ce;return _(!1),Ie||vt(!1),Ie}),Te(Ct.note??"")},"aria-pressed":Ot,children:o.jsx("i",{className:"fa-solid fa-message","aria-hidden":"true"})}),o.jsx("button",{type:"button",className:Ct.isFavorite?"wishlist-modal__favorite active":"wishlist-modal__favorite","aria-pressed":Ct.isFavorite,onClick:()=>Rn(s),children:Ct.isFavorite?o.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9999 3.94228C13.1757 2.85872 14.7069 2.25 16.3053 2.25C18.0313 2.25 19.679 2.95977 20.8854 4.21074C22.0832 5.45181 22.75 7.1248 22.75 8.86222C22.75 10.5997 22.0831 12.2728 20.8854 13.5137C20.089 14.3393 19.2938 15.1836 18.4945 16.0323C16.871 17.7562 15.2301 19.4985 13.5256 21.14L13.5216 21.1438C12.6426 21.9779 11.2505 21.9476 10.409 21.0754L3.11399 13.5136C0.62867 10.9374 0.62867 6.78707 3.11399 4.21085C5.54605 1.68984 9.46239 1.60032 11.9999 3.94228Z",fill:"currentColor"})}):o.jsx("svg",{width:"24px",height:"24px",strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:o.jsx("path",{d:"M22 8.86222C22 10.4087 21.4062 11.8941 20.3458 12.9929C17.9049 15.523 15.5374 18.1613 13.0053 20.5997C12.4249 21.1505 11.5042 21.1304 10.9488 20.5547L3.65376 12.9929C1.44875 10.7072 1.44875 7.01723 3.65376 4.73157C5.88044 2.42345 9.50794 2.42345 11.7346 4.73157L11.9998 5.00642L12.2648 4.73173C13.3324 3.6245 14.7864 3 16.3053 3C17.8242 3 19.2781 3.62444 20.3458 4.73157C21.4063 5.83045 22 7.31577 22 8.86222Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"})})})]})]})}):null,z?o.jsx("div",{className:"wishlist-modal__backdrop",role:"dialog","aria-modal":"true",onClick:()=>K(!1),children:o.jsxs("form",{className:"wishlist-create",onSubmit:Lt,onClick:Ce=>Ce.stopPropagation(),children:[o.jsx("h3",{children:"Nouvelle carte"}),o.jsxs("label",{children:[o.jsx("span",{children:"Titre"}),o.jsx("input",{type:"text",value:se.title,onChange:Ce=>ie(Ie=>({...Ie,title:Ce.target.value})),placeholder:"Nom de la carte",required:!0})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Description (optionnel)"}),o.jsx("textarea",{rows:2,value:se.blurb,onChange:Ce=>ie(Ie=>({...Ie,blurb:Ce.target.value})),placeholder:"Ajoute un petit texte pour la carte"})]}),o.jsxs("label",{className:"wishlist-modal__file-field",children:[o.jsx("span",{children:"Image de couverture"}),o.jsxs("div",{className:"wishlist-cover-upload",children:[o.jsx("div",{className:"activities-form__photo-actions",children:o.jsxs("label",{children:[o.jsx("input",{ref:Pe,type:"file",accept:"image/*",onChange:Qt,className:"wishlist-cover-upload__input"}),"Choisir une photo"]})}),se.coverName?o.jsx("span",{className:"wishlist-cover-upload__name",children:se.coverName}):null,se.coverData?o.jsx("button",{type:"button",className:"wishlist-cover-upload__remove",onClick:()=>ie(Ce=>({...Ce,coverData:"",coverName:""})),children:"Retirer"}):null]})]}),o.jsxs("div",{className:"wishlist-modal__actions",children:[o.jsx("button",{type:"button",onClick:Jt,children:"Annuler"}),o.jsx("button",{type:"submit",children:"Ajouter"})]})]})}):null,j?o.jsx("div",{className:"wishlist-modal__backdrop",role:"dialog","aria-modal":"true",onClick:()=>I(null),children:o.jsxs("form",{className:"wishlist-rename",onSubmit:rn,onClick:Ce=>Ce.stopPropagation(),children:[o.jsx("h3",{children:"Modifier la catgorie"}),o.jsxs("label",{children:[o.jsx("span",{children:"Nouveau titre"}),o.jsx("input",{type:"text",value:U,onChange:Ce=>J(Ce.target.value),placeholder:"Nom de la catgorie",required:!0})]}),o.jsxs("label",{className:"wishlist-modal__file-field",children:[o.jsx("span",{children:"Image de couverture"}),o.jsxs("div",{className:"wishlist-cover-upload",children:[o.jsx("div",{className:"activities-form__photo-actions",children:o.jsxs("label",{children:[o.jsx("input",{ref:ze,type:"file",accept:"image/*",onChange:tt,className:"wishlist-cover-upload__input"}),"Choisir une photo"]})}),oe?o.jsx("span",{className:"wishlist-cover-upload__name",children:oe}):null,o.jsx("div",{className:"wishlist-rename__preview",children:ne?o.jsx("img",{src:ne,alt:`Aperu de ${U||"la carte"}`}):o.jsx("span",{children:"Aucune image"})}),oe?o.jsx("button",{type:"button",className:"wishlist-cover-upload__remove",onClick:Ut,children:"Revenir  la photo actuelle"}):null]})]}),o.jsxs("div",{className:"wishlist-rename__actions",children:[o.jsx("button",{type:"submit",children:"Enregistrer"}),o.jsx("button",{type:"button",onClick:()=>I(null),children:"Annuler"})]})]})}):null,Pt?o.jsx("div",{className:"wishlist-modal__backdrop",role:"dialog","aria-modal":"true",onClick:Mt,children:o.jsxs("div",{className:"wishlist-move",onClick:Ce=>Ce.stopPropagation(),children:[o.jsx("h3",{children:"Dplacer vers une autre wishlist"}),Fe.length===0?o.jsx("p",{children:"Cre une nouvelle carte pour pouvoir dplacer cet lment."}):o.jsxs(o.Fragment,{children:[o.jsx("p",{children:"Choisis la wishlist de destination puis slectionne la catgorie dans laquelle ranger cet lment."}),o.jsx("div",{className:"wishlist-move__grid",children:Fe.map(Ce=>o.jsxs("button",{type:"button",className:be===Ce.id?"wishlist-move__card wishlist-move__card--selected":"wishlist-move__card",onClick:()=>ae(Ce.id),children:[o.jsx("img",{src:Ce.cover,alt:Ce.title}),o.jsx("span",{children:Ce.title})]},Ce.id))}),be?o.jsxs("div",{className:"wishlist-move__category",children:[o.jsxs("label",{children:[o.jsx("span",{children:"Catgorie dans la nouvelle wishlist"}),o.jsx("input",{type:"text",value:ke,onChange:Ce=>me(Ce.target.value),placeholder:"Saisis ou choisis une catgorie"})]}),De(be).length>0?o.jsx("div",{className:"wishlist-move__choices",children:De(be).map(Ce=>o.jsx("button",{type:"button",onClick:()=>me(Ce),children:Ce},Ce))}):null]}):null]}),o.jsxs("div",{className:"wishlist-move__actions",children:[o.jsx("button",{type:"button",onClick:Mt,children:"Annuler"}),o.jsx("button",{type:"button","data-primary":"true",disabled:!be,onClick:Nt,children:"Confirmer"})]})]})}):null,M?o.jsx("div",{className:"wishlist-toast",children:M}):null,o.jsx("div",{className:"page-footer-bar","aria-hidden":"true"})]})},gs=t=>{const e=t.getFullYear(),n=`${t.getMonth()+1}`.padStart(2,"0"),i=`${t.getDate()}`.padStart(2,"0");return`${e}-${n}-${i}`},_x=(t,e)=>{const n=new Date(t);return n.setDate(n.getDate()+e),n},Ex=new Date;gs(_x(Ex,1)),gs(_x(Ex,2)),gs(_x(Ex,3));const Uq=[{id:"morning-1",title:"Etirements doux",detail:"5 minutes pour rveiller le corps"},{id:"morning-2",title:"Verre d'eau citronne",detail:"Hydratation avant cran"},{id:"morning-3",title:"Revue rapide de la journe",detail:"3 priorits notes"}],zq=[{id:"evening-1",title:"Dconnexion digitale",detail:"-1h avant le sommeil"},{id:"evening-2",title:"Skincare et respiration",detail:"10 respirations profondes"},{id:"evening-3",title:"Prparer demain",detail:"Tenue + agenda prts"}],kx=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],Tx=Array.from({length:18},(t,e)=>e+6),Cx=56,qq=["#A5B4FC","#7DD3FC","#FBCFE8","#BBF7D0","#FDE68A"],Pu=6*60,Mu=23*60,Id={Travail:"#f8c4cf",Sport:"#f971b3",Perso:"#fff6d6","Rendez-vous":"#cdebbd",Repos:"#425e40"},tS=(t,e,n)=>Math.min(n,Math.max(e,t)),nS=t=>{const e=Math.floor(t/60),n=t%60;return`${String(e).padStart(2,"0")}:${String(n).padStart(2,"0")}`},Sx=t=>{const e=new Date,n=e.getHours()*60+e.getMinutes()+1,i=tS(n,Pu,Mu),s=tS(i+60,Pu,Mu);return{title:"",start:nS(i),end:nS(s),color:Id.Perso,repeatStart:t,repeatEnd:t,category:"Perso"}},$q=new Intl.DateTimeFormat("fr-FR",{weekday:"long",day:"numeric",month:"long"}),um=t=>{if(!t)return"";const e=$q.format(h0(t));return e.charAt(0).toUpperCase()+e.slice(1)},iS=t=>{const n=new Intl.DateTimeFormat("fr-FR",{month:"long",year:"numeric"}).format(t);return n.charAt(0).toUpperCase()+n.slice(1)},Hq=t=>{const e=new Date(t);e.setDate(t.getDate()+6);const n=new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"short"});return`${n.format(t)} - ${n.format(e)}`},Wq=t=>{const e=new Date(t),n=e.getDay(),i=n===0?-6:1-n;return e.setDate(e.getDate()+i),e.setHours(0,0,0,0),e},rS=(t,e)=>{const n=t.replace("#",""),i=parseInt(n,16),s=i>>16&255,a=i>>8&255,u=i&255;return`rgba(${s}, ${a}, ${u}, ${e})`},h0=t=>{const[e,n,i]=t.split("-").map(Number);return new Date(e??1970,(n??1)-1,i??1)},Gq=t=>{const[e,n,i]=t.date.split("-").map(Number);return new Date(e,(n??1)-1,i??1)},Kq=t=>{const e=Gq(t),[n,i]=t.start.split(":").map(Number);return e.setHours(n??0,i??0,0,0),e},hu=t=>{const[e,n]=t.split(":").map(Number);return(e??0)*60+(n??0)},Yq=()=>{const{tasks:t,addTask:e,updateTask:n,removeTask:i}=g_(),s=new Date,[a,u]=F.useState(()=>new Date);gs(s);const m=gs(a),[x,_]=F.useState(()=>{const ue=new Date;return new Date(ue.getFullYear(),ue.getMonth(),1)}),[j,I]=F.useState("weekly"),[U,J]=F.useState(()=>new Date),[ne,le]=F.useState(null),[oe,X]=F.useState(!1),O=F.useRef(null),[H,te]=F.useState(null),[Te,ge]=F.useState(!1),[Y,M]=F.useState({start:"",end:"",color:"#000000"}),[G,z]=F.useState(()=>Sx(gs(s))),[K,se]=F.useState(null),ie=x.getFullYear(),dt=x.getMonth(),Dt=new Date(ie,dt,1),Ge=new Date(ie,dt+1,0).getDate(),ut=(Dt.getDay()+6)%7,Re=Math.ceil((ut+Ge)/7)*7;F.useMemo(()=>t.filter(ue=>{const[Fe,de]=ue.date.split("-").map(Number);return Fe===ie&&de===dt+1}),[t,ie,dt]),F.useEffect(()=>{const ue=window.setInterval(()=>u(new Date),6e4);return()=>window.clearInterval(ue)},[]),F.useEffect(()=>{if(!oe)return;const ue=de=>{O.current&&(O.current.contains(de.target)||X(!1))},Fe=de=>{de.key==="Escape"&&X(!1)};return window.addEventListener("mousedown",ue),window.addEventListener("keydown",Fe),()=>{window.removeEventListener("mousedown",ue),window.removeEventListener("keydown",Fe)}},[oe]);const Ke=F.useMemo(()=>{var Fe;return((Fe=t.map(de=>{const ye=Kq(de),[je,Ze]=de.end.split(":").map(Number),nt=new Date(ye);return nt.setHours(je??0,Ze??0,0,0),{task:de,startDateTime:ye,endDateTime:nt}}).filter(de=>de.startDateTime.getTime()>a.getTime()).sort((de,ye)=>de.startDateTime.getTime()-ye.startDateTime.getTime())[0])==null?void 0:Fe.task)??null},[t,a]);F.useMemo(()=>um((Ke==null?void 0:Ke.date)??null),[Ke]);const ct=Wq(U),Et=Array.from({length:7},(ue,Fe)=>{const de=new Date(ct);return de.setDate(ct.getDate()+Fe),de}),wt=Hq(ct),vt=F.useMemo(()=>{const ue=new Map;return t.forEach(Fe=>{const de=ue.get(Fe.date)??[];de.push(Fe),ue.set(Fe.date,de)}),ue.forEach((Fe,de)=>{Fe.sort((ye,je)=>ye.start.localeCompare(je.start)),ue.set(de,Fe)}),ue},[t,a]),Ot=H?vt.get(H)??[]:[],ht=F.useMemo(()=>um(H),[H]);F.useMemo(()=>{const ue=um(G.repeatStart||null),Fe=um(G.repeatEnd||null);return!ue||!Fe?"":ue===Fe?ue:`${ue} -> ${Fe}`},[G.repeatStart,G.repeatEnd]);const Pt=ue=>{_(Fe=>{const de=new Date(Fe);return de.setMonth(Fe.getMonth()+ue,1),de})},st=ue=>{we(ue,{presetForm:!0})},be=ue=>{const Fe=t.find(de=>de.id===ue);Fe&&(le(ue),M({start:Fe.start,end:Fe.end,color:Fe.color}))},ae=()=>{le(null)},ke=(ue,Fe)=>{M(de=>({...de,[ue]:Fe}))},me=(ue,Fe)=>{ue.preventDefault();const de=hu(Y.start),ye=hu(Y.end);if(de<Pu||de>Mu||ye<Pu||ye>Mu){window.alert("Les horaires autoriss sont de 06:00  23:00.");return}n(Fe,{start:Y.start,end:Y.end,color:Y.color}),le(null)},Ye=ue=>{window.confirm("Supprimer cette tche ?")&&(i(ue),le(de=>de===ue?null:de))},Pe=ue=>{const Fe=window.prompt("Dupliquer sur combien de jours ? (ex: 3)");if(!Fe)return;const de=Number.parseInt(Fe,10);if(!Number.isFinite(de)||de<=0){window.alert("Nombre de jours invalide.");return}const[ye,je,Ze]=ue.date.split("-").map(Number),nt=new Date(ye,(je??1)-1,Ze??1);for(let Ht=1;Ht<=de;Ht+=1){const Bt=new Date(nt);Bt.setDate(nt.getDate()+Ht);const at=gs(Bt);e({id:`task-${at}-${Math.random().toString(36).slice(2,8)}`,title:ue.title,start:ue.start,end:ue.end,date:at,color:ue.color,tag:ue.tag})}},ze=ue=>{z(Fe=>({...Sx(ue),color:Fe.color,category:Fe.category})),se(null)},we=(ue,Fe)=>{te(ue),ge(!0),le(null),Fe!=null&&Fe.presetForm?ze(ue):z(de=>de.title.trim().length>0||de.repeatStart===ue&&de.repeatEnd===ue?de:{...de,repeatStart:ue,repeatEnd:ue})},yt=()=>{ge(!1),te(null),le(null),se(null)},xt=(ue,Fe)=>{z(de=>({...de,[ue]:Fe}))},Tt=ue=>{z(Fe=>({...Fe,category:ue,color:Id[ue]??Fe.color}))},Ct=()=>{if(!H||!window.confirm("Supprimer tous les vnements de cette journe ?"))return;(vt.get(H)??[]).forEach(de=>i(de.id)),z(Sx(H)),se(null),le(null),M({start:"",end:"",color:"#000000"})},pt=ue=>{ue.preventDefault(),se(null);const Fe=G.title.trim();if(!Fe){se("Ajoute un titre  ton bloc.");return}if(!G.repeatStart||!G.repeatEnd){se("Slectionne une priode valide.");return}const de=h0(G.repeatStart),ye=h0(G.repeatEnd);if(Number.isNaN(de.getTime())||Number.isNaN(ye.getTime())){se("Impossible de comprendre ces dates.");return}if(de.getTime()>ye.getTime()){se("La date de fin doit tre postrieure  la date de dbut.");return}const je=new Date(s);if(je.setHours(0,0,0,0),de.getTime()<je.getTime()){se("Impossible de programmer un vnement dans le pass.");return}const Ze=G.start.trim().length>0?G.start:"09:00",nt=hu(Ze),Ht=hu(G.end.trim().length>0?G.end:"10:00");if(nt<Pu||nt>Mu||Ht<Pu||Ht>Mu){se("Les horaires autoriss sont de 06:00  23:00.");return}if(de.toDateString()===je.toDateString()){const he=s.getHours()*60+s.getMinutes();if(nt<=he){se("Choisis une heure de dbut future.");return}}const Bt=[];for(let he=new Date(de);he.getTime()<=ye.getTime();he.setDate(he.getDate()+1))Bt.push(gs(he));const at=G.end.trim().length>0?G.end:"10:00",rt=Id[G.category]??(G.color||qq[0]);Bt.forEach(he=>{e({id:`task-${he}-${Math.random().toString(36).slice(2,8)}`,title:Fe,start:Ze,end:at,date:he,color:rt,tag:G.category})}),z(he=>({...he,title:""})),se(null)},De=(ue,Fe)=>{(ue.key==="Enter"||ue.key===" ")&&(ue.preventDefault(),we(Fe))},_e=F.useMemo(()=>Array.from({length:Re},(ue,Fe)=>{const de=Fe-ut+1;if(de<1||de>Ge)return{key:`empty-${Fe}`,day:null,dateKey:null,tasks:[],isToday:!1};const ye=new Date(ie,dt,de),je=gs(ye);return{key:je,dateKey:je,day:de,tasks:vt.get(je)??[],isToday:de===s.getDate()&&dt===s.getMonth()&&ie===s.getFullYear()}}),[Ge,dt,ut,vt,s,Re,ie]);t.length;const Se=o.jsxs("div",{className:"calendar-view-toggle",role:"tablist","aria-label":"Vue calendrier",children:[o.jsx("button",{type:"button",role:"tab","aria-selected":j==="weekly",className:`calendar-view-toggle__button${j==="weekly"?" is-active":""}`,onClick:()=>I("weekly"),children:"Hebdomadaire"}),o.jsx("button",{type:"button",role:"tab","aria-selected":j==="monthly",className:`calendar-view-toggle__button${j==="monthly"?" is-active":""}`,onClick:()=>I("monthly"),children:"Mensuel"})]});return o.jsxs("div",{className:"calendar-page",children:[j==="weekly"?o.jsxs("section",{className:"calendar-weekly",children:[o.jsxs("header",{className:"calendar-weekly__header",children:[o.jsx(yi,{eyebrow:"calendrier hebdomadaire",title:`Semaine du ${wt}`}),Se]}),o.jsxs("div",{className:"calendar-weekly__layout",children:[o.jsxs("div",{className:"calendar-weekly__side",children:[o.jsxs("button",{type:"button",className:"calendar-weekly__create",onClick:()=>st(gs(s)),children:[o.jsx("span",{className:"calendar-weekly__create-plus",children:"+"}),"Crer un vnement"]}),o.jsxs("aside",{className:"calendar-weekly__mini",children:[o.jsxs("header",{className:"calendar-weekly__mini-header",children:[o.jsx("span",{className:"calendar-weekly__mini-title",children:iS(x)}),o.jsxs("div",{className:"calendar-month-nav",children:[o.jsx("button",{type:"button",onClick:()=>Pt(-1),"aria-label":"Mois prcdent",children:"<"}),o.jsx("button",{type:"button",onClick:()=>Pt(1),"aria-label":"Mois suivant",children:">"})]})]}),o.jsxs("div",{className:"calendar-grid calendar-grid--mini",children:[kx.map(ue=>o.jsx("div",{className:"calendar-grid__weekday",children:ue},ue)),_e.map(ue=>ue.day===null||ue.dateKey===null?o.jsx("div",{className:"calendar-day calendar-day--empty"},ue.key):o.jsx("button",{type:"button",className:`calendar-day calendar-day--mini${ue.isToday?" calendar-day--today":""}`,onClick:()=>{const[Fe,de,ye]=ue.dateKey.split("-").map(Number),je=new Date(Fe,(de??1)-1,ye??1);J(je)},"aria-label":`Voir la semaine du ${ue.dateKey}`,children:o.jsx("span",{className:"calendar-day__number",children:ue.day})},ue.key))]})]}),o.jsxs("div",{className:"calendar-legend",children:[o.jsx("h4",{children:"Lgende des couleurs"}),o.jsx("div",{className:"calendar-legend__items",children:Object.entries(Id).map(([ue,Fe])=>o.jsxs("div",{className:"calendar-legend__item",children:[o.jsx("span",{className:"calendar-legend__swatch",style:{backgroundColor:Fe},"aria-hidden":"true"}),o.jsx("span",{className:"calendar-legend__label",children:ue})]},ue))})]})]}),o.jsxs("div",{className:"calendar-weekly__grid",style:{"--hour-height":`${Cx}px`,"--hour-count":Tx.length},children:[o.jsx("div",{className:"calendar-weekly__corner","aria-hidden":"true"}),Et.map((ue,Fe)=>{const de=gs(ue),ye=ue.toDateString()===s.toDateString();return o.jsxs("button",{type:"button",className:`calendar-weekly__day-header${ye?" is-today":""}`,onClick:()=>we(de),children:[o.jsx("span",{className:"calendar-weekly__day-name",children:kx[Fe]}),o.jsx("span",{className:"calendar-weekly__day-date",children:ue.getDate()})]},de)}),o.jsx("div",{className:"calendar-weekly__time-column",children:Tx.map(ue=>o.jsxs("div",{className:"calendar-weekly__time",children:[String(ue).padStart(2,"0"),":00"]},ue))}),Et.map(ue=>{const Fe=gs(ue),de=vt.get(Fe)??[];return o.jsx("div",{className:"calendar-weekly__day-column",role:"button",tabIndex:0,onClick:()=>we(Fe),onKeyDown:ye=>De(ye,Fe),"aria-label":`Voir la journe du ${Fe}`,children:o.jsxs("div",{className:"calendar-weekly__day-grid",children:[Tx.map(ye=>o.jsx("div",{className:"calendar-weekly__hour-cell"},`${Fe}-${ye}`)),de.map(ye=>{const je=hu(ye.start),Ze=hu(ye.end),nt=a.getHours()*60+a.getMinutes(),Ht=ye.date===m&&nt>=je&&nt<Ze,Bt=Math.max(30,Ze-je||30),rt=Math.max(0,je-6*60)/60*Cx,he=Bt/60*Cx;return o.jsxs("button",{type:"button",className:"calendar-weekly__task",draggable:!0,onDragStart:Ne=>{Ne.dataTransfer.setData("text/plain",ye.id),Ne.dataTransfer.effectAllowed="move"},style:{top:`${rt}px`,height:`${he}px`,background:ye.color},onClick:Ne=>{Ne.stopPropagation(),we(Fe)},children:[Ht?o.jsx("span",{className:"calendar-weekly__task-status",children:"En cours"}):null,o.jsx("span",{className:"calendar-weekly__task-title",children:ye.title}),o.jsxs("span",{className:"calendar-weekly__task-time",children:[ye.start," - ",ye.end]})]},ye.id)})]})},Fe)})]})]})]}):null,j==="monthly"?o.jsxs("section",{className:"calendar-monthly-preview",children:[o.jsxs("header",{className:"calendar-header calendar-header--compact",children:[o.jsx(yi,{eyebrow:"aperu mensuel",title:iS(x)}),o.jsxs("div",{className:"calendar-monthly__controls",children:[Se,o.jsxs("div",{className:"calendar-month-nav",children:[o.jsx("button",{type:"button",onClick:()=>Pt(-1),"aria-label":"Mois prcdent",children:"<"}),o.jsx("button",{type:"button",onClick:()=>Pt(1),"aria-label":"Mois suivant",children:">"})]})]})]}),o.jsxs("div",{className:"calendar-grid calendar-grid--preview",children:[kx.map(ue=>o.jsx("div",{className:"calendar-grid__weekday",children:ue},ue)),_e.map(ue=>ue.day===null||ue.dateKey===null?o.jsx("div",{className:"calendar-day calendar-day--empty"},ue.key):o.jsxs("div",{className:`calendar-day${ue.isToday?" calendar-day--today":""}`,onClick:()=>we(ue.dateKey),onKeyDown:Fe=>De(Fe,ue.dateKey),role:"button",tabIndex:0,"aria-label":`Voir la journe du ${ue.dateKey}`,children:[o.jsxs("div",{className:"calendar-day__header",children:[o.jsx("span",{className:"calendar-day__number",children:ue.day}),o.jsx("button",{type:"button",className:"calendar-day__add",onClick:Fe=>{Fe.stopPropagation(),st(ue.dateKey)},"aria-label":`Ajouter une tche le ${ue.dateKey}`,children:"+"})]}),ue.tasks[0]?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"calendar-day__preview",style:{background:`linear-gradient(135deg, ${rS(ue.tasks[0].color,.12)} 0%, ${rS(ue.tasks[0].color,.32)} 100%)`},children:[o.jsxs("span",{className:"calendar-day__preview-time",children:[ue.tasks[0].start," - ",ue.tasks[0].end]}),o.jsx("span",{className:"calendar-day__preview-title",children:ue.tasks[0].title})]}),ue.tasks.length>1?o.jsxs("span",{className:"calendar-day__more",children:["+ ",ue.tasks.length-1," autres moments"]}):null]}):o.jsx("span",{className:"calendar-day__empty",children:"Rien de prvu"})]},ue.key))]})]}):null,Te&&H?o.jsxs("div",{className:"calendar-modal",role:"dialog","aria-modal":"true","aria-labelledby":"calendar-modal-title",children:[o.jsx("div",{className:"calendar-modal__backdrop",onClick:yt,"aria-hidden":"true"}),o.jsxs("div",{className:"calendar-modal__panel",children:[o.jsxs("header",{className:"calendar-modal__header",children:[o.jsxs("div",{children:[o.jsx("span",{className:"calendar-modal__eyebrow",children:"sance du jour"}),o.jsx("h2",{id:"calendar-modal-title",children:ht}),o.jsx("p",{children:Ot.length>0?Ot.length===1?"1 crneau.":`${Ot.length} crneaux.`:"Aucun crneau pour l'instant, profite pour en poser un."})]}),o.jsx("button",{type:"button",className:"modal__close",onClick:yt,"aria-label":"Fermer",children:o.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M6 6 18 18M18 6 6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),o.jsx("div",{className:"calendar-modal__actions",children:o.jsx("button",{type:"button",className:"calendar-hero__cta calendar-hero__cta--ghost",onClick:Ct,children:"Rinitialiser la journe"})}),o.jsxs("div",{className:"calendar-modal__columns",children:[o.jsxs("section",{className:"calendar-modal__section",children:[o.jsx("div",{className:"calendar-modal__section-header",children:o.jsx("h3",{children:"Programmer un bloc"})}),o.jsxs("form",{className:"calendar-new-task",onSubmit:pt,children:[o.jsxs("label",{className:"calendar-task__field calendar-task__field--full",children:[o.jsx("span",{children:"Titre"}),o.jsx("input",{type:"text",value:G.title,onChange:ue=>xt("title",ue.target.value),placeholder:"Bloc deep work, rendez-vous, self-care...",required:!0})]}),o.jsxs("div",{className:"calendar-task__form-row",children:[o.jsxs("label",{className:"calendar-task__field",children:[o.jsx("span",{children:"Dbut"}),o.jsx("input",{type:"time",value:G.start,onChange:ue=>xt("start",ue.target.value),required:!0})]}),o.jsxs("label",{className:"calendar-task__field",children:[o.jsx("span",{children:"Fin"}),o.jsx("input",{type:"time",value:G.end,onChange:ue=>xt("end",ue.target.value),required:!0})]})]}),o.jsxs("div",{className:"calendar-task__form-row",children:[o.jsxs("label",{className:"calendar-task__field",children:[o.jsx("span",{children:"Du"}),o.jsx("input",{type:"date",value:G.repeatStart,onChange:ue=>xt("repeatStart",ue.target.value)})]}),o.jsxs("label",{className:"calendar-task__field",children:[o.jsx("span",{children:"Au"}),o.jsx("input",{type:"date",value:G.repeatEnd,min:G.repeatStart,onChange:ue=>xt("repeatEnd",ue.target.value)})]})]}),o.jsx("div",{className:"calendar-task__form-row calendar-task__form-row--split",children:o.jsxs("label",{className:"calendar-task__field",children:[o.jsx("span",{children:"Type"}),o.jsxs("div",{className:"calendar-select",ref:O,children:[o.jsxs("button",{type:"button",className:"calendar-select__trigger","aria-haspopup":"listbox","aria-expanded":oe,onClick:()=>X(ue=>!ue),children:[o.jsx("span",{children:G.category}),o.jsx("svg",{className:"calendar-select__chevron",viewBox:"0 0 20 20","aria-hidden":"true",children:o.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})]}),oe?o.jsx("div",{className:"calendar-select__menu",role:"listbox",children:Object.keys(Id).map(ue=>o.jsx("button",{type:"button",role:"option","aria-selected":G.category===ue,className:G.category===ue?"is-selected":void 0,onMouseDown:Fe=>{Fe.preventDefault(),Fe.stopPropagation()},onClick:Fe=>{Fe.preventDefault(),Fe.stopPropagation(),Tt(ue),X(!1)},children:ue},ue))}):null]})]})}),K?o.jsx("p",{className:"calendar-new-task__error",children:K}):null,o.jsx("button",{type:"submit",className:"calendar-hero__cta calendar-hero__cta--primary calendar-new-task__submit",children:"Programmer"})]})]}),o.jsx("div",{className:"calendar-modal__divider","aria-hidden":"true"}),o.jsxs("section",{className:"calendar-modal__section",children:[o.jsx("div",{className:"calendar-modal__section-header",children:o.jsx("h3",{children:"Agenda du jour"})}),o.jsx("div",{className:"calendar-modal__list",children:Ot.length===0?o.jsx("p",{className:"calendar-modal__empty",children:"Programme ton premier vnement de la journe."}):Ot.map(ue=>o.jsx("div",{className:`calendar-task${ne===ue.id?" calendar-task--editing":""}`,style:{background:ue.color},onClick:()=>{ne!==ue.id&&be(ue.id)},children:ne===ue.id?o.jsxs("form",{className:"calendar-task__form",onSubmit:Fe=>me(Fe,ue.id),children:[o.jsxs("div",{className:"calendar-task__form-row",children:[o.jsxs("label",{className:"calendar-task__field",children:[o.jsx("span",{children:"Dbut"}),o.jsx("input",{type:"time",value:Y.start,onChange:Fe=>ke("start",Fe.target.value),required:!0})]}),o.jsxs("label",{className:"calendar-task__field",children:[o.jsx("span",{children:"Fin"}),o.jsx("input",{type:"time",value:Y.end,onChange:Fe=>ke("end",Fe.target.value),required:!0})]})]}),o.jsxs("div",{className:"calendar-task__actions",children:[o.jsx("button",{type:"button",className:"calendar-task__button calendar-task__button--ghost",onClick:ae,children:"Annuler"}),o.jsx("button",{type:"button",className:"calendar-task__button calendar-task__button--ghost",onClick:()=>Ye(ue.id),children:"Supprimer"}),o.jsx("button",{type:"submit",className:"calendar-task__button calendar-task__button--primary",children:"Sauvegarder"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"calendar-task__header",children:[o.jsxs("span",{className:"calendar-task__time",children:[ue.start," - ",ue.end]}),o.jsxs("div",{className:"calendar-task__header-actions",children:[o.jsx("button",{type:"button",className:"calendar-task__edit",onClick:Fe=>{Fe.stopPropagation(),Pe(ue)},"aria-label":`Dupliquer ${ue.title}`,children:o.jsxs("svg",{viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",children:[o.jsx("path",{d:"M6 6h9v9H6z",fill:"none",stroke:"currentColor",strokeWidth:"1.3",strokeLinejoin:"round"}),o.jsx("path",{d:"M4 4h9v9",fill:"none",stroke:"currentColor",strokeWidth:"1.3",strokeLinejoin:"round"})]})}),o.jsx("button",{type:"button",className:"calendar-task__edit",onClick:Fe=>{Fe.stopPropagation(),be(ue.id)},"aria-label":`Modifier ${ue.title}`,children:o.jsx("svg",{viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",children:o.jsx("path",{d:"M4.5 14.75 3.5 17l2.25-1 7.75-7.75-1.5-1.5L4.5 14.75Zm9.2-9.2 1.5 1.5 1.3-1.3a.75.75 0 0 0 0-1.06l-.94-.94a.75.75 0 0 0-1.06 0l-1.3 1.3Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.3"})})})]})]}),o.jsx("span",{className:"calendar-task__title",children:ue.title})]})},ue.id))})]})]})]})]}):null,o.jsx("div",{className:"page-footer-bar","aria-hidden":"true"})]})};var EP={exports:{}};(function(t,e){(function(n,i){n._Highcharts=i(),t.exports=n._Highcharts})(typeof window>"u"?wc:window,()=>(()=>{var PE;let n,i;var s,a,u,m,x,_,j,I,U,J,ne,le,oe,X,O,H,te,Te,ge={};ge.d=(w,r)=>{for(var l in r)ge.o(r,l)&&!ge.o(w,l)&&Object.defineProperty(w,l,{enumerable:!0,get:r[l]})},ge.o=(w,r)=>Object.prototype.hasOwnProperty.call(w,r);var Y={};ge.d(Y,{default:()=>hD}),function(w){var r,l,c,h,d,p,f;w.SVG_NS="http://www.w3.org/2000/svg",w.product="Highcharts",w.version="12.4.0",w.win=typeof window<"u"?window:{},w.doc=w.win.document,w.svg=!!((c=(l=(r=w.doc)==null?void 0:r.createElementNS)==null?void 0:l.call(r,w.SVG_NS,"svg"))!=null&&c.createSVGRect),w.pageLang=(p=(d=(h=w.doc)==null?void 0:h.documentElement)==null?void 0:d.closest("[lang]"))==null?void 0:p.lang,w.userAgent=((f=w.win.navigator)==null?void 0:f.userAgent)||"",w.isChrome=w.win.chrome,w.isFirefox=w.userAgent.indexOf("Firefox")!==-1,w.isMS=/(edge|msie|trident)/i.test(w.userAgent)&&!w.win.opera,w.isSafari=!w.isChrome&&w.userAgent.indexOf("Safari")!==-1,w.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(w.userAgent),w.isWebKit=w.userAgent.indexOf("AppleWebKit")!==-1,w.deg2rad=2*Math.PI/360,w.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],w.noop=function(){},w.supportsPassiveEvents=function(){let v=!1;if(!w.isMS){let b=Object.defineProperty({},"passive",{get:function(){v=!0}});w.win.addEventListener&&w.win.removeEventListener&&(w.win.addEventListener("testPassive",w.noop,b),w.win.removeEventListener("testPassive",w.noop,b))}return v}(),w.charts=[],w.composed=[],w.dateFormats={},w.seriesTypes={},w.symbolSizes={},w.chartCount=0}(s||(s={}));let M=s,{charts:G,doc:z,win:K}=M;function se(w,r,l,c){let h=r?"Highcharts error":"Highcharts warning";w===32&&(w=`${h}: Deprecated member`);let d=Ke(w),p=d?`${h} #${w}: www.highcharts.com/errors/${w}/`:w.toString();if(c!==void 0){let f="";d&&(p+="?"),ae(c,function(v,b){f+=`
 - ${b}: ${v}`,d&&(p+=encodeURI(b)+"="+encodeURI(v))}),p+=f}me(M,"displayError",{chart:l,code:w,message:p,params:c},function(){if(r)throw Error(p);K.console&&se.messages.indexOf(p)===-1&&console.warn(p)}),se.messages.push(p)}function ie(w,r){return parseInt(w,r||10)}function dt(w){return typeof w=="string"}function Dt(w){let r=Object.prototype.toString.call(w);return r==="[object Array]"||r==="[object Array Iterator]"}function Ge(w,r){return!!w&&typeof w=="object"&&(!r||!Dt(w))}function ut(w){return Ge(w)&&typeof w.nodeType=="number"}function Re(w){let r=w==null?void 0:w.constructor;return!!(Ge(w,!0)&&!ut(w)&&(r!=null&&r.name)&&r.name!=="Object")}function Ke(w){return typeof w=="number"&&!isNaN(w)&&w<1/0&&w>-1/0}function ct(w){return w!=null}function Et(w,r,l){let c,h=dt(r)&&!ct(l),d=(p,f)=>{ct(p)?w.setAttribute(f,p):h?(c=w.getAttribute(f))||f!=="class"||(c=w.getAttribute(f+"Name")):w.removeAttribute(f)};return dt(r)?d(l,r):ae(r,d),c}function wt(w){return Dt(w)?w:[w]}function vt(w,r){let l;for(l in w||(w={}),r)w[l]=r[l];return w}function Ot(){let w=arguments,r=w.length;for(let l=0;l<r;l++){let c=w[l];if(c!=null)return c}}function ht(w,r){vt(w.style,r)}function Pt(w){return Math.pow(10,Math.floor(Math.log(w)/Math.LN10))}function st(w,r){return w>1e14?w:parseFloat(w.toPrecision(r||14))}(se||(se={})).messages=[],Math.easeInOutSine=function(w){return-.5*(Math.cos(Math.PI*w)-1)};let be=Array.prototype.find?function(w,r){return w.find(r)}:function(w,r){let l,c=w.length;for(l=0;l<c;l++)if(r(w[l],l))return w[l]};function ae(w,r,l){for(let c in w)Object.hasOwnProperty.call(w,c)&&r.call(l||w[c],w[c],c,w)}function ke(w,r,l){function c(p,f){let v=w.removeEventListener;v&&v.call(w,p,f,!1)}function h(p){let f,v;w.nodeName&&(r?(f={})[r]=!0:f=p,ae(f,function(b,T){if(p[T])for(v=p[T].length;v--;)c(T,p[T][v].fn)}))}let d=typeof w=="function"&&w.prototype||w;if(Object.hasOwnProperty.call(d,"hcEvents")){let p=d.hcEvents;if(r){let f=p[r]||[];l?(p[r]=f.filter(function(v){return l!==v.fn}),c(r,l)):(h(p),p[r]=[])}else h(p),delete d.hcEvents}}function me(w,r,l,c){if(l=l||{},(z==null?void 0:z.createEvent)&&(w.dispatchEvent||w.fireEvent&&w!==M)){let h=z.createEvent("Events");h.initEvent(r,!0,!0),l=vt(h,l),w.dispatchEvent?w.dispatchEvent(l):w.fireEvent(r,l)}else if(w.hcEvents){l.target||vt(l,{preventDefault:function(){l.defaultPrevented=!0},target:w,type:r});let h=[],d=w,p=!1;for(;d.hcEvents;)Object.hasOwnProperty.call(d,"hcEvents")&&d.hcEvents[r]&&(h.length&&(p=!0),h.unshift.apply(h,d.hcEvents[r])),d=Object.getPrototypeOf(d);p&&h.sort((f,v)=>f.order-v.order),h.forEach(f=>{f.fn.call(w,l)===!1&&l.preventDefault()})}c&&!l.defaultPrevented&&c.call(w,l)}let Ye=function(){let w=Math.random().toString(36).substring(2,9)+"-",r=0;return function(){return"highcharts-"+(n?"":w)+r++}}();K.jQuery&&(K.jQuery.fn.highcharts=function(){let w=[].slice.call(arguments);if(this[0])return w[0]?(new M[dt(w[0])?w.shift():"Chart"](this[0],w[0],w[1]),this):G[Et(this[0],"data-highcharts-chart")]});let Pe={addEvent:function(w,r,l,c={}){let h=typeof w=="function"&&w.prototype||w;Object.hasOwnProperty.call(h,"hcEvents")||(h.hcEvents={});let d=h.hcEvents;M.Point&&w instanceof M.Point&&w.series&&w.series.chart&&(w.series.chart.runTrackerClick=!0);let p=w.addEventListener;p&&p.call(w,r,l,!!M.supportsPassiveEvents&&{passive:c.passive===void 0?r.indexOf("touch")!==-1:c.passive,capture:!1}),d[r]||(d[r]=[]);let f={fn:l,order:typeof c.order=="number"?c.order:1/0};return d[r].push(f),d[r].sort((v,b)=>v.order-b.order),function(){ke(w,r,l)}},arrayMax:function(w){let r=w.length,l=w[0];for(;r--;)w[r]>l&&(l=w[r]);return l},arrayMin:function(w){let r=w.length,l=w[0];for(;r--;)w[r]<l&&(l=w[r]);return l},attr:Et,clamp:function(w,r,l){return w>r?w<l?w:l:r},clearTimeout:function(w){ct(w)&&clearTimeout(w)},correctFloat:st,createElement:function(w,r,l,c,h){let d=z.createElement(w);return r&&vt(d,r),h&&ht(d,{padding:"0",border:"none",margin:"0"}),l&&ht(d,l),c&&c.appendChild(d),d},crisp:function(w,r=0,l){let c=r%2/2,h=l?-1:1;return(Math.round(w*h-c)+c)*h},css:ht,defined:ct,destroyObjectProperties:function(w,r,l){ae(w,function(c,h){c!==r&&(c!=null&&c.destroy)&&c.destroy(),(c!=null&&c.destroy||!l)&&delete w[h]})},diffObjects:function(w,r,l,c){let h={};return function d(p,f,v,b){let T=l?f:p;ae(p,function(E,A){if(!b&&c&&c.indexOf(A)>-1&&f[A]){E=wt(E),v[A]=[];for(let P=0;P<Math.max(E.length,f[A].length);P++)f[A][P]&&(E[P]===void 0?v[A][P]=f[A][P]:(v[A][P]={},d(E[P],f[A][P],v[A][P],b+1)))}else Ge(E,!0)&&!E.nodeType?(v[A]=Dt(E)?[]:{},d(E,f[A]||{},v[A],b+1),Object.keys(v[A]).length===0&&(A!=="colorAxis"||b!==0)&&delete v[A]):(p[A]!==f[A]||A in p&&!(A in f))&&A!=="__proto__"&&A!=="constructor"&&(v[A]=T[A])})}(w,r,h,0),h},discardElement:function(w){var r;(r=w==null?void 0:w.parentElement)==null||r.removeChild(w)},erase:function(w,r){let l=w.length;for(;l--;)if(w[l]===r){w.splice(l,1);break}},error:se,extend:vt,extendClass:function(w,r){let l=function(){};return l.prototype=new w,vt(l.prototype,r),l},find:be,fireEvent:me,getAlignFactor:(w="")=>({center:.5,right:1,middle:.5,bottom:1})[w]||0,getClosestDistance:function(w,r){let l,c,h,d=!r;return w.forEach(p=>{if(p.length>1)for(h=p.length-1;h>0;h--)(c=p[h]-p[h-1])<0&&!d?(r==null||r(),r=void 0):c&&(l===void 0||c<l)&&(l=c)}),l},getMagnitude:Pt,getNestedProperty:function(w,r){let l=w.split(".");for(;l.length&&ct(r);){let c=l.shift();if(c===void 0||c==="__proto__")return;if(c==="this"){let d;return Ge(r)&&(d=r["@this"]),d??r}let h=r[c.replace(/[\\'"]/g,"")];if(!ct(h)||typeof h=="function"||typeof h.nodeType=="number"||h===K)return;r=h}return r},getStyle:function w(r,l,c){var p;let h;if(l==="width"){let f=Math.min(r.offsetWidth,r.scrollWidth),v=(p=r.getBoundingClientRect)==null?void 0:p.call(r).width;return v<f&&v>=f-1&&(f=Math.floor(v)),Math.max(0,f-(w(r,"padding-left",!0)||0)-(w(r,"padding-right",!0)||0))}if(l==="height")return Math.max(0,Math.min(r.offsetHeight,r.scrollHeight)-(w(r,"padding-top",!0)||0)-(w(r,"padding-bottom",!0)||0));let d=K.getComputedStyle(r,void 0);return d&&(h=d.getPropertyValue(l),Ot(c,l!=="opacity")&&(h=ie(h))),h},insertItem:function(w,r){let l,c=w.options.index,h=r.length;for(l=w.options.isInternal?h:0;l<h+1;l++)if(!r[l]||Ke(c)&&c<Ot(r[l].options.index,r[l]._i)||r[l].options.isInternal){r.splice(l,0,w);break}return l},isArray:Dt,isClass:Re,isDOMElement:ut,isFunction:function(w){return typeof w=="function"},isNumber:Ke,isObject:Ge,isString:dt,merge:function(w,...r){let l,c=[w,...r],h={},d=function(f,v){return typeof f!="object"&&(f={}),ae(v,function(b,T){T!=="__proto__"&&T!=="constructor"&&(!Ge(b,!0)||Re(b)||ut(b)?f[T]=v[T]:f[T]=d(f[T]||{},b))}),f};w===!0&&(h=c[1],c=Array.prototype.slice.call(c,2));let p=c.length;for(l=0;l<p;l++)h=d(h,c[l]);return h},normalizeTickInterval:function(w,r,l,c,h){let d,p=w;l=Ot(l,Pt(w));let f=w/l;for(!r&&(r=h?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],c===!1&&(l===1?r=r.filter(function(v){return v%1==0}):l<=.1&&(r=[1/l]))),d=0;d<r.length&&(p=r[d],(!h||!(p*l>=w))&&(h||!(f<=(r[d]+(r[d+1]||r[d]))/2)));d++);return st(p*l,-Math.round(Math.log(.001)/Math.LN10))},objectEach:ae,offset:function(w){let r=z.documentElement,l=w.parentElement||w.parentNode?w.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:l.top+(K.pageYOffset||r.scrollTop)-(r.clientTop||0),left:l.left+(K.pageXOffset||r.scrollLeft)-(r.clientLeft||0),width:l.width,height:l.height}},pad:function(w,r,l){return Array((r||2)+1-String(w).replace("-","").length).join(l||"0")+w},pick:Ot,pInt:ie,pushUnique:function(w,r){return 0>w.indexOf(r)&&!!w.push(r)},relativeLength:function(w,r,l){return/%$/.test(w)?r*parseFloat(w)/100+(l||0):parseFloat(w)},removeEvent:ke,replaceNested:function(w,...r){let l,c;do for(c of(l=w,r))w=w.replace(c[0],c[1]);while(w!==l);return w},splat:wt,stableSort:function(w,r){let l,c,h=w.length;for(c=0;c<h;c++)w[c].safeI=c;for(w.sort(function(d,p){return(l=r(d,p))===0?d.safeI-p.safeI:l}),c=0;c<h;c++)delete w[c].safeI},syncTimeout:function(w,r,l){return r>0?setTimeout(w,r,l):(w.call(0,l),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(w){return dt(w)?w.substring(0,1).toUpperCase()+w.substring(1):String(w)},uniqueKey:Ye,useSerialIds:function(w){return n=Ot(w,n)},wrap:function(w,r,l){let c=w[r];w[r]=function(){let h=arguments,d=this;return l.apply(this,[function(){return c.apply(d,arguments.length?arguments:h)}].concat([].slice.call(arguments)))}}},{pageLang:ze,win:we}=M,{defined:yt,error:xt,extend:Tt,isNumber:Ct,isObject:pt,isString:De,merge:_e,objectEach:Se,pad:ue,splat:Fe,timeUnits:de,ucfirst:ye}=Pe,je=M.isSafari&&we.Intl&&!we.Intl.DateTimeFormat.prototype.formatRange,Ze=w=>w.main===void 0,nt=class{constructor(w,r){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=we.Date,this.update(w),this.lang=r}update(w={}){this.dTLCache={},this.options=w=_e(!0,this.options,w);let{timezoneOffset:r,useUTC:l,locale:c}=w;this.Date=w.Date||we.Date||Date;let h=w.timezone;yt(l)&&(h=l?"UTC":void 0),r&&r%60==0&&(h="Etc/GMT"+(r>0?"+":"")+r/60),this.variableTimezone=h!=="UTC"&&(h==null?void 0:h.indexOf("Etc/GMT"))!==0,this.timezone=h,this.lang&&c&&(this.lang.locale=c),["months","shortMonths","weekdays","shortWeekdays"].forEach(d=>{let p=/months/i.test(d),f=/short/.test(d),v={timeZone:"UTC"};v[p?"month":"weekday"]=f?"short":"long",this[d]=(p?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(b=>this.dateFormat(v,(p?31:1)*24*36e5*b))})}toParts(w){let[r,l,c,h,d,p,f]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},w,"es").split(/(?:, | |\/|:)/g);return[h,c-1,l,d,p,f,Math.floor(Number(w)||0)%1e3,"DLMXJVS".indexOf(r)].map(Number)}dateTimeFormat(w,r,l=this.options.locale||ze){let c=JSON.stringify(w)+l;De(w)&&(w=this.str2dtf(w));let h=this.dTLCache[c];if(!h){w.timeZone??(w.timeZone=this.timezone);try{h=new Intl.DateTimeFormat(l,w)}catch(d){/Invalid time zone/i.test(d.message)?(xt(34),w.timeZone="UTC",h=new Intl.DateTimeFormat(l,w)):xt(d.message,!1)}}return this.dTLCache[c]=h,(h==null?void 0:h.format(r))||""}str2dtf(w,r={}){let l={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(l).forEach(c=>{w.indexOf(c)!==-1&&Tt(r,l[c])}),r}makeTime(w,r,l=1,c=0,h,d,p){let f=this.Date.UTC(w,r,l,c,h||0,d||0,p||0);if(this.timezone!=="UTC"){let v=this.getTimezoneOffset(f);if(f+=v,[2,3,8,9,10,11].indexOf(r)!==-1&&(c<5||c>20)){let b=this.getTimezoneOffset(f);v!==b?f+=b-v:v-36e5!==this.getTimezoneOffset(f-36e5)||je||(f-=36e5)}}return f}parse(w){if(!De(w))return w??void 0;let r=(w=w.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(w),l=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(w);r||l||(w+="Z");let c=Date.parse(w);if(Ct(c))return c+(!r||l?this.getTimezoneOffset(c):0)}getTimezoneOffset(w){if(this.timezone!=="UTC"){let[r,l,c,h,d=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},w,"en").split(/(GMT|:)/).map(Number),p=-(60*(c+d/60)*6e4);if(Ct(p))return p}return 0}dateFormat(w,r,l){let c=this.lang;if(!yt(r)||isNaN(r))return(c==null?void 0:c.invalidDate)||"";if(De(w=w??"%Y-%m-%d %H:%M:%S")){let h,d=/%\[([a-zA-Z]+)\]/g;for(;h=d.exec(w);)w=w.replace(h[0],this.dateTimeFormat(h[1],r,c==null?void 0:c.locale))}if(De(w)&&w.indexOf("%")!==-1){let h=this,[d,p,f,v,b,T,E,A]=this.toParts(r),P=(c==null?void 0:c.weekdays)||this.weekdays,D=(c==null?void 0:c.shortWeekdays)||this.shortWeekdays,$=(c==null?void 0:c.months)||this.months,q=(c==null?void 0:c.shortMonths)||this.shortMonths;Se(Tt({a:D?D[A]:P[A].substr(0,3),A:P[A],d:ue(f),e:ue(f,2," "),w:A,v:(c==null?void 0:c.weekFrom)??"",b:q[p],B:$[p],m:ue(p+1),o:p+1,y:d.toString().substr(2,2),Y:d,H:ue(v),k:v,I:ue(v%12||12),l:v%12||12,M:ue(b),p:v<12?"AM":"PM",P:v<12?"am":"pm",S:ue(T),L:ue(E,3)},M.dateFormats),function(V,Q){if(De(w))for(;w.indexOf("%"+Q)!==-1;)w=w.replace("%"+Q,typeof V=="function"?V.call(h,r):V)})}else if(pt(w)){let h=(this.getTimezoneOffset(r)||0)/36e5,d=this.timezone||"Etc/GMT"+(h>=0?"+":"")+h,{prefix:p="",suffix:f=""}=w;w=p+this.dateTimeFormat(Tt({timeZone:d},w),r)+f}return l?ye(w):w}resolveDTLFormat(w){return pt(w,!0)?pt(w,!0)&&Ze(w)?{main:w}:w:{main:(w=Fe(w))[0],from:w[1],to:w[2]}}getDateFormat(w,r,l,c){let h=this.dateFormat("%m-%d %H:%M:%S.%L",r),d="01-01 00:00:00.000",p={millisecond:15,second:12,minute:9,hour:6,day:3},f="millisecond",v=f;for(f in de){if(w&&w===de.week&&+this.dateFormat("%w",r)===l&&h.substr(6)===d.substr(6)){f="week";break}if(w&&de[f]>w){f=v;break}if(p[f]&&h.substr(p[f])!==d.substr(p[f]))break;f!=="week"&&(v=f)}return this.resolveDTLFormat(c[f]).main}},{defined:Ht,extend:Bt,timeUnits:at}=Pe,rt=class extends nt{getTimeTicks(w,r,l,c){let h=this,d=[],p={},{count:f=1,unitRange:v}=w,[b,T,E,A,P,D]=h.toParts(r),$=(r||0)%1e3,q;if(c??(c=1),Ht(r)){if($=v>=at.second?0:f*Math.floor($/f),v>=at.second&&(D=v>=at.minute?0:f*Math.floor(D/f)),v>=at.minute&&(P=v>=at.hour?0:f*Math.floor(P/f)),v>=at.hour&&(A=v>=at.day?0:f*Math.floor(A/f)),v>=at.day&&(E=v>=at.month?1:Math.max(1,f*Math.floor(E/f))),v>=at.month&&(T=v>=at.year?0:f*Math.floor(T/f)),v>=at.year&&(b-=b%f),v===at.week){f&&(r=h.makeTime(b,T,E,A,P,D,$));let ee=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},r,"es"),Ee="DLMXJVS".indexOf(ee);E+=-Ee+c+(Ee<c?-7:0)}r=h.makeTime(b,T,E,A,P,D,$),h.variableTimezone&&Ht(l)&&(q=l-r>4*at.month||h.getTimezoneOffset(r)!==h.getTimezoneOffset(l));let V=r,Q=1;for(;V<l;)d.push(V),v===at.year?V=h.makeTime(b+Q*f,0):v===at.month?V=h.makeTime(b,T+Q*f):q&&(v===at.day||v===at.week)?V=h.makeTime(b,T,E+Q*f*(v===at.day?1:7)):q&&v===at.hour&&f>1?V=h.makeTime(b,T,E,A+Q*f):V+=v*f,Q++;d.push(V),v<=at.hour&&d.length<1e4&&d.forEach(ee=>{ee%18e5==0&&h.dateFormat("%H%M%S%L",ee)==="000000000"&&(p[ee]="day")})}return d.info=Bt(w,{higherRanks:p,totalRange:v*f}),d}},{isTouchDevice:he}=M,{fireEvent:Ne,merge:Be}=Pe,Me={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{color:"#333333",fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:w=>Math.sqrt(1-Math.pow(w-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:he?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},Ue=new rt(Me.time,Me.lang),He={defaultOptions:Me,defaultTime:Ue,getOptions:function(){return Me},setOptions:function(w){var r;return Ne(M,"setOptions",{options:w}),Be(!0,Me,w),w.time&&Ue.update(Me.time),w.lang&&"locale"in w.lang&&Ue.update({locale:w.lang.locale}),(r=w.lang)!=null&&r.chartTitle&&(Me.title={...Me.title,text:w.lang.chartTitle}),Me}},{win:ft}=M,{isNumber:Mt,isString:Nt,merge:Vt,pInt:Qt,defined:tt}=Pe,Ut=(w,r,l)=>`color-mix(in srgb,${w},${r} ${100*l}%)`,Jt=w=>Nt(w)&&!!w&&w!=="none";class Lt{static parse(r){return r?new Lt(r):Lt.None}constructor(r){let l,c,h,d;this.rgba=[NaN,NaN,NaN,NaN],this.input=r;let p=M.Color;if(p&&p!==Lt)return new p(r);if(typeof r=="object"&&r.stops!==void 0)this.stops=r.stops.map(f=>new Lt(f[1]));else if(typeof r=="string")for(this.input=r=Lt.names[r.toLowerCase()]||r,h=Lt.parsers.length;h--&&!c;)(l=(d=Lt.parsers[h]).regex.exec(r))&&(c=d.parse(l));c&&(this.rgba=c)}get(r){let l=this.input,c=this.rgba;if(this.output)return this.output;if(typeof l=="object"&&this.stops!==void 0){let h=Vt(l);return h.stops=[].slice.call(h.stops),this.stops.forEach((d,p)=>{h.stops[p]=[h.stops[p][0],d.get(r)]}),h}return c&&Mt(c[0])?r!=="rgb"&&(r||c[3]!==1)?r==="a"?`${c[3]}`:"rgba("+c.join(",")+")":"rgb("+c[0]+","+c[1]+","+c[2]+")":l}brighten(r){let l=this.rgba;if(this.stops)this.stops.forEach(function(c){c.brighten(r)});else if(Mt(r)&&r!==0)if(Mt(l[0]))for(let c=0;c<3;c++)l[c]+=Qt(255*r),l[c]<0&&(l[c]=0),l[c]>255&&(l[c]=255);else Lt.useColorMix&&Jt(this.input)&&(this.output=Ut(this.input,r>0?"white":"black",Math.abs(r)));return this}setOpacity(r){return this.rgba[3]=r,this}tweenTo(r,l){let c=this.rgba,h=r.rgba;if(!Mt(c[0])||!Mt(h[0]))return Lt.useColorMix&&Jt(this.input)&&Jt(r.input)&&l<.99?Ut(this.input,r.input,l):r.input||"none";let d=h[3]!==1||c[3]!==1,p=(v,b)=>v+(c[b]-v)*(1-l),f=h.slice(0,3).map(p).map(Math.round);return d&&f.push(p(h[3],3)),(d?"rgba(":"rgb(")+f.join(",")+")"}}Lt.names={white:"#ffffff",black:"#000000"},Lt.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(w){return[Qt(w[1]),Qt(w[2]),Qt(w[3]),parseFloat(w[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(w){return[Qt(w[1]),Qt(w[2]),Qt(w[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(w){return[Qt(w[1]+w[1],16),Qt(w[2]+w[2],16),Qt(w[3]+w[3],16),tt(w[4])?Qt(w[4]+w[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(w){return[Qt(w[1],16),Qt(w[2],16),Qt(w[3],16),tt(w[4])?Qt(w[4],16)/255:1]}}],Lt.useColorMix=(PE=ft.CSS)==null?void 0:PE.supports("color","color-mix(in srgb,red,blue 9%)"),Lt.None=new Lt("");let{parse:en}=Lt,{win:rn}=M,{isNumber:gn,objectEach:hn}=Pe;class Rn{constructor(r,l,c){this.pos=NaN,this.options=l,this.elem=r,this.prop=c}dSetter(){let r=this.paths,l=r==null?void 0:r[0],c=r==null?void 0:r[1],h=this.now||0,d=[];if(h!==1&&l&&c)if(l.length===c.length&&h<1)for(let p=0;p<c.length;p++){let f=l[p],v=c[p],b=[];for(let T=0;T<v.length;T++){let E=f[T],A=v[T];gn(E)&&gn(A)&&(v[0]!=="A"||T!==4&&T!==5)?b[T]=E+h*(A-E):b[T]=A}d.push(b)}else d=c;else d=this.toD||[];this.elem.attr("d",d,void 0,!0)}update(){let r=this.elem,l=this.prop,c=this.now,h=this.options.step;this[l+"Setter"]?this[l+"Setter"]():r.attr?r.element&&r.attr(l,c,null,!0):r.style[l]=c+this.unit,h&&h.call(r,c,this)}run(r,l,c){let h=this,d=h.options,p=function(b){return!p.stopped&&h.step(b)},f=rn.requestAnimationFrame||function(b){setTimeout(b,13)},v=function(){for(let b=0;b<Rn.timers.length;b++)Rn.timers[b]()||Rn.timers.splice(b--,1);Rn.timers.length&&f(v)};r!==l||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=r,this.end=l,this.unit=c,this.now=this.start,this.pos=0,p.elem=this.elem,p.prop=this.prop,p()&&Rn.timers.push(p)===1&&f(v)):(delete d.curAnim[this.prop],d.complete&&Object.keys(d.curAnim).length===0&&d.complete.call(this.elem))}step(r){let l,c,h=+new Date,d=this.options,p=this.elem,f=d.complete,v=d.duration,b=d.curAnim;return p.attr&&!p.element?l=!1:r||h>=v+this.startTime?(this.now=this.end,this.pos=1,this.update(),b[this.prop]=!0,c=!0,hn(b,function(T){T!==!0&&(c=!1)}),c&&f&&f.call(p),l=!1):(this.pos=d.easing((h-this.startTime)/v),this.now=this.start+(this.end-this.start)*this.pos,this.update(),l=!0),l}initPath(r,l,c){let h=r.startX,d=r.endX,p=c.slice(),f=r.isArea,v=f?2:1,b=l&&c.length>l.length&&c.hasStackedCliffs,T,E,A,P,D=l==null?void 0:l.slice();if(!D||b)return[p,p];function $(V,Q){for(;V.length<E;){let ee=V[0],Ee=Q[E-V.length];if(Ee&&ee[0]==="M"&&(Ee[0]==="C"?V[0]=["C",ee[1],ee[2],ee[1],ee[2],ee[1],ee[2]]:V[0]=["L",ee[1],ee[2]]),V.unshift(ee),f){let fe=V.pop();V.push(V[V.length-1],fe)}}}function q(V){for(;V.length<E;){let Q=V[Math.floor(V.length/v)-1].slice();if(Q[0]==="C"&&(Q[1]=Q[5],Q[2]=Q[6]),f){let ee=V[Math.floor(V.length/v)].slice();V.splice(V.length/2,0,Q,ee)}else V.push(Q)}}if(h&&d&&d.length){for(A=0;A<h.length;A++)if(h[A]===d[0]){T=A;break}else if(h[0]===d[d.length-h.length+A]){T=A,P=!0;break}else if(h[h.length-1]===d[d.length-h.length+A]){T=h.length-A;break}T===void 0&&(D=[])}return D.length&&gn(T)&&(E=p.length+T*v,P?($(D,p),q(p)):($(p,D),q(D))),[D,p]}fillSetter(){Rn.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,en(this.start).tweenTo(en(this.end),this.pos),void 0,!0)}}Rn.timers=[];let{defined:vn,getStyle:Kn,isArray:ji,isNumber:ar,isObject:Pn,merge:Ce,objectEach:Ie,pick:qe}=Pe;function Je(w){return Pn(w)?Ce({duration:500,defer:0},w):{duration:500*!!w,defer:0}}function gt(w,r){let l=Rn.timers.length;for(;l--;)Rn.timers[l].elem!==w||r&&r!==Rn.timers[l].prop||(Rn.timers[l].stopped=!0)}let St={animate:function(w,r,l){let c,h="",d,p,f;Pn(l)||(f=arguments,l={duration:f[2],easing:f[3],complete:f[4]}),ar(l.duration)||(l.duration=400),l.easing=typeof l.easing=="function"?l.easing:Math[l.easing]||Math.easeInOutSine,l.curAnim=Ce(r),Ie(r,function(v,b){gt(w,b),p=new Rn(w,l,b),d=void 0,b==="d"&&ji(r.d)?(p.paths=p.initPath(w,w.pathArray,r.d),p.toD=r.d,c=0,d=1):w.attr?c=w.attr(b):(c=parseFloat(Kn(w,b))||0,b!=="opacity"&&(h="px")),d||(d=v),typeof d=="string"&&d.match("px")&&(d=d.replace(/px/g,"")),p.run(c,d,h)})},animObject:Je,getDeferredAnimation:function(w,r,l){let c=Je(r),h=l?[l]:w.series,d=0,p=0;return h.forEach(f=>{let v=Je(f.options.animation);d=Pn(r)&&vn(r.defer)?c.defer:Math.max(d,v.duration+v.defer),p=Math.min(c.duration,v.duration)}),w.renderer.forExport&&(d=0),{defer:Math.max(0,d-p),duration:Math.min(d,p)}},setAnimation:function(w,r){r.renderer.globalAnimation=qe(w,r.options.chart.animation,!0)},stop:gt},{SVG_NS:ot,win:ai}=M,{attr:ii,createElement:Gi,css:Ii,error:Ts,isFunction:aa,isString:Co,objectEach:Xs,splat:zr}=Pe,{trustedTypes:So}=ai,la=So&&aa(So.createPolicy)&&So.createPolicy("highcharts",{createHTML:w=>w}),jc=la?la.createHTML(""):"";class Vn{static filterUserAttributes(r){return Xs(r,(l,c)=>{let h=!0;Vn.allowedAttributes.indexOf(c)===-1&&(h=!1),["background","dynsrc","href","lowsrc","src"].indexOf(c)!==-1&&(h=Co(l)&&Vn.allowedReferences.some(d=>l.indexOf(d)===0)),h||(Ts(33,!1,void 0,{"Invalid attribute in config":`${c}`}),delete r[c]),Co(l)&&r[c]&&(r[c]=l.replace(/</g,"&lt;"))}),r}static parseStyle(r){return r.split(";").reduce((l,c)=>{let h=c.split(":").map(p=>p.trim()),d=h.shift();return d&&h.length&&(l[d.replace(/-([a-z])/g,p=>p[1].toUpperCase())]=h.join(":")),l},{})}static setElementHTML(r,l){r.innerHTML=Vn.emptyHTML,l&&new Vn(l).addToDOM(r)}constructor(r){this.nodes=typeof r=="string"?this.parseMarkup(r):r}addToDOM(r){return function l(c,h){let d;return zr(c).forEach(function(p){let f,v=p.tagName,b=p.textContent?M.doc.createTextNode(p.textContent):void 0,T=Vn.bypassHTMLFiltering;if(v)if(v==="#text")f=b;else if(Vn.allowedTags.indexOf(v)!==-1||T){let E=v==="svg"?ot:h.namespaceURI||ot,A=M.doc.createElementNS(E,v),P=p.attributes||{};Xs(p,function(D,$){$!=="tagName"&&$!=="attributes"&&$!=="children"&&$!=="style"&&$!=="textContent"&&(P[$]=D)}),ii(A,T?P:Vn.filterUserAttributes(P)),p.style&&Ii(A,p.style),b&&A.appendChild(b),l(p.children||[],A),f=A}else Ts(33,!1,void 0,{"Invalid tagName in config":v});f&&h.appendChild(f),d=f}),d}(this.nodes,r)}parseMarkup(r){let l,c=[];r=r.trim().replace(/ style=(["'])/g," data-style=$1");try{l=new DOMParser().parseFromString(la?la.createHTML(r):r,"text/html")}catch{}if(!l){let d=Gi("div");d.innerHTML=r,l={body:d}}let h=(d,p)=>{let f=d.nodeName.toLowerCase(),v={tagName:f};f==="#text"&&(v.textContent=d.textContent||"");let b=d.attributes;if(b){let T={};[].forEach.call(b,E=>{E.name==="data-style"?v.style=Vn.parseStyle(E.value):T[E.name]=E.value}),v.attributes=T}if(d.childNodes.length){let T=[];[].forEach.call(d.childNodes,E=>{h(E,T)}),T.length&&(v.children=T)}p.push(v)};return[].forEach.call(l.body.childNodes,d=>h(d,c)),c}}Vn.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],Vn.allowedReferences=["https://","http://","mailto:","/","../","./","#"],Vn.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],Vn.emptyHTML=jc,Vn.bypassHTMLFiltering=!1;let{defaultOptions:El,defaultTime:ca}=He,{pageLang:kl}=M,{extend:Ic,getNestedProperty:Tl,isArray:xh,isNumber:Pc,isObject:ua,isString:ha,pick:Cl,ucfirst:os}=Pe,lr={add:(w,r)=>w+r,divide:(w,r)=>r!==0?w/r:"",eq:(w,r)=>w==r,each:function(w){let r=arguments[arguments.length-1];return!!xh(w)&&w.map((l,c)=>Ar(r.body,Ic(ua(l)?l:{"@this":l},{"@index":c,"@first":c===0,"@last":c===w.length-1}))).join("")},ge:(w,r)=>w>=r,gt:(w,r)=>w>r,if:w=>!!w,le:(w,r)=>w<=r,lt:(w,r)=>w<r,multiply:(w,r)=>w*r,ne:(w,r)=>w!=r,subtract:(w,r)=>w-r,ucfirst:os,unless:w=>!w},Qs={},Js=w=>/^["'].+["']$/.test(w);function Ar(w="",r,l){var q;let c=/\{([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= #\(\)]+)\}/g,h=/\(([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/g,d=[],p=/f$/,f=/\.(\d)/,v=((q=l==null?void 0:l.options)==null?void 0:q.lang)||El.lang,b=(l==null?void 0:l.time)||ca,T=(l==null?void 0:l.numberFormatter)||Bn.bind(l),E=(V="")=>{let Q;return V==="true"||V!=="false"&&((Q=Number(V)).toString()===V?Q:Js(V)?V.slice(1,-1):Tl(V,r))},A,P,D=0,$;for(;(A=c.exec(w))!==null;){let V=A,Q=h.exec(A[1]);Q&&(A=Q,$=!0),P!=null&&P.isBlock||(P={ctx:r,expression:A[1],find:A[0],isBlock:A[1].charAt(0)==="#",start:A.index,startInner:A.index+A[0].length,length:A[0].length});let ee=(P.isBlock?V:A)[1].split(" ")[0].replace("#","");lr[ee]&&(P.isBlock&&ee===P.fn&&D++,P.fn||(P.fn=ee));let Ee=A[1]==="else";if(P.isBlock&&P.fn&&(A[1]===`/${P.fn}`||Ee))if(D)!Ee&&D--;else{let fe=P.startInner,xe=w.substr(fe,A.index-fe);P.body===void 0?(P.body=xe,P.startInner=A.index+A[0].length):P.elseBody=xe,P.find+=xe+A[0],Ee||(d.push(P),P=void 0)}else P.isBlock||d.push(P);if(Q&&!(P!=null&&P.isBlock))break}return d.forEach(V=>{let Q,ee,{body:Ee,elseBody:fe,expression:xe,fn:Ve}=V;if(Ve){let Ae=[V],Le=[],it=xe.length,lt=0,kt;for(ee=0;ee<=it;ee++){let jt=xe.charAt(ee);kt||jt!=='"'&&jt!=="'"?kt===jt&&(kt=""):kt=jt,kt||jt!==" "&&ee!==it||(Le.push(xe.substr(lt,ee-lt)),lt=ee+1)}for(ee=lr[Ve].length;ee--;)Ae.unshift(E(Le[ee+1]));Q=lr[Ve].apply(r,Ae),V.isBlock&&typeof Q=="boolean"&&(Q=Ar(Q?Ee:fe,r,l))}else{let Ae=Js(xe)?[xe]:xe.split(":"),Le=(Q=E(Ae.shift()||""))%1!=0;if(typeof Q=="number"&&(Ae.length||Le)){let it=Ae.join(":");if(p.test(it)||Le){let lt=parseInt((it.match(f)||["","-1"])[1],10);Q!==null&&(Q=T(Q,lt,v.decimalPoint,it.indexOf(",")>-1?v.thousandsSep:""))}else Q=b.dateFormat(it,Q)}h.lastIndex=0,h.test(V.find)&&ha(Q)&&(Q=`"${Q}"`)}w=w.replace(V.find,Cl(Q,""))}),$?Ar(w,r,l):w}function Bn(w,r,l,c){var $;r*=1;let h,d,[p,f]=(w=+w||0).toString().split("e").map(Number),v=(($=this==null?void 0:this.options)==null?void 0:$.lang)||El.lang,b=(w.toString().split(".")[1]||"").split("e")[0].length,T=r,E={};l??(l=v.decimalPoint),c??(c=v.thousandsSep),r===-1?r=Math.min(b,20):Pc(r)?r&&f<0&&((d=r+f)>=0?(p=+p.toExponential(d).split("e")[0],r=d):(p=Math.floor(p),w=r<20?+(p*Math.pow(10,f)).toFixed(r):0,f=0)):r=2,f&&(r??(r=2),w=p),Pc(r)&&r>=0&&(E.minimumFractionDigits=r,E.maximumFractionDigits=r),c===""&&(E.useGrouping=!1);let A=c||l,P=A?"en":(this==null?void 0:this.locale)||v.locale||kl,D=JSON.stringify(E)+P;return h=(Qs[D]??(Qs[D]=new Intl.NumberFormat(P,E))).format(w),A&&(h=h.replace(/([,\.])/g,"_$1").replace(/_\,/g,c??",").replace("_.",l??".")),(r||+h!=0)&&(!(f<0)||T)||(h="0"),f&&+h!=0&&(h+="e"+(f<0?"":"+")+f),h}let wi={dateFormat:function(w,r,l){return ca.dateFormat(w,r,l)},format:Ar,helpers:lr,numberFormat:Bn};(function(w){let r;w.rendererTypes={},w.getRendererType=function(l=r){return w.rendererTypes[l]||w.rendererTypes[r]},w.registerRendererType=function(l,c,h){w.rendererTypes[l]=c,(!r||h)&&(r=l,M.Renderer=c)}})(a||(a={}));let qr=a,{clamp:Ao,pick:bh,pushUnique:Mc,stableSort:Sl}=Pe;(u||(u={})).distribute=function w(r,l,c){let h=r,d=h.reducedLen||l,p=(ee,Ee)=>ee.target-Ee.target,f=[],v=r.length,b=[],T=f.push,E,A,P,D=!0,$,q,V=0,Q;for(E=v;E--;)V+=r[E].size;if(V>d){for(Sl(r,(ee,Ee)=>(Ee.rank||0)-(ee.rank||0)),P=(Q=r[0].rank===r[r.length-1].rank)?v/2:-1,A=Q?P:v-1;P&&V>d;)$=r[E=Math.floor(A)],Mc(b,E)&&(V-=$.size),A+=P,Q&&A>=r.length&&(P/=2,A=P);b.sort((ee,Ee)=>Ee-ee).forEach(ee=>T.apply(f,r.splice(ee,1)))}for(Sl(r,p),r=r.map(ee=>({size:ee.size,targets:[ee.target],align:bh(ee.align,.5)}));D;){for(E=r.length;E--;)$=r[E],q=(Math.min.apply(0,$.targets)+Math.max.apply(0,$.targets))/2,$.pos=Ao(q-$.size*$.align,0,l-$.size);for(E=r.length,D=!1;E--;)E>0&&r[E-1].pos+r[E-1].size>r[E].pos&&(r[E-1].size+=r[E].size,r[E-1].targets=r[E-1].targets.concat(r[E].targets),r[E-1].align=.5,r[E-1].pos+r[E-1].size>l&&(r[E-1].pos=l-r[E-1].size),r.splice(E,1),D=!0)}return T.apply(h,f),E=0,r.some(ee=>{let Ee=0;return(ee.targets||[]).some(()=>(h[E].pos=ee.pos+Ee,c!==void 0&&Math.abs(h[E].pos-h[E].target)>c?(h.slice(0,E+1).forEach(fe=>delete fe.pos),h.reducedLen=(h.reducedLen||l)-.1*l,h.reducedLen>.1*l&&w(h,l,c),!0):(Ee+=h[E].size,E++,!1)))}),Sl(h,p),h};let da=u,{animate:wh,animObject:_h,stop:Zs}=St,{deg2rad:$r,doc:as,svg:Al,SVG_NS:Cs,win:Ss,isFirefox:Rc}=M,{addEvent:Eh,attr:Nl,createElement:Nr,crisp:pa,css:Dc,defined:Ki,erase:No,extend:eo,fireEvent:As,getAlignFactor:Ns,isArray:Oc,isFunction:jl,isNumber:Zn,isObject:kh,isString:Lc,merge:fa,objectEach:js,pick:jr,pInt:ls,pushUnique:Fc,replaceNested:Hr,syncTimeout:Bc,uniqueKey:Vc}=Pe;class Hn{_defaultGetter(r){let l=jr(this[r+"Value"],this[r],this.element?this.element.getAttribute(r):null,0);return/^-?[\d\.]+$/.test(l)&&(l=parseFloat(l)),l}_defaultSetter(r,l,c){c.setAttribute(l,r)}add(r){let l,c=this.renderer,h=this.element;return r&&(this.parentGroup=r),this.textStr!==void 0&&this.element.nodeName==="text"&&c.buildText(this),this.added=!0,(!r||r.handleZ||this.zIndex)&&(l=this.zIndexSetter()),l||(r?r.element:c.box).appendChild(h),this.onAdd&&this.onAdd(),this}addClass(r,l){let c=l?"":this.attr("class")||"";return(r=(r||"").split(/ /g).reduce(function(h,d){return c.indexOf(d)===-1&&h.push(d),h},c?[c]:[]).join(" "))!==c&&this.attr("class",r),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(r,l,c,h=!0){let d=this.renderer,p=d.alignedObjects,f=!!r;r?(this.alignOptions=r,this.alignByTranslate=l,this.alignTo=c):(r=this.alignOptions||{},l=this.alignByTranslate,c=this.alignTo);let v=!c||Lc(c)?c||"renderer":void 0;v&&(f&&Fc(p,this),c=void 0);let b=jr(c,d[v],d),T=(b.x||0)+(r.x||0)+((b.width||0)-(r.width||0))*Ns(r.align),E=(b.y||0)+(r.y||0)+((b.height||0)-(r.height||0))*Ns(r.verticalAlign),A={"text-align":r==null?void 0:r.align};return A[l?"translateX":"x"]=Math.round(T),A[l?"translateY":"y"]=Math.round(E),h&&(this[this.placed?"animate":"attr"](A),this.placed=!0),this.alignAttr=A,this}alignSetter(r){let l={left:"start",center:"middle",right:"end"};l[r]&&(this.alignValue=r,this.element.setAttribute("text-anchor",l[r]))}animate(r,l,c){let h=_h(jr(l,this.renderer.globalAnimation,!0)),d=h.defer;return as.hidden&&(h.duration=0),h.duration!==0?(c&&(h.complete=c),Bc(()=>{this.element&&wh(this,r,h)},d)):(this.attr(r,void 0,c||h.complete),js(r,function(p,f){h.step&&h.step.call(this,p,{prop:f,pos:1,elem:this})},this)),this}applyTextOutline(r){let l=this.element;r.indexOf("contrast")!==-1&&(r=r.replace(/contrast/g,this.renderer.getContrast(l.style.fill)));let c=r.indexOf(" "),h=r.substring(c+1),d=r.substring(0,c);if(d&&d!=="none"&&M.svg){this.fakeTS=!0,d=d.replace(/(^[\d\.]+)(.*?)$/g,function(T,E,A){return 2*Number(E)+A}),this.removeTextOutline();let p=as.createElementNS(Cs,"tspan");Nl(p,{class:"highcharts-text-outline",fill:h,stroke:h,"stroke-width":d,"stroke-linejoin":"round"});let f=l.querySelector("textPath")||l;[].forEach.call(f.childNodes,T=>{let E=T.cloneNode(!0);E.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(A=>E.removeAttribute(A)),p.appendChild(E)});let v=0;[].forEach.call(f.querySelectorAll("text tspan"),T=>{v+=Number(T.getAttribute("dy"))});let b=as.createElementNS(Cs,"tspan");b.textContent="",Nl(b,{x:Number(l.getAttribute("x")),dy:-v}),p.appendChild(b),f.insertBefore(p,f.firstChild)}}attr(r,l,c,h){let{element:d}=this,p=Hn.symbolCustomAttribs,f,v,b=this,T;return typeof r=="string"&&l!==void 0&&(f=r,(r={})[f]=l),typeof r=="string"?b=(this[r+"Getter"]||this._defaultGetter).call(this,r,d):(js(r,function(E,A){T=!1,h||Zs(this,A),this.symbolName&&p.indexOf(A)!==-1&&(v||(this.symbolAttr(r),v=!0),T=!0),this.rotation&&(A==="x"||A==="y")&&(this.doTransform=!0),T||(this[A+"Setter"]||this._defaultSetter).call(this,E,A,d)},this),this.afterSetters()),c&&c.call(this),b}clip(r){if(r&&!r.clipPath){let l=Vc()+"-",c=this.renderer.createElement("clipPath").attr({id:l}).add(this.renderer.defs);eo(r,{clipPath:c,id:l,count:0}),r.add(c)}return this.attr("clip-path",r?`url(${this.renderer.url}#${r.id})`:"none")}crisp(r,l){l=Math.round(l||r.strokeWidth||0);let c=r.x||this.x||0,h=r.y||this.y||0,d=(r.width||this.width||0)+c,p=(r.height||this.height||0)+h,f=pa(c,l),v=pa(h,l);return eo(r,{x:f,y:v,width:pa(d,l)-f,height:pa(p,l)-v}),Ki(r.strokeWidth)&&(r.strokeWidth=l),r}complexColor(r,l,c){let h=this.renderer,d,p,f,v,b,T,E,A,P,D,$=[],q;As(this.renderer,"complexColor",{args:arguments},function(){if(r.radialGradient?p="radialGradient":r.linearGradient&&(p="linearGradient"),p){if(f=r[p],b=h.gradients,T=r.stops,P=c.radialReference,Oc(f)&&(r[p]=f={x1:f[0],y1:f[1],x2:f[2],y2:f[3],gradientUnits:"userSpaceOnUse"}),p==="radialGradient"&&P&&!Ki(f.gradientUnits)&&(v=f,f=fa(f,h.getRadialAttr(P,v),{gradientUnits:"userSpaceOnUse"})),js(f,function(V,Q){Q!=="id"&&$.push(Q,V)}),js(T,function(V){$.push(V)}),b[$=$.join(",")])D=b[$].attr("id");else{f.id=D=Vc();let V=b[$]=h.createElement(p).attr(f).add(h.defs);V.radAttr=v,V.stops=[],T.forEach(function(Q){Q[1].indexOf("rgba")===0?(E=(d=Lt.parse(Q[1])).get("rgb"),A=d.get("a")):(E=Q[1],A=1);let ee=h.createElement("stop").attr({offset:Q[0],"stop-color":E,"stop-opacity":A}).add(V);V.stops.push(ee)})}q="url("+h.url+"#"+D+")",c.setAttribute(l,q),c.gradient=$,r.toString=function(){return q}}})}css(r){let l=this.styles,c={},h=this.element,d,p=!l;if(l&&js(r,function(f,v){l&&l[v]!==f&&(c[v]=f,p=!0)}),p){l&&(r=eo(l,c)),r.width===null||r.width==="auto"?delete this.textWidth:h.nodeName.toLowerCase()==="text"&&r.width&&(d=this.textWidth=ls(r.width)),eo(this.styles,r),d&&!Al&&this.renderer.forExport&&delete r.width;let f=Rc&&r.fontSize||null;f&&(Zn(f)||/^\d+$/.test(f))&&(r.fontSize+="px");let v=fa(r);h.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(b=>v&&delete v[b]),v.color&&(v.fill=v.color,delete v.color)),Dc(h,v)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),r.textOutline&&this.applyTextOutline(r.textOutline)),this}dashstyleSetter(r){let l,c=this["stroke-width"];if(c==="inherit"&&(c=1),r){let h=(r=r.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(l=h.length;l--;)h[l]=""+ls(h[l])*jr(c,NaN);r=h.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",r)}}destroy(){let r=this,l=r.element||{},c=r.renderer,h=l.ownerSVGElement,d=l.nodeName==="SPAN"&&r.parentGroup||void 0,p,f;if(l.onclick=l.onmouseout=l.onmouseover=l.onmousemove=l.point=null,Zs(r),r.clipPath&&h){let v=r.clipPath;[].forEach.call(h.querySelectorAll("[clip-path],[CLIP-PATH]"),function(b){b.getAttribute("clip-path").indexOf(v.element.id)>-1&&b.removeAttribute("clip-path")}),r.clipPath=v.destroy()}if(r.stops){for(f=0;f<r.stops.length;f++)r.stops[f].destroy();r.stops.length=0,r.stops=void 0}for(r.safeRemoveChild(l);d!=null&&d.div&&d.div.childNodes.length===0;)p=d.parentGroup,r.safeRemoveChild(d.div),delete d.div,d=p;r.alignOptions&&No(c.alignedObjects,r),js(r,(v,b)=>{var T,E,A;(((T=r[b])==null?void 0:T.parentGroup)===r||["connector","foreignObject"].indexOf(b)!==-1)&&((A=(E=r[b])==null?void 0:E.destroy)==null||A.call(E)),delete r[b]})}dSetter(r,l,c){Oc(r)&&(typeof r[0]=="string"&&(r=this.renderer.pathToSegments(r)),this.pathArray=r,r=r.reduce((h,d,p)=>d!=null&&d.join?(p?h+" ":"")+d.join(" "):(d||"").toString(),"")),/(NaN| {2}|^$)/.test(r)&&(r="M 0 0"),this[l]!==r&&(c.setAttribute(l,r),this[l]=r)}fillSetter(r,l,c){typeof r=="string"?c.setAttribute(l,r):r&&this.complexColor(r,l,c)}hrefSetter(r,l,c){c.setAttributeNS("http://www.w3.org/1999/xlink",l,r)}getBBox(r,l){let c,h,d,p,{alignValue:f,element:v,renderer:b,styles:T,textStr:E}=this,{cache:A,cacheKeys:P}=b,D=v.namespaceURI===this.SVG_NS,$=jr(l,this.rotation,0),q=b.styledMode?v&&Hn.prototype.getStyle.call(v,"font-size"):T.fontSize;if(Ki(E)&&((p=E.toString()).indexOf("<")===-1&&(p=p.replace(/\d/g,"0")),p+=["",b.rootFontSize,q,$,this.textWidth,f,T.lineClamp,T.textOverflow,T.fontWeight].join(",")),p&&!r&&(c=A[p]),!c||c.polygon){if(D||b.forExport){try{d=this.fakeTS&&function(Q){let ee=v.querySelector(".highcharts-text-outline");ee&&Dc(ee,{display:Q})},jl(d)&&d("none"),c=v.getBBox?eo({},v.getBBox()):{width:v.offsetWidth,height:v.offsetHeight,x:0,y:0},jl(d)&&d("")}catch{}(!c||c.width<0)&&(c={x:0,y:0,width:0,height:0})}else c=this.htmlGetBBox();h=c.height,D&&(c.height=h={"11px,17":14,"13px,20":16}[`${q||""},${Math.round(h)}`]||h),$&&(c=this.getRotatedBox(c,$));let V={bBox:c};As(this,"afterGetBBox",V),c=V.bBox}if(p&&(E===""||c.height>0)){for(;P.length>250;)delete A[P.shift()];A[p]||P.push(p),A[p]=c}return c}getRotatedBox(r,l){let{x:c,y:h,width:d,height:p}=r,{alignValue:f,translateY:v,rotationOriginX:b=0,rotationOriginY:T=0}=this,E=Ns(f),A=Number(this.element.getAttribute("y")||0)-(v?0:h),P=l*$r,D=(l-90)*$r,$=Math.cos(P),q=Math.sin(P),V=d*$,Q=d*q,ee=Math.cos(D),Ee=Math.sin(D),[[fe,xe],[Ve,Ae]]=[b,T].map(En=>[En-En*$,En*q]),Le=c+E*(d-V)+fe+Ae+A*ee,it=Le+V,lt=it-p*ee,kt=lt-V,jt=h+A-E*Q-xe+Ve+A*Ee,zt=jt+Q,Ft=zt-p*Ee,Wt=Ft-Q,Rt=Math.min(Le,it,lt,kt),Yt=Math.min(jt,zt,Ft,Wt),pn=Math.max(Le,it,lt,kt)-Rt,_n=Math.max(jt,zt,Ft,Wt)-Yt;return{x:Rt,y:Yt,width:pn,height:_n,polygon:[[Le,jt],[it,zt],[lt,Ft],[kt,Wt]]}}getStyle(r){return Ss.getComputedStyle(this.element||this,"").getPropertyValue(r)}hasClass(r){return(""+this.attr("class")).split(" ").indexOf(r)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(r,l){this.onEvents={},this.opacity=1,this.SVG_NS=Cs,this.element=l==="span"||l==="body"?Nr(l):as.createElementNS(this.SVG_NS,l),this.renderer=r,this.styles={},As(this,"afterInit")}on(r,l){let{onEvents:c}=this;return c[r]&&c[r](),c[r]=Eh(this.element,r,l),this}opacitySetter(r,l,c){let h=Number(Number(r).toFixed(3));this.opacity=h,c.setAttribute(l,h)}reAlign(){var r;(r=this.alignOptions)!=null&&r.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(r){return this.attr("class",(""+this.attr("class")).replace(Lc(r)?RegExp(`(^| )${r}( |$)`):r," ").replace(/ +/g," ").trim())}removeTextOutline(){let r=this.element.querySelector("tspan.highcharts-text-outline");r&&this.safeRemoveChild(r)}safeRemoveChild(r){let l=r.parentNode;l&&l.removeChild(r)}setRadialReference(r){let l=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=r,l!=null&&l.radAttr&&l.animate(this.renderer.getRadialAttr(r,l.radAttr)),this}shadow(r){var d;let{renderer:l}=this,c=fa(((d=this.parentGroup)==null?void 0:d.rotation)===90?{offsetX:-1,offsetY:-1}:{},kh(r)?r:{}),h=l.shadowDefinition(c);return this.attr({filter:r?`url(${l.url}#${h})`:"none"})}show(r=!0){return this.attr({visibility:r?"inherit":"visible"})}"stroke-widthSetter"(r,l,c){this[l]=r,c.setAttribute(l,r)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let r=this.getStyle("stroke-width"),l=0,c;return/px$/.test(r)?l=ls(r):r!==""&&(Nl(c=as.createElementNS(Cs,"rect"),{width:r,"stroke-width":0}),this.element.parentNode.appendChild(c),l=c.getBBox().width,c.parentNode.removeChild(c)),l}symbolAttr(r){let l=this;Hn.symbolCustomAttribs.forEach(function(c){l[c]=jr(r[c],l[c])}),l.attr({d:l.renderer.symbols[l.symbolName](l.x,l.y,l.width,l.height,l)})}textSetter(r){r!==this.textStr&&(delete this.textPxLength,this.textStr=r,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(r){let l=this.element,c=l.getElementsByTagName("title")[0]||as.createElementNS(this.SVG_NS,"title");l.insertBefore?l.insertBefore(c,l.firstChild):l.appendChild(c),c.textContent=Hr(jr(r,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let r=this.element;return r.parentNode.appendChild(r),this}translate(r,l){return this.attr({translateX:r,translateY:l})}updateTransform(r="transform"){let{element:l,foreignObject:c,matrix:h,padding:d,rotation:p=0,rotationOriginX:f,rotationOriginY:v,scaleX:b,scaleY:T,text:E,translateX:A=0,translateY:P=0}=this,D=["translate("+A+","+P+")"];Ki(h)&&D.push("matrix("+h.join(",")+")"),p&&(D.push("rotate("+p+" "+(f??l.getAttribute("x")??this.x??0)+" "+(v??l.getAttribute("y")??this.y??0)+")"),(E==null?void 0:E.element.tagName)!=="SPAN"||E!=null&&E.foreignObject||E.attr({rotation:p,rotationOriginX:(f||0)-d,rotationOriginY:(v||0)-d})),(Ki(b)||Ki(T))&&D.push("scale("+jr(b,1)+" "+jr(T,1)+")"),D.length&&!(E||this).textPath&&((c==null?void 0:c.element)||l).setAttribute(r,D.join(" "))}visibilitySetter(r,l,c){r==="inherit"?c.removeAttribute(l):this[l]!==r&&c.setAttribute(l,r),this[l]=r}xGetter(r){return this.element.nodeName==="circle"&&(r==="x"?r="cx":r==="y"&&(r="cy")),this._defaultGetter(r)}zIndexSetter(r,l){let c=this.renderer,h=this.parentGroup,d=(h||c).element||c.box,p=this.element,f=d===c.box,v,b,T,E=!1,A,P=this.added,D;if(Ki(r)?(p.setAttribute("data-z-index",r),r*=1,this[l]===r&&(P=!1)):Ki(this[l])&&p.removeAttribute("data-z-index"),this[l]=r,P){for((r=this.zIndex)&&h&&(h.handleZ=!0),D=(v=d.childNodes).length-1;D>=0&&!E;D--)A=!Ki(T=(b=v[D]).getAttribute("data-z-index")),b!==p&&(r<0&&A&&!f&&!D?(d.insertBefore(p,v[D]),E=!0):(ls(T)<=r||A&&(!Ki(r)||r>=0))&&(d.insertBefore(p,v[D+1]),E=!0));E||(d.insertBefore(p,v[3*!!f]),E=!0)}return E}}Hn.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],Hn.prototype.strokeSetter=Hn.prototype.fillSetter,Hn.prototype.yGetter=Hn.prototype.xGetter,Hn.prototype.matrixSetter=Hn.prototype.rotationOriginXSetter=Hn.prototype.rotationOriginYSetter=Hn.prototype.rotationSetter=Hn.prototype.scaleXSetter=Hn.prototype.scaleYSetter=Hn.prototype.translateXSetter=Hn.prototype.translateYSetter=Hn.prototype.verticalAlignSetter=function(w,r){this[r]=w,this.doTransform=!0};let cr=Hn,{defined:ma,extend:ga,getAlignFactor:Il,isNumber:cs,merge:ya,pick:to,removeEvent:ur}=Pe;class Wr extends cr{constructor(r,l,c,h,d,p,f,v,b,T){let E;super(r,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=l,this.x=c,this.y=h,this.anchorX=p,this.anchorY=f,this.baseline=b,this.className=T,this.addClass(T==="button"?"highcharts-no-tooltip":"highcharts-label"),T&&this.addClass("highcharts-"+T),this.text=r.text(void 0,0,0,v).attr({zIndex:1}),typeof d=="string"&&((E=/^url\((.*?)\)$/.test(d))||this.renderer.symbols[d])&&(this.symbolKey=d),this.bBox=Wr.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=r.styledMode||E,this.deferredAttr={},this.alignFactor=0}alignSetter(r){let l=Il(r);this.textAlign=r,l!==this.alignFactor&&(this.alignFactor=l,this.bBox&&cs(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(r,l){this.anchorX=r,this.boxAttr(l,Math.round(r)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(r,l){this.anchorY=r,this.boxAttr(l,r-this.ySetting)}boxAttr(r,l){this.box?this.box.attr(r,l):this.deferredAttr[r]=l}css(r){if(r){let l={};r=ya(r),Wr.textProps.forEach(c=>{r[c]!==void 0&&(l[c]=r[c],delete r[c])}),this.text.css(l),"fontSize"in l||"fontWeight"in l?this.updateTextPadding():("width"in l||"textOverflow"in l)&&this.updateBoxSize()}return cr.prototype.css.call(this,r)}destroy(){ur(this.element,"mouseenter"),ur(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),cr.prototype.destroy.call(this)}fillSetter(r,l){r&&(this.needsBox=!0),this.fill=r,this.boxAttr(l,r)}getBBox(r,l){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:c,height:h=0,translateX:d=0,translateY:p=0,width:f=0}=this,v=to(this.paddingLeft,c),b=l??(this.rotation||0),T={width:f,height:h,x:d+this.bBox.x-v,y:p+this.bBox.y-c+this.baselineOffset};return b&&(T=this.getRotatedBox(T,b)),T}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(r){this.heightSetting=r,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:to(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&ma(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(r,l){cs(r)?r!==this[l]&&(this[l]=r,this.updateTextPadding()):this[l]=void 0}rSetter(r,l){this.boxAttr(l,r)}strokeSetter(r,l){this.stroke=r,this.boxAttr(l,r)}"stroke-widthSetter"(r,l){r&&(this.needsBox=!0),this["stroke-width"]=r,this.boxAttr(l,r)}"text-alignSetter"(r){this.textAlign=this["text-align"]=r,this.updateTextPadding()}textSetter(r){r!==void 0&&this.text.attr({text:r}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let r,l=this.text,c={},h=this.padding,d=this.bBox=(!cs(this.widthSetting)||!cs(this.heightSetting)||this.textAlign)&&ma(l.textStr)?l.getBBox(void 0,0):Wr.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||d.height||0)+2*h;let p=this.renderer.fontMetrics(l);if(this.baselineOffset=h+Math.min((this.text.firstLineMetrics||p).b,d.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-p.h)/2),this.needsBox&&!l.textPath){if(!this.box){let f=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();f.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),f.add(this)}c.x=r=this.getCrispAdjust(),c.y=(this.baseline?-this.baselineOffset:0)+r,c.width=Math.round(this.width),c.height=Math.round(this.height),this.box.attr(ga(c,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let r=this.text,l=r.styles.textAlign||this.textAlign;if(!r.textPath){this.updateBoxSize();let c=this.baseline?0:this.baselineOffset,h=(this.paddingLeft??this.padding)+Il(l)*(this.widthSetting??this.bBox.width);(h!==r.x||c!==r.y)&&(r.attr({align:l,x:h}),c!==void 0&&r.attr("y",c)),r.x=h,r.y=c}}widthSetter(r){this.widthSetting=cs(r)?r:void 0,this.doUpdate=!0}getPaddedWidth(){let r=this.padding,l=to(this.paddingLeft,r),c=to(this.paddingRight,r);return(this.widthSetting||this.bBox.width||0)+l+c}xSetter(r){this.x=r,this.alignFactor&&(r-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.anchorX&&(this["forceAnimate:anchorX"]=!0),this.xSetting=Math.round(r),this.attr("translateX",this.xSetting)}ySetter(r){this.anchorY&&(this["forceAnimate:anchorY"]=!0),this.ySetting=this.y=Math.round(r),this.attr("translateY",this.ySetting)}}Wr.emptyBBox={width:0,height:0,x:0,y:0},Wr.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:Pl,isNumber:Ml,pick:Gr}=Pe;function va(w,r,l,c,h){let d=[];if(h){let p=h.start||0,f=h.end||0,v=Gr(h.r,l),b=Gr(h.r,c||l),T=2e-4/(h.borderRadius?1:Math.max(v,1)),E=Math.abs(f-p-2*Math.PI)<T;E&&(p=Math.PI/2,f=2.5*Math.PI-T);let A=h.innerR,P=Gr(h.open,E),D=Math.cos(p),$=Math.sin(p),q=Math.cos(f),V=Math.sin(f),Q=Gr(h.longArc,f-p-Math.PI<T?0:1),ee=["A",v,b,0,Q,Gr(h.clockwise,1),w+v*q,r+b*V];ee.params={start:p,end:f,cx:w,cy:r},d.push(["M",w+v*D,r+b*$],ee),Pl(A)&&((ee=["A",A,A,0,Q,Pl(h.clockwise)?1-h.clockwise:0,w+A*D,r+A*$]).params={start:f,end:p,cx:w,cy:r},d.push(P?["M",w+A*q,r+A*V]:["L",w+A*q,r+A*V],ee)),P||d.push(["Z"])}return d}function jo(w,r,l,c,h){return h!=null&&h.r?xa(w,r,l,c,h):[["M",w,r],["L",w+l,r],["L",w+l,r+c],["L",w,r+c],["Z"]]}function xa(w,r,l,c,h){let d=(h==null?void 0:h.r)||0;return[["M",w+d,r],["L",w+l-d,r],["A",d,d,0,0,1,w+l,r+d],["L",w+l,r+c-d],["A",d,d,0,0,1,w+l-d,r+c],["L",w+d,r+c],["A",d,d,0,0,1,w,r+c-d],["L",w,r+d],["A",d,d,0,0,1,w+d,r],["Z"]]}let Kr={arc:va,callout:function(w,r,l,c,h){let d=Math.min((h==null?void 0:h.r)||0,l,c),p=d+6,f=h==null?void 0:h.anchorX,v=(h==null?void 0:h.anchorY)||0,b=xa(w,r,l,c,{r:d});if(!Ml(f)||f<l&&f>0&&v<c&&v>0)return b;if(w+f>l-p)if(v>r+p&&v<r+c-p)b.splice(3,1,["L",w+l,v-6],["L",w+l+6,v],["L",w+l,v+6],["L",w+l,r+c-d]);else if(f<l){let T=v<r+p,E=T?r:r+c;b.splice(T?2:5,0,["L",f,v],["L",w+l-d,E])}else b.splice(3,1,["L",w+l,c/2],["L",f,v],["L",w+l,c/2],["L",w+l,r+c-d]);else if(w+f<p)if(v>r+p&&v<r+c-p)b.splice(7,1,["L",w,v+6],["L",w-6,v],["L",w,v-6],["L",w,r+d]);else if(f>0){let T=v<r+p,E=T?r:r+c;b.splice(T?1:6,0,["L",f,v],["L",w+d,E])}else b.splice(7,1,["L",w,c/2],["L",f,v],["L",w,c/2],["L",w,r+d]);else v>c&&f<l-p?b.splice(5,1,["L",f+6,r+c],["L",f,r+c+6],["L",f-6,r+c],["L",w+d,r+c]):v<0&&f>p&&b.splice(1,1,["L",f-6,r],["L",f,r-6],["L",f+6,r],["L",l-d,r]);return b},circle:function(w,r,l,c){return va(w+l/2,r+c/2,l/2,c/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(w,r,l,c){return[["M",w+l/2,r],["L",w+l,r+c/2],["L",w+l/2,r+c],["L",w,r+c/2],["Z"]]},rect:jo,roundedRect:xa,square:jo,triangle:function(w,r,l,c){return[["M",w+l/2,r],["L",w+l,r+c],["L",w,r+c],["Z"]]},"triangle-down":function(w,r,l,c){return[["M",w,r],["L",w+l,r],["L",w+l/2,r+c],["Z"]]}},{doc:hr,SVG_NS:Rl,win:Dl}=M,{attr:ba,extend:no,fireEvent:Io,isString:_i,objectEach:Uc,pick:zc}=Pe,Yi=(w,r)=>w.substring(0,r)+"",g=class{constructor(w){let r=w.styles;this.renderer=w.renderer,this.svgElement=w,this.width=w.textWidth,this.textLineHeight=r==null?void 0:r.lineHeight,this.textOutline=r==null?void 0:r.textOutline,this.ellipsis=(r==null?void 0:r.textOverflow)==="ellipsis",this.lineClamp=r==null?void 0:r.lineClamp,this.noWrap=(r==null?void 0:r.whiteSpace)==="nowrap"}buildSVG(){let w=this.svgElement,r=w.element,l=w.renderer,c=zc(w.textStr,"").toString(),h=c.indexOf("<")!==-1,d=r.childNodes,p=!w.added&&l.box,f=[c,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,w.getStyle("font-size"),w.styles.lineClamp,this.width].join(",");if(f!==w.textCache){w.textCache=f,delete w.actualWidth;for(let v=d.length;v--;)r.removeChild(d[v]);if(h||this.ellipsis||this.width||w.textPath||c.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(c))){if(c!==""){p&&p.appendChild(r);let v=new Vn(c);this.modifyTree(v.nodes),v.addToDOM(r),this.modifyDOM(),this.ellipsis&&(r.textContent||"").indexOf("")!==-1&&w.attr("title",this.unescapeEntities(w.textStr||"",["&lt;","&gt;"])),p&&p.removeChild(r)}}else r.appendChild(hr.createTextNode(this.unescapeEntities(c)));_i(this.textOutline)&&w.applyTextOutline&&w.applyTextOutline(this.textOutline)}}modifyDOM(){let w,r=this.svgElement,l=ba(r.element,"x");for(r.firstLineMetrics=void 0;(w=r.element.firstChild)&&/^[\s\u200B]*$/.test(w.textContent||" ");)r.element.removeChild(w);[].forEach.call(r.element.querySelectorAll("tspan.highcharts-br"),(p,f)=>{p.nextSibling&&p.previousSibling&&(f===0&&p.previousSibling.nodeType===1&&(r.firstLineMetrics=r.renderer.fontMetrics(p.previousSibling)),ba(p,{dy:this.getLineHeight(p.nextSibling),x:l}))});let c=this.width||0;if(!c)return;let h=(p,f)=>{var $;let v=p.textContent||"",b=v.replace(/([^\^])-/g,"$1- ").split(" "),T=!this.noWrap&&(b.length>1||r.element.childNodes.length>1),E=this.getLineHeight(f),A=Math.max(0,c-.8*E),P=0,D=r.actualWidth;if(T){let q=[],V=[];for(;f.firstChild&&f.firstChild!==p;)V.push(f.firstChild),f.removeChild(f.firstChild);for(;b.length;)if(b.length&&!this.noWrap&&P>0&&(q.push(p.textContent||""),p.textContent=b.join(" ").replace(/- /g,"-")),this.truncate(p,void 0,b,P===0&&D||0,c,A,(Q,ee)=>b.slice(0,ee).join(" ").replace(/- /g,"-")),D=r.actualWidth,P++,this.lineClamp&&P>=this.lineClamp){b.length&&(this.truncate(p,p.textContent||"",void 0,0,c,A,Yi),p.textContent=(($=p.textContent)==null?void 0:$.replace("",""))+"");break}V.forEach(Q=>{f.insertBefore(Q,p)}),q.forEach(Q=>{f.insertBefore(hr.createTextNode(Q),p);let ee=hr.createElementNS(Rl,"tspan");ee.textContent="",ba(ee,{dy:E,x:l}),f.insertBefore(ee,p)})}else this.ellipsis&&v&&this.truncate(p,v,void 0,0,c,A,Yi)},d=p=>{[].slice.call(p.childNodes).forEach(f=>{f.nodeType===Dl.Node.TEXT_NODE?h(f,p):(f.className.baseVal.indexOf("highcharts-br")!==-1&&(r.actualWidth=0),d(f))})};d(r.element)}getLineHeight(w){let r=w.nodeType===Dl.Node.TEXT_NODE?w.parentElement:w;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(r||this.svgElement.element).h}modifyTree(w){let r=(l,c)=>{let{attributes:h={},children:d,style:p={},tagName:f}=l,v=this.renderer.styledMode;if(f==="b"||f==="strong"?v?h.class="highcharts-strong":p.fontWeight="bold":(f==="i"||f==="em")&&(v?h.class="highcharts-emphasized":p.fontStyle="italic"),p!=null&&p.color&&(p.fill=p.color),f==="br"){h.class="highcharts-br",l.textContent="";let b=w[c+1];b!=null&&b.textContent&&(b.textContent=b.textContent.replace(/^ +/gm,""))}else f==="a"&&d&&d.some(b=>b.tagName==="#text")&&(l.children=[{children:d,tagName:"tspan"}]);f!=="#text"&&f!=="a"&&(l.tagName="tspan"),no(l,{attributes:h,style:p}),d&&d.filter(b=>b.tagName!=="#text").forEach(r)};w.forEach(r),Io(this.svgElement,"afterModifyTree",{nodes:w})}truncate(w,r,l,c,h,d,p){let f,v,b=this.svgElement,{rotation:T}=b,E=[],A=l&&!c?1:0,P=(r||l||"").length,D=P;l||(h=d);let $=function(q,V){let Q=V||q,ee=w.parentNode;if(ee&&E[Q]===void 0&&ee.getSubStringLength)try{E[Q]=c+ee.getSubStringLength(0,l?Q+1:Q)}catch{}return E[Q]};if(b.rotation=0,c+(v=$(w.textContent.length))>h){for(;A<=P;)D=Math.ceil((A+P)/2),l&&(f=p(l,D)),v=$(D,f&&f.length-1),A===P?A=P+1:v>h?P=D-1:A=D;P===0?w.textContent="":r&&P===r.length-1||(w.textContent=f||p(r||l,D)),this.ellipsis&&v>h&&this.truncate(w,w.textContent||"",void 0,0,h,d,Yi)}l&&l.splice(0,D),b.actualWidth=v,b.rotation=T}unescapeEntities(w,r){return Uc(this.renderer.escapes,function(l,c){r&&r.indexOf(l)!==-1||(w=w.toString().replace(RegExp(l,"g"),c))}),w}},{defaultOptions:N}=He,{charts:B,deg2rad:re,doc:Oe,isFirefox:We,isMS:It,isWebKit:jn,noop:Yn,SVG_NS:Tn,symbolSizes:Wn,win:vi}=M,{addEvent:Yr,attr:Pi,createElement:Po,crisp:Xi,css:Is,defined:Ei,destroyObjectProperties:qc,extend:io,isArray:$c,isNumber:us,isObject:Ol,isString:Th,merge:Ch,pick:Sh,pInt:wy,replaceNested:_y,uniqueKey:Ey}=Pe;class Hc{constructor(r,l,c,h,d,p,f){let v,b;this.x=0,this.y=0;let T=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),E=T.element;f||T.css(this.getStyle(h||{})),r.appendChild(E),Pi(r,"dir","ltr"),r.innerHTML.indexOf("xmlns")===-1&&Pi(E,"xmlns",this.SVG_NS),this.box=E,this.boxWrapper=T,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(Oe.createTextNode("Created with Highcharts 12.4.0")),this.defs=this.createElement("defs").add(),this.allowHTML=p,this.forExport=d,this.styledMode=f,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=T.getStyle("font-size"),this.setSize(l,c,!1),We&&r.getBoundingClientRect&&((v=function(){Is(r,{left:0,top:0}),b=r.getBoundingClientRect(),Is(r,{left:Math.ceil(b.left)-b.left+"px",top:Math.ceil(b.top)-b.top+"px"})})(),this.unSubPixelFix=Yr(vi,"resize",v))}definition(r){return new Vn([r]).addToDOM(this.defs.element)}getReferenceURL(){if((We||jn)&&Oe.getElementsByTagName("base").length){if(!Ei(i)){let r=Ey(),l=new Vn([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:r},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${r})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(Oe.body);Is(l,{position:"fixed",top:0,left:0,zIndex:9e5});let c=Oe.elementFromPoint(6,6);i=(c==null?void 0:c.id)==="hitme",Oe.body.removeChild(l)}if(i)return _y(vi.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(r){return this.style=io({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},r),this.style}setStyle(r){this.boxWrapper.css(this.getStyle(r))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let r=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),qc(this.gradients||{}),this.gradients=null,this.defs=r.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(r){return new this.Element(this,r)}getRadialAttr(r,l){return{cx:r[0]-r[2]/2+(l.cx||0)*r[2],cy:r[1]-r[2]/2+(l.cy||0)*r[2],r:(l.r||0)*r[2]}}shadowDefinition(r){let l=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(r).map(h=>`${h}-${r[h]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),c=Ch({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},r);return this.defs.element.querySelector(`#${l}`)||this.definition({tagName:"filter",attributes:{id:l,filterUnits:c.filterUnits},children:this.getShadowFilterContent(c)}),l}getShadowFilterContent(r){return[{tagName:"feDropShadow",attributes:{dx:r.offsetX,dy:r.offsetY,"flood-color":r.color,"flood-opacity":Math.min(5*r.opacity,1),stdDeviation:r.width/2}}]}buildText(r){new g(r).buildSVG()}getContrast(r){if(r==="transparent")return"#000000";let l=Lt.parse(r).rgba,c=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(us(l[0])||!Lt.useColorMix){let h=l.map(p=>{let f=p/255;return f<=.04?f/12.92:Math.pow((f+.055)/1.055,2.4)}),d=.2126*h[0]+.7152*h[1]+.0722*h[2];return 1.05/(d+.05)>(d+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+r+" srgb"+c+c+c+")"}button(r,l,c,h,d={},p,f,v,b,T){let E=this.label(r,l,c,b,void 0,void 0,T,void 0,"button"),A=this.styledMode,P=arguments,D=0;d=Ch(N.global.buttonTheme,d),A&&(delete d.fill,delete d.stroke,delete d["stroke-width"]);let $=d.states||{},q=d.style||{};delete d.states,delete d.style;let V=[Vn.filterUserAttributes(d)],Q=[q];return A||["hover","select","disabled"].forEach((ee,Ee)=>{V.push(Ch(V[0],Vn.filterUserAttributes(P[Ee+5]||$[ee]||{}))),Q.push(V[Ee+1].style),delete V[Ee+1].style}),Yr(E.element,It?"mouseover":"mouseenter",function(){D!==3&&E.setState(1)}),Yr(E.element,It?"mouseout":"mouseleave",function(){D!==3&&E.setState(D)}),E.setState=(ee=0)=>{if(ee!==1&&(E.state=D=ee),E.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][ee]),!A){E.attr(V[ee]);let Ee=Q[ee];Ol(Ee)&&E.css(Ee)}},E.attr(V[0]),!A&&(E.css(io({cursor:"default"},q)),T&&E.text.css({pointerEvents:"none"})),E.on("touchstart",ee=>ee.stopPropagation()).on("click",function(ee){D!==3&&(h==null||h.call(E,ee))})}crispLine(r,l){let[c,h]=r;return Ei(c[1])&&c[1]===h[1]&&(c[1]=h[1]=Xi(c[1],l)),Ei(c[2])&&c[2]===h[2]&&(c[2]=h[2]=Xi(c[2],l)),r}path(r){let l=this.styledMode?{}:{fill:"none"};return $c(r)?l.d=r:Ol(r)&&io(l,r),this.createElement("path").attr(l)}circle(r,l,c){let h=Ol(r)?r:r===void 0?{}:{x:r,y:l,r:c},d=this.createElement("circle");return d.xSetter=d.ySetter=function(p,f,v){v.setAttribute("c"+f,p)},d.attr(h)}arc(r,l,c,h,d,p){let f;Ol(r)?(l=(f=r).y,c=f.r,h=f.innerR,d=f.start,p=f.end,r=f.x):f={innerR:h,start:d,end:p};let v=this.symbol("arc",r,l,c,c,f);return v.r=c,v}rect(r,l,c,h,d,p){let f=Ol(r)?r:r===void 0?{}:{x:r,y:l,r:d,width:Math.max(c||0,0),height:Math.max(h||0,0)},v=this.createElement("rect");return this.styledMode||(p!==void 0&&(f["stroke-width"]=p,io(f,v.crisp(f))),f.fill="none"),v.rSetter=function(b,T,E){v.r=b,Pi(E,{rx:b,ry:b})},v.rGetter=function(){return v.r||0},v.attr(f)}roundedRect(r){return this.symbol("roundedRect").attr(r)}setSize(r,l,c){this.width=r,this.height=l,this.boxWrapper.animate({width:r,height:l},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Sh(c,!0)?void 0:0}),this.alignElements()}g(r){let l=this.createElement("g");return r?l.attr({class:"highcharts-"+r}):l}image(r,l,c,h,d,p){let f={preserveAspectRatio:"none"};us(l)&&(f.x=l),us(c)&&(f.y=c),us(h)&&(f.width=h),us(d)&&(f.height=d);let v=this.createElement("image").attr(f),b=function(T){v.attr({href:r}),p.call(v,T)};if(p){v.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let T=new vi.Image;Yr(T,"load",b),T.src=r,T.complete&&b({})}else v.attr({href:r});return v}symbol(r,l,c,h,d,p){var q,V;let f,v,b,T,E=this,A=/^url\((.*?)\)$/,P=A.test(r),D=!P&&(this.symbols[r]?r:"circle"),$=D&&this.symbols[D];if($)typeof l=="number"&&(v=$.call(this.symbols,l||0,c||0,h||0,d||0,p)),f=this.path(v),E.styledMode||f.attr("fill","none"),io(f,{symbolName:D||void 0,x:l,y:c,width:h,height:d}),p&&io(f,p);else if(P){b=r.match(A)[1];let Q=f=this.image(b);Q.imgwidth=Sh(p==null?void 0:p.width,(q=Wn[b])==null?void 0:q.width),Q.imgheight=Sh(p==null?void 0:p.height,(V=Wn[b])==null?void 0:V.height),T=ee=>ee.attr({width:ee.width,height:ee.height}),["width","height"].forEach(ee=>{Q[`${ee}Setter`]=function(Ee,fe){this[fe]=Ee;let{alignByTranslate:xe,element:Ve,width:Ae,height:Le,imgwidth:it,imgheight:lt}=this,kt=fe==="width"?it:lt,jt=1;p&&p.backgroundSize==="within"&&Ae&&Le&&it&&lt?(jt=Math.min(Ae/it,Le/lt),Pi(Ve,{width:Math.round(it*jt),height:Math.round(lt*jt)})):Ve&&kt&&Ve.setAttribute(fe,kt),!xe&&it&&lt&&this.translate(((Ae||0)-it*jt)/2,((Le||0)-lt*jt)/2)}}),Ei(l)&&Q.attr({x:l,y:c}),Q.isImg=!0,Q.symbolUrl=r,Ei(Q.imgwidth)&&Ei(Q.imgheight)?T(Q):(Q.attr({width:0,height:0}),Po("img",{onload:function(){let ee=B[E.chartIndex];this.width===0&&(Is(this,{position:"absolute",top:"-999em"}),Oe.body.appendChild(this)),Wn[b]={width:this.width,height:this.height},Q.imgwidth=this.width,Q.imgheight=this.height,Q.element&&T(Q),this.parentNode&&this.parentNode.removeChild(this),E.imgCount--,E.imgCount||!ee||ee.hasLoaded||ee.onload()},src:b}),this.imgCount++)}return f}clipRect(r,l,c,h){return this.rect(r,l,c,h,0)}text(r,l,c,h){let d={};if(h&&(this.allowHTML||!this.forExport))return this.html(r,l,c);d.x=Math.round(l||0),c&&(d.y=Math.round(c)),Ei(r)&&(d.text=r);let p=this.createElement("text").attr(d);return h&&(!this.forExport||this.allowHTML)||(p.xSetter=function(f,v,b){let T=b.getElementsByTagName("tspan"),E=b.getAttribute(v);for(let A=0,P;A<T.length;A++)(P=T[A]).getAttribute(v)===E&&P.setAttribute(v,f);b.setAttribute(v,f)}),p}fontMetrics(r){let l=us(r)?r:wy(cr.prototype.getStyle.call(r,"font-size")||0),c=l<24?l+3:Math.round(1.2*l),h=Math.round(.8*c);return{h:c,b:h,f:l}}rotCorr(r,l,c){let h=r;return l&&c&&(h=Math.max(h*Math.cos(l*re),4)),{x:-r/3*Math.sin(l*re),y:h}}pathToSegments(r){let l=[],c=[],h={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let d=0;d<r.length;d++)Th(c[0])&&us(r[d])&&c.length===h[c[0].toUpperCase()]&&r.splice(d,0,c[0].replace("M","L").replace("m","l")),typeof r[d]=="string"&&(c.length&&l.push(c.slice(0)),c.length=0),c.push(r[d]);return l.push(c.slice(0)),l}label(r,l,c,h,d,p,f,v,b){return new Wr(this,r,l,c,h,d,p,f,v,b)}alignElements(){this.alignedObjects.forEach(r=>r.align())}}io(Hc.prototype,{Element:cr,SVG_NS:Tn,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Kr,draw:Yn}),qr.registerRendererType("svg",Hc,!0);let{composed:ky,isFirefox:Ty}=M,{attr:Cy,css:ro,createElement:Sy,defined:$p,extend:Wc,getAlignFactor:Ay,isNumber:Gc,pInt:Hp,pushUnique:Ny}=Pe;function Wp(w,r,l){var h;let c=(h=this.div)==null?void 0:h.style;cr.prototype[`${r}Setter`].call(this,w,r,l),c&&(l.style[r]=c[r]=w)}let Gp=(w,r)=>{var l;if(!w.div){let c=Cy(w.element,"class"),h=w.css,d=Sy("div",c?{className:c}:void 0,{position:"absolute",left:`${w.translateX||0}px`,top:`${w.translateY||0}px`,...w.styles,display:w.display,opacity:w.opacity,visibility:w.visibility},((l=w.parentGroup)==null?void 0:l.div)||r);w.classSetter=(p,f,v)=>{v.setAttribute("class",p),d.className=p},w.translateXSetter=w.translateYSetter=(p,f)=>{w[f]=p,d.style[f==="translateX"?"left":"top"]=`${p}px`,w.doTransform=!0},w.scaleXSetter=w.scaleYSetter=(p,f)=>{w[f]=p,w.doTransform=!0},w.opacitySetter=w.visibilitySetter=Wp,w.css=p=>(h.call(w,p),p.cursor&&(d.style.cursor=p.cursor),p.pointerEvents&&(d.style.pointerEvents=p.pointerEvents),w),w.on=function(){return cr.prototype.on.apply({element:d,onEvents:w.onEvents},arguments),w},w.div=d}return w.div};class Ir extends cr{static compose(r){Ny(ky,this.compose)&&(r.prototype.html=function(l,c,h){return new Ir(this,"span").attr({text:l,x:Math.round(c),y:Math.round(h)})})}constructor(r,l){super(r,l),Ir.useForeignObject?this.foreignObject=r.createElement("foreignObject").attr({zIndex:2}):this.css({position:"absolute",...r.styledMode?{}:{fontFamily:r.style.fontFamily,fontSize:r.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(r,l,c){this.xCorr=-r*c,this.yCorr=-l}css(r){let l,{element:c}=this,h=c.tagName==="SPAN"&&r&&"width"in r,d=h&&r.width;return h&&(delete r.width,this.textWidth=Hp(d)||void 0,l=!0),(r==null?void 0:r.textOverflow)==="ellipsis"&&(r.overflow="hidden",r.whiteSpace="nowrap"),r!=null&&r.lineClamp&&(r.display="-webkit-box",r.WebkitLineClamp=r.lineClamp,r.WebkitBoxOrient="vertical",r.overflow="hidden"),Gc(Number(r==null?void 0:r.fontSize))&&(r.fontSize+="px"),Wc(this.styles,r),ro(c,r),l&&this.updateTransform(),this}htmlGetBBox(){let{element:r}=this;return{x:r.offsetLeft,y:r.offsetTop,width:r.offsetWidth,height:r.offsetHeight}}updateTransform(){var Q;if(!this.added){this.alignOnAdd=!0;return}let{element:r,foreignObject:l,oldTextWidth:c,renderer:h,rotation:d,rotationOriginX:p,rotationOriginY:f,scaleX:v,scaleY:b,styles:{display:T="inline-block",whiteSpace:E},textAlign:A="left",textWidth:P,translateX:D=0,translateY:$=0,x:q=0,y:V=0}=this;if(l||ro(r,{marginLeft:`${D}px`,marginTop:`${$}px`}),r.tagName==="SPAN"){let ee,Ee=[d,A,r.innerHTML,P,this.textAlign].join(","),fe=-(((Q=this.parentGroup)==null?void 0:Q.padding)*1)||0;if(P!==c){let Le=this.textPxLength?this.textPxLength:(ro(r,{width:"",whiteSpace:E||"nowrap"}),r.offsetWidth),it=P||0,lt=!h.styledMode&&r.style.textOverflow===""&&r.style.webkitLineClamp;(it>c||Le>it||lt)&&(/[\-\s\u00AD]/.test(r.textContent||r.innerText)||r.style.textOverflow==="ellipsis")&&(ro(r,{width:(d||v||Le>it||lt)&&Gc(P)?P+"px":"auto",display:T,whiteSpace:E||"normal"}),this.oldTextWidth=P)}l&&(ro(r,{display:"inline-block",verticalAlign:"top"}),l.attr({width:h.width,height:h.height})),Ee!==this.cTT&&(ee=h.fontMetrics(r).b,$p(d)&&!l&&(d!==(this.oldRotation||0)||A!==this.oldAlign)&&ro(r,{transform:`rotate(${d}deg)`,transformOrigin:`${fe}% ${fe}px`}),this.getSpanCorrection(!$p(d)&&!this.textWidth&&this.textPxLength||r.offsetWidth,ee,Ay(A)));let{xCorr:xe=0,yCorr:Ve=0}=this,Ae={left:`${q+xe}px`,top:`${V+Ve}px`,textAlign:A,transformOrigin:`${(p??q)-xe-q-fe}px ${(f??V)-Ve-V-fe}px`};(v||b)&&(Ae.transform=`scale(${v??1},${b??1})`),l?(super.updateTransform(),Gc(q)&&Gc(V)?(l.attr({x:q+xe,y:V+Ve,width:r.offsetWidth+3,height:r.offsetHeight,"transform-origin":r.getAttribute("transform-origin")||"0 0"}),ro(r,{display:T,textAlign:A})):Ty&&l.attr({width:0,height:0})):ro(r,Ae),this.cTT=Ee,this.oldRotation=d,this.oldAlign=A}}add(r){let{foreignObject:l,renderer:c}=this,h=c.box.parentNode,d=[];if(l)l.add(r),super.add(c.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(l));else{let p;if(this.parentGroup=r,r&&!(p=r.div)){let f=r;for(;f;)d.push(f),f=f.parentGroup;for(let v of d.reverse())p=Gp(v,h)}(p||h).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(r){r!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Vn.setElementHTML(this.element,r??""),this.textStr=r,this.doTransform=!0)}alignSetter(r){this.alignValue=this.textAlign=r,this.doTransform=!0}xSetter(r,l){this[l]=r,this.doTransform=!0}}let hs=Ir.prototype;hs.visibilitySetter=hs.opacitySetter=Wp,hs.ySetter=hs.rotationSetter=hs.rotationOriginXSetter=hs.rotationOriginYSetter=hs.xSetter,function(w){w.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},w.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:r}=this.axis.chart;return r(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}}(m||(m={}));let Kp=m,{addEvent:Yp,isFunction:Xp,objectEach:Qp,removeEvent:Jp}=Pe;(x||(x={})).registerEventOptions=function(w,r){w.eventOptions=w.eventOptions||{},Qp(r.events,function(l,c){w.eventOptions[c]!==l&&(w.eventOptions[c]&&(Jp(w,c,w.eventOptions[c]),delete w.eventOptions[c]),Xp(l)&&(w.eventOptions[c]=l,Yp(w,c,l,{order:0})))})};let wa=x,{deg2rad:Ah}=M,{clamp:Zp,correctFloat:Ll,defined:Nh,destroyObjectProperties:jy,extend:ef,fireEvent:Fl,getAlignFactor:jh,isNumber:_a,merge:Ih,objectEach:Ph,pick:ds}=Pe,Ea=class{constructor(w,r,l,c,h){this.isNew=!0,this.isNewLabel=!0,this.axis=w,this.pos=r,this.type=l||"",this.parameters=h||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,Fl(this,"init"),l||c||this.addLabel()}addLabel(){var Ve,Ae;let w=this,r=w.axis,l=r.options,c=r.chart,h=r.categories,d=r.logarithmic,p=r.names,f=w.pos,v=ds((Ve=w.options)==null?void 0:Ve.labels,l.labels),b=r.tickPositions,T=f===b[0],E=f===b[b.length-1],A=(!v.step||v.step===1)&&r.tickInterval===1,P=b.info,D=w.label,$,q,V,Q=this.parameters.category||(h?ds(h[f],p[f],f):f);d&&_a(Q)&&(Q=Ll(d.lin2log(Q))),r.dateTime&&(P?$=(q=c.time.resolveDTLFormat(l.dateTimeLabelFormats[!((Ae=l.grid)!=null&&Ae.enabled)&&P.higherRanks[f]||P.unitName])).main:_a(Q)&&($=r.dateTime.getXDateFormat(Q,l.dateTimeLabelFormats||{}))),w.isFirst=T,w.isLast=E;let ee={axis:r,chart:c,dateTimeLabelFormat:$,isFirst:T,isLast:E,pos:f,tick:w,tickPositionInfo:P,value:Q};Fl(this,"labelFormat",ee);let Ee=Le=>v.formatter?v.formatter.call(Le,Le):v.format?(Le.text=r.defaultLabelFormatter.call(Le),wi.format(v.format,Le,c)):r.defaultLabelFormatter.call(Le),fe=Ee.call(ee,ee),xe=q==null?void 0:q.list;xe?w.shortenLabel=function(){for(V=0;V<xe.length;V++)if(ef(ee,{dateTimeLabelFormat:xe[V]}),D.attr({text:Ee.call(ee,ee)}),D.getBBox().width<r.getSlotWidth(w)-2*(v.padding||0))return;D.attr({text:""})}:w.shortenLabel=void 0,A&&r._addedPlotLB&&w.moveLabel(fe,v),Nh(D)||w.movedLabel?D&&D.textStr!==fe&&!A&&(!D.textWidth||v.style.width||D.styles.width||D.css({width:null}),D.attr({text:fe}),D.textPxLength=D.getBBox().width):(w.label=D=w.createLabel(fe,v),w.rotation=0)}createLabel(w,r,l){let c=this.axis,{renderer:h,styledMode:d}=c.chart,p=r.style.whiteSpace,f=Nh(w)&&r.enabled?h.text(w,l==null?void 0:l.x,l==null?void 0:l.y,r.useHTML).add(c.labelGroup):void 0;return f&&(d||f.css(Ih(r.style)),f.textPxLength=f.getBBox().width,!d&&p&&f.css({whiteSpace:p})),f}destroy(){jy(this,this.axis)}getPosition(w,r,l,c){let h=this.axis,d=h.chart,p=c&&d.oldChartHeight||d.chartHeight,f={x:w?Ll(h.translate(r+l,void 0,void 0,c)+h.transB):h.left+h.offset+(h.opposite?(c&&d.oldChartWidth||d.chartWidth)-h.right-h.left:0),y:w?p-h.bottom+h.offset-(h.opposite?h.height:0):Ll(p-h.translate(r+l,void 0,void 0,c)-h.transB)};return f.y=Zp(f.y,-1e9,1e9),Fl(this,"afterGetPosition",{pos:f}),f}getLabelPosition(w,r,l,c,h,d,p,f){let v,b,T=this.axis,E=T.transA,A=T.isLinked&&T.linkedParent?T.linkedParent.reversed:T.reversed,P=T.staggerLines,D=T.tickRotCorr||{x:0,y:0},$=c||T.reserveSpaceDefault?0:-T.labelOffset*(T.labelAlign==="center"?.5:1),q=h.distance,V={};return v=T.side===0?l.rotation?-q:-l.getBBox().height:T.side===2?D.y+q:Math.cos(l.rotation*Ah)*(D.y-l.getBBox(!1,0).height/2),Nh(h.y)&&(v=T.side===0&&T.horiz?h.y+v:h.y),w=w+ds(h.x,[0,1,0,-1][T.side]*q)+$+D.x-(d&&c?d*E*(A?-1:1):0),r=r+v-(d&&!c?d*E*(A?1:-1):0),P&&(b=p/(f||1)%P,T.opposite&&(b=P-b-1),r+=b*(T.labelOffset/P)),V.x=w,V.y=Math.round(r),Fl(this,"afterGetLabelPosition",{pos:V,tickmarkOffset:d,index:p}),V}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(w,r,l,c,h=!1,d){return d.crispLine([["M",w,r],["L",w+(h?0:-l),r+(h?l:0)]],c)}handleOverflow(w){var q;let r=this.axis,l=r.options.labels,c=w.x,h=r.chart.chartWidth,d=r.chart.spacing,p=ds(r.labelLeft,Math.min(r.pos,d[3])),f=ds(r.labelRight,Math.max(r.isRadial?0:r.pos+r.len,h-d[1])),v=this.label,b=this.rotation,T=jh(r.labelAlign||v.attr("align")),E=v.getBBox().width,A=r.getSlotWidth(this),P=A,D=1,$;b||l.overflow!=="justify"?b<0&&c-T*E<p?$=Math.round(c/Math.cos(b*Ah)-p):b>0&&c+T*E>f&&($=Math.round((h-c)/Math.cos(b*Ah))):(c-T*E<p?P=w.x+P*(1-T)-p:c+(1-T)*E>f&&(P=f-w.x+P*T,D=-1),(P=Math.min(A,P))<A&&r.labelAlign==="center"&&(w.x+=D*(A-P-T*(A-Math.min(E,P)))),(E>P||r.autoRotation&&((q=v==null?void 0:v.styles)!=null&&q.width))&&($=P)),$&&v&&(this.shortenLabel?this.shortenLabel():v.css(ef({},{width:Math.floor($)+"px",lineClamp:+!r.isRadial})))}moveLabel(w,r){let l=this,c=l.label,h=l.axis,d=!1,p;c&&c.textStr===w?(l.movedLabel=c,d=!0,delete l.label):Ph(h.ticks,function(f){d||f.isNew||f===l||!f.label||f.label.textStr!==w||(l.movedLabel=f.label,d=!0,f.labelPos=l.movedLabel.xy,delete f.label)}),!d&&(l.labelPos||c)&&(p=l.labelPos||c.xy,l.movedLabel=l.createLabel(w,r,p),l.movedLabel&&l.movedLabel.attr({opacity:0}))}render(w,r,l){var D;let c=this.axis,h=c.horiz,d=this.pos,p=ds(this.tickmarkOffset,c.tickmarkOffset),f=this.getPosition(h,d,p,r),v=f.x,b=f.y,T=c.pos,E=T+c.len,A=h?v:b,P=ds(l,(D=this.label)==null?void 0:D.newOpacity,1);!c.chart.polar&&(Ll(A)<T||A>E)&&(l=0),l??(l=1),this.isActive=!0,this.renderGridLine(r,l),this.renderMark(f,l),this.renderLabel(f,r,P,w),this.isNew=!1,Fl(this,"afterRender")}renderGridLine(w,r){let l=this.axis,c=l.options,h={},d=this.pos,p=this.type,f=ds(this.tickmarkOffset,l.tickmarkOffset),v=l.chart.renderer,b=this.gridLine,T,E=c.gridLineWidth,A=c.gridLineColor,P=c.gridLineDashStyle;this.type==="minor"&&(E=c.minorGridLineWidth,A=c.minorGridLineColor,P=c.minorGridLineDashStyle),b||(l.chart.styledMode||(h.stroke=A,h["stroke-width"]=E||0,h.dashstyle=P),p||(h.zIndex=1),w&&(r=0),this.gridLine=b=v.path().attr(h).addClass("highcharts-"+(p?p+"-":"")+"grid-line").add(l.gridGroup)),b&&(T=l.getPlotLinePath({value:d+f,lineWidth:b.strokeWidth(),force:"pass",old:w,acrossPanes:!1}))&&b[w||this.isNew?"attr":"animate"]({d:T,opacity:r})}renderMark(w,r){let l=this.axis,c=l.options,h=l.chart.renderer,d=this.type,p=l.tickSize(d?d+"Tick":"tick"),f=w.x,v=w.y,b=ds(c[d!=="minor"?"tickWidth":"minorTickWidth"],!d&&l.isXAxis?1:0),T=c[d!=="minor"?"tickColor":"minorTickColor"],E=this.mark,A=!E;p&&(l.opposite&&(p[0]=-p[0]),!E&&(this.mark=E=h.path().addClass("highcharts-"+(d?d+"-":"")+"tick").add(l.axisGroup),l.chart.styledMode||E.attr({stroke:T,"stroke-width":b})),E[A?"attr":"animate"]({d:this.getMarkPath(f,v,p[0],E.strokeWidth(),l.horiz,h),opacity:r}))}renderLabel(w,r,l,c){let h=this.axis,d=h.horiz,p=h.options,f=this.label,v=p.labels,b=v.step,T=ds(this.tickmarkOffset,h.tickmarkOffset),E=w.x,A=w.y,P=!0;f&&_a(E)&&(f.xy=w=this.getLabelPosition(E,A,f,d,v,T,c,b),(!this.isFirst||this.isLast||p.showFirstLabel)&&(!this.isLast||this.isFirst||p.showLastLabel)?!d||v.step||v.rotation||r||l===0||this.handleOverflow(w):P=!1,b&&c%b&&(P=!1),P&&_a(w.y)?(w.opacity=l,f[this.isNewLabel?"attr":"animate"](w).show(!0),this.isNewLabel=!1):(f.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let w=this.label,r=this.axis;w&&!this.isNew&&(w.animate({opacity:0},void 0,w.destroy),delete this.label),r.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:tf}=St,{xAxis:nf,yAxis:rf}=Kp,{defaultOptions:Mh}=He,{registerEventOptions:Iy}=wa,{deg2rad:Py}=M,{arrayMax:sf,arrayMin:My,clamp:Rh,correctFloat:dr,defined:Un,destroyObjectProperties:of,erase:Dh,error:Oh,extend:ka,fireEvent:Xn,getClosestDistance:Bl,insertItem:af,isArray:Kc,isNumber:tn,isString:lf,merge:Mo,normalizeTickInterval:Yc,objectEach:Xc,pick:dn,relativeLength:Qc,removeEvent:Ry,splat:Dy,syncTimeout:Oy}=Pe,Lh=(w,r)=>Yc(r,void 0,void 0,dn(w.options.allowDecimals,r<.5||w.tickAmount!==void 0),!!w.tickAmount);ka(Mh,{xAxis:nf,yAxis:Mo(nf,rf)});class Ta{constructor(r,l,c){this.init(r,l,c)}init(r,l,c=this.coll){let h=c==="xAxis",d=this.isZAxis||(r.inverted?!h:h);this.chart=r,this.horiz=d,this.isXAxis=h,this.coll=c,Xn(this,"init",{userOptions:l}),this.opposite=dn(l.opposite,this.opposite),this.side=dn(l.side,this.side,d?2*!this.opposite:this.opposite?1:3),this.setOptions(l);let p=this.options,f=p.labels;this.type??(this.type=p.type||"linear"),this.uniqueNames??(this.uniqueNames=p.uniqueNames??!0),Xn(this,"afterSetType"),this.userOptions=l,this.minPixelPadding=0,this.reversed=dn(p.reversed,this.reversed),this.visible=p.visible,this.zoomEnabled=p.zoomEnabled,this.hasNames=this.type==="category"||p.categories===!0,this.categories=Kc(p.categories)&&p.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=Un(p.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=p.minRange||p.maxZoom,this.range=p.range,this.offset=p.offset||0,this.max=void 0,this.min=void 0;let v=dn(p.crosshair,Dy(r.options.tooltip.crosshairs)[+!h]);this.crosshair=v===!0?{}:v,r.axes.indexOf(this)===-1&&(h?r.axes.splice(r.xAxis.length,0,this):r.axes.push(this),af(this,r[this.coll])),r.orderItems(this.coll),this.series=this.series||[],r.inverted&&!this.isZAxis&&h&&!Un(this.reversed)&&(this.reversed=!0),this.labelRotation=tn(f.rotation)?f.rotation:void 0,Iy(this,p),Xn(this,"afterInit")}setOptions(r){let l=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=Mo(l,this.coll==="yAxis"?{title:{text:this.chart.options.lang.yAxisTitle}}:{},Mh[this.coll],r),Xn(this,"afterSetOptions",{userOptions:r})}defaultLabelFormatter(){let r=this.axis,{numberFormatter:l}=this.chart,c=tn(this.value)?this.value:NaN,h=r.chart.time,d=r.categories,p=this.dateTimeLabelFormat,f=Mh.lang,v=f.numericSymbols,b=f.numericSymbolMagnitude||1e3,T=r.logarithmic?Math.abs(c):r.tickInterval,E=v==null?void 0:v.length,A,P;if(d)P=`${this.value}`;else if(p)P=h.dateFormat(p,c,!0);else if(E&&v&&T>=1e3)for(;E--&&P===void 0;)T>=(A=Math.pow(b,E+1))&&10*c%A==0&&v[E]!==null&&c!==0&&(P=l(c/A,-1)+v[E]);return P===void 0&&(P=Math.abs(c)>=1e4?l(c,-1):l(c,-1,void 0,"")),P}getSeriesExtremes(){let r,l=this;Xn(this,"getSeriesExtremes",null,function(){l.hasVisibleSeries=!1,l.dataMin=l.dataMax=l.threshold=void 0,l.softThreshold=!l.isXAxis,l.series.forEach(c=>{if(c.reserveSpace()){let h=c.options,d,p=h.threshold,f,v;if(l.hasVisibleSeries=!0,l.positiveValuesOnly&&0>=(p||0)&&(p=void 0),l.isXAxis)(d=c.getColumn("x")).length&&(d=l.logarithmic?d.filter(b=>b>0):d,f=(r=c.getXExtremes(d)).min,v=r.max,tn(f)||f instanceof Date||(d=d.filter(tn),f=(r=c.getXExtremes(d)).min,v=r.max),d.length&&(l.dataMin=Math.min(dn(l.dataMin,f),f),l.dataMax=Math.max(dn(l.dataMax,v),v)));else{let b=c.applyExtremes();tn(b.dataMin)&&(f=b.dataMin,l.dataMin=Math.min(dn(l.dataMin,f),f)),tn(b.dataMax)&&(v=b.dataMax,l.dataMax=Math.max(dn(l.dataMax,v),v)),Un(p)&&(l.threshold=p),(!h.softThreshold||l.positiveValuesOnly)&&(l.softThreshold=!1)}}})}),Xn(this,"afterGetSeriesExtremes")}translate(r,l,c,h,d,p){var $;let f=this.linkedParent||this,v=h&&f.old?f.old.min:f.min;if(!tn(v))return NaN;let b=f.minPixelPadding,T=(f.isOrdinal||(($=f.brokenAxis)==null?void 0:$.hasBreaks)||f.logarithmic&&d)&&!!f.lin2val,E=1,A=0,P=h&&f.old?f.old.transA:f.transA,D=0;return P||(P=f.transA),c&&(E*=-1,A=f.len),f.reversed&&(E*=-1,A-=E*(f.sector||f.len)),l?(D=(r=r*E+A-b)/P+v,T&&(D=f.lin2val(D))):(T&&(r=f.val2lin(r)),D=E*(r-v)*P+A+E*b+(tn(p)?P*p:0),f.isRadial||(D=dr(D))),D}toPixels(r,l){var c;return this.translate(((c=this.chart)==null?void 0:c.time.parse(r))??NaN,!1,!this.horiz,void 0,!0)+(l?0:this.pos)}toValue(r,l){return this.translate(r-(l?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(r){let l=this,c=l.chart,h=l.left,d=l.top,p=r.old,f=r.value,v=r.lineWidth,b=p&&c.oldChartHeight||c.chartHeight,T=p&&c.oldChartWidth||c.chartWidth,E=l.transB,A=r.translatedValue,P=r.force,D,$,q,V,Q;function ee(fe,xe,Ve){return P!=="pass"&&(fe<xe||fe>Ve)&&(P?fe=Rh(fe,xe,Ve):Q=!0),fe}let Ee={value:f,lineWidth:v,old:p,force:P,acrossPanes:r.acrossPanes,translatedValue:A};return Xn(this,"getPlotLinePath",Ee,function(fe){D=q=(A=Rh(A=dn(A,l.translate(f,void 0,void 0,p)),-1e9,1e9))+E,$=V=b-A-E,tn(A)?l.horiz?($=d,V=b-l.bottom+(l.options.isInternal?0:c.scrollablePixelsY||0),D=q=ee(D,h,h+l.width)):(D=h,q=T-l.right+(c.scrollablePixelsX||0),$=V=ee($,d,d+l.height)):(Q=!0,P=!1),fe.path=Q&&!P?void 0:c.renderer.crispLine([["M",D,$],["L",q,V]],v||1)}),Ee.path}getLinearTickPositions(r,l,c){let h,d,p,f=dr(Math.floor(l/r)*r),v=dr(Math.ceil(c/r)*r),b=[];if(dr(f+r)===f&&(p=20),this.single)return[l];for(h=f;h<=v&&(b.push(h),(h=dr(h+r,p))!==d);)d=h;return b}getMinorTickInterval(){let{minorTicks:r,minorTickInterval:l}=this.options;return r===!0?dn(l,"auto"):r!==!1?l:void 0}getMinorTickPositions(){var T;let r=this.options,l=this.tickPositions,c=this.minorTickInterval,h=this.pointRangePadding||0,d=(this.min||0)-h,p=(this.max||0)+h,f=(T=this.brokenAxis)!=null&&T.hasBreaks?this.brokenAxis.unitLength:p-d,v=[],b;if(f&&f/c<this.len/3){let E=this.logarithmic;if(E)this.paddedTicks.forEach(function(A,P,D){P&&v.push.apply(v,E.getLogTickPositions(c,D[P-1],D[P],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")v=v.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(c),d,p,r.startOfWeek));else for(b=d+(l[0]-d)%c;b<=p&&b!==v[0];b+=c)v.push(b)}return v.length!==0&&this.trimTicks(v),v}adjustForMinRange(){let r=this.options,l=this.logarithmic,c=this.chart.time,{max:h,min:d,minRange:p}=this,f,v,b,T;this.isXAxis&&p===void 0&&!l&&(p=Un(r.min)||Un(r.max)||Un(r.floor)||Un(r.ceiling)?null:Math.min(5*(Bl(this.series.map(E=>{let A=E.getColumn("x");return E.xIncrement?A.slice(0,2):A}))||0),this.dataMax-this.dataMin)),tn(h)&&tn(d)&&tn(p)&&h-d<p&&(v=this.dataMax-this.dataMin>=p,f=(p-h+d)/2,b=[d-f,c.parse(r.min)??d-f],v&&(b[2]=l?l.log2lin(this.dataMin):this.dataMin),T=[(d=sf(b))+p,c.parse(r.max)??d+p],v&&(T[2]=l?l.log2lin(this.dataMax):this.dataMax),(h=My(T))-d<p&&(b[0]=h-p,b[1]=c.parse(r.min)??h-p,d=sf(b))),this.minRange=p,this.min=d,this.max=h}getClosest(){let r,l;if(this.categories)l=1;else{let c=[];this.series.forEach(function(h){let d=h.closestPointRange,p=h.getColumn("x");p.length===1?c.push(p[0]):h.sorted&&Un(d)&&h.reserveSpace()&&(l=Un(l)?Math.min(l,d):d)}),c.length&&(c.sort((h,d)=>h-d),r=Bl([c]))}return r&&l?Math.min(r,l):r||l}nameToX(r){let l=Kc(this.options.categories),c=l?this.categories:this.names,h=r.options.x,d;return r.series.requireSorting=!1,Un(h)||(h=this.uniqueNames&&c?l?c.indexOf(r.name):dn(c.keys[r.name],-1):r.series.autoIncrement()),h===-1?!l&&c&&(d=c.length):tn(h)&&(d=h),d!==void 0?(this.names[d]=r.name,this.names.keys[r.name]=d):r.x&&(d=r.x),d}updateNames(){let r=this,l=this.names;l.length>0&&(Object.keys(l.keys).forEach(function(c){delete l.keys[c]}),l.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(c=>{c.xIncrement=null,(!c.points||c.isDirtyData)&&(r.max=Math.max(r.max||0,c.dataTable.rowCount-1),c.processData(),c.generatePoints());let h=c.getColumn("x").slice();c.data.forEach((d,p)=>{let f=h[p];d!=null&&d.options&&d.name!==void 0&&(f=r.nameToX(d))!==void 0&&f!==d.x&&(h[p]=d.x=f)}),c.dataTable.setColumn("x",h)}))}setAxisTranslation(){var A;let r=this,l=r.max-r.min,c=r.linkedParent,h=!!r.categories,d=r.isXAxis,p=r.axisPointRange||0,f,v=0,b=0,T,E=r.transA;(d||h||p)&&(f=r.getClosest(),c?(v=c.minPointOffset,b=c.pointRangePadding):r.series.forEach(function(P){let D=h?1:d?dn(P.options.pointRange,f,0):r.axisPointRange||0,$=P.options.pointPlacement;if(p=Math.max(p,D),!r.single||h){let q=P.is("xrange")?!d:d;v=Math.max(v,q&&lf($)?0:D/2),b=Math.max(b,q&&$==="on"?0:D)}}),T=(A=r.ordinal)!=null&&A.slope&&f?r.ordinal.slope/f:1,r.minPointOffset=v*=T,r.pointRangePadding=b*=T,r.pointRange=Math.min(p,r.single&&h?1:l),d&&(r.closestPointRange=f)),r.translationSlope=r.transA=E=r.staticScale||r.len/(l+b||1),r.transB=r.horiz?r.left:r.bottom,r.minPixelPadding=E*v,Xn(this,"afterSetAxisTranslation")}minFromRange(){let{max:r,min:l}=this;return tn(r)&&tn(l)&&r-l||void 0}setTickInterval(r){var Ft,Wt,Rt,Yt;let{categories:l,chart:c,dataMax:h,dataMin:d,dateTime:p,isXAxis:f,logarithmic:v,options:b,softThreshold:T}=this,E=c.time,A=tn(this.threshold)?this.threshold:void 0,P=this.minRange||0,{ceiling:D,floor:$,linkedTo:q,softMax:V,softMin:Q}=b,ee=tn(q)&&((Ft=c[this.coll])==null?void 0:Ft[q]),Ee=b.tickPixelInterval,fe=b.maxPadding,xe=b.minPadding,Ve=0,Ae,Le=tn(b.tickInterval)&&b.tickInterval>=0?b.tickInterval:void 0,it,lt,kt,jt;if(p||l||ee||this.getTickAmount(),kt=dn(this.userMin,E.parse(b.min)),jt=dn(this.userMax,E.parse(b.max)),ee?(this.linkedParent=ee,Ae=ee.getExtremes(),this.min=dn(Ae.min,Ae.dataMin),this.max=dn(Ae.max,Ae.dataMax),this.type!==ee.type&&Oh(11,!0,c)):(T&&Un(A)&&tn(h)&&tn(d)&&(d>=A?(it=A,xe=0):h<=A&&(lt=A,fe=0)),this.min=dn(kt,it,d),this.max=dn(jt,lt,h)),tn(this.max)&&tn(this.min)&&(v&&(this.positiveValuesOnly&&!r&&0>=Math.min(this.min,dn(d,this.min))&&Oh(10,!0,c),this.min=dr(v.log2lin(this.min),16),this.max=dr(v.log2lin(this.max),16)),this.range&&tn(d)&&(this.userMin=this.min=kt=Math.max(d,this.minFromRange()||0),this.userMax=jt=this.max,this.range=void 0)),Xn(this,"foundExtremes"),this.adjustForMinRange(),tn(this.min)&&tn(this.max)){if(!tn(this.userMin)&&tn(Q)&&Q<this.min&&(this.min=kt=Q),!tn(this.userMax)&&tn(V)&&V>this.max&&(this.max=jt=V),l||this.axisPointRange||(Wt=this.stacking)!=null&&Wt.usePercentage||ee||(Ve=this.max-this.min)&&(!Un(kt)&&xe&&(this.min-=Ve*xe),!Un(jt)&&fe&&(this.max+=Ve*fe)),!tn(this.userMin)&&tn($)&&(this.min=Math.max(this.min,$)),!tn(this.userMax)&&tn(D)&&(this.max=Math.min(this.max,D)),T&&tn(d)&&tn(h)){let pn=A||0;!Un(kt)&&this.min<pn&&d>=pn?this.min=b.minRange?Math.min(pn,this.max-P):pn:!Un(jt)&&this.max>pn&&h<=pn&&(this.max=b.minRange?Math.max(pn,this.min+P):pn)}!c.polar&&this.min>this.max&&(Un(b.min)?this.max=this.min:Un(b.max)&&(this.min=this.max)),Ve=this.max-this.min}if(this.min!==this.max&&tn(this.min)&&tn(this.max)?ee&&!Le&&Ee===ee.options.tickPixelInterval?this.tickInterval=Le=ee.tickInterval:this.tickInterval=dn(Le,this.tickAmount?Ve/Math.max(this.tickAmount-1,1):void 0,l?1:Ve*Ee/Math.max(this.len,Ee)):this.tickInterval=1,f&&!r){let pn=this.min!==((Rt=this.old)==null?void 0:Rt.min)||this.max!==((Yt=this.old)==null?void 0:Yt.max);this.series.forEach(function(_n){var En;_n.forceCrop=(En=_n.forceCropping)==null?void 0:En.call(_n),_n.processData(pn)}),Xn(this,"postProcessData",{hasExtremesChanged:pn})}this.setAxisTranslation(),Xn(this,"initialAxisTranslation"),this.pointRange&&!Le&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let zt=dn(b.minTickInterval,p&&!this.series.some(pn=>!pn.sorted)?this.closestPointRange:0);!Le&&zt&&this.tickInterval<zt&&(this.tickInterval=zt),p||v||Le||(this.tickInterval=Lh(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var T,E;let r=this.options,l=r.tickPositions,c=r.tickPositioner,h=this.getMinorTickInterval(),d=!this.isPanning,p=d&&r.startOnTick,f=d&&r.endOnTick,v=[],b;if(this.tickmarkOffset=this.categories&&r.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&Un(this.min)&&!this.tickAmount&&(this.min%1==0||r.allowDecimals!==!1),l)v=l.slice();else if(tn(this.min)&&tn(this.max)){if(!((T=this.ordinal)!=null&&T.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))v=[this.min,this.max],Oh(19,!1,this.chart);else if(this.dateTime)v=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,r.units),this.min,this.max,r.startOfWeek,(E=this.ordinal)==null?void 0:E.positions,this.closestPointRange,!0);else if(this.logarithmic)v=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let A=this.tickInterval,P=A;for(;P<=2*A&&(v=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&v.length>this.tickAmount);)this.tickInterval=Lh(this,P*=1.1)}v.length>this.len&&(v=[v[0],v[v.length-1]])[0]===v[1]&&(v.length=1),c&&(this.tickPositions=v,(b=c.apply(this,[this.min,this.max]))&&(v=b))}this.tickPositions=v,this.minorTickInterval=h==="auto"&&this.tickInterval?this.tickInterval/r.minorTicksPerMajor:h,this.paddedTicks=v.slice(0),this.trimTicks(v,p,f),!this.isLinked&&tn(this.min)&&tn(this.max)&&(this.single&&v.length<2&&!this.categories&&!this.series.some(A=>A.is("heatmap")&&A.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),l||b||this.adjustTickAmount()),Xn(this,"afterSetTickPositions")}trimTicks(r,l,c){let h=r[0],d=r[r.length-1],p=!this.isOrdinal&&this.minPointOffset||0;if(Xn(this,"trimTicks"),!this.isLinked||!this.grid){if(l&&h!==-1/0)this.min=h;else for(;this.min-p>r[0];)r.shift();if(c)this.max=d;else for(;this.max+p<r[r.length-1];)r.pop();r.length===0&&Un(h)&&!this.options.tickPositions&&r.push((d+h)/2)}}alignToOthers(){let r,l=this,c=l.chart,h=[this],d=l.options,p=c.options.chart,f=this.coll==="yAxis"&&p.alignThresholds,v=[];if(l.thresholdAlignment=void 0,(p.alignTicks!==!1&&d.alignTicks||f)&&d.startOnTick!==!1&&d.endOnTick!==!1&&!l.logarithmic){let b=E=>{let{horiz:A,options:P}=E;return[A?P.left:P.top,P.width,P.height,P.pane].join(",")},T=b(this);c[this.coll].forEach(function(E){let{series:A}=E;A.length&&A.some(P=>P.visible)&&E!==l&&b(E)===T&&(r=!0,h.push(E))})}if(r&&f){h.forEach(T=>{let E=T.getThresholdAlignment(l);tn(E)&&v.push(E)});let b=v.length>1?v.reduce((T,E)=>T+=E,0)/v.length:void 0;h.forEach(T=>{T.thresholdAlignment=b})}return r}getThresholdAlignment(r){if((!tn(this.dataMin)||this!==r&&this.series.some(l=>l.isDirty||l.isDirtyData))&&this.getSeriesExtremes(),tn(this.threshold)){let l=Rh((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(l=1-l),l}}getTickAmount(){let r=this.options,l=r.tickPixelInterval,c=r.tickAmount;Un(r.tickInterval)||c||!(this.len<l)||this.isRadial||this.logarithmic||!r.startOnTick||!r.endOnTick||(c=2),!c&&this.alignToOthers()&&(c=Math.ceil(this.len/l)+1),c<4&&(this.finalTickAmt=c,c=5),this.tickAmount=c}adjustTickAmount(){let r=this,{finalTickAmt:l,max:c,min:h,options:d,tickPositions:p,tickAmount:f,thresholdAlignment:v}=r,b=p==null?void 0:p.length,T=dn(r.threshold,r.softThreshold?0:null),E,A,P=r.tickInterval,D,$=()=>p.push(dr(p[p.length-1]+P)),q=()=>p.unshift(dr(p[0]-P));if(tn(v)&&(D=v<.5?Math.ceil(v*(f-1)):Math.floor(v*(f-1)),d.reversed&&(D=f-1-D)),r.hasData()&&tn(h)&&tn(c)){let V=()=>{r.transA*=(b-1)/(f-1),r.min=d.startOnTick?p[0]:Math.min(h,p[0]),r.max=d.endOnTick?p[p.length-1]:Math.max(c,p[p.length-1])};if(tn(D)&&tn(r.threshold)){for(;p[D]!==T||p.length!==f||p[0]>h||p[p.length-1]<c;){for(p.length=0,p.push(r.threshold);p.length<f;)p[D]===void 0||p[D]>r.threshold?q():$();if(P>8*r.tickInterval)break;P*=2}V()}else if(b<f){for(;p.length<f;)p.length%2||h===T?$():q();V()}if(Un(l)){for(A=E=p.length;A--;)(l===3&&A%2==1||l<=2&&A>0&&A<E-1)&&p.splice(A,1);r.finalTickAmt=void 0}}}setScale(){var p,f,v,b,T;let{coll:r,stacking:l}=this,c=!1,h=!1;this.series.forEach(E=>{var A;c=c||E.isDirtyData||E.isDirty,h=h||((A=E.xAxis)==null?void 0:A.isDirty)||!1}),this.setAxisSize();let d=this.len!==((p=this.old)==null?void 0:p.len);d||c||h||this.isLinked||this.forceRedraw||this.userMin!==((f=this.old)==null?void 0:f.userMin)||this.userMax!==((v=this.old)==null?void 0:v.userMax)||this.alignToOthers()?(l&&r==="yAxis"&&l.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),l&&r==="xAxis"&&l.buildStacks(),this.isDirty||(this.isDirty=d||this.min!==((b=this.old)==null?void 0:b.min)||this.max!==((T=this.old)==null?void 0:T.max))):l&&l.cleanStacks(),c&&delete this.allExtremes,Xn(this,"afterSetScale")}setExtremes(r,l,c=!0,h,d){let p=this.chart;this.series.forEach(f=>{delete f.kdTree}),r=p.time.parse(r),l=p.time.parse(l),Xn(this,"setExtremes",d=ka(d,{min:r,max:l}),f=>{this.userMin=f.min,this.userMax=f.max,this.eventArgs=f,c&&p.redraw(h)})}setAxisSize(){let r=this.chart,l=this.options,c=l.offsets||[0,0,0,0],h=this.horiz,d=this.width=Math.round(Qc(dn(l.width,r.plotWidth-c[3]+c[1]),r.plotWidth)),p=this.height=Math.round(Qc(dn(l.height,r.plotHeight-c[0]+c[2]),r.plotHeight)),f=this.top=Math.round(Qc(dn(l.top,r.plotTop+c[0]),r.plotHeight,r.plotTop)),v=this.left=Math.round(Qc(dn(l.left,r.plotLeft+c[3]),r.plotWidth,r.plotLeft));this.bottom=r.chartHeight-p-f,this.right=r.chartWidth-d-v,this.len=Math.max(h?d:p,0),this.pos=h?v:f}getExtremes(){let r=this.logarithmic;return{min:r?dr(r.lin2log(this.min)):this.min,max:r?dr(r.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(r){let l=this.logarithmic,c=l?l.lin2log(this.min):this.min,h=l?l.lin2log(this.max):this.max;return r===null||r===-1/0?r=c:r===1/0?r=h:c>r?r=c:h<r&&(r=h),this.translate(r,0,1,0,1)}autoLabelAlign(r){let l=(dn(r,0)-90*this.side+720)%360,c={align:"center"};return Xn(this,"autoLabelAlign",c,function(h){l>15&&l<165?h.align="right":l>195&&l<345&&(h.align="left")}),c.align}tickSize(r){let l=this.options,c=dn(l[r==="tick"?"tickWidth":"minorTickWidth"],r==="tick"&&this.isXAxis&&!this.categories?1:0),h=l[r==="tick"?"tickLength":"minorTickLength"],d;c&&h&&(l[r+"Position"]==="inside"&&(h=-h),d=[h,c]);let p={tickSize:d};return Xn(this,"afterTickSize",p),p.tickSize}labelMetrics(){let r=this.chart.renderer,l=this.ticks,c=l[Object.keys(l)[0]]||{};return this.chart.renderer.fontMetrics(c.label||c.movedLabel||r.box)}unsquish(){let r=this.options.labels,l=r.padding||0,c=this.horiz,h=this.tickInterval,d=this.len/((+!!this.categories+this.max-this.min)/h),p=r.rotation,f=dr(.8*this.labelMetrics().h),v=Math.max(this.max-this.min,0),b=function(D){let $=(D+2*l)/(d||1);return($=$>1?Math.ceil($):1)*h>v&&D!==1/0&&d!==1/0&&v&&($=Math.ceil(v/h)),dr($*h)},T=h,E,A=Number.MAX_VALUE,P;if(c){if(!r.staggerLines&&(tn(p)?P=[p]:d<r.autoRotationLimit&&(P=r.autoRotation)),P){let D,$;for(let q of P)(q===p||q&&q>=-90&&q<=90)&&($=(D=b(Math.abs(f/Math.sin(Py*q))))+Math.abs(q/360))<A&&(A=$,E=q,T=D)}}else T=b(.75*f);return this.autoRotation=P,this.labelRotation=dn(E,tn(p)?p:0),r.step?h:T}getSlotWidth(r){let l=this.chart,c=this.horiz,h=this.options.labels,d=Math.max(this.tickPositions.length-!this.categories,1),p=l.margin[3];if(r&&tn(r.slotWidth))return r.slotWidth;if(c&&h.step<2&&!this.isRadial)return h.rotation?0:(this.staggerLines||1)*this.len/d;if(!c){let f=h.style.width;if(f!==void 0)return parseInt(String(f),10);if(!this.opposite&&p)return p-l.spacing[3]}return .33*l.chartWidth}renderUnsquish(){let r=this.chart,l=r.renderer,c=this.tickPositions,h=this.ticks,d=this.options.labels,p=d.style,f=this.horiz,v=this.getSlotWidth(),b=Math.max(1,Math.round(v-(f?2*(d.padding||0):d.distance||0))),T={},E=this.labelMetrics(),A=p.lineClamp,P,D=A??(Math.floor(this.len/(c.length*E.h))||1),$=0;lf(d.rotation)||(T.rotation=d.rotation||0),c.forEach(function(q){var ee;let V=h[q];V.movedLabel&&V.replaceMovedLabel();let Q=((ee=V.label)==null?void 0:ee.textPxLength)||0;Q>$&&($=Q)}),this.maxLabelLength=$,this.autoRotation?$>b&&$>E.h?T.rotation=this.labelRotation:this.labelRotation=0:v&&(P=b),T.rotation&&(P=$>.5*r.chartHeight?.33*r.chartHeight:$,A||(D=1)),this.labelAlign=d.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(T.align=this.labelAlign),c.forEach(function(q){let V=h[q],Q=V==null?void 0:V.label,ee=p.width,Ee={};Q&&(Q.attr(T),V.shortenLabel?V.shortenLabel():P&&!ee&&p.whiteSpace!=="nowrap"&&(P<(Q.textPxLength||0)||Q.element.tagName==="SPAN")?Q.css(ka(Ee,{width:`${P}px`,lineClamp:D})):!Q.styles.width||Ee.width||ee||Q.css({width:"auto"}),V.rotation=T.rotation)},this),this.tickRotCorr=l.rotCorr(E.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(r){return r.hasData()})||this.options.showEmpty&&Un(this.min)&&Un(this.max)}addTitle(r){let l,c=this.chart.renderer,h=this.horiz,d=this.opposite,p=this.options.title,f=this.chart.styledMode;this.axisTitle||((l=p.textAlign)||(l=(h?{low:"left",middle:"center",high:"right"}:{low:d?"right":"left",middle:"center",high:d?"left":"right"})[p.align]),this.axisTitle=c.text(p.text||"",0,0,p.useHTML).attr({zIndex:7,rotation:p.rotation||0,align:l}).addClass("highcharts-axis-title"),f||this.axisTitle.css(Mo(p.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),f||p.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[r?"show":"hide"](r)}generateTick(r){let l=this.ticks;l[r]?l[r].addLabel():l[r]=new Ea(this,r)}createGroups(){let{axisParent:r,chart:l,coll:c,options:h}=this,d=l.renderer,p=(f,v,b)=>d.g(f).attr({zIndex:b}).addClass(`highcharts-${c.toLowerCase()}${v} `+(this.isRadial?`highcharts-radial-axis${v} `:"")+(h.className||"")).add(r);this.axisGroup||(this.gridGroup=p("grid","-grid",h.gridZIndex),this.axisGroup=p("axis","",h.zIndex),this.labelGroup=p("axis-labels","-labels",h.labels.zIndex))}getOffset(){let r=this,{chart:l,horiz:c,options:h,side:d,ticks:p,tickPositions:f,coll:v}=r,b=l.inverted&&!r.isZAxis?[1,0,3,2][d]:d,T=r.hasData(),E=h.title,A=h.labels,P=tn(h.crossing),D=l.axisOffset,$=l.clipOffset,q=[-1,1,1,-1][d],V,Q=0,ee,Ee=0,fe=0,xe,Ve;if(r.showAxis=V=T||h.showEmpty,r.staggerLines=r.horiz&&A.staggerLines||void 0,r.createGroups(),T||r.isLinked?(f.forEach(function(Ae){r.generateTick(Ae)}),r.renderUnsquish(),r.reserveSpaceDefault=d===0||d===2||{1:"left",3:"right"}[d]===r.labelAlign,dn(A.reserveSpace,!P&&null,r.labelAlign==="center"||null,r.reserveSpaceDefault)&&f.forEach(function(Ae){fe=Math.max(p[Ae].getLabelSize(),fe)}),r.staggerLines&&(fe*=r.staggerLines),r.labelOffset=fe*(r.opposite?-1:1)):Xc(p,function(Ae,Le){Ae.destroy(),delete p[Le]}),E!=null&&E.text&&E.enabled!==!1&&(r.addTitle(V),V&&!P&&E.reserveSpace!==!1&&(r.titleOffset=Q=r.axisTitle.getBBox()[c?"height":"width"],Ee=Un(ee=E.offset)?0:dn(E.margin,c?5:10))),r.renderLine(),r.offset=q*dn(h.offset,D[d]?D[d]+(h.margin||0):0),r.tickRotCorr=r.tickRotCorr||{x:0,y:0},Ve=d===0?-r.labelMetrics().h:d===2?r.tickRotCorr.y:0,xe=Math.abs(fe)+Ee,fe&&(xe-=Ve,xe+=q*(c?dn(A.y,r.tickRotCorr.y+q*A.distance):dn(A.x,q*A.distance))),r.axisTitleMargin=dn(ee,xe),r.getMaxLabelDimensions&&(r.maxLabelDimensions=r.getMaxLabelDimensions(p,f)),v!=="colorAxis"&&$){let Ae=this.tickSize("tick");D[d]=Math.max(D[d],(r.axisTitleMargin||0)+Q+q*r.offset,xe,f!=null&&f.length&&Ae?Ae[0]+q*r.offset:0);let Le=!r.axisLine||h.offset?0:r.axisLine.strokeWidth()/2;$[b]=Math.max($[b],Le)}Xn(this,"afterGetOffset")}getLinePath(r){let l=this.chart,c=this.opposite,h=this.offset,d=this.horiz,p=this.left+(c?this.width:0)+h,f=l.chartHeight-this.bottom-(c?this.height:0)+h;return c&&(r*=-1),l.renderer.crispLine([["M",d?this.left:p,d?f:this.top],["L",d?l.chartWidth-this.right:p,d?f:l.chartHeight-this.bottom]],r)}renderLine(){!this.axisLine&&(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(r){let l=this.horiz,c=this.left,h=this.top,d=this.len,p=this.options.title,f=l?c:h,v=this.opposite,b=this.offset,T=p.x,E=p.y,A=this.chart.renderer.fontMetrics(r),P=r?Math.max(r.getBBox(!1,0).height-A.h-1,0):0,D={low:f+(l?0:d),middle:f+d/2,high:f+(l?d:0)}[p.align],$=(l?h+this.height:c)+(l?1:-1)*(v?-1:1)*(this.axisTitleMargin||0)+[-P,P,A.f,-P][this.side],q={x:l?D+T:$+(v?this.width:0)+b+T,y:l?$+E-(v?this.height:0)+b:D+E};return Xn(this,"afterGetTitlePosition",{titlePosition:q}),q}renderMinorTick(r,l){let c=this.minorTicks;c[r]||(c[r]=new Ea(this,r,"minor")),l&&c[r].isNew&&c[r].render(null,!0),c[r].render(null,!1,1)}renderTick(r,l,c){var p;let h=this.isLinked,d=this.ticks;(!h||r>=this.min&&r<=this.max||(p=this.grid)!=null&&p.isColumn)&&(d[r]||(d[r]=new Ea(this,r)),c&&d[r].isNew&&d[r].render(l,!0,-1),d[r].render(l))}render(){let r,l,c=this,h=c.chart,d=c.logarithmic,p=h.renderer,f=c.options,v=c.isLinked,b=c.tickPositions,T=c.axisTitle,E=c.ticks,A=c.minorTicks,P=c.alternateBands,D=f.stackLabels,$=f.alternateGridColor,q=f.crossing,V=c.tickmarkOffset,Q=c.axisLine,ee=c.showAxis,Ee=tf(p.globalAnimation);if(c.labelEdge.length=0,c.overlap=!1,[E,A,P].forEach(function(fe){Xc(fe,function(xe){xe.isActive=!1})}),tn(q)){let fe=this.isXAxis?h.yAxis[0]:h.xAxis[0],xe=[1,-1,-1,1][this.side];if(fe){let Ve=fe.toPixels(q,!0);c.horiz&&(Ve=fe.len-Ve),c.offset=xe*Ve}}if(c.hasData()||v){let fe=c.chart.hasRendered&&c.old&&tn(c.old.min);c.minorTickInterval&&!c.categories&&c.getMinorTickPositions().forEach(function(xe){c.renderMinorTick(xe,fe)}),b.length&&(b.forEach(function(xe,Ve){c.renderTick(xe,Ve,fe)}),V&&(c.min===0||c.single)&&(E[-1]||(E[-1]=new Ea(c,-1,null,!0)),E[-1].render(-1))),$&&b.forEach(function(xe,Ve){l=b[Ve+1]!==void 0?b[Ve+1]+V:c.max-V,Ve%2==0&&xe<c.max&&l<=c.max+(h.polar?-V:V)&&(P[xe]||(P[xe]=new M.PlotLineOrBand(c,{})),r=xe+V,P[xe].options={from:d?d.lin2log(r):r,to:d?d.lin2log(l):l,color:$,className:"highcharts-alternate-grid"},P[xe].render(),P[xe].isActive=!0)}),c._addedPlotLB||(c._addedPlotLB=!0,(f.plotLines||[]).concat(f.plotBands||[]).forEach(function(xe){c.addPlotBandOrLine(xe)}))}[E,A,P].forEach(function(fe){let xe=[],Ve=Ee.duration;Xc(fe,function(Ae,Le){Ae.isActive||(Ae.render(Le,!1,0),Ae.isActive=!1,xe.push(Le))}),Oy(function(){let Ae=xe.length;for(;Ae--;)fe[xe[Ae]]&&!fe[xe[Ae]].isActive&&(fe[xe[Ae]].destroy(),delete fe[xe[Ae]])},fe!==P&&h.hasRendered&&Ve?Ve:0)}),Q&&(Q[Q.isPlaced?"animate":"attr"]({d:this.getLinePath(Q.strokeWidth())}),Q.isPlaced=!0,Q[ee?"show":"hide"](ee)),T&&ee&&(T[T.isNew?"attr":"animate"](c.getTitlePosition(T)),T.isNew=!1),D!=null&&D.enabled&&c.stacking&&c.stacking.renderStackTotals(),c.old={len:c.len,max:c.max,min:c.min,transA:c.transA,userMax:c.userMax,userMin:c.userMin},c.isDirty=!1,Xn(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(r){r.render()})),this.series.forEach(function(r){r.isDirty=!0})}getKeepProps(){return this.keepProps||Ta.keepProps}destroy(r){let l=this,c=l.plotLinesAndBands,h=this.eventOptions;if(Xn(this,"destroy",{keepEvents:r}),r||Ry(l),[l.ticks,l.minorTicks,l.alternateBands].forEach(function(d){of(d)}),c){let d=c.length;for(;d--;)c[d].destroy()}for(let d in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(p){l[p]&&(l[p]=l[p].destroy())}),l.plotLinesAndBandsGroups)l.plotLinesAndBandsGroups[d]=l.plotLinesAndBandsGroups[d].destroy();Xc(l,function(d,p){l.getKeepProps().indexOf(p)===-1&&delete l[p]}),this.eventOptions=h}drawCrosshair(r,l){var E;let c=this.crosshair,h=(c==null?void 0:c.snap)??!0,d=this.chart,p,f,v,b=this.cross,T;if(Xn(this,"drawCrosshair",{e:r,point:l}),r||(r=(E=this.cross)==null?void 0:E.e),c&&(Un(l)||!h)!==!1){if(h?Un(l)&&(f=dn(this.coll!=="colorAxis"?l.crosshairPos:null,this.isXAxis?l.plotX:this.len-l.plotY)):f=r&&(this.horiz?r.chartX-this.pos:this.len-r.chartY+this.pos),Un(f)&&(T={value:l&&(this.isXAxis?l.x:dn(l.stackY,l.y)),translatedValue:f},d.polar&&ka(T,{isCrosshair:!0,chartX:r==null?void 0:r.chartX,chartY:r==null?void 0:r.chartY,point:l}),p=this.getPlotLinePath(T)||null),!Un(p))return void this.hideCrosshair();v=this.categories&&!this.isRadial,b||(this.cross=b=d.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(v?"category ":"thin ")+(c.className||"")).attr({zIndex:dn(c.zIndex,2)}).add(),!d.styledMode&&(b.attr({stroke:c.color||(v?Lt.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":dn(c.width,1)}).css({"pointer-events":"none"}),c.dashStyle&&b.attr({dashstyle:c.dashStyle}))),b.show().attr({d:p}),v&&!c.width&&b.attr({"stroke-width":this.transA}),this.cross.e=r}else this.hideCrosshair();Xn(this,"afterDrawCrosshair",{e:r,point:l})}hideCrosshair(){this.cross&&this.cross.hide(),Xn(this,"afterHideCrosshair")}update(r,l){let c=this.chart;r=Mo(this.userOptions,r),this.destroy(!0),this.init(c,r),c.isDirtyBox=!0,dn(l,!0)&&c.redraw()}remove(r){let l=this.chart,c=this.coll,h=this.series,d=h.length;for(;d--;)h[d]&&h[d].remove(!1);Dh(l.axes,this),Dh(l[c]||[],this),l.orderItems(c),this.destroy(),l.isDirtyBox=!0,dn(r,!0)&&l.redraw()}setTitle(r,l){this.update({title:r},l)}setCategories(r,l){this.update({categories:r},l)}}Ta.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:Ps,getMagnitude:Ly,normalizeTickInterval:Fy,timeUnits:Jc}=Pe;(function(w){function r(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function l(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new c(this))}w.compose=function(h){return h.keepProps.includes("dateTime")||(h.keepProps.push("dateTime"),h.prototype.getTimeTicks=r,Ps(h,"afterSetType",l)),h};class c{constructor(d){this.axis=d}normalizeTimeTickInterval(d,p){let f=p||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],v=f[f.length-1],b=Jc[v[0]],T=v[1],E;for(E=0;E<f.length&&(b=Jc[(v=f[E])[0]],T=v[1],!f[E+1]||!(d<=(b*T[T.length-1]+Jc[f[E+1][0]])/2));E++);b===Jc.year&&d<5*b&&(T=[1,2,5]);let A=Fy(d/b,T,v[0]==="year"?Math.max(Ly(d/b),1):1);return{unitRange:b,count:A,unitName:v[0]}}getXDateFormat(d,p){let{axis:f}=this,v=f.chart.time;return f.closestPointRange?v.getDateFormat(f.closestPointRange,d,f.options.startOfWeek,p)||v.resolveDTLFormat(p.year).main:v.resolveDTLFormat(p.day).main}}w.Additions=c})(_||(_={}));let By=_,{addEvent:Fh,normalizeTickInterval:Vl,pick:Ul}=Pe;(function(w){function r(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new c(this))}function l(){let h=this.logarithmic;h&&(this.lin2val=function(d){return h.lin2log(d)},this.val2lin=function(d){return h.log2lin(d)})}w.compose=function(h){return h.keepProps.includes("logarithmic")||(h.keepProps.push("logarithmic"),Fh(h,"afterSetType",r),Fh(h,"afterInit",l)),h};class c{constructor(d){this.axis=d}getLogTickPositions(d,p,f,v){let b=this.axis,T=b.len,E=b.options,A=[];if(v||(this.minorAutoInterval=void 0),d>=.5)d=Math.round(d),A=b.getLinearTickPositions(d,p,f);else if(d>=.08){let P,D,$,q,V,Q,ee,Ee=Math.floor(p);for(P=d>.3?[1,2,4]:d>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],D=Ee;D<f+1&&!ee;D++)for($=0,q=P.length;$<q&&!ee;$++)(V=this.log2lin(this.lin2log(D)*P[$]))>p&&(!v||Q<=f)&&Q!==void 0&&A.push(Q),Q>f&&(ee=!0),Q=V}else{let P=this.lin2log(p),D=this.lin2log(f),$=v?b.getMinorTickInterval():E.tickInterval,q=E.tickPixelInterval/(v?5:1),V=v?T/b.tickPositions.length:T;d=Vl(d=Ul($==="auto"?null:$,this.minorAutoInterval,(D-P)*q/(V||1))),A=b.getLinearTickPositions(d,P,D).map(this.log2lin),v||(this.minorAutoInterval=d/5)}return v||(b.tickInterval=d),A}lin2log(d){return Math.pow(10,d)}log2lin(d){return Math.log(d)/Math.LN10}}w.Additions=c})(j||(j={}));let Zc=j,{erase:cf,extend:Bh,isNumber:eu}=Pe;(function(w){let r;function l(b){return this.addPlotBandOrLine(b,"plotBands")}function c(b,T){let E=this.userOptions,A=new r(this,b);if(this.visible&&(A=A.render()),A){if(this._addedPlotLB||(this._addedPlotLB=!0,(E.plotLines||[]).concat(E.plotBands||[]).forEach(P=>{this.addPlotBandOrLine(P)})),T){let P=E[T]||[];P.push(b),E[T]=P}this.plotLinesAndBands.push(A)}return A}function h(b){return this.addPlotBandOrLine(b,"plotLines")}function d(b,T,E){E=E||this.options;let A=this.getPlotLinePath({value:T,force:!0,acrossPanes:E.acrossPanes}),P=[],D=this.horiz,$=!eu(this.min)||!eu(this.max)||b<this.min&&T<this.min||b>this.max&&T>this.max,q=this.getPlotLinePath({value:b,force:!0,acrossPanes:E.acrossPanes}),V,Q=1,ee;if(q&&A)for($&&(ee=q.toString()===A.toString(),Q=0),V=0;V<q.length;V+=2){let Ee=q[V],fe=q[V+1],xe=A[V],Ve=A[V+1];(Ee[0]==="M"||Ee[0]==="L")&&(fe[0]==="M"||fe[0]==="L")&&(xe[0]==="M"||xe[0]==="L")&&(Ve[0]==="M"||Ve[0]==="L")&&(D&&xe[1]===Ee[1]?(xe[1]+=Q,Ve[1]+=Q):D||xe[2]!==Ee[2]||(xe[2]+=Q,Ve[2]+=Q),P.push(["M",Ee[1],Ee[2]],["L",fe[1],fe[2]],["L",Ve[1],Ve[2]],["L",xe[1],xe[2]],["Z"])),P.isFlat=ee}return P}function p(b){this.removePlotBandOrLine(b)}function f(b){let T=this.plotLinesAndBands,E=this.options,A=this.userOptions;if(T){let P=T.length;for(;P--;)T[P].id===b&&T[P].destroy();[E.plotLines||[],A.plotLines||[],E.plotBands||[],A.plotBands||[]].forEach(function(D){var $;for(P=D.length;P--;)(($=D[P])==null?void 0:$.id)===b&&cf(D,D[P])})}}function v(b){this.removePlotBandOrLine(b)}w.compose=function(b,T){let E=T.prototype;return E.addPlotBand||(r=b,Bh(E,{addPlotBand:l,addPlotLine:h,addPlotBandOrLine:c,getPlotBandPath:d,removePlotBand:p,removePlotLine:v,removePlotBandOrLine:f})),T}})(I||(I={}));let uf=I,{addEvent:Vy,arrayMax:hf,arrayMin:Vh,defined:ps,destroyObjectProperties:Uh,erase:Uy,fireEvent:zy,merge:df,objectEach:zh,pick:qy}=Pe;class Ro{static compose(r,l){return Vy(r,"afterInit",function(){this.labelCollectors.push(()=>{var h;let c=[];for(let d of this.axes)for(let{label:p,options:f}of d.plotLinesAndBands)p&&!((h=f==null?void 0:f.label)!=null&&h.allowOverlap)&&c.push(p);return c})}),uf.compose(Ro,l)}constructor(r,l){this.axis=r,this.options=l,this.id=l.id}render(){zy(this,"render");let{axis:r,options:l}=this,{horiz:c,logarithmic:h}=r,{color:d,events:p,zIndex:f=0}=l,{renderer:v,time:b}=r.chart,T={},E=b.parse(l.to),A=b.parse(l.from),P=b.parse(l.value),D=l.borderWidth,$=l.label,{label:q,svgElem:V}=this,Q=[],ee,Ee=ps(A)&&ps(E),fe=ps(P),xe=!V,Ve={class:"highcharts-plot-"+(Ee?"band ":"line ")+(l.className||"")},Ae=Ee?"bands":"lines";if(!r.chart.styledMode&&(fe?(Ve.stroke=d||"#999999",Ve["stroke-width"]=qy(l.width,1),l.dashStyle&&(Ve.dashstyle=l.dashStyle)):Ee&&(Ve.fill=d||"#e6e9ff",D&&(Ve.stroke=l.borderColor,Ve["stroke-width"]=D))),T.zIndex=f,Ae+="-"+f,(ee=r.plotLinesAndBandsGroups[Ae])||(r.plotLinesAndBandsGroups[Ae]=ee=v.g("plot-"+Ae).attr(T).add()),V||(this.svgElem=V=v.path().attr(Ve).add(ee)),ps(P))Q=r.getPlotLinePath({value:(h==null?void 0:h.log2lin(P))??P,lineWidth:V.strokeWidth(),acrossPanes:l.acrossPanes});else{if(!(ps(A)&&ps(E)))return;Q=r.getPlotBandPath((h==null?void 0:h.log2lin(A))??A,(h==null?void 0:h.log2lin(E))??E,l)}return!this.eventsAdded&&p&&(zh(p,(Le,it)=>{V==null||V.on(it,lt=>{p[it].apply(this,[lt])})}),this.eventsAdded=!0),(xe||!V.d)&&(Q!=null&&Q.length)?V.attr({d:Q}):V&&(Q?(V.show(),V.animate({d:Q})):V.d&&(V.hide(),q&&(this.label=q=q.destroy()))),$&&(ps($.text)||ps($.formatter))&&(Q!=null&&Q.length)&&r.width>0&&r.height>0&&!Q.isFlat?($=df({align:c&&Ee?"center":void 0,x:c?!Ee&&4:10,verticalAlign:!c&&Ee?"middle":void 0,y:c?Ee?16:10:Ee?6:-4,rotation:c&&!Ee?90:0,...Ee?{inside:!0}:{}},$),this.renderLabel($,Q,Ee,f)):q&&q.hide(),this}renderLabel(r,l,c,h){var D,$,q;let d=this.axis,p=d.chart.renderer,f=r.inside,v=this.label;v||(this.label=v=p.text(this.getLabelText(r),0,0,r.useHTML).attr({align:r.textAlign||r.align,rotation:r.rotation,class:"highcharts-plot-"+(c?"band":"line")+"-label "+(r.className||""),zIndex:h}),d.chart.styledMode||v.css(df({color:($=(D=d.chart.options.title)==null?void 0:D.style)==null?void 0:$.color,fontSize:"0.8em",textOverflow:c&&!f?"":"ellipsis"},r.style)),v.add());let b=l.xBounds||[l[0][1],l[1][1],c?l[2][1]:l[0][1]],T=l.yBounds||[l[0][2],l[1][2],c?l[2][2]:l[0][2]],E=Vh(b),A=Vh(T),P=hf(b)-E;v.align(r,!1,{x:E,y:A,width:P,height:hf(T)-A}),v.alignAttr.y-=p.fontMetrics(v).b,(!v.alignValue||v.alignValue==="left"||ps(f))&&v.css({width:(((q=r.style)==null?void 0:q.width)||(c&&f?P:v.rotation===90?d.height-(v.alignAttr.y-d.top):(r.clip?d.width:d.chart.chartWidth)-(v.alignAttr.x-d.left)))+"px"}),v.show(!0)}getLabelText(r){return ps(r.formatter)?r.formatter.call(this):r.text}destroy(){Uy(this.axis.plotLinesAndBands,this),delete this.axis,Uh(this)}}let{animObject:pf}=St,{format:ff}=wi,{composed:tu,dateFormats:$y,doc:qh,isSafari:$h}=M,{distribute:Hy}=da,{addEvent:Wy,clamp:so,css:oo,discardElement:Gy,extend:Hh,fireEvent:nu,getAlignFactor:mf,isArray:Wh,isNumber:gf,isObject:Pr,isString:Gh,merge:C,pick:y,pushUnique:k,splat:S,syncTimeout:R}=Pe;class W{constructor(r,l,c){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=r,this.init(r,l),this.pointer=c}bodyFormatter(r){return r.map(l=>{let c=l.series.tooltipOptions,h=l.formatPrefix||"point";return(c[h+"Formatter"]||l.tooltipFormatter).call(l,c[h+"Format"]||"")})}cleanSplit(r){this.chart.series.forEach(function(l){let c=l==null?void 0:l.tt;c&&(!c.isActive||r?l.tt=c.destroy():c.isActive=!1)})}defaultFormatter(r){let l,c=this.points||S(this);return(l=(l=[r.headerFooterFormatter(c[0])]).concat(r.bodyFormatter(c))).push(r.headerFooterFormatter(c[0],!0)),l}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),Gy(this.container)),Pe.clearTimeout(this.hideTimer)}getAnchor(r,l){var T;let c,{chart:h,pointer:d}=this,p=h.inverted,f=h.plotTop,v=h.plotLeft;if(r=S(r),(T=r[0].series)!=null&&T.yAxis&&!r[0].series.yAxis.options.reversedStacks&&(r=r.slice().reverse()),this.followPointer&&l)l.chartX===void 0&&(l=d.normalize(l)),c=[l.chartX-v,l.chartY-f];else if(r[0].tooltipPos)c=r[0].tooltipPos;else{let E=0,A=0;r.forEach(function(P){let D=P.pos(!0);D&&(E+=D[0],A+=D[1])}),E/=r.length,A/=r.length,this.shared&&r.length>1&&l&&(p?E=l.chartX:A=l.chartY),c=[E-v,A-f]}let b={point:r[0],ret:c};return nu(this,"getAnchor",b),b.ret.map(Math.round)}getClassName(r,l,c){let h=this.options,d=r.series,p=d.options;return[h.className,"highcharts-label",c&&"highcharts-tooltip-header",l?"highcharts-tooltip-box":"highcharts-tooltip",!c&&"highcharts-color-"+y(r.colorIndex,d.colorIndex),p==null?void 0:p.className].filter(Gh).join(" ")}getLabel({anchorX:r,anchorY:l}={anchorX:0,anchorY:0}){let c=this,h=this.chart.styledMode,d=this.options,p=this.split&&this.allowShared,f=this.container,v=this.chart.renderer;if(this.label){let b=!this.label.hasClass("highcharts-label");(!p&&b||p&&!b)&&this.destroy()}if(!this.label){if(this.outside){let b=this.chart,T=b.options.chart.style,E=qr.getRendererType();this.container=f=M.doc.createElement("div"),f.className="highcharts-tooltip-container "+(b.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),oo(f,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,((T==null?void 0:T.zIndex)||0)+3)}),this.renderer=v=new E(f,0,0,T,void 0,void 0,v.styledMode)}if(p?this.label=v.g("tooltip"):(this.label=v.label("",r,l,d.shape||"callout",void 0,void 0,d.useHTML,void 0,"tooltip").attr({padding:d.padding,r:d.borderRadius}),h||this.label.attr({fill:d.backgroundColor,"stroke-width":d.borderWidth||0}).css(d.style).css({pointerEvents:d.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),c.outside){let b=this.label;[b.xSetter,b.ySetter].forEach((T,E)=>{b[E?"ySetter":"xSetter"]=A=>{T.call(b,c.distance),b[E?"y":"x"]=A,f&&(f.style[E?"top":"left"]=`${A}px`)}})}this.label.attr({zIndex:8}).shadow(d.shadow??!d.fixed).add()}return f&&!f.parentElement&&M.doc.body.appendChild(f),this.label}getPlayingField(){let{body:r,documentElement:l}=qh,{chart:c,distance:h,outside:d}=this;return{width:d?Math.max(r.scrollWidth,l.scrollWidth,r.offsetWidth,l.offsetWidth,l.clientWidth)-2*h-2:c.chartWidth,height:d?Math.max(r.scrollHeight,l.scrollHeight,r.offsetHeight,l.offsetHeight,l.clientHeight):c.chartHeight}}getPosition(r,l,c){var Ft,Wt;let{distance:h,chart:d,outside:p,pointer:f}=this,{inverted:v,plotLeft:b,plotTop:T,polar:E}=d,{plotX:A=0,plotY:P=0}=c,D={},$=v&&c.h||0,{height:q,width:V}=this.getPlayingField(),Q=f.getChartPosition(),ee=Rt=>Rt*Q.scaleX,Ee=Rt=>Rt*Q.scaleY,fe=Rt=>{let Yt=Rt==="x";return[Rt,Yt?V:q,Yt?r:l].concat(p?[Yt?ee(r):Ee(l),Yt?Q.left-h+ee(A+b):Q.top-h+Ee(P+T),0,Yt?V:q]:[Yt?r:l,Yt?A+b:P+T,Yt?b:T,Yt?b+d.plotWidth:T+d.plotHeight])},xe=fe("y"),Ve=fe("x"),Ae,Le=!!c.negative;!E&&((Wt=(Ft=d.hoverSeries)==null?void 0:Ft.yAxis)!=null&&Wt.reversed)&&(Le=!Le);let it=!this.followPointer&&y(c.ttBelow,!E&&!v===Le),lt=function(Rt,Yt,pn,_n,En,Qi,bn){let On=p?Rt==="y"?Ee(h):ee(h):h,ln=(pn-_n)/2,sn=_n<En-h,xi=En+h+_n<Yt,Ln=En-On-pn+ln,Gn=En+On-ln;if(it&&xi)D[Rt]=Gn;else if(!it&&sn)D[Rt]=Ln;else if(sn)D[Rt]=Math.min(bn-_n,Ln-$<0?Ln:Ln-$);else{if(!xi)return D[Rt]=0,!1;D[Rt]=Math.max(Qi,Gn+$+pn>Yt?Gn:Gn+$)}},kt=function(Rt,Yt,pn,_n,En){if(En<h||En>Yt-h)return!1;En<pn/2?D[Rt]=1:En>Yt-_n/2?D[Rt]=Yt-_n-2:D[Rt]=En-pn/2},jt=function(Rt){[xe,Ve]=[Ve,xe],Ae=Rt},zt=()=>{lt.apply(0,xe)!==!1?kt.apply(0,Ve)!==!1||Ae||(jt(!0),zt()):Ae?D.x=D.y=0:(jt(!0),zt())};return(v&&!E||this.len>1)&&jt(),zt(),D}getFixedPosition(r,l,c){var A;let h=c.series,{chart:d,options:p,split:f}=this,v=p.position,b=v.relativeTo,T=p.shared||(A=h==null?void 0:h.yAxis)!=null&&A.isRadial&&(b==="pane"||!b)?"plotBox":b,E=T==="chart"?d.renderer:d[T]||d.getClipBox(h,!0);return{x:E.x+(E.width-r)*mf(v.align)+v.x,y:E.y+(E.height-l)*mf(v.verticalAlign)+(!f&&v.y||0)}}hide(r){let l=this;Pe.clearTimeout(this.hideTimer),r=y(r,this.options.hideDelay),this.isHidden||(this.hideTimer=R(function(){let c=l.getLabel();l.getLabel().animate({opacity:0},{duration:r&&150,complete:()=>{c.hide(),l.container&&l.container.remove()}}),l.isHidden=!0},r))}init(r,l){this.chart=r,this.options=l,this.crosshairs=[],this.isHidden=!0,this.split=l.split&&!r.inverted&&!r.polar,this.shared=l.shared||this.split,this.outside=y(l.outside,!!(r.scrollablePixelsX||r.scrollablePixelsY))}shouldStickOnContact(r){return!!(!this.followPointer&&this.options.stickOnContact&&(!r||this.pointer.inClass(r.target,"highcharts-tooltip")))}move(r,l,c,h){let{followPointer:d,options:p}=this,f=pf(!d&&!this.isHidden&&!p.fixed&&p.animation),v=d||(this.len||0)>1,b={x:r,y:l};v?b.anchorX=b.anchorY=NaN:(b.anchorX=c,b.anchorY=h),f.step=()=>this.drawTracker(),this.getLabel().animate(b,f)}refresh(r,l){let{chart:c,options:h,pointer:d,shared:p}=this,f=S(r),v=f[0],b=h.format,T=h.formatter||this.defaultFormatter,E=c.styledMode,A=this.allowShared;if(!h.enabled||!v.series)return;Pe.clearTimeout(this.hideTimer),this.allowShared=!(!Wh(r)&&r.series&&r.series.noSharedTooltip),A=A&&!this.allowShared,this.followPointer=!this.split&&v.series.tooltipOptions.followPointer;let P=this.getAnchor(r,l),D=P[0],$=P[1];p&&this.allowShared&&(d.applyInactiveState(f),f.forEach(Q=>Q.setState("hover")),v.points=f),this.len=f.length;let q=Gh(b)?ff(b,v,c):T.call(v,this);v.points=void 0;let V=v.series;if(this.distance=y(V.tooltipOptions.distance,16),q===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(q,f);else{let Q=D,ee=$;if(l&&d.isDirectTouch&&(Q=l.chartX-c.plotLeft,ee=l.chartY-c.plotTop),!(c.polar||V.options.clip===!1||f.some(Ee=>d.isDirectTouch||Ee.series.shouldShowTooltip(Q,ee))))return void this.hide();{let Ee=this.getLabel(A&&this.tt||{});(!h.style.width||E)&&Ee.css({width:(this.outside?this.getPlayingField():c.spacingBox).width+"px"}),Ee.attr({class:this.getClassName(v),text:q&&q.join?q.join(""):q}),this.outside&&Ee.attr({x:so(Ee.x||0,0,this.getPlayingField().width-(Ee.width||0)-1)}),E||Ee.attr({stroke:h.borderColor||v.color||V.color||"#666666"}),this.updatePosition({plotX:D,plotY:$,negative:v.negative,ttBelow:v.ttBelow,series:V,h:P[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}nu(this,"refresh")}renderSplit(r,l){var En,Qi;let c=this,{chart:h,chart:{chartWidth:d,chartHeight:p,plotHeight:f,plotLeft:v,plotTop:b,scrollablePixelsY:T=0,scrollablePixelsX:E,styledMode:A},distance:P,options:D,options:{fixed:$,position:q,positioner:V},pointer:Q}=c,{scrollLeft:ee=0,scrollTop:Ee=0}=((En=h.scrollablePlotArea)==null?void 0:En.scrollingContainer)||{},fe=c.outside&&typeof E!="number"?qh.documentElement.getBoundingClientRect():{left:ee,right:ee+d},xe=c.getLabel(),Ve=this.renderer||h.renderer,Ae=!!((Qi=h.xAxis[0])!=null&&Qi.opposite),{left:Le,top:it}=Q.getChartPosition(),lt=V||$,kt=b+Ee,jt=0,zt=f-T,Ft=function(bn,On,ln,sn=[0,0],xi=!0){let Ln,Gn;if(ln.isHeader)Gn=Ae?0:zt,Ln=so(sn[0]-bn/2,fe.left,fe.right-bn-(c.outside?Le:0));else if($&&ln){let Bi=c.getFixedPosition(bn,On,ln);Ln=Bi.x,Gn=Bi.y-kt}else Gn=sn[1]-kt,Ln=so(Ln=xi?sn[0]-bn-P:sn[0]+P,xi?Ln:fe.left,fe.right);return{x:Ln,y:Gn}};Gh(r)&&(r=[!1,r]);let Wt=r.slice(0,l.length+1).reduce(function(bn,On,ln){if(On!==!1&&On!==""){let sn=l[ln-1]||{isHeader:!0,plotX:l[0].plotX,plotY:f,series:{}},xi=sn.isHeader,Ln=xi?c:sn.series,Gn=Ln.tt=function(qi,Qn,sd){let Pa=qi,{isHeader:Wl,series:od}=Qn,Ls=od.tooltipOptions||D;if(!Pa){let au={padding:Ls.padding,r:Ls.borderRadius};A||(au.fill=Ls.backgroundColor,au["stroke-width"]=Ls.borderWidth??($&&!Wl?0:1)),Pa=Ve.label("",0,0,Ls[Wl?"headerShape":"shape"]||($&&!Wl?"rect":"callout"),void 0,void 0,Ls.useHTML).addClass(c.getClassName(Qn,!0,Wl)).attr(au).add(xe)}return Pa.isActive=!0,Pa.attr({text:sd}),A||Pa.css(Ls.style).attr({stroke:Ls.borderColor||Qn.color||od.color||"#333333"}),Pa}(Ln.tt,sn,On.toString()),Bi=Gn.getBBox(),Oo=Bi.width+Gn.strokeWidth();xi&&(jt=Bi.height,zt+=jt,Ae&&(kt-=jt));let{anchorX:ms,anchorY:Ji}=function(qi){let Qn,sd,{isHeader:Pa,plotX:Wl=0,plotY:od=0,series:Ls}=qi;if(Pa)Qn=Math.max(v+Wl,v),sd=b+f/2;else{let{xAxis:au,yAxis:ME}=Ls;Qn=au.pos+so(Wl,-P,au.len+P),Ls.shouldShowTooltip(0,ME.pos-b+od,{ignoreX:!0})&&(sd=ME.pos+od)}return{anchorX:Qn=so(Qn,fe.left-P,fe.right+P),anchorY:sd}}(sn);if(typeof Ji=="number"){let qi=Bi.height+1,Qn=(V||Ft).call(c,Oo,qi,sn,[ms,Ji]);bn.push({align:lt?0:void 0,anchorX:ms,anchorY:Ji,boxWidth:Oo,point:sn,rank:y(Qn.rank,+!!xi),size:qi,target:Qn.y,tt:Gn,x:Qn.x})}else Gn.isActive=!1}return bn},[]);!lt&&Wt.some(bn=>{let{outside:On}=c,ln=(On?Le:0)+bn.anchorX;return ln<fe.left&&ln+bn.boxWidth<fe.right||ln<Le-fe.left+bn.boxWidth&&fe.right-ln>ln})&&(Wt=Wt.map(bn=>{let{x:On,y:ln}=Ft.call(this,bn.boxWidth,bn.size,bn.point,[bn.anchorX,bn.anchorY],!1);return Hh(bn,{target:ln,x:On})})),c.cleanSplit(),Hy(Wt,zt);let Rt={left:Le,right:Le};Wt.forEach(function(bn){let{x:On,boxWidth:ln,isHeader:sn}=bn;!sn&&(c.outside&&Le+On<Rt.left&&(Rt.left=Le+On),!sn&&c.outside&&Rt.left+ln>Rt.right&&(Rt.right=Le+On))}),Wt.forEach(function(bn){let{x:On,anchorX:ln,anchorY:sn,pos:xi,point:{isHeader:Ln}}=bn,Gn={visibility:xi===void 0?"hidden":"inherit",x:On,y:(xi||0)+kt+($&&q.y||0),anchorX:ln,anchorY:sn};if(c.outside&&On<ln){let Bi=Le-Rt.left;Bi>0&&(Ln||(Gn.x=On+Bi,Gn.anchorX=ln+Bi),Ln&&(Gn.x=(Rt.right-Rt.left)/2,Gn.anchorX=ln+Bi))}bn.tt.attr(Gn)});let{container:Yt,outside:pn,renderer:_n}=c;if(pn&&Yt&&_n){let{width:bn,height:On,x:ln,y:sn}=xe.getBBox();_n.setSize(bn+ln,On+sn,!1),Yt.style.left=Rt.left+"px",Yt.style.top=it+"px"}$h&&xe.attr({opacity:xe.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let r=this.chart,l=this.label,c=this.shared?r.hoverPoints:r.hoverPoint;if(!l||!c)return;let h={x:0,y:0,width:0,height:0},d=this.getAnchor(c),p=l.getBBox();d[0]+=r.plotLeft-(l.translateX||0),d[1]+=r.plotTop-(l.translateY||0),h.x=Math.min(0,d[0]),h.y=Math.min(0,d[1]),h.width=d[0]<0?Math.max(Math.abs(d[0]),p.width-d[0]):Math.max(Math.abs(d[0]),p.width),h.height=d[1]<0?Math.max(Math.abs(d[1]),p.height-Math.abs(d[1])):Math.max(Math.abs(d[1]),p.height),this.tracker?this.tracker.attr(h):(this.tracker=l.renderer.rect(h).addClass("highcharts-tracker").add(l),r.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(r){return r.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(r,l){let c=r.series,h=c.tooltipOptions,d=c.xAxis,p=d==null?void 0:d.dateTime,f={isFooter:l,point:r},v=h.xDateFormat||"",b=h[l?"footerFormat":"headerFormat"];return nu(this,"headerFormatter",f,function(T){if(p&&!v&&gf(r.key)&&(v=p.getXDateFormat(r.key,h.dateTimeLabelFormats)),p&&v){if(Pr(v)){let E=v;$y[0]=A=>c.chart.time.dateFormat(E,A),v="%0"}(r.tooltipDateKeys||["key"]).forEach(E=>{b=b.replace(RegExp("point\\."+E+"([ \\)}])"),`(point.${E}:${v})$1`)})}c.chart.styledMode&&(b=this.styledModeFormat(b)),T.text=ff(b,r,this.chart)}),f.text||""}update(r){this.destroy(),this.init(this.chart,C(!0,this.options,r))}updatePosition(r){var fe;let{chart:l,container:c,distance:h,options:d,pointer:p,renderer:f}=this,{height:v=0,width:b=0}=this.getLabel(),{fixed:T,positioner:E}=d,{left:A,top:P,scaleX:D,scaleY:$}=p.getChartPosition(),q=(E||T&&this.getFixedPosition||this.getPosition).call(this,b,v,r),V=M.doc,Q=(r.plotX||0)+l.plotLeft,ee=(r.plotY||0)+l.plotTop,Ee;if(f&&c){if(E||T){let{scrollLeft:xe=0,scrollTop:Ve=0}=((fe=l.scrollablePlotArea)==null?void 0:fe.scrollingContainer)||{};q.x+=xe+A-h,q.y+=Ve+P-h}Ee=(d.borderWidth||0)+2*h+2,f.setSize(so(b+Ee,0,V.documentElement.clientWidth)-1,v+Ee,!1),(D!==1||$!==1)&&(oo(c,{transform:`scale(${D}, ${$})`}),Q*=D,ee*=$),Q+=A-q.x,ee+=P-q.y}this.move(Math.round(q.x),Math.round(q.y||0),Q,ee)}}(function(w){w.compose=function(r){k(tu,"Core.Tooltip")&&Wy(r,"afterInit",function(){let l=this.chart;l.options.tooltip&&(l.tooltip=new w(l,l.options.tooltip,this))})}})(W||(W={}));let L=W,{animObject:Z}=St,{defaultOptions:ce}=He,{format:pe}=wi,{addEvent:ve,crisp:$e,erase:Xe,extend:et,fireEvent:Qe,getNestedProperty:bt,isArray:Gt,isFunction:Kt,isNumber:an,isObject:xn,merge:nn,pick:Zt,syncTimeout:yn,removeEvent:wn,uniqueKey:li}=Pe;class Dn{animateBeforeDestroy(){let r=this,l={x:r.startXPos,opacity:0},c=r.getGraphicalProps();c.singular.forEach(function(h){r[h]=r[h].animate(h==="dataLabel"?{x:r[h].startXPos,y:r[h].startYPos,opacity:0}:l)}),c.plural.forEach(function(h){r[h].forEach(function(d){d.element&&d.animate(et({x:r.startXPos},d.startYPos?{x:d.startXPos,y:d.startYPos}:{}))})})}applyOptions(r,l){let c=this.series,h=c.options.pointValKey||c.pointValKey;return et(this,r=Dn.prototype.optionsToObject.call(this,r)),this.options=this.options?et(this.options,r):r,r.group&&delete this.group,r.dataLabels&&delete this.dataLabels,h&&(this.y=Dn.prototype.getNestedProperty.call(this,h)),this.selected&&(this.state="select"),"name"in this&&l===void 0&&c.xAxis&&c.xAxis.hasNames&&(this.x=c.xAxis.nameToX(this)),this.x===void 0&&c?this.x=l??c.autoIncrement():an(r.x)&&c.options.relativeXValue?this.x=c.autoIncrement(r.x):typeof this.x=="string"&&(l??(l=c.chart.time.parse(this.x)),an(l)&&(this.x=l)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let r=this,l=r.series,c=l.chart,h=l.options.dataSorting,d=c.hoverPoints,p=Z(r.series.chart.renderer.globalAnimation),f=()=>{for(let v in(r.graphic||r.graphics||r.dataLabel||r.dataLabels)&&(wn(r),r.destroyElements()),r)delete r[v]};r.legendItem&&c.legend.destroyItem(r),d&&(r.setState(),Xe(d,r),d.length||(c.hoverPoints=null)),r===c.hoverPoint&&r.onMouseOut(),h!=null&&h.enabled?(this.animateBeforeDestroy(),yn(f,p.duration)):f(),c.pointCount--}this.destroyed=!0}destroyElements(r){let l=this,c=l.getGraphicalProps(r);c.singular.forEach(function(h){l[h]=l[h].destroy()}),c.plural.forEach(function(h){l[h].forEach(function(d){d!=null&&d.element&&d.destroy()}),delete l[h]})}firePointEvent(r,l,c){let h=this,d=this.series.options;h.manageEvent(r),r==="click"&&d.allowPointSelect&&(c=function(p){!h.destroyed&&h.select&&h.select(null,p.ctrlKey||p.metaKey||p.shiftKey)}),Qe(h,r,l,c)}getClassName(){var r;return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+((r=this.zone)!=null&&r.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(r){let l,c,h=this,d=[],p={singular:[],plural:[]};for((r=r||{graphic:1,dataLabel:1}).graphic&&d.push("graphic","connector"),r.dataLabel&&d.push("dataLabel","dataLabelPath","dataLabelUpper"),c=d.length;c--;)h[l=d[c]]&&p.singular.push(l);return["graphic","dataLabel"].forEach(function(f){let v=f+"s";r[f]&&h[v]&&p.plural.push(v)}),p}getNestedProperty(r){if(r)return r.indexOf("custom.")===0?bt(r,this.options):this[r]}getZone(){let r=this.series,l=r.zones,c=r.zoneAxis||"y",h,d=0;for(h=l[0];this[c]>=h.value;)h=l[++d];return this.nonZonedColor||(this.nonZonedColor=this.color),h!=null&&h.color&&!this.options.color?this.color=h.color:this.color=this.nonZonedColor,h}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(r,l,c){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=r,this.applyOptions(l,c),this.id??(this.id=li()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=r.options.nullInteraction),r.chart.pointCount++,Qe(this,"afterInit")}isValid(){return(an(this.x)||this.x instanceof Date)&&an(this.y)}optionsToObject(r){var T;let l=this.series,c=l.options.keys,h=c||l.pointArrayMap||["y"],d=h.length,p={},f,v=0,b=0;if(an(r)||r===null)p[h[0]]=r;else if(Gt(r))for(!c&&r.length>d&&((f=typeof r[0])=="string"?(T=l.xAxis)!=null&&T.dateTime?p.x=l.chart.time.parse(r[0]):p.name=r[0]:f==="number"&&(p.x=r[0]),v++);b<d;)c&&r[v]===void 0||(h[b].indexOf(".")>0?Dn.prototype.setNestedProperty(p,r[v],h[b]):p[h[b]]=r[v]),v++,b++;else typeof r=="object"&&(p=r,r.dataLabels&&(l.hasDataLabels=()=>!0),r.marker&&(l._hasPointMarkers=!0));return p}pos(r,l=this.plotY){if(!this.destroyed){let{plotX:c,series:h}=this,{chart:d,xAxis:p,yAxis:f}=h,v=0,b=0;if(an(c)&&an(l))return r&&(v=p?p.pos:d.plotLeft,b=f?f.pos:d.plotTop),d.inverted&&p&&f?[f.len-l+b,p.len-c+v]:[c+v,l+b]}}resolveColor(){let r=this.series,l=r.chart.options.chart,c=r.chart.styledMode,h,d,p=l.colorCount,f;delete this.nonZonedColor,r.options.colorByPoint?(c||(h=(d=r.options.colors||r.chart.options.colors)[r.colorCounter],p=d.length),f=r.colorCounter,r.colorCounter++,r.colorCounter===p&&(r.colorCounter=0)):(c||(h=r.color),f=r.colorIndex),this.colorIndex=Zt(this.options.colorIndex,f),this.color=Zt(this.options.color,h)}setNestedProperty(r,l,c){return c.split(".").reduce(function(h,d,p,f){let v=f.length-1===p;return h[d]=v?l:xn(h[d],!0)?h[d]:{},h[d]},r),r}shouldDraw(){return!this.isNull}tooltipFormatter(r){var v;let{chart:l,pointArrayMap:c=["y"],tooltipOptions:h}=this.series,{valueDecimals:d="",valuePrefix:p="",valueSuffix:f=""}=h;return l.styledMode&&(r=((v=l.tooltip)==null?void 0:v.styledModeFormat(r))||r),c.forEach(b=>{b="{point."+b,(p||f)&&(r=r.replace(RegExp(b+"}","g"),p+b+"}"+f)),r=r.replace(RegExp(b+"}","g"),b+":,."+d+"f}")}),pe(r,this,l)}update(r,l,c,h){let d,p=this,f=p.series,v=p.graphic,b=f.chart,T=f.options;function E(){p.applyOptions(r);let A=v&&p.hasMockGraphic,P=p.y===null?!A:A;v&&P&&(p.graphic=v.destroy(),delete p.hasMockGraphic),xn(r,!0)&&(v!=null&&v.element&&r&&r.marker&&r.marker.symbol!==void 0&&(p.graphic=v.destroy()),r!=null&&r.dataLabels&&p.dataLabel&&(p.dataLabel=p.dataLabel.destroy())),d=p.index;let D={};for(let $ of f.dataColumnKeys())D[$]=p[$];f.dataTable.setRow(D,d),T.data[d]=xn(T.data[d],!0)||xn(r,!0)?p.options:Zt(r,T.data[d]),f.isDirty=f.isDirtyData=!0,!f.fixedBox&&f.hasCartesianSeries&&(b.isDirtyBox=!0),T.legendType==="point"&&(b.isDirtyLegend=!0),l&&b.redraw(c)}l=Zt(l,!0),h===!1?E():p.firePointEvent("update",{options:r},E)}remove(r,l){this.series.removePoint(this.series.data.indexOf(this),r,l)}select(r,l){let c=this,h=c.series,d=h.chart;r=Zt(r,!c.selected),this.selectedStaging=r,c.firePointEvent(r?"select":"unselect",{accumulate:l},function(){c.selected=c.options.selected=r,h.options.data[h.data.indexOf(c)]=c.options,c.setState(r&&"select"),l||d.getSelectedPoints().forEach(function(p){let f=p.series;p.selected&&p!==c&&(p.selected=p.options.selected=!1,f.options.data[f.data.indexOf(p)]=p.options,p.setState(d.hoverPoints&&f.options.inactiveOtherPoints?"inactive":""),p.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(r){let{inverted:l,pointer:c}=this.series.chart;c&&(r=r?c.normalize(r):c.getChartCoordinatesFromPoint(this,l),c.runPointActions(r,this))}onMouseOut(){let r=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(r.hoverPoints||[]).forEach(function(l){l.setState()}),r.hoverPoints=r.hoverPoint=null}manageEvent(r){var h,d,p,f,v,b,T;let l=nn(this.series.options.point,this.options),c=(h=l.events)==null?void 0:h[r];Kt(c)&&(!((d=this.hcEvents)!=null&&d[r])||((f=(p=this.hcEvents)==null?void 0:p[r])==null?void 0:f.map(E=>E.fn).indexOf(c))===-1)?((v=this.importedUserEvent)==null||v.call(this),this.importedUserEvent=ve(this,r,c),this.hcEvents&&(this.hcEvents[r].userEvent=!0)):this.importedUserEvent&&!c&&((b=this.hcEvents)!=null&&b[r])&&((T=this.hcEvents)!=null&&T[r].userEvent)&&(wn(this,r),delete this.hcEvents[r],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(r,l){var xe,Ve;let c=this.series,h=this.state,d=c.options.states[r||"normal"]||{},p=ce.plotOptions[c.type].marker&&c.options.marker,f=p&&p.enabled===!1,v=((xe=p==null?void 0:p.states)==null?void 0:xe[r||"normal"])||{},b=v.enabled===!1,T=this.marker||{},E=c.chart,A=p&&c.markerAttribs,P=c.halo,D,$,q,V=c.stateMarkerGraphic,Q;if((r=r||"")===this.state&&!l||this.selected&&r!=="select"||d.enabled===!1||r&&(b||f&&v.enabled===!1)||r&&T.states&&T.states[r]&&T.states[r].enabled===!1)return;if(this.state=r,A&&(D=c.markerAttribs(this,r)),this.graphic&&!this.hasMockGraphic){if(h&&this.graphic.removeClass("highcharts-point-"+h),r&&this.graphic.addClass("highcharts-point-"+r),!E.styledMode){$=c.pointAttribs(this,r),q=Zt(E.options.chart.animation,d.animation);let Ae=$.opacity;c.options.inactiveOtherPoints&&an(Ae)&&(this.dataLabels||[]).forEach(function(Le){Le&&!Le.hasClass("highcharts-data-label-hidden")&&(Le.animate({opacity:Ae},q),Le.connector&&Le.connector.animate({opacity:Ae},q))}),this.graphic.animate($,q)}D&&this.graphic.animate(D,Zt(E.options.chart.animation,v.animation,p.animation)),V&&V.hide()}else r&&v&&(Q=T.symbol||c.symbol,V&&V.currentSymbol!==Q&&(V=V.destroy()),D&&(V?V[l?"animate":"attr"]({x:D.x,y:D.y}):Q&&(c.stateMarkerGraphic=V=E.renderer.symbol(Q,D.x,D.y,D.width,D.height,nn(p,v)).add(c.markerGroup),V.currentSymbol=Q)),!E.styledMode&&V&&this.state!=="inactive"&&V.attr(c.pointAttribs(this,r))),V&&(V[r&&this.isInside?"show":"hide"](),V.element.point=this,V.addClass(this.getClassName(),!0));let ee=d.halo,Ee=this.graphic||V,fe=(Ee==null?void 0:Ee.visibility)||"inherit";ee!=null&&ee.size&&Ee&&fe!=="hidden"&&!this.isCluster?(P||(c.halo=P=E.renderer.path().add(Ee.parentGroup)),P.show()[l?"animate":"attr"]({d:this.haloPath(ee.size)}),P.attr({class:"highcharts-halo highcharts-color-"+Zt(this.colorIndex,c.colorIndex)+(this.className?" "+this.className:""),visibility:fe,zIndex:-1}),P.point=this,E.styledMode||P.attr(et({fill:this.color||c.color,"fill-opacity":ee.opacity},Vn.filterUserAttributes(ee.attributes||{})))):(Ve=P==null?void 0:P.point)!=null&&Ve.haloPath&&!P.point.destroyed&&P.animate({d:P.point.haloPath(0)},null,P.hide),Qe(this,"afterSetState",{state:r})}haloPath(r){let l=this.pos();return l?this.series.chart.renderer.symbols.circle($e(l[0],1)-r,l[1]-r,2*r,2*r):[]}}let ci=Dn,{parse:Ms}=Lt,{charts:iu,composed:LP,isTouchDevice:FP}=M,{addEvent:fs,attr:BP,css:Ky,extend:Yy,find:b_,fireEvent:Ca,isNumber:yf,isObject:vf,objectEach:VP,offset:UP,pick:ao,pushUnique:zP,splat:w_}=Pe;class Li{applyInactiveState(r=[]){var c,h;let l=[];for(let d of(r.forEach(p=>{let f=p.series;l.push(f),f.linkedParent&&l.push(f.linkedParent),f.linkedSeries&&l.push.apply(l,f.linkedSeries),f.navigatorSeries&&l.push(f.navigatorSeries),f.boosted&&f.markerGroup&&l.push.apply(l,this.chart.series.filter(v=>v.markerGroup===f.markerGroup))}),this.chart.series)){let p=d.options;((h=(c=p.states)==null?void 0:c.inactive)==null?void 0:h.enabled)!==!1&&(l.indexOf(d)===-1?d.setState("inactive",!0):p.inactiveOtherPoints&&d.setAllPointsToState("inactive"))}}destroy(){let r=this;this.eventsToUnbind.forEach(l=>l()),this.eventsToUnbind=[],!M.chartCount&&(Li.unbindDocumentMouseUp.forEach(l=>l.unbind()),Li.unbindDocumentMouseUp.length=0,Li.unbindDocumentTouchEnd&&(Li.unbindDocumentTouchEnd=Li.unbindDocumentTouchEnd())),clearInterval(r.tooltipTimeout),VP(r,function(l,c){r[c]=void 0})}getSelectionMarkerAttrs(r,l){let c={args:{chartX:r,chartY:l},attrs:{},shapeType:"rect"};return Ca(this,"getSelectionMarkerAttrs",c,h=>{let d,{chart:p,zoomHor:f,zoomVert:v}=this,{mouseDownX:b=0,mouseDownY:T=0}=p,E=h.attrs;E.x=p.plotLeft,E.y=p.plotTop,E.width=f?1:p.plotWidth,E.height=v?1:p.plotHeight,f&&(E.width=Math.max(1,Math.abs(d=r-b)),E.x=(d>0?0:d)+b),v&&(E.height=Math.max(1,Math.abs(d=l-T)),E.y=(d>0?0:d)+T)}),c}drag(r){let{chart:l}=this,{mouseDownX:c=0,mouseDownY:h=0}=l,{panning:d,panKey:p,selectionMarkerFill:f}=l.options.chart,v=l.plotLeft,b=l.plotTop,T=l.plotWidth,E=l.plotHeight,A=vf(d)?d.enabled:d,P=p&&r[`${p}Key`],D=r.chartX,$=r.chartY,q,V=this.selectionMarker;if((!V||!V.touch)&&(D<v?D=v:D>v+T&&(D=v+T),$<b?$=b:$>b+E&&($=b+E),this.hasDragged=Math.sqrt(Math.pow(c-D,2)+Math.pow(h-$,2)),this.hasDragged>10)){q=l.isInsidePlot(c-v,h-b,{visiblePlotOnly:!0});let{shapeType:Q,attrs:ee}=this.getSelectionMarkerAttrs(D,$);this.hasZoom&&q&&!P&&!V&&(this.selectionMarker=V=l.renderer[Q](),V.attr({class:"highcharts-selection-marker",zIndex:7}).add(),l.styledMode||V.attr({fill:f||Ms("#334eff").setOpacity(.25).get()})),V&&V.attr(ee),q&&!V&&A&&l.pan(r,d)}}dragStart(r){let l=this.chart;l.mouseIsDown=r.type,l.cancelClick=!1,l.mouseDownX=r.chartX,l.mouseDownY=r.chartY}getSelectionBox(r){let l={args:{marker:r},result:r.getBBox()};return Ca(this,"getSelectionBox",l),l.result}drop(r){let l,{chart:c,selectionMarker:h}=this;for(let d of c.axes)d.isPanning&&(d.isPanning=!1,(d.options.startOnTick||d.options.endOnTick||d.series.some(p=>p.boosted))&&(d.forceRedraw=!0,d.setExtremes(d.userMin,d.userMax,!1),l=!0));if(l&&c.redraw(),h&&r){if(this.hasDragged){let d=this.getSelectionBox(h);c.transform({axes:c.axes.filter(p=>p.zoomEnabled&&(p.coll==="xAxis"&&this.zoomX||p.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:r,xAxis:[],yAxis:[],...d},from:d})}yf(c.index)&&(this.selectionMarker=h.destroy())}c&&yf(c.index)&&(Ky(c.container,{cursor:c._cursor}),c.cancelClick=this.hasDragged>10,c.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[],this.hasPinchMoved=!1)}findNearestKDPoint(r,l,c){let h;return r.forEach(function(d){let p=!(d.noSharedTooltip&&l)&&0>d.options.findNearestPointBy.indexOf("y"),f=d.searchPoint(c,p);vf(f,!0)&&f.series&&(!vf(h,!0)||function(v,b){var P,D;let T=v.distX-b.distX,E=v.dist-b.dist,A=((P=b.series.group)==null?void 0:P.zIndex)-((D=v.series.group)==null?void 0:D.zIndex);return T!==0&&l?T:E!==0?E:A!==0?A:v.series.index>b.series.index?-1:1}(h,f)>0)&&(h=f)}),h}getChartCoordinatesFromPoint(r,l){let{xAxis:c,yAxis:h}=r.series,d=r.shapeArgs;if(c&&h){let p=r.clientX??r.plotX??0,f=r.plotY||0;return r.isNode&&d&&yf(d.x)&&yf(d.y)&&(p=d.x,f=d.y),l?{chartX:h.len+h.pos-f,chartY:c.len+c.pos-p}:{chartX:p+c.pos,chartY:f+h.pos}}if(d!=null&&d.x&&d.y)return{chartX:d.x,chartY:d.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:r}=this.chart,l=UP(r);this.chartPosition={left:l.left,top:l.top,scaleX:1,scaleY:1};let{offsetHeight:c,offsetWidth:h}=r;return h>2&&c>2&&(this.chartPosition.scaleX=l.width/h,this.chartPosition.scaleY=l.height/c),this.chartPosition}getCoordinates(r){let l={xAxis:[],yAxis:[]};for(let c of this.chart.axes)l[c.isXAxis?"xAxis":"yAxis"].push({axis:c,value:c.toValue(r[c.horiz?"chartX":"chartY"])});return l}getHoverData(r,l,c,h,d,p){let f=[],v=function(P){return P.visible&&!(!d&&P.directTouch)&&ao(P.options.enableMouseTracking,!0)},b=l,T,E={chartX:p?p.chartX:void 0,chartY:p?p.chartY:void 0,shared:d};Ca(this,"beforeGetHoverData",E),T=b&&!b.stickyTracking?[b]:c.filter(P=>P.stickyTracking&&(E.filter||v)(P));let A=h&&r||!p?r:this.findNearestKDPoint(T,d,p);return b=A==null?void 0:A.series,A&&(d&&!b.noSharedTooltip?(T=c.filter(function(P){return E.filter?E.filter(P):v(P)&&!P.noSharedTooltip})).forEach(function(P){var q;let D=(q=P.options)==null?void 0:q.nullInteraction,$=b_(P.points,function(V){return V.x===A.x&&(!V.isNull||!!D)});vf($)&&(P.boosted&&P.boost&&($=P.boost.getPoint($)),f.push($))}):f.push(A)),Ca(this,"afterGetHoverData",E={hoverPoint:A}),{hoverPoint:E.hoverPoint,hoverSeries:b,hoverPoints:f}}getPointFromEvent(r){let l=r.target,c;for(;l&&!c;)c=l.point,l=l.parentNode;return c}onTrackerMouseOut(r){let l=this.chart,c=r.relatedTarget,h=l.hoverSeries;this.isDirectTouch=!1,!h||!c||h.stickyTracking||this.inClass(c,"highcharts-tooltip")||this.inClass(c,"highcharts-series-"+h.index)&&this.inClass(c,"highcharts-tracker")||h.onMouseOut()}inClass(r,l){let c=r,h;for(;c;){if(h=BP(c,"class")){if(h.indexOf(l)!==-1)return!0;if(h.indexOf("highcharts-container")!==-1)return!1}c=c.parentElement}}constructor(r,l){var c;this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=l,this.chart=r,this.runChartClick=!!((c=l.chart.events)!=null&&c.click),this.pinchDown=[],this.setDOMEvents(),Ca(this,"afterInit")}normalize(r,l){let c=r.touches,h=c?c.length?c.item(0):ao(c.changedTouches,r.changedTouches)[0]:r;l||(l=this.getChartPosition());let d=h.pageX-l.left,p=h.pageY-l.top;return Yy(r,{chartX:Math.round(d/=l.scaleX),chartY:Math.round(p/=l.scaleY)})}onContainerClick(r){let l=this.chart,c=l.hoverPoint,h=this.normalize(r),d=l.plotLeft,p=l.plotTop;!l.cancelClick&&(c&&this.inClass(h.target,"highcharts-tracker")?(Ca(c.series,"click",Yy(h,{point:c})),l.hoverPoint&&c.firePointEvent("click",h)):(Yy(h,this.getCoordinates(h)),l.isInsidePlot(h.chartX-d,h.chartY-p,{visiblePlotOnly:!0})&&Ca(l,"click",h)))}onContainerMouseDown(r){var c;let l=(1&(r.buttons||r.button))==1;r=this.normalize(r),M.isFirefox&&r.button!==0&&this.onContainerMouseMove(r),(r.button===void 0||l)&&(this.zoomOption(r),l&&((c=r.preventDefault)==null||c.call(r)),this.dragStart(r))}onContainerMouseLeave(r){let{pointer:l}=iu[ao(Li.hoverChartIndex,-1)]||{};r=this.normalize(r),this.onContainerMouseMove(r),l&&!this.inClass(r.relatedTarget,"highcharts-tooltip")&&(l.reset(),l.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(r){var d;let l=this.chart,c=l.tooltip,h=this.normalize(r);this.setHoverChartIndex(r),(l.mouseIsDown==="mousedown"||this.touchSelect(h))&&this.drag(h),!((d=l.exporting)!=null&&d.openMenu)&&(this.inClass(h.target,"highcharts-tracker")||l.isInsidePlot(h.chartX-l.plotLeft,h.chartY-l.plotTop,{visiblePlotOnly:!0}))&&!(c!=null&&c.shouldStickOnContact(h))&&(this.inClass(h.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(h))}onDocumentTouchEnd(r){this.onDocumentMouseUp(r)}onContainerTouchMove(r){this.touchSelect(r)?this.onContainerMouseMove(r):this.touch(r)}onContainerTouchStart(r){this.touchSelect(r)?this.onContainerMouseDown(r):(this.zoomOption(r),this.touch(r,!0))}onDocumentMouseMove(r){let l=this.chart,c=l.tooltip,h=this.chartPosition,d=this.normalize(r,h);!h||l.isInsidePlot(d.chartX-l.plotLeft,d.chartY-l.plotTop,{visiblePlotOnly:!0})||c!=null&&c.shouldStickOnContact(d)||d.target!==l.container.ownerDocument&&this.inClass(d.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(r){var l,c,h;r!=null&&r.touches&&this.hasPinchMoved&&((l=r==null?void 0:r.preventDefault)==null||l.call(r)),(h=(c=iu[ao(Li.hoverChartIndex,-1)])==null?void 0:c.pointer)==null||h.drop(r)}pinch(r){let l=this,{chart:c,hasZoom:h,lastTouches:d}=l,p=[].map.call(r.touches||[],E=>l.normalize(E)),f=p.length,v=f===1&&(l.inClass(r.target,"highcharts-tracker")&&c.runTrackerClick||l.runChartClick),b=c.tooltip,T=f===1&&ao(b==null?void 0:b.options.followTouchMove,!0);f>1?l.initiated=!0:T&&(l.initiated=!1),h&&l.initiated&&!v&&r.cancelable!==!1&&r.preventDefault(),r.type==="touchstart"?(l.pinchDown=p,l.res=!0,c.mouseDownX=r.chartX):T?this.runPointActions(l.normalize(r)):d&&(Ca(c,"touchpan",{originalEvent:r,touches:p},()=>{let E=A=>{let P=A[0],D=A[1]||P;return{x:P.chartX,y:P.chartY,width:D.chartX-P.chartX,height:D.chartY-P.chartY}};c.transform({axes:c.axes.filter(A=>A.zoomEnabled&&(this.zoomHor&&A.horiz||this.zoomVert&&!A.horiz)),to:E(p),from:E(d),trigger:r.type})}),l.res&&(l.res=!1,this.reset(!1,0))),l.lastTouches=p}reset(r,l){let c=this.chart,h=c.hoverSeries,d=c.hoverPoint,p=c.hoverPoints,f=c.tooltip,v=f!=null&&f.shared?p:d;r&&v&&w_(v).forEach(function(b){b.series.isCartesian&&b.plotX===void 0&&(r=!1)}),r?f&&v&&w_(v).length&&(f.refresh(v),f.shared&&p?p.forEach(function(b){b.setState(b.state,!0),b.series.isCartesian&&(b.series.xAxis.crosshair&&b.series.xAxis.drawCrosshair(null,b),b.series.yAxis.crosshair&&b.series.yAxis.drawCrosshair(null,b))}):d&&(d.setState(d.state,!0),c.axes.forEach(function(b){b.crosshair&&d.series[b.coll]===b&&b.drawCrosshair(null,d)}))):(d&&d.onMouseOut(),p&&p.forEach(function(b){b.setState()}),h&&h.onMouseOut(),f&&f.hide(l),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),c.axes.forEach(function(b){b.hideCrosshair()}),c.hoverPoints=c.hoverPoint=void 0)}runPointActions(r,l,c){var $;let h=this.chart,d=h.series,p=($=h.tooltip)!=null&&$.options.enabled?h.tooltip:void 0,f=!!p&&p.shared,v=l||h.hoverPoint,b=(v==null?void 0:v.series)||h.hoverSeries,T=(!r||r.type!=="touchmove")&&(!!l||(b==null?void 0:b.directTouch)&&this.isDirectTouch),E=this.getHoverData(v,b,d,T,f,r);v=E.hoverPoint,b=E.hoverSeries;let A=E.hoverPoints,P=(b==null?void 0:b.tooltipOptions.followPointer)&&!b.tooltipOptions.split,D=f&&b&&!b.noSharedTooltip;if(v&&(c||v!==h.hoverPoint||p!=null&&p.isHidden)){if((h.hoverPoints||[]).forEach(function(q){A.indexOf(q)===-1&&q.setState()}),h.hoverSeries!==b&&b.onMouseOver(),this.applyInactiveState(A),(A||[]).forEach(function(q){q.setState("hover")}),h.hoverPoint&&h.hoverPoint.firePointEvent("mouseOut"),!v.series)return;h.hoverPoints=A,h.hoverPoint=v,v.firePointEvent("mouseOver",void 0,()=>{p&&v&&p.refresh(D?A:v,r)})}else if(P&&p&&!p.isHidden){let q=p.getAnchor([{}],r);h.isInsidePlot(q[0],q[1],{visiblePlotOnly:!0})&&p.updatePosition({plotX:q[0],plotY:q[1]})}this.unDocMouseMove||(this.unDocMouseMove=fs(h.container.ownerDocument,"mousemove",q=>{var V,Q;return(Q=(V=iu[Li.hoverChartIndex??-1])==null?void 0:V.pointer)==null?void 0:Q.onDocumentMouseMove(q)}),this.eventsToUnbind.push(this.unDocMouseMove)),h.axes.forEach(function(q){var ee;let V,Q=((ee=q.crosshair)==null?void 0:ee.snap)??!0;Q&&((V=h.hoverPoint)&&V.series[q.coll]===q||(V=b_(A,Ee=>{var fe;return((fe=Ee.series)==null?void 0:fe[q.coll])===q}))),V||!Q?q.drawCrosshair(r,V):q.hideCrosshair()})}setDOMEvents(){let r=this.chart.container,l=r.ownerDocument;r.onmousedown=this.onContainerMouseDown.bind(this),r.onmousemove=this.onContainerMouseMove.bind(this),r.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(fs(r,"mouseenter",this.onContainerMouseEnter.bind(this)),fs(r,"mouseleave",this.onContainerMouseLeave.bind(this))),Li.unbindDocumentMouseUp.some(h=>h.doc===l)||Li.unbindDocumentMouseUp.push({doc:l,unbind:fs(l,"mouseup",this.onDocumentMouseUp.bind(this))});let c=this.chart.renderTo.parentElement;for(;c&&c.tagName!=="BODY";)this.eventsToUnbind.push(fs(c,"scroll",()=>{delete this.chartPosition})),c=c.parentElement;this.eventsToUnbind.push(fs(r,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),fs(r,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),Li.unbindDocumentTouchEnd||(Li.unbindDocumentTouchEnd=fs(l,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),fs(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){var d,p;if(!FP)return;let r=this.pointerCaptureEventsToUnbind,l=this.chart,c=l.container,h=ao((d=l.options.tooltip)==null?void 0:d.followTouchMove,!0)&&l.series.some(f=>f.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&h?(r.push(fs(c,"pointerdown",f=>{var v,b;(v=f.target)!=null&&v.hasPointerCapture(f.pointerId)&&((b=f.target)==null||b.releasePointerCapture(f.pointerId))}),fs(c,"pointermove",f=>{var v,b;(b=(v=l.pointer)==null?void 0:v.getPointFromEvent(f))==null||b.onMouseOver(f)})),l.styledMode||Ky(c,{"touch-action":"none"}),c.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!h&&(r.forEach(f=>f()),r.length=0,l.styledMode||Ky(c,{"touch-action":ao((p=l.options.chart.style)==null?void 0:p["touch-action"],"manipulation")}),c.className=c.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(r){var h;let l=this.chart,c=M.charts[ao(Li.hoverChartIndex,-1)];if(c&&c!==l){let d={relatedTarget:l.container};r&&!(r!=null&&r.relatedTarget)&&Object.assign({},r,d),(h=c.pointer)==null||h.onContainerMouseLeave(r||d)}c!=null&&c.mouseIsDown||(Li.hoverChartIndex=l.index)}touch(r,l){var p;let c,{chart:h,pinchDown:d=[]}=this;this.setHoverChartIndex(),(r=this.normalize(r)).touches.length===1?h.isInsidePlot(r.chartX-h.plotLeft,r.chartY-h.plotTop,{visiblePlotOnly:!0})&&!((p=h.exporting)!=null&&p.openMenu)?(l&&this.runPointActions(r),r.type==="touchmove"&&(this.hasPinchMoved=c=!!d[0]&&Math.pow(d[0].chartX-r.chartX,2)+Math.pow(d[0].chartY-r.chartY,2)>=16),ao(c,!0)&&this.pinch(r)):l&&this.reset():r.touches.length===2&&this.pinch(r)}touchSelect(r){return!!(this.chart.zooming.singleTouch&&r.touches&&r.touches.length===1)}zoomOption(r){let l=this.chart,c=l.inverted,h=l.zooming.type||"",d,p;/touch/.test(r.type)&&(h=ao(l.zooming.pinchType,h)),this.zoomX=d=/x/.test(h),this.zoomY=p=/y/.test(h),this.zoomHor=d&&!c||p&&c,this.zoomVert=p&&!c||d&&c,this.hasZoom=d||p}}Li.unbindDocumentMouseUp=[],function(w){w.compose=function(r){zP(LP,"Core.Pointer")&&fs(r,"beforeRender",function(){this.pointer=new w(this,this.options)})}}(Li||(Li={}));let __=Li;(function(w){w.setLength=function(r,l,c){return Array.isArray(r)?(r.length=l,r):r[c?"subarray":"slice"](0,l)},w.splice=function(r,l,c,h,d=[]){if(Array.isArray(r))return Array.isArray(d)||(d=Array.from(d)),{removed:r.splice(l,c,...d),array:r};let p=Object.getPrototypeOf(r).constructor,f=r[h?"subarray":"slice"](l,l+c),v=new p(r.length-c+d.length);return v.set(r.subarray(0,l),0),v.set(d,l),v.set(r.subarray(l+c),l+d.length),{removed:f,array:v}}})(U||(U={}));let{setLength:qP,splice:E_}=U,{fireEvent:Xy,objectEach:Kh,uniqueKey:Yh}=Pe,xf=class{constructor(w={}){this.autoId=!w.id,this.columns={},this.id=w.id||Yh(),this.modified=this,this.rowCount=0,this.versionTag=Yh();let r=0;Kh(w.columns||{},(l,c)=>{this.columns[c]=l.slice(),r=Math.max(r,l.length)}),this.applyRowCount(r)}applyRowCount(w){this.rowCount=w,Kh(this.columns,(r,l)=>{r.length!==w&&(this.columns[l]=qP(r,w))})}deleteRows(w,r=1){if(r>0&&w<this.rowCount){let l=0;Kh(this.columns,(c,h)=>{this.columns[h]=E_(c,w,r).array,l=c.length}),this.rowCount=l}Xy(this,"afterDeleteRows",{rowIndex:w,rowCount:r}),this.versionTag=Yh()}getColumn(w,r){return this.columns[w]}getColumns(w,r){return(w||Object.keys(this.columns)).reduce((l,c)=>(l[c]=this.columns[c],l),{})}getRow(w,r){return(r||Object.keys(this.columns)).map(l=>{var c;return(c=this.columns[l])==null?void 0:c[w]})}setColumn(w,r=[],l=0,c){this.setColumns({[w]:r},l,c)}setColumns(w,r,l){let c=this.rowCount;Kh(w,(h,d)=>{this.columns[d]=h.slice(),c=h.length}),this.applyRowCount(c),l!=null&&l.silent||(Xy(this,"afterSetColumns"),this.versionTag=Yh())}setRow(w,r=this.rowCount,l,c){let{columns:h}=this,d=l?this.rowCount+1:r+1;Kh(w,(p,f)=>{let v=h[f]||(c==null?void 0:c.addColumns)!==!1&&Array(d);v&&(l?v=E_(v,r,0,!0,[p]).array:v[r]=p,h[f]=v)}),d>this.rowCount&&this.applyRowCount(d),c!=null&&c.silent||(Xy(this,"afterSetRows"),this.versionTag=Yh())}},{extend:$P,merge:HP,pick:k_}=Pe;(function(w){function r(l,c,h){var Ee,fe;let d=this.legendItem=this.legendItem||{},{chart:p,options:f}=this,{baseline:v=0,symbolWidth:b,symbolHeight:T}=l,E=this.symbol||"circle",A=T/2,P=p.renderer,D=d.group,$=v-Math.round((((Ee=l.fontMetrics)==null?void 0:Ee.b)||T)*(h?.4:.3)),q={},V,Q=f.marker,ee=0;if(p.styledMode||(q["stroke-width"]=Math.min(f.lineWidth||0,24),f.dashStyle?q.dashstyle=f.dashStyle:f.linecap!=="square"&&(q["stroke-linecap"]="round")),d.line=P.path().addClass("highcharts-graph").attr(q).add(D),h&&(d.area=P.path().addClass("highcharts-area").add(D)),q["stroke-linecap"]&&(ee=Math.min(d.line.strokeWidth(),b)/2),b){let xe=[["M",ee,$],["L",b-ee,$]];d.line.attr({d:xe}),(fe=d.area)==null||fe.attr({d:[...xe,["L",b-ee,v],["L",ee,v]]})}if(Q&&Q.enabled!==!1&&b){let xe=Math.min(k_(Q.radius,A),A);E.indexOf("url")===0&&(Q=HP(Q,{width:T,height:T}),xe=0),d.symbol=V=P.symbol(E,b/2-xe,$-xe,2*xe,2*xe,$P({context:"legend"},Q)).addClass("highcharts-point").add(D),V.isMarker=!0}}w.areaMarker=function(l,c){r.call(this,l,c,!0)},w.lineMarker=r,w.rectangle=function(l,c){let h=c.legendItem||{},d=l.options,p=l.symbolHeight,f=d.squareSymbol,v=f?p:l.symbolWidth;h.symbol=this.chart.renderer.rect(f?(l.symbolWidth-p)/2:0,l.baseline-p+1,v,p,k_(l.options.symbolRadius,p/2)).addClass("highcharts-point").attr({zIndex:3}).add(h.group)}})(J||(J={}));let T_=J,{defaultOptions:C_}=He,{extend:WP,extendClass:GP,merge:KP}=Pe;(function(w){function r(l,c){let h=C_.plotOptions||{},d=c.defaultOptions,p=c.prototype;return p.type=l,p.pointClass||(p.pointClass=ci),!w.seriesTypes[l]&&(d&&(h[l]=d),w.seriesTypes[l]=c,!0)}w.seriesTypes=M.seriesTypes,w.registerSeriesType=r,w.seriesType=function(l,c,h,d,p){let f=C_.plotOptions||{};if(c=c||"",f[l]=KP(f[c],h),delete w.seriesTypes[l],r(l,GP(w.seriesTypes[c]||Mr,d)),w.seriesTypes[l].prototype.type=l,p){class v extends ci{}WP(v.prototype,p),w.seriesTypes[l].prototype.pointClass=v}return w.seriesTypes[l]}})(ne||(ne={}));let ui=ne,{animObject:S_,setAnimation:YP}=St,{defaultOptions:bf}=He,{registerEventOptions:XP}=wa,{svg:QP,win:JP}=M,{seriesTypes:ru}=ui,{format:ZP}=wi,{arrayMax:Qy,arrayMin:A_,clamp:N_,correctFloat:j_,crisp:eM,defined:Mi,destroyObjectProperties:tM,diffObjects:nM,erase:I_,error:wf,extend:su,find:iM,fireEvent:ri,getClosestDistance:rM,getNestedProperty:P_,insertItem:M_,isArray:R_,isNumber:Fi,isString:sM,merge:Xh,objectEach:Jy,pick:si,removeEvent:oM,syncTimeout:D_}=Pe;class Rs{constructor(){this.zoneAxis="y"}init(r,l){var v,b,T;let c;ri(this,"init",{options:l}),this.dataTable??(this.dataTable=new xf);let h=r.series;this.eventsToUnbind=[],this.chart=r,this.options=this.setOptions(l);let d=this.options,p=d.visible!==!1;this.linkedSeries=[],this.bindAxes(),su(this,{name:d.name,state:"",visible:p,selected:d.selected===!0}),XP(this,d);let f=d.events;(f!=null&&f.click||(b=(v=d.point)==null?void 0:v.events)!=null&&b.click||d.allowPointSelect)&&(r.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(r.hasCartesianSeries=!0),h.length&&(c=h[h.length-1]),this._i=si(c==null?void 0:c._i,-1)+1,this.opacity=this.options.opacity,r.orderItems("series",M_(this,h)),(T=d.dataSorting)!=null&&T.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(d.data,!1),ri(this,"afterInit")}is(r){return ru[r]&&this instanceof ru[r]}bindAxes(){let r,l=this,c=l.options,h=l.chart;ri(this,"bindAxes",null,function(){(l.axisTypes||[]).forEach(function(d){(h[d]||[]).forEach(function(p){r=p.options,(si(c[d],0)===p.index||c[d]!==void 0&&c[d]===r.id)&&(M_(l,p.series),l[d]=p,p.isDirty=!0)}),l[d]||l.optionalAxis===d||wf(18,!0,h)})}),ri(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(r,l){let c=r.marker,h=l.marker||{};return c&&(h.enabled&&!c.enabled||h.symbol!==c.symbol||h.height!==c.height||h.width!==c.width)}autoIncrement(r){let l,c=this.options,{pointIntervalUnit:h,relativeXValue:d}=this.options,p=this.chart.time,f=this.xIncrement??p.parse(c.pointStart)??0;if(this.pointInterval=l=si(this.pointInterval,c.pointInterval,1),d&&Fi(r)&&(l*=r),h){let v=p.toParts(f);h==="day"?v[2]+=l:h==="month"?v[1]+=l:h==="year"&&(v[0]+=l),l=p.makeTime.apply(p,v)-f}return d&&Fi(r)?f+l:(this.xIncrement=f+l,f)}setDataSortingOptions(){let r=this.options;su(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),Mi(r.pointRange)||(r.pointRange=1)}setOptions(r){var q,V;let l,c=this.chart,h=c.options.plotOptions,d=c.userOptions||{},p=Xh(r),f=c.styledMode,v={plotOptions:h,userOptions:p};ri(this,"setOptions",v);let b=v.plotOptions[this.type],T=d.plotOptions||{},E=T.series||{},A=bf.plotOptions[this.type]||{},P=T[this.type]||{};b.dataLabels=this.mergeArrays(A.dataLabels,b.dataLabels),this.userOptions=v.userOptions;let D=Xh(b,h.series,P,p);this.tooltipOptions=Xh(bf.tooltip,(q=bf.plotOptions.series)==null?void 0:q.tooltip,A==null?void 0:A.tooltip,c.userOptions.tooltip,(V=T.series)==null?void 0:V.tooltip,P.tooltip,p.tooltip),this.stickyTracking=si(p.stickyTracking,P.stickyTracking,E.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||D.stickyTracking),b.marker===null&&delete D.marker,this.zoneAxis=D.zoneAxis||"y";let $=this.zones=(D.zones||[]).map(Q=>({...Q}));return(D.negativeColor||D.negativeFillColor)&&!D.zones&&(l={value:D[this.zoneAxis+"Threshold"]||D.threshold||0,className:"highcharts-negative"},f||(l.color=D.negativeColor,l.fillColor=D.negativeFillColor),$.push(l)),$.length&&Mi($[$.length-1].value)&&$.push(f?{}:{color:this.color,fillColor:this.fillColor}),ri(this,"afterSetOptions",{options:D}),D}getName(){return this.options.name??ZP(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(r,l,c){let h,d,p=this.chart,f=`${r}Index`,v=`${r}Counter`,b=(c==null?void 0:c.length)||p.options.chart.colorCount;!l&&(Mi(d=si(r==="color"?this.options.colorIndex:void 0,this[f]))?h=d:(p.series.length||(p[v]=0),h=p[v]%b,p[v]+=1),c&&(l=c[h])),h!==void 0&&(this[f]=h),this[r]=l}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||bf.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let r=this.options.marker;this.getCyclic("symbol",r.symbol,this.chart.options.symbols)}getColumn(r,l){return(l?this.dataTable.modified:this.dataTable).getColumn(r,!0)||[]}findPointIndex(r,l){var E;let c,h,d,{id:p,x:f}=r,v=this.points,b=this.options.dataSorting,T=this.cropStart||0;if(p){let A=this.chart.get(p);A instanceof ci&&(c=A)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let A=P=>!P.touched&&P.index===r.index;if(b!=null&&b.matchByName?A=P=>!P.touched&&P.name===r.name:this.options.relativeXValue&&(A=P=>!P.touched&&P.options.x===r.x),!(c=iM(v,A)))return}return c&&(d=c==null?void 0:c.index)!==void 0&&(h=!0),d===void 0&&Fi(f)&&(d=this.getColumn("x").indexOf(f,l)),d!==-1&&d!==void 0&&this.cropped&&(d=d>=T?d-T:d),!h&&Fi(d)&&((E=v[d])!=null&&E.touched)&&(d=void 0),d}updateData(r,l){var $;let{options:c,requireSorting:h}=this,d=c.dataSorting,p=this.points,f=[],v=r.length===p.length,b,T,E,A,P=!0;if(this.xIncrement=null,r.forEach((q,V)=>{var xe;let Q,ee=Mi(q)&&this.pointClass.prototype.optionsToObject.call({series:this},q)||{},{id:Ee,x:fe}=ee;Ee||Fi(fe)?((Q=this.findPointIndex(ee,A))===-1||Q===void 0?f.push(q):p[Q]&&q!==((xe=c.data)==null?void 0:xe[Q])?(p[Q].update(q,!1,void 0,!1),p[Q].touched=!0,h&&(A=Q+1)):p[Q]&&(p[Q].touched=!0),(!v||V!==Q||d!=null&&d.enabled||this.hasDerivedData)&&(b=!0)):f.push(q)},this),b)for(T=p.length;T--;)(E=p[T])&&!E.touched&&(($=E.remove)==null||$.call(E,!1,l));else v&&!(d!=null&&d.enabled)?(r.forEach((q,V)=>{q===p[V].y||p[V].destroyed||p[V].update(q,!1,void 0,!1)}),f.length=0):P=!1;if(p.forEach(q=>{q&&(q.touched=!1)}),!P)return!1;f.forEach(q=>{this.addPoint(q,!1,void 0,void 0,!1)},this);let D=this.getColumn("x");return this.xIncrement===null&&D.length&&(this.xIncrement=Qy(D),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(r,l=!0,c,h){var Ve,Ae;let d=this.points,p=(d==null?void 0:d.length)||0,f=this.options,v=this.chart,b=f.dataSorting,T=this.xAxis,E=f.turboThreshold,A=this.dataTable,P=this.dataColumnKeys(),D=this.pointValKey||"y",$=(this.pointArrayMap||[]).length,q=f.keys,V,Q,ee=0,Ee=1,fe;v.options.chart.allowMutatingData||(f.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,fe=Xh(!0,r));let xe=(r=fe||r||[]).length;if(b!=null&&b.enabled&&(r=this.sortData(r)),v.options.chart.allowMutatingData&&h!==!1&&xe&&p&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(Q=this.updateData(r,c)),!Q){this.xIncrement=null,this.colorCounter=0;let Le=E&&!f.relativeXValue&&xe>E;if(Le){let it=this.getFirstValidPoint(r),lt=this.getFirstValidPoint(r,xe-1,-1),kt=jt=>!!(R_(jt)&&(q||Fi(jt[0])));if(Fi(it)&&Fi(lt)){let jt=[],zt=[];for(let Ft of r)jt.push(this.autoIncrement()),zt.push(Ft);A.setColumns({x:jt,[D]:zt})}else if(kt(it)&&kt(lt))if($){let jt=+(it.length===$),zt=Array(P.length).fill(0).map(()=>[]);for(let Ft of r){jt&&zt[0].push(this.autoIncrement());for(let Wt=jt;Wt<=$;Wt++)(Ve=zt[Wt])==null||Ve.push(Ft[Wt-jt])}A.setColumns(P.reduce((Ft,Wt,Rt)=>(Ft[Wt]=zt[Rt],Ft),{}))}else{q&&(ee=q.indexOf("x"),Ee=q.indexOf("y"),ee=ee>=0?ee:0,Ee=Ee>=0?Ee:1),it.length===1&&(Ee=0);let jt=[],zt=[];if(ee===Ee)for(let Ft of r)jt.push(this.autoIncrement()),zt.push(Ft[Ee]);else for(let Ft of r)jt.push(Ft[ee]),zt.push(Ft[Ee]);A.setColumns({x:jt,[D]:zt})}else Le=!1}if(!Le){let it=P.reduce((lt,kt)=>(lt[kt]=[],lt),{});for(V=0;V<xe;V++){let lt=this.pointClass.prototype.applyOptions.apply({series:this},[r[V]]);for(let kt of P)it[kt][V]=lt[kt]}A.setColumns(it)}for(sM(this.getColumn("y")[0])&&wf(14,!0,v),this.data=[],this.options.data=this.userOptions.data=r,V=p;V--;)(Ae=d[V])==null||Ae.destroy();T&&(T.minRange=T.userMinRange),this.isDirty=v.isDirtyBox=!0,this.isDirtyData=!!d,c=!1}f.legendType==="point"&&(this.processData(),this.generatePoints()),l&&v.redraw(c)}sortData(r){let l=this,c=l.options.dataSorting.sortKey||"y",h=function(d,p){return Mi(p)&&d.pointClass.prototype.optionsToObject.call({series:d},p)||{}};return r.forEach(function(d,p){r[p]=h(l,d),r[p].index=p},this),r.concat().sort((d,p)=>{let f=P_(c,d),v=P_(c,p);return v<f?-1:+(v>f)}).forEach(function(d,p){d.x=p},this),l.linkedSeries&&l.linkedSeries.forEach(function(d){var v;let p=d.options,f=p.data;!((v=p.dataSorting)!=null&&v.enabled)&&f&&(f.forEach(function(b,T){f[T]=h(d,b),r[T]&&(f[T].x=r[T].x,f[T].index=T)}),d.setData(f,!1))}),r}getProcessedData(r){let l=this,{dataTable:c,isCartesian:h,options:d,xAxis:p}=l,f=d.cropThreshold,v=r||l.getExtremesFromAll,b=p==null?void 0:p.logarithmic,T=c.rowCount,E,A,P=0,D,$,q,V=l.getColumn("x"),Q=c,ee=!1;return p&&($=(D=p.getExtremes()).min,q=D.max,ee=!!(p.categories&&!p.names.length),h&&l.sorted&&!v&&(!f||T>f||l.forceCrop)&&(V[T-1]<$||V[0]>q?Q=new xf:l.getColumn(l.pointValKey||"y").length&&(V[0]<$||V[T-1]>q)&&(Q=(E=this.cropData(c,$,q)).modified,P=E.start,A=!0))),V=Q.getColumn("x")||[],{modified:Q,cropped:A,cropStart:P,closestPointRange:rM([b?V.map(b.log2lin):V],()=>l.requireSorting&&!ee&&wf(15,!1,l.chart))}}processData(r){let l=this.xAxis,c=this.dataTable;if(this.isCartesian&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!r)return!1;let h=this.getProcessedData();c.modified=h.modified,this.cropped=h.cropped,this.cropStart=h.cropStart,this.closestPointRange=this.basePointRange=h.closestPointRange,ri(this,"afterProcessData")}cropData(r,l,c){let h=r.getColumn("x",!0)||[],d=h.length,p={},f,v,b=0,T=d;for(f=0;f<d;f++)if(h[f]>=l){b=Math.max(0,f-1);break}for(v=f;v<d;v++)if(h[v]>c){T=v+1;break}for(let E of this.dataColumnKeys()){let A=r.getColumn(E,!0);A&&(p[E]=A.slice(b,T))}return{modified:new xf({columns:p}),start:b,end:T}}generatePoints(){var fe,xe,Ve;let r=this.options,l=this.processedData||r.data,c=this.dataTable.modified,h=this.getColumn("x",!0),d=this.pointClass,p=c.rowCount,f=this.cropStart||0,v=this.hasGroupedData,b=r.keys,T=[],E=(fe=r.dataGrouping)!=null&&fe.groupAll?f:0,A=(xe=this.xAxis)==null?void 0:xe.categories,P=this.pointArrayMap||["y"],D=this.dataColumnKeys(),$,q,V,Q,ee=this.data,Ee;if(!ee&&!v){let Ae=[];Ae.length=(l==null?void 0:l.length)||0,ee=this.data=Ae}for(b&&v&&(this.options.keys=!1),Q=0;Q<p;Q++)q=f+Q,v?((V=new d(this,c.getRow(Q,D)||[])).dataGroup=this.groupMap[E+Q],(Ve=V.dataGroup)!=null&&Ve.options&&(V.options=V.dataGroup.options,su(V,V.dataGroup.options),delete V.dataLabels)):(V=ee[q],Ee=l?l[q]:c.getRow(Q,P),V||Ee===void 0||(ee[q]=V=new d(this,Ee,h[Q]))),V&&(V.index=v?E+Q:q,T[Q]=V,V.category=(A==null?void 0:A[V.x])??V.x,V.key=V.name??V.category);if(this.options.keys=b,ee&&(p!==($=ee.length)||v))for(Q=0;Q<$;Q++)Q!==f||v||(Q+=p),ee[Q]&&(ee[Q].destroyElements(),ee[Q].plotX=void 0);this.data=ee,this.points=T,ri(this,"afterGeneratePoints")}getXExtremes(r){return{min:A_(r),max:Qy(r)}}getExtremes(r,l){var fe;let{xAxis:c,yAxis:h}=this,d=l||this.getExtremesFromAll||this.options.getExtremesFromAll,p=d&&this.cropped?this.dataTable:this.dataTable.modified,f=p.rowCount,v=r||this.stackedYData,b=v?[v]:((fe=this.keysAffectYAxis||this.pointArrayMap||["y"])==null?void 0:fe.map(xe=>p.getColumn(xe,!0)||[]))||[],T=this.getColumn("x",!0),E=[],A=this.requireSorting&&!this.is("column")?1:0,P=!!h&&h.positiveValuesOnly,D=d||this.cropped||!c,$,q,V,Q=0,ee=0;for(c&&(Q=($=c.getExtremes()).min,ee=$.max),V=0;V<f;V++)if(q=T[V],D||(T[V+A]||q)>=Q&&(T[V-A]||q)<=ee)for(let xe of b){let Ve=xe[V];Fi(Ve)&&(Ve>0||!P)&&E.push(Ve)}let Ee={activeYData:E,dataMin:A_(E),dataMax:Qy(E)};return ri(this,"afterGetExtremes",{dataExtremes:Ee}),Ee}applyExtremes(){let r=this.getExtremes();return this.dataMin=r.dataMin,this.dataMax=r.dataMax,r}getFirstValidPoint(r,l=0,c=1){let h=r.length,d=l;for(;d>=0&&d<h;){if(Mi(r[d]))return r[d];d+=c}}translate(){var ee;this.generatePoints();let r=this.options,l=r.stacking,c=this.xAxis,h=this.enabledDataSorting,d=this.yAxis,p=this.points,f=p.length,v=this.pointPlacementToXValue(),b=!!v,T=r.threshold,E=r.startFromThreshold?T:0,A=(r==null?void 0:r.nullInteraction)&&d.len,P,D,$,q,V=Number.MAX_VALUE;function Q(Ee){return N_(Ee,-1e9,1e9)}for(P=0;P<f;P++){let Ee,fe=p[P],xe=fe.x,Ve,Ae,Le=fe.y,it=fe.low,lt=l&&((ee=d.stacking)==null?void 0:ee.stacks[(this.negStacks&&Le<(E?0:T)?"-":"")+this.stackKey]);fe.plotX=Fi(D=c.translate(xe,!1,!1,!1,!0,v))?j_(Q(D)):void 0,l&&this.visible&&lt&&lt[xe]&&(q=this.getStackIndicator(q,xe,this.index),!fe.isNull&&q.key&&(Ae=(Ve=lt[xe]).points[q.key]),Ve&&R_(Ae)&&(it=Ae[0],Le=Ae[1],it===E&&q.key===lt[xe].base&&(it=si(Fi(T)?T:d.min)),d.positiveValuesOnly&&Mi(it)&&it<=0&&(it=void 0),fe.total=fe.stackTotal=si(Ve.total),fe.percentage=Mi(fe.y)&&Ve.total?fe.y/Ve.total*100:void 0,fe.stackY=Le,this.irregularWidths||Ve.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),fe.yBottom=Mi(it)?Q(d.translate(it,!1,!0,!1,!0)):void 0,this.dataModify&&(Le=this.dataModify.modifyValue(Le,P)),Fi(Le)&&fe.plotX!==void 0?Ee=Fi(Ee=d.translate(Le,!1,!0,!1,!0))?Q(Ee):void 0:!Fi(Le)&&A&&(Ee=A),fe.plotY=Ee,fe.isInside=this.isPointInside(fe),fe.clientX=b?j_(c.translate(xe,!1,!1,!1,!0,v)):D,fe.negative=(fe.y||0)<(T||0),fe.isNull||fe.visible===!1||($!==void 0&&(V=Math.min(V,Math.abs(D-$))),$=D),fe.zone=this.zones.length?fe.getZone():void 0,!fe.graphic&&this.group&&h&&(fe.isNew=!0)}this.closestPointRangePx=V,ri(this,"afterTranslate")}getValidPoints(r,l,c){let h=this.chart;return(r||this.points||[]).filter(function(d){let{plotX:p,plotY:f}=d;return(!!c||!d.isNull&&!!Fi(f))&&(!l||!!h.isInsidePlot(p,f,{inverted:h.inverted}))&&d.visible!==!1})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:r,group:l,markerGroup:c}=this,h=r.sharedClips,d=r.renderer,p=r.getClipBox(this),f=this.getSharedClipKey(),v=h[f];v?v.animate(p):h[f]=v=d.clipRect(p),l&&l.clip(this.options.clip===!1?void 0:v),c&&c.clip()}animate(r){let{chart:l,group:c,markerGroup:h}=this,d=l.inverted,p=S_(this.options.animation),f=[this.getSharedClipKey(),p.duration,p.easing,p.defer].join(","),v=l.sharedClips[f],b=l.sharedClips[f+"m"];if(r&&c){let T=l.getClipBox(this);if(v)v.attr("height",T.height);else{T.width=0,d&&(T.x=l.plotHeight),v=l.renderer.clipRect(T),l.sharedClips[f]=v;let E={x:-99,y:-99,width:d?l.plotWidth+199:99,height:d?99:l.plotHeight+199};b=l.renderer.clipRect(E),l.sharedClips[f+"m"]=b}c.clip(v),h==null||h.clip(b)}else if(v&&!v.hasClass("highcharts-animating")){let T=l.getClipBox(this),E=p.step;(h!=null&&h.element.childNodes.length||l.series.length>1)&&(p.step=function(A,P){E&&E.apply(P,arguments),P.prop==="width"&&(b!=null&&b.element)&&b.attr(d?"height":"width",A+99)}),v.addClass("highcharts-animating").animate(T,p)}}afterAnimate(){this.setClip(),Jy(this.chart.sharedClips,(r,l,c)=>{r&&!this.chart.container.querySelector(`[clip-path="url(#${r.id})"]`)&&(r.destroy(),delete c[l])}),this.finishedAnimating=!0,ri(this,"afterAnimate")}drawPoints(r=this.points){let l,c,h,d,p,f,v,b=this.chart,T=b.styledMode,{colorAxis:E,options:A}=this,P=A.marker,D=A.nullInteraction,$=this[this.specialGroup||"markerGroup"],q=this.xAxis,V=si(P.enabled,!q||!!q.isRadial||null,this.closestPointRangePx>=P.enabledThreshold*P.radius);if(P.enabled!==!1||this._hasPointMarkers)for(l=0;l<r.length;l++){d=(h=(c=r[l]).graphic)?"animate":"attr",p=c.marker||{},f=!!c.marker;let Q=c.isNull;if((V&&!Mi(p.enabled)||p.enabled)&&(!Q||D)&&c.visible!==!1){let ee=si(p.symbol,this.symbol,"rect");v=this.markerAttribs(c,c.selected&&"select"),this.enabledDataSorting&&(c.startXPos=q.reversed?-(v.width||0):q.width);let Ee=c.isInside!==!1;if(!h&&Ee&&((v.width||0)>0||c.hasImage)&&(c.graphic=h=b.renderer.symbol(ee,v.x,v.y,v.width,v.height,f?p:P).add($),this.enabledDataSorting&&b.hasRendered&&(h.attr({x:c.startXPos}),d="animate")),h&&d==="animate"&&h[Ee?"show":"hide"](Ee).animate(v),h){let fe=this.pointAttribs(c,T||!c.selected?void 0:"select");T?E&&h.css({fill:fe.fill}):h[d](fe)}h&&h.addClass(c.getClassName(),!0)}else h&&(c.graphic=h.destroy())}}markerAttribs(r,l){let c=this.options,h=c.marker,d=r.marker||{},p=d.symbol||h.symbol,f={},v,b,T=si(d.radius,h==null?void 0:h.radius);l&&(v=h.states[l],b=d.states&&d.states[l],T=si(b==null?void 0:b.radius,v==null?void 0:v.radius,T&&T+((v==null?void 0:v.radiusPlus)||0))),r.hasImage=p&&p.indexOf("url")===0,r.hasImage&&(T=0);let E=r.pos();return Fi(T)&&E&&(c.crisp&&(E[0]=eM(E[0],r.hasImage?0:p==="rect"?(h==null?void 0:h.lineWidth)||0:1)),f.x=E[0]-T,f.y=E[1]-T),T&&(f.width=f.height=2*T),f}pointAttribs(r,l){var V;let c=this.options,h=c.marker,d=r==null?void 0:r.options,p=(d==null?void 0:d.marker)||{},f=d==null?void 0:d.color,v=r==null?void 0:r.color,b=(V=r==null?void 0:r.zone)==null?void 0:V.color,T,E,A=this.color,P,D,$=si(p.lineWidth,h.lineWidth),q=r!=null&&r.isNull&&c.nullInteraction?0:1;return A=f||b||v||A,P=p.fillColor||h.fillColor||A,D=p.lineColor||h.lineColor||A,l=l||"normal",T=h.states[l]||{},$=si((E=p.states&&p.states[l]||{}).lineWidth,T.lineWidth,$+si(E.lineWidthPlus,T.lineWidthPlus,0)),P=E.fillColor||T.fillColor||P,D=E.lineColor||T.lineColor||D,{stroke:D,"stroke-width":$,fill:P,opacity:q=si(E.opacity,T.opacity,q)}}destroy(r){var v,b;let l,c,h=this,d=h.chart,p=/AppleWebKit\/533/.test(JP.navigator.userAgent),f=h.data||[];for(ri(h,"destroy",{keepEventsForUpdate:r}),this.removeEvents(r),(h.axisTypes||[]).forEach(function(T){c=h[T],c!=null&&c.series&&(I_(c.series,h),c.isDirty=c.forceRedraw=!0)}),h.legendItem&&h.chart.legend.destroyItem(h),l=f.length;l--;)(b=(v=f[l])==null?void 0:v.destroy)==null||b.call(v);for(let T of h.zones)tM(T,void 0,!0);Pe.clearTimeout(h.animationTimeout),Jy(h,function(T,E){T instanceof cr&&!T.survive&&T[p&&E==="group"?"hide":"destroy"]()}),d.hoverSeries===h&&(d.hoverSeries=void 0),I_(d.series,h),d.orderItems("series"),Jy(h,function(T,E){r&&E==="hcEvents"||delete h[E]})}applyZones(){let{area:r,chart:l,graph:c,zones:h,points:d,xAxis:p,yAxis:f,zoneAxis:v}=this,{inverted:b,renderer:T}=l,E=this[`${v}Axis`],{isXAxis:A,len:P=0,minPointOffset:D=0}=E||{},$=((c==null?void 0:c.strokeWidth())||0)/2+1,q=(V,Q=0,ee=0)=>{b&&(ee=P-ee);let{translated:Ee=0,lineClip:fe}=V,xe=ee-Ee;fe==null||fe.push(["L",Q,Math.abs(xe)<$?ee-$*(xe<=0?-1:1):Ee])};if(h.length&&(c||r)&&E&&Fi(E.min)){let V=E.getExtremes().max+D,Q=fe=>{fe.forEach((xe,Ve)=>{(xe[0]==="M"||xe[0]==="L")&&(fe[Ve]=[xe[0],A?P-xe[1]:xe[1],A?xe[2]:P-xe[2]])})};if(h.forEach(fe=>{fe.lineClip=[],fe.translated=N_(E.toPixels(si(fe.value,V),!0)||0,0,P)}),c&&!this.showLine&&c.hide(),r&&r.hide(),v==="y"&&d.length<p.len)for(let fe of d){let{plotX:xe,plotY:Ve,zone:Ae}=fe,Le=Ae&&h[h.indexOf(Ae)-1];Ae&&q(Ae,xe,Ve),Le&&q(Le,xe,Ve)}let ee=[],Ee=E.toPixels(E.getExtremes().min-D,!0);h.forEach(fe=>{var Wt,Rt;let xe=fe.lineClip||[],Ve=Math.round(fe.translated||0);p.reversed&&xe.reverse();let{clip:Ae,simpleClip:Le}=fe,it=0,lt=0,kt=p.len,jt=f.len;A?(it=Ve,kt=Ee):(lt=Ve,jt=Ee);let zt=[["M",it,lt],["L",kt,lt],["L",kt,jt],["L",it,jt],["Z"]],Ft=[zt[0],...xe,zt[1],zt[2],...ee,zt[3],zt[4]];ee=xe.reverse(),Ee=Ve,b&&(Q(Ft),r&&Q(zt)),Ae?(Ae.animate({d:Ft}),Le==null||Le.animate({d:zt})):(Ae=fe.clip=T.path(Ft),r&&(Le=fe.simpleClip=T.path(zt))),c&&((Wt=fe.graph)==null||Wt.clip(Ae)),r&&((Rt=fe.area)==null||Rt.clip(Le))})}else this.visible&&(c&&c.show(),r&&r.show())}plotGroup(r,l,c,h,d){let p=this[r],f=!p,v={visibility:c,zIndex:h||.1};return Mi(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(v.opacity=this.opacity),p||(this[r]=p=this.chart.renderer.g().add(d)),p.addClass("highcharts-"+l+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(Mi(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(p.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),p.attr(v)[f?"attr":"animate"](this.getPlotBox(l)),p}getPlotBox(r){let l=this.xAxis,c=this.yAxis,h=this.chart,d=h.inverted&&!h.polar&&l&&this.invertible&&r==="series";h.inverted&&(l=c,c=this.xAxis);let p={scale:1,translateX:l?l.left:h.plotLeft,translateY:c?c.top:h.plotTop,name:r};ri(this,"getPlotBox",p);let{scale:f,translateX:v,translateY:b}=p;return{translateX:v,translateY:b,rotation:90*!!d,rotationOriginX:d?f*(l.len-c.len)/2:0,rotationOriginY:d?f*(l.len+c.len)/2:0,scaleX:d?-f:f,scaleY:f}}removeEvents(r){let{eventsToUnbind:l}=this;r||oM(this),l.length&&(l.forEach(c=>{c()}),l.length=0)}render(){var T,E,A,P,D;let r=this,{chart:l,options:c,hasRendered:h}=r,d=S_(c.animation),p=r.visible?"inherit":"hidden",f=c.zIndex,v=l.seriesGroup,b=r.finishedAnimating?0:d.duration;ri(this,"render"),r.plotGroup("group","series",p,f,v),r.markerGroup=r.plotGroup("markerGroup","markers",p,f,v),c.clip!==!1&&r.setClip(),b&&((T=r.animate)==null||T.call(r,!0)),r.drawGraph&&(r.drawGraph(),r.applyZones()),r.visible&&r.drawPoints(),(E=r.drawDataLabels)==null||E.call(r),(A=r.redrawPoints)==null||A.call(r),c.enableMouseTracking&&((P=r.drawTracker)==null||P.call(r)),b&&((D=r.animate)==null||D.call(r)),h||(b&&d.defer&&(b+=d.defer),r.animationTimeout=D_(()=>{r.afterAnimate()},b||0)),r.isDirty=!1,r.hasRendered=!0,ri(r,"afterRender")}redraw(){let r=this.isDirty||this.isDirtyData;this.translate(),this.render(),r&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(r,l){let{xAxis:c,yAxis:h}=this,d=this.chart.inverted;return this.searchKDTree({clientX:d?c.len-r.chartY+c.pos:r.chartX-c.pos,plotY:d?h.len-r.chartX+h.pos:r.chartY-h.pos},l,r)}buildKDTree(r){this.buildingKdTree=!0;let l=this,c=l.options,h=c.findNearestPointBy.indexOf("y")>-1?2:1;delete l.kdTree,D_(function(){l.kdTree=function d(p,f,v){let b,T,E=p==null?void 0:p.length;if(E)return b=l.kdAxisArray[f%v],p.sort((A,P)=>(A[b]||0)-(P[b]||0)),{point:p[T=Math.floor(E/2)],left:d(p.slice(0,T),f+1,v),right:d(p.slice(T+1),f+1,v)}}(l.getValidPoints(void 0,!l.directTouch,c==null?void 0:c.nullInteraction),h,h),l.buildingKdTree=!1},c.kdNow||(r==null?void 0:r.type)==="touchstart"?0:1)}searchKDTree(r,l,c,h,d){let p=this,[f,v]=this.kdAxisArray,b=l?"distX":"dist",T=(p.options.findNearestPointBy||"").indexOf("y")>-1?2:1,E=!!p.isBubble,A=h||((D,$,q)=>{let V=D[q]||0,Q=$[q]||0;return[V===Q&&D.index>$.index||V<Q?D:$,!1]}),P=d||((D,$)=>D<$);if(this.kdTree||this.buildingKdTree||this.buildKDTree(c),this.kdTree)return function D($,q,V,Q){var it;let ee=q.point,Ee=p.kdAxisArray[V%Q],fe=ee,xe=!1;(function(lt,kt){var _n;let jt=lt[f],zt=kt[f],Ft=Mi(jt)&&Mi(zt)?jt-zt:null,Wt=lt[v],Rt=kt[v],Yt=Mi(Wt)&&Mi(Rt)?Wt-Rt:0,pn=E&&((_n=kt.marker)==null?void 0:_n.radius)||0;kt.dist=Math.sqrt((Ft&&Ft*Ft||0)+Yt*Yt)-pn,kt.distX=Mi(Ft)?Math.abs(Ft)-pn:Number.MAX_VALUE})($,ee);let Ve=($[Ee]||0)-(ee[Ee]||0)+(E&&((it=ee.marker)==null?void 0:it.radius)||0),Ae=Ve<0?"left":"right",Le=Ve<0?"right":"left";return q[Ae]&&([fe,xe]=A(ee,D($,q[Ae],V+1,Q),b)),q[Le]&&P(Math.sqrt(Ve*Ve),fe[b],xe)&&(fe=A(fe,D($,q[Le],V+1,Q),b)[0]),fe}(r,this.kdTree,T,T)}pointPlacementToXValue(){let{options:r,xAxis:l}=this,c=r.pointPlacement;return c==="between"&&(c=l.reversed?-.5:.5),Fi(c)?c*(r.pointRange||l.pointRange):0}isPointInside(r){let{chart:l,xAxis:c,yAxis:h}=this,{plotX:d=-1,plotY:p=-1}=r;return p>=0&&p<=(h?h.len:l.plotHeight)&&d>=0&&d<=(c?c.len:l.plotWidth)}drawTracker(){var A;let r=this,l=r.options,c=l.trackByArea,h=[].concat((c?r.areaPath:r.graphPath)||[]),d=r.chart,p=d.pointer,f=d.renderer,v=((A=d.options.tooltip)==null?void 0:A.snap)||0,b=()=>{l.enableMouseTracking&&d.hoverSeries!==r&&r.onMouseOver()},T="rgba(192,192,192,"+(QP?1e-4:.002)+")",E=r.tracker;E?E.attr({d:h}):r.graph&&(r.tracker=E=f.path(h).attr({visibility:r.visible?"inherit":"hidden",zIndex:2}).addClass(c?"highcharts-tracker-area":"highcharts-tracker-line").add(r.group),d.styledMode||E.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:T,fill:c?T:"none","stroke-width":r.graph.strokeWidth()+(c?0:2*v)}),[r.tracker,r.markerGroup,r.dataLabelsGroup].forEach(P=>{P&&(P.addClass("highcharts-tracker").on("mouseover",b).on("mouseout",D=>{p==null||p.onTrackerMouseOut(D)}),l.cursor&&!d.styledMode&&P.css({cursor:l.cursor}),P.on("touchstart",b))})),ri(this,"afterDrawTracker")}addPoint(r,l,c,h,d){let p,f,v=this.options,{chart:b,data:T,dataTable:E,xAxis:A}=this,P=(A==null?void 0:A.hasNames)&&A.names,D=v.data,$=this.getColumn("x");l=si(l,!0);let q={series:this};this.pointClass.prototype.applyOptions.apply(q,[r]);let V=q.x;if(f=$.length,this.requireSorting&&V<$[f-1])for(p=!0;f&&$[f-1]>V;)f--;E.setRow(q,f,!0,{addColumns:!1}),P&&q.name&&(P[V]=q.name),D==null||D.splice(f,0,r),(p||this.processedData)&&(this.data.splice(f,0,null),this.processData()),v.legendType==="point"&&this.generatePoints(),c&&(T[0]&&T[0].remove?T[0].remove(!1):([T,D].filter(Mi).forEach(Q=>{Q.shift()}),E.deleteRows(0))),d!==!1&&ri(this,"addPoint",{point:q}),this.isDirty=!0,this.isDirtyData=!0,l&&b.redraw(h)}removePoint(r,l,c){let h=this,{chart:d,data:p,points:f,dataTable:v}=h,b=p[r],T=function(){[(f==null?void 0:f.length)===p.length?f:void 0,p,h.options.data].filter(Mi).forEach(E=>{E.splice(r,1)}),v.deleteRows(r),b==null||b.destroy(),h.isDirty=!0,h.isDirtyData=!0,l&&d.redraw()};YP(c,d),l=si(l,!0),b?b.firePointEvent("remove",null,T):T()}remove(r,l,c,h){let d=this,p=d.chart;function f(){d.destroy(h),p.isDirtyLegend=p.isDirtyBox=!0,p.linkSeries(h),si(r,!0)&&p.redraw(l)}c!==!1?ri(d,"remove",null,f):f()}update(r,l){var V,Q;ri(this,"update",{options:r=nM(r,this.userOptions)});let c=this,h=c.chart,d=c.userOptions,p=c.initialType||c.type,f=h.options.plotOptions,v=ru[p].prototype,b=c.finishedAnimating&&{animation:!1},T={},E,A,P=Rs.keepProps.slice(),D=r.type||d.type||h.options.chart.type,$=!(this.hasDerivedData||D&&D!==this.type||r.keys!==void 0||r.pointStart!==void 0||r.pointInterval!==void 0||r.relativeXValue!==void 0||r.joinBy||r.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(ee=>c.hasOptionChanged(ee)));D=D||p,$?(P.push.apply(P,Rs.keepPropsForPoints),r.visible!==!1&&P.push("area","graph"),c.parallelArrays.forEach(function(ee){P.push(ee+"Data")}),r.data&&(r.dataSorting&&su(c.options.dataSorting,r.dataSorting),this.setData(r.data,!1))):this.dataTable.modified=this.dataTable,r=Xh(d,{index:d.index===void 0?c.index:d.index,pointStart:((V=f==null?void 0:f.series)==null?void 0:V.pointStart)??d.pointStart??c.getColumn("x")[0]},!$&&{data:c.options.data},r,b),$&&r.data&&(r.data=c.options.data),(P=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(P)).forEach(function(ee){P[ee]=c[ee],delete c[ee]});let q=!1;if(ru[D]){if(q=D!==c.type,c.remove(!1,!1,!1,!0),q)if(h.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(c,ru[D].prototype);else{let ee=Object.hasOwnProperty.call(c,"hcEvents")&&c.hcEvents;for(A in v)c[A]=void 0;su(c,ru[D].prototype),ee?c.hcEvents=ee:delete c.hcEvents}}else wf(17,!0,h,{missingModuleFor:D});if(P.forEach(function(ee){c[ee]=P[ee]}),c.init(h,r),$&&this.points)for(let ee of((E=c.options).visible===!1?(T.graphic=1,T.dataLabel=1):(this.hasMarkerChanged(E,d)&&(T.graphic=1),(Q=c.hasDataLabels)!=null&&Q.call(c)||(T.dataLabel=1)),this.points))ee!=null&&ee.series&&(ee.resolveColor(),Object.keys(T).length&&ee.destroyElements(T),E.showInLegend===!1&&ee.legendItem&&h.legend.destroyItem(ee));c.initialType=p,h.linkSeries(),h.setSortedData(),q&&c.linkedSeries.length&&(c.isDirtyData=!0),ri(this,"afterUpdate"),si(l,!0)&&h.redraw(!!$&&void 0)}setName(r){this.name=this.options.name=this.userOptions.name=r,this.chart.isDirtyLegend=!0}hasOptionChanged(r){var f,v;let l=this.chart,c=this.options[r],h=l.options.plotOptions,d=this.userOptions[r],p=si((f=h==null?void 0:h[this.type])==null?void 0:f[r],(v=h==null?void 0:h.series)==null?void 0:v[r]);return d&&!Mi(p)?c!==d:c!==si(p,c)}onMouseOver(){let r=this.chart,l=r.hoverSeries,c=r.pointer;c==null||c.setHoverChartIndex(),l&&l!==this&&l.onMouseOut(),this.options.events.mouseOver&&ri(this,"mouseOver"),this.setState("hover"),r.hoverSeries=this}onMouseOut(){let r=this.options,l=this.chart,c=l.tooltip,h=l.hoverPoint;l.hoverSeries=null,h&&h.onMouseOut(),this&&r.events.mouseOut&&ri(this,"mouseOut"),c&&!this.stickyTracking&&(!c.shared||this.noSharedTooltip)&&c.hide(),l.series.forEach(function(d){d.setState("",!0)})}setState(r,l){let c=this,h=c.options,d=c.graph,p=h.inactiveOtherPoints,f=h.states,v=si(f[r||"normal"]&&f[r||"normal"].animation,c.chart.options.chart.animation),b=h.lineWidth,T=h.opacity;if(r=r||"",c.state!==r&&([c.group,c.markerGroup,c.dataLabelsGroup].forEach(function(E){E&&(c.state&&E.removeClass("highcharts-series-"+c.state),r&&E.addClass("highcharts-series-"+r))}),c.state=r,!c.chart.styledMode)){if(f[r]&&f[r].enabled===!1)return;if(r&&(b=f[r].lineWidth||b+(f[r].lineWidthPlus||0),T=si(f[r].opacity,T)),d&&!d.dashstyle&&Fi(b))for(let E of[d,...this.zones.map(A=>A.graph)])E==null||E.animate({"stroke-width":b},v);p||[c.group,c.markerGroup,c.dataLabelsGroup,c.labelBySeries].forEach(function(E){E&&E.animate({opacity:T},v)})}l&&p&&c.points&&c.setAllPointsToState(r||void 0)}setAllPointsToState(r){this.points.forEach(function(l){l.setState&&l.setState(r)})}setVisible(r,l){var v;let c=this,h=c.chart,d=h.options.chart.ignoreHiddenSeries,p=c.visible;c.visible=r=c.options.visible=c.userOptions.visible=r===void 0?!p:r;let f=r?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(b=>{var T;(T=c[b])==null||T[f]()}),(h.hoverSeries===c||((v=h.hoverPoint)==null?void 0:v.series)===c)&&c.onMouseOut(),c.legendItem&&h.legend.colorizeItem(c,r),c.isDirty=!0,c.options.stacking&&h.series.forEach(b=>{b.options.stacking&&b.visible&&(b.isDirty=!0)}),c.linkedSeries.forEach(b=>{b.setVisible(r,!1)}),d&&(h.isDirtyBox=!0),ri(c,f),l!==!1&&h.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(r){this.selected=r=this.options.selected=r===void 0?!this.selected:r,this.checkbox&&(this.checkbox.checked=r),ri(this,r?"select":"unselect")}shouldShowTooltip(r,l,c={}){return c.series=this,c.visiblePlotOnly=!0,this.chart.isInsidePlot(r,l,c)}drawLegendSymbol(r,l){var c;(c=T_[this.options.legendSymbol||"rectangle"])==null||c.call(this,r,l)}}Rs.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:w}=this.series.chart;return typeof this.y!="number"?"":w(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},Rs.types=ui.seriesTypes,Rs.registerType=ui.registerSeriesType,Rs.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],Rs.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],su(Rs.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:ci,requireSorting:!0,sorted:!0}),ui.series=Rs;let Mr=Rs,{animObject:aM,setAnimation:lM}=St,{registerEventOptions:O_}=wa,{composed:cM,marginNames:L_}=M,{distribute:uM}=da,{format:hM}=wi,{addEvent:_f,createElement:dM,css:pM,defined:Zy,discardElement:fM,find:mM,fireEvent:Do,isNumber:F_,merge:zl,pick:Ds,pushUnique:gM,relativeLength:yM,stableSort:vM,syncTimeout:xM}=Pe;class ev{constructor(r,l){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=r,this.setOptions(l),l.enabled&&(this.render(),O_(this,l),_f(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),_f(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(r){let l=Ds(r.padding,8);this.options=r,this.chart.styledMode||(this.itemStyle=r.itemStyle,this.itemHiddenStyle=zl(this.itemStyle,r.itemHiddenStyle)),this.itemMarginTop=r.itemMarginTop,this.itemMarginBottom=r.itemMarginBottom,this.padding=l,this.initialItemY=l-5,this.symbolWidth=Ds(r.symbolWidth,16),this.pages=[],this.proximate=r.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(r,l){let c=this.chart;this.setOptions(zl(!0,this.options,r)),"events"in this.options&&O_(this,this.options),this.destroy(),c.isDirtyLegend=c.isDirtyBox=!0,Ds(l,!0)&&c.redraw(),Do(this,"afterUpdate",{redraw:l})}colorizeItem(r,l){var b;let c=r.color,{area:h,group:d,label:p,line:f,symbol:v}=r.legendItem||{};if((r instanceof Mr||r instanceof ci)&&(r.color=((b=r.options)==null?void 0:b.legendSymbolColor)||c),d==null||d[l?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:T={}}=this,E=T.color,{fillColor:A,fillOpacity:P,lineColor:D,marker:$}=r.options,q=V=>(!l&&(V.fill&&(V.fill=E),V.stroke&&(V.stroke=E)),V);p==null||p.css(zl(l?this.itemStyle:T)),f==null||f.attr(q({stroke:D||r.color})),v&&v.attr(q($&&v.isMarker?r.pointAttribs():{fill:r.color})),h==null||h.attr(q({fill:A||r.color,"fill-opacity":A?1:P??.75}))}r.color=c,Do(this,"afterColorizeItem",{item:r,visible:l})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(r){let{group:l,x:c=0,y:h=0}=r.legendItem||{},d=this.options,p=d.symbolPadding,f=!d.rtl,v=r.checkbox;if(l!=null&&l.element){let b={translateX:f?c:this.legendWidth-c-2*p-4,translateY:h};l[Zy(l.translateY)?"animate":"attr"](b,void 0,()=>{Do(this,"afterPositionItem",{item:r})})}v&&(v.x=c,v.y=h)}destroyItem(r){let l=r.legendItem||{};for(let c of["group","label","line","symbol"])l[c]&&(l[c]=l[c].destroy());r.checkbox=fM(r.checkbox),r.legendItem=void 0}destroy(){for(let r of this.getAllItems())this.destroyItem(r);for(let r of["clipRect","up","down","pager","nav","box","title","group"])this[r]&&(this[r]=this[r].destroy());this.display=null}positionCheckboxes(){var d;let r,l=(d=this.group)==null?void 0:d.alignAttr,c=this.clipHeight||this.legendHeight,h=this.titleHeight;l&&(r=l.translateY,this.allItems.forEach(function(p){let f,v=p.checkbox;v&&(f=r+h+v.y+(this.scrollOffset||0)+3,pM(v,{left:l.translateX+p.checkboxOffset+v.x-20+"px",top:f+"px",display:this.proximate||f>r-6&&f<r+c-6?"":"none"}))},this))}renderTitle(){let r=this.options,l=this.padding,c=r.title,h,d=0;c.text&&(this.title||(this.title=this.chart.renderer.label(c.text,l-3,l-4,void 0,void 0,void 0,r.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(c.style),this.title.add(this.group)),c.width||this.title.css({width:this.maxLegendWidth+"px"}),d=(h=this.title.getBBox()).height,this.offsetWidth=h.width,this.contentGroup.attr({translateY:d})),this.titleHeight=d}setText(r){let l=this.options;r.legendItem.label.attr({text:l.labelFormat?hM(l.labelFormat,r,this.chart):l.labelFormatter.call(r)})}renderItem(r){var Ve;let l=r.legendItem=r.legendItem||{},c=this.chart,h=c.renderer,d=this.options,p=d.layout==="horizontal",f=this.symbolWidth,v=d.symbolPadding||0,b=this.itemStyle,T=this.itemHiddenStyle,E=p?Ds(d.itemDistance,20):0,A=!d.rtl,P=!r.series,D=!P&&r.series.drawLegendSymbol?r.series:r,$=D.options,q=!!this.createCheckboxForItem&&$&&$.showCheckbox,V=d.useHTML,Q=r.options.className,ee=l.label,Ee=f+v+E+20*!!q;!ee&&(l.group=h.g("legend-item").addClass("highcharts-"+D.type+"-series highcharts-color-"+r.colorIndex+(Q?" "+Q:"")+(P?" highcharts-series-"+r.index:"")).attr({zIndex:1}).add(this.scrollGroup),l.label=ee=h.text("",A?f+v:-v,this.baseline||0,V),c.styledMode||ee.css(zl(r.visible?b:T)),ee.attr({align:A?"left":"right",zIndex:2}).add(l.group),!this.baseline&&(this.fontMetrics=h.fontMetrics(ee),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,ee.attr("y",this.baseline),this.symbolHeight=Ds(d.symbolHeight,this.fontMetrics.f),d.squareSymbol&&(this.symbolWidth=Ds(d.symbolWidth,Math.max(this.symbolHeight,16)),Ee=this.symbolWidth+v+E+20*!!q,A&&ee.attr("x",this.symbolWidth+v))),D.drawLegendSymbol(this,r),this.setItemEvents&&this.setItemEvents(r,ee,V)),q&&!r.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(r),this.colorizeItem(r,r.visible),(c.styledMode||!b.width)&&ee.css({width:(d.itemWidth||this.widthOption||c.spacingBox.width)-Ee+"px"}),this.setText(r);let fe=ee.getBBox(),xe=((Ve=this.fontMetrics)==null?void 0:Ve.h)||0;r.itemWidth=r.checkboxOffset=d.itemWidth||l.labelWidth||fe.width+Ee,this.maxItemWidth=Math.max(this.maxItemWidth,r.itemWidth),this.totalItemWidth+=r.itemWidth,this.itemHeight=r.itemHeight=Math.round(l.labelHeight||(fe.height>1.5*xe?fe.height:xe))}layoutItem(r){let l=this.options,c=this.padding,h=l.layout==="horizontal",d=r.itemHeight,p=this.itemMarginBottom,f=this.itemMarginTop,v=h?Ds(l.itemDistance,20):0,b=this.maxLegendWidth,T=l.alignColumns&&this.totalItemWidth>b?this.maxItemWidth:r.itemWidth,E=r.legendItem||{};h&&this.itemX-c+T>b&&(this.itemX=c,this.lastLineHeight&&(this.itemY+=f+this.lastLineHeight+p),this.lastLineHeight=0),this.lastItemY=f+this.itemY+p,this.lastLineHeight=Math.max(d,this.lastLineHeight),E.x=this.itemX,E.y=this.itemY,h?this.itemX+=T:(this.itemY+=f+d+p,this.lastLineHeight=d),this.offsetWidth=this.widthOption||Math.max((h?this.itemX-c-(r.checkbox?0:v):T)+c,this.offsetWidth)}getAllItems(){let r=[];return this.chart.series.forEach(function(l){var h;let c=l==null?void 0:l.options;l&&Ds(c.showInLegend,!Zy(c.linkedTo)&&void 0,!0)&&(r=r.concat(((h=l.legendItem)==null?void 0:h.labels)||(c.legendType==="point"?l.data:l)))}),Do(this,"afterGetAllItems",{allItems:r}),r}getAlignment(){let r=this.options;return this.proximate?r.align.charAt(0)+"tv":r.floating?"":r.align.charAt(0)+r.verticalAlign.charAt(0)+r.layout.charAt(0)}adjustMargins(r,l){let c=this.chart,h=this.options,d=this.getAlignment();d&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((p,f)=>{p.test(d)&&!Zy(r[f])&&(c[L_[f]]=Math.max(c[L_[f]],c.legend[(f+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][f]*h[f%2?"x":"y"]+(h.margin??12)+l[f]+(c.titleOffset[f]||0)))})}proximatePositions(){let r,l=this.chart,c=[],h=this.options.align==="left";for(let d of(this.allItems.forEach(function(p){let f,v,b=h,T,E;p.yAxis&&(p.xAxis.options.reversed&&(b=!b),p.points&&(f=mM(b?p.points:p.points.slice(0).reverse(),function(A){return F_(A.plotY)})),v=this.itemMarginTop+p.legendItem.label.getBBox().height+this.itemMarginBottom,E=p.yAxis.top-l.plotTop,T=p.visible?(f?f.plotY:p.yAxis.height)+(E-.3*v):E+p.yAxis.height,c.push({target:T,size:v,item:p}))},this),uM(c,l.plotHeight)))r=d.item.legendItem||{},F_(d.pos)&&(r.y=l.plotTop-l.spacing[0]+d.pos)}render(){let r=this.chart,l=r.renderer,c=this.options,h=this.padding,d=this.getAllItems(),p,f,v,b=this.group,T,E=this.box;this.itemX=h,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=yM(c.width,r.spacingBox.width-h),T=r.spacingBox.width-2*h-c.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(T/=2),this.maxLegendWidth=this.widthOption||T,b||(this.group=b=l.g("legend").addClass(c.className||"").attr({zIndex:7}).add(),this.contentGroup=l.g().attr({zIndex:1}).add(b),this.scrollGroup=l.g().add(this.contentGroup)),this.renderTitle(),vM(d,(A,P)=>{var D,$;return(((D=A.options)==null?void 0:D.legendIndex)||0)-((($=P.options)==null?void 0:$.legendIndex)||0)}),c.reversed&&d.reverse(),this.allItems=d,this.display=p=!!d.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,d.forEach(this.renderItem,this),d.forEach(this.layoutItem,this),f=(this.widthOption||this.offsetWidth)+h,v=this.lastItemY+this.lastLineHeight+this.titleHeight,v=this.handleOverflow(v)+h,E||(this.box=E=l.rect().addClass("highcharts-legend-box").attr({r:c.borderRadius}).add(b)),r.styledMode||E.attr({stroke:c.borderColor,"stroke-width":c.borderWidth||0,fill:c.backgroundColor||"none"}).shadow(c.shadow),f>0&&v>0&&E[E.placed?"animate":"attr"](E.crisp.call({},{x:0,y:0,width:f,height:v},E.strokeWidth())),b[p?"show":"hide"](),r.styledMode&&b.getStyle("display")==="none"&&(f=v=0),this.legendWidth=f,this.legendHeight=v,p&&this.align(),this.proximate||this.positionItems(),Do(this,"afterRender")}align(r=this.chart.spacingBox){let l=this.chart,c=this.options,h=r.y;/(lth|ct|rth)/.test(this.getAlignment())&&l.titleOffset[0]>0?h+=l.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&l.titleOffset[2]>0&&(h-=l.titleOffset[2]),h!==r.y&&(r=zl(r,{y:h})),l.hasRendered||(this.group.placed=!1),this.group.align(zl(c,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":c.verticalAlign}),!0,r)}handleOverflow(r){let l=this,c=this.chart,h=c.renderer,d=this.options,p=d.y,f=d.verticalAlign==="top",v=this.padding,b=d.maxHeight,T=d.navigation,E=Ds(T.animation,!0),A=T.arrowSize||12,P=this.pages,D=this.allItems,$=function(Ae){typeof Ae=="number"?Ve.attr({height:Ae}):Ve&&(l.clipRect=Ve.destroy(),l.contentGroup.clip()),l.contentGroup.div&&(l.contentGroup.div.style.clip=Ae?"rect("+v+"px,9999px,"+(v+Ae)+"px,0)":"auto")},q=function(Ae){return l[Ae]=h.circle(0,0,1.3*A).translate(A/2,A/2).add(xe),c.styledMode||l[Ae].attr("fill","rgba(0,0,0,0.0001)"),l[Ae]},V,Q,ee,Ee,fe=c.spacingBox.height+(f?-p:p)-v,xe=this.nav,Ve=this.clipRect;return d.layout!=="horizontal"||d.verticalAlign==="middle"||d.floating||(fe/=2),b&&(fe=Math.min(fe,b)),P.length=0,r&&fe>0&&r>fe&&T.enabled!==!1?(this.clipHeight=V=Math.max(fe-20-this.titleHeight-v,0),this.currentPage=Ds(this.currentPage,1),this.fullHeight=r,D.forEach((Ae,Le)=>{let it=(ee=Ae.legendItem||{}).y||0,lt=Math.round(ee.label.getBBox().height),kt=P.length;(!kt||it-P[kt-1]>V&&(Q||it)!==P[kt-1])&&(P.push(Q||it),kt++),ee.pageIx=kt-1,Q&&Ee&&(Ee.pageIx=kt-1),Le===D.length-1&&it+lt-P[kt-1]>V&&it>P[kt-1]&&(P.push(it),ee.pageIx=kt),it!==Q&&(Q=it),Ee=ee}),Ve||(Ve=l.clipRect=h.clipRect(0,v-2,9999,0),l.contentGroup.clip(Ve)),$(V),xe||(this.nav=xe=h.g().attr({zIndex:1}).add(this.group),this.up=h.symbol("triangle",0,0,A,A).add(xe),q("upTracker").on("click",function(){l.scroll(-1,E)}),this.pager=h.text("",15,10).addClass("highcharts-legend-navigation"),!c.styledMode&&T.style&&this.pager.css(T.style),this.pager.add(xe),this.down=h.symbol("triangle-down",0,0,A,A).add(xe),q("downTracker").on("click",function(){l.scroll(1,E)})),l.scroll(0),r=fe):xe&&($(),this.nav=xe.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),r}scroll(r,l){let c=this.chart,h=this.pages,d=h.length,p=this.clipHeight,f=this.options.navigation,v=this.pager,b=this.padding,T=this.currentPage+r;T>d&&(T=d),T>0&&(l!==void 0&&lM(l,c),this.nav.attr({translateX:b,translateY:p+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(E){E.attr({class:T===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),v.attr({text:T+"/"+d}),[this.down,this.downTracker].forEach(function(E){E.attr({x:18+this.pager.getBBox().width,class:T===d?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),c.styledMode||(this.up.attr({fill:T===1?f.inactiveColor:f.activeColor}),this.upTracker.css({cursor:T===1?"default":"pointer"}),this.down.attr({fill:T===d?f.inactiveColor:f.activeColor}),this.downTracker.css({cursor:T===d?"default":"pointer"})),this.scrollOffset=-h[T-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=T,this.positionCheckboxes(),xM(()=>{Do(this,"afterScroll",{currentPage:T})},aM(Ds(l,c.renderer.globalAnimation,!0)).duration))}setItemEvents(r,l,c){let h=this,d=r.legendItem||{},p=h.chart.renderer.boxWrapper,f=r instanceof ci,v=r instanceof Mr,b="highcharts-legend-"+(f?"point":"series")+"-active",T=h.chart.styledMode,E=c?[l,d.symbol]:[d.group],A=P=>{h.allItems.forEach(D=>{r!==D&&[D].concat(D.linkedSeries||[]).forEach($=>{$.setState(P,!f)})})};for(let P of E)P&&P.on("mouseover",function(){r.visible&&A("inactive"),r.setState("hover"),r.visible&&p.addClass(b),T||l.css(h.options.itemHoverStyle)}).on("mouseout",function(){h.chart.styledMode||l.css(zl(r.visible?h.itemStyle:h.itemHiddenStyle)),A(""),p.removeClass(b),r.setState()}).on("click",function(D){let $=function(){r.setVisible&&r.setVisible(),A(r.visible?"inactive":"")};p.removeClass(b),Do(h,"itemClick",{browserEvent:D,legendItem:r},$),f?r.firePointEvent("legendItemClick",{browserEvent:D}):v&&Do(r,"legendItemClick",{browserEvent:D})})}createCheckboxForItem(r){r.checkbox=dM("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:r.selected,defaultChecked:r.selected},this.options.itemCheckboxStyle,this.chart.container),_f(r.checkbox,"click",function(l){let c=l.target;Do(r.series||r,"checkboxClick",{checked:c.checked,item:r},function(){r.select()})})}}(function(w){w.compose=function(r){gM(cM,"Core.Legend")&&_f(r,"beforeMargins",function(){this.legend=new w(this,this.options.legend)})}})(ev||(ev={}));let B_=ev,{animate:tv,animObject:bM,setAnimation:nv}=St,{defaultOptions:iv}=He,{numberFormat:wM}=wi,{registerEventOptions:V_}=wa,{charts:ql,doc:Qh,marginNames:U_,svg:_M,win:z_}=M,{seriesTypes:rv}=ui,{addEvent:sv,attr:q_,createElement:ov,css:Os,defined:Sa,diffObjects:$_,discardElement:EM,erase:kM,error:av,extend:Aa,find:lv,fireEvent:Cn,getAlignFactor:TM,getStyle:cv,isArray:CM,isNumber:ou,isObject:SM,isString:Ef,merge:lo,objectEach:uv,pick:wr,pInt:AM,relativeLength:H_,removeEvent:W_,splat:kf,syncTimeout:NM,uniqueKey:jM}=Pe;class Na{static chart(r,l,c){return new Na(r,l,c)}constructor(r,l,c){this.sharedClips={};let h=[...arguments];(Ef(r)||r.nodeName)&&(this.renderTo=h.shift()),this.init(h[0],h[1])}setZoomOptions(){let r=this.options.chart,l=r.zooming;this.zooming={...l,type:wr(r.zoomType,l.type),key:wr(r.zoomKey,l.key),pinchType:wr(r.pinchType,l.pinchType),singleTouch:wr(r.zoomBySingleTouch,l.singleTouch,!1),resetButton:lo(l.resetButton,r.resetZoomButton)}}init(r,l){Cn(this,"init",{args:arguments},function(){var p;let c=lo(iv,r),h=c.chart,d=this.renderTo||h.renderTo;this.userOptions=Aa({},r),(this.renderTo=Ef(d)?Qh.getElementById(d):d)||av(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=l,this.isResizing=0,this.options=c,this.axes=[],this.series=[],this.locale=c.lang.locale??((p=this.renderTo.closest("[lang]"))==null?void 0:p.lang),this.time=new rt(Aa(c.time||{},{locale:this.locale}),c.lang),c.time=this.time.options,this.numberFormatter=(h.numberFormatter||wM).bind(this),this.styledMode=h.styledMode,this.hasCartesianSeries=h.showAxes,this.index=ql.length,ql.push(this),M.chartCount++,V_(this,h),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),Cn(this,"afterInit"),this.firstRender()})}initSeries(r){let l=this.options.chart,c=r.type||l.type,h=rv[c];h||av(17,!0,this,{missingModuleFor:c});let d=new h;return typeof d.init=="function"&&d.init(this,r),d}setSortedData(){this.getSeriesOrderByLinks().forEach(function(r){r.points||r.data||!r.enabledDataSorting||r.setData(r.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(r,l){return r.linkedSeries.length||l.linkedSeries.length?l.linkedSeries.length-r.linkedSeries.length:0})}orderItems(r,l=0){let c=this[r],h=this.options[r]=kf(this.options[r]).slice(),d=this.userOptions[r]=this.userOptions[r]?kf(this.userOptions[r]).slice():[];if(this.hasRendered&&(h.splice(l),d.splice(l)),c)for(let p=l,f=c.length;p<f;++p){let v=c[p];v&&(v.index=p,v instanceof Mr&&(v.name=v.getName()),v.options.isInternal||(h[p]=v.options,d[p]=v.userOptions))}}getClipBox(r,l){var T,E;let c=this.inverted,{xAxis:h,yAxis:d}=r||{},{x:p,y:f,width:v,height:b}=lo(this.clipBox);return r&&(h&&h.len!==this.plotSizeX&&(v=h.len),d&&d.len!==this.plotSizeY&&(b=d.len),c&&!r.invertible&&([v,b]=[b,v])),l&&(p+=((T=c?d:h)==null?void 0:T.pos)??this.plotLeft,f+=((E=c?h:d)==null?void 0:E.pos)??this.plotTop),{x:p,y:f,width:v,height:b}}isInsidePlot(r,l,c={}){var q;let{inverted:h,plotBox:d,plotLeft:p,plotTop:f,scrollablePlotBox:v}=this,{scrollLeft:b=0,scrollTop:T=0}=c.visiblePlotOnly&&((q=this.scrollablePlotArea)==null?void 0:q.scrollingContainer)||{},E=c.series,A=c.visiblePlotOnly&&v||d,P=c.inverted?l:r,D=c.inverted?r:l,$={x:P,y:D,isInsidePlot:!0,options:c};if(!c.ignoreX){let V=E&&(h&&!this.polar?E.yAxis:E.xAxis)||{pos:p,len:1/0},Q=c.paneCoordinates?V.pos+P:p+P;Q>=Math.max(b+p,V.pos)&&Q<=Math.min(b+p+A.width,V.pos+V.len)||($.isInsidePlot=!1)}if(!c.ignoreY&&$.isInsidePlot){let V=!h&&c.axis&&!c.axis.isXAxis&&c.axis||E&&(h?E.xAxis:E.yAxis)||{pos:f,len:1/0},Q=c.paneCoordinates?V.pos+D:f+D;Q>=Math.max(T+f,V.pos)&&Q<=Math.min(T+f+A.height,V.pos+V.len)||($.isInsidePlot=!1)}return Cn(this,"afterIsInsidePlot",$),$.isInsidePlot}redraw(r){Cn(this,"beforeRedraw");let l=this.hasCartesianSeries?this.axes:this.colorAxis||[],c=this.series,h=this.pointer,d=this.legend,p=this.userOptions.legend,f=this.renderer,v=f.isHidden(),b=[],T,E,A,P=this.isDirtyBox,D=this.isDirtyLegend,$;for(f.rootFontSize=f.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),nv(!!this.hasRendered&&r,this),v&&this.temporaryDisplay(),this.layOutTitles(!1),A=c.length;A--;)if((($=c[A]).options.stacking||$.options.centerInCategory)&&(E=!0,$.isDirty)){T=!0;break}if(T)for(A=c.length;A--;)($=c[A]).options.stacking&&($.isDirty=!0);c.forEach(function(q){q.isDirty&&(q.options.legendType==="point"?(typeof q.updateTotals=="function"&&q.updateTotals(),D=!0):p&&(p.labelFormatter||p.labelFormat)&&(D=!0)),q.isDirtyData&&Cn(q,"updatedData")}),D&&d&&d.options.enabled&&(d.render(),this.isDirtyLegend=!1),E&&this.getStacks(),l.forEach(function(q){q.updateNames(),q.setScale()}),this.getMargins(),l.forEach(function(q){q.isDirty&&(P=!0)}),l.forEach(function(q){let V=q.min+","+q.max;q.extKey!==V&&(q.extKey=V,b.push(function(){Cn(q,"afterSetExtremes",Aa(q.eventArgs,q.getExtremes())),delete q.eventArgs})),(P||E)&&q.redraw()}),P&&this.drawChartBox(),Cn(this,"predraw"),c.forEach(function(q){(P||q.isDirty)&&q.visible&&q.redraw(),q.isDirtyData=!1}),h&&h.reset(!0),f.draw(),Cn(this,"redraw"),Cn(this,"render"),v&&this.temporaryDisplay(!0),b.forEach(function(q){q.call()})}get(r){let l=this.series;function c(d){return d.id===r||d.options&&d.options.id===r}let h=lv(this.axes,c)||lv(this.series,c);for(let d=0;!h&&d<l.length;d++)h=lv(l[d].points||[],c);return h}createAxes(){let r=this.userOptions;for(let l of(Cn(this,"createAxes"),["xAxis","yAxis"]))for(let c of r[l]=kf(r[l]||{}))new Ta(this,c,l);Cn(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((r,l)=>(l.getPointsCollection().forEach(c=>{wr(c.selectedStaging,c.selected)&&r.push(c)}),r),[])}getSelectedSeries(){return this.series.filter(r=>r.selected)}setTitle(r,l,c){this.applyDescription("title",r),this.applyDescription("subtitle",l),this.applyDescription("caption",void 0),this.layOutTitles(c)}applyDescription(r,l){var p;let c=this,h=this.options[r]=lo(this.options[r],l),d=this[r];d&&l&&(this[r]=d=d.destroy()),h&&!d&&((d=this.renderer.text(h.text,0,0,h.useHTML).attr({align:h.align,class:"highcharts-"+r,zIndex:h.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(f,v){c.applyDescription(r,f),c.layOutTitles(v)},this.styledMode||d.css(Aa(r==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},h.style)),d.textPxLength=d.getBBox().width,d.css({whiteSpace:(p=h.style)==null?void 0:p.whiteSpace}),this[r]=d)}layOutTitles(r=!0){var f,v,b,T;let l=[0,0,0],{options:c,renderer:h,spacingBox:d}=this;["title","subtitle","caption"].forEach(E=>{var q;let A=this[E],P=this.options[E],D=lo(d),$=(A==null?void 0:A.textPxLength)||0;if(A&&P){Cn(this,"layOutTitle",{alignTo:D,key:E,textPxLength:$});let V=h.fontMetrics(A),Q=V.b,ee=V.h,Ee=P.verticalAlign||"top",fe=Ee==="top",xe=fe&&P.minScale||1,Ve=E==="title"?fe?-3:0:fe?l[0]+2:0,Ae=Math.min(D.width/$,1),Le=Math.max(xe,Ae),it=lo({y:Ee==="bottom"?Q:Ve+Q},{align:E==="title"?Ae<xe?"left":"center":(q=this.title)==null?void 0:q.alignValue},P),lt=(P.width||(Ae>xe?this.chartWidth:D.width)/Le)+"px";A.alignValue!==it.align&&(A.placed=!1);let kt=Math.round(A.css({width:lt}).getBBox(P.useHTML).height);if(it.height=kt,A.align(it,!1,D).attr({align:it.align,scaleX:Le,scaleY:Le,"transform-origin":`${D.x+$*Le*TM(it.align)} ${ee}`}),!P.floating){let jt=kt*(kt<1.2*ee?1:Le);Ee==="top"?l[0]=Math.ceil(l[0]+jt):Ee==="bottom"&&(l[2]=Math.ceil(l[2]+jt))}}},this),l[0]&&(((f=c.title)==null?void 0:f.verticalAlign)||"top")==="top"&&(l[0]+=((v=c.title)==null?void 0:v.margin)||0),l[2]&&((b=c.caption)==null?void 0:b.verticalAlign)==="bottom"&&(l[2]+=((T=c.caption)==null?void 0:T.margin)||0);let p=!this.titleOffset||this.titleOffset.join(",")!==l.join(",");this.titleOffset=l,Cn(this,"afterLayOutTitles"),!this.isDirtyBox&&p&&(this.isDirtyBox=this.isDirtyLegend=p,this.hasRendered&&r&&this.isDirtyBox&&this.redraw())}getContainerBox(){let r=[].map.call(this.renderTo.children,c=>{if(c!==this.container){let h=c.style.display;return c.style.display="none",[c,h]}}),l={width:cv(this.renderTo,"width",!0)||0,height:cv(this.renderTo,"height",!0)||0};return r.filter(Boolean).forEach(([c,h])=>{c.style.display=h}),l}getChartSize(){var p;let r=this.options.chart,l=r.width,c=r.height,h=this.getContainerBox(),d=h.height<=1||!((p=this.renderTo.parentElement)!=null&&p.style.height)&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,l||h.width||600),this.chartHeight=Math.max(0,H_(c,this.chartWidth)||(d?400:h.height)),this.containerBox=h}temporaryDisplay(r){let l=this.renderTo,c;if(r)for(;l!=null&&l.style;)l.hcOrigStyle&&(Os(l,l.hcOrigStyle),delete l.hcOrigStyle),l.hcOrigDetached&&(Qh.body.removeChild(l),l.hcOrigDetached=!1),l=l.parentNode;else for(;l!=null&&l.style&&(Qh.body.contains(l)||l.parentNode||(l.hcOrigDetached=!0,Qh.body.appendChild(l)),(cv(l,"display",!1)==="none"||l.hcOricDetached)&&(l.hcOrigStyle={display:l.style.display,height:l.style.height,overflow:l.style.overflow},c={display:"block",overflow:"hidden"},l!==this.renderTo&&(c.height=0),Os(l,c),l.offsetWidth||l.style.setProperty("display","block","important")),(l=l.parentNode)!==Qh.body););}setClassName(r){this.container.className="highcharts-container "+(r||"")}getContainer(){var A,P;let r,l=this.options,c=l.chart,h="data-highcharts-chart",d=jM(),p=this.renderTo,f=AM(q_(p,h));ou(f)&&ql[f]&&ql[f].hasRendered&&ql[f].destroy(),q_(p,h,this.index),p.innerHTML=Vn.emptyHTML,c.skipClone||p.offsetWidth||this.temporaryDisplay(),this.getChartSize();let v=this.chartHeight,b=this.chartWidth;Os(p,{overflow:"hidden"}),this.styledMode||(r=Aa({position:"relative",overflow:"hidden",width:b+"px",height:v+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},c.style||{}));let T=ov("div",{id:d},r,p);this.container=T,this.getChartSize(),b!==this.chartWidth&&(b=this.chartWidth,this.styledMode||Os(T,{width:wr((A=c.style)==null?void 0:A.width,b+"px")})),this.containerBox=this.getContainerBox(),this._cursor=T.style.cursor;let E=c.renderer||!_M?qr.getRendererType(c.renderer):Hc;if(this.renderer=new E(T,b,v,void 0,c.forExport,(P=l.exporting)==null?void 0:P.allowHTML,this.styledMode),nv(void 0,this),this.setClassName(c.className),this.styledMode)for(let D in l.defs)this.renderer.definition(l.defs[D]);else this.renderer.setStyle(c.style);this.renderer.chartIndex=this.index,Cn(this,"afterGetContainer")}getMargins(r){var d;let{spacing:l,margin:c,titleOffset:h}=this;this.resetMargins(),h[0]&&!Sa(c[0])&&(this.plotTop=Math.max(this.plotTop,h[0]+l[0])),h[2]&&!Sa(c[2])&&(this.marginBottom=Math.max(this.marginBottom,h[2]+l[2])),(d=this.legend)!=null&&d.display&&this.legend.adjustMargins(c,l),Cn(this,"getMargins"),r||this.getAxisMargins()}getAxisMargins(){let r=this,l=r.axisOffset=[0,0,0,0],c=r.colorAxis,h=r.margin,d=p=>{p.forEach(f=>{f.visible&&f.getOffset()})};r.hasCartesianSeries?d(r.axes):c!=null&&c.length&&d(c),U_.forEach((p,f)=>{Sa(h[f])||(r[p]+=l[f])}),r.setChartSize()}getOptions(){return $_(this.userOptions,iv)}reflow(r){var d,p;let l=this,c=l.containerBox,h=l.getContainerBox();(d=l.pointer)==null||delete d.chartPosition,!((p=l.exporting)!=null&&p.isPrinting)&&!l.isResizing&&c&&h.width&&((h.width!==c.width||h.height!==c.height)&&(Pe.clearTimeout(l.reflowTimeout),l.reflowTimeout=NM(function(){l.container&&l.setSize(void 0,void 0,!1)},100*!!r)),l.containerBox=h)}setReflow(){let r=this,l=c=>{var h;(h=r.options)!=null&&h.chart.reflow&&r.hasLoaded&&r.reflow(c)};if(typeof ResizeObserver=="function")new ResizeObserver(l).observe(r.renderTo);else{let c=sv(z_,"resize",l);sv(this,"destroy",c)}}setSize(r,l,c){let h=this,d=h.renderer;h.isResizing+=1,nv(c,h);let p=d.globalAnimation;h.oldChartHeight=h.chartHeight,h.oldChartWidth=h.chartWidth,r!==void 0&&(h.options.chart.width=r),l!==void 0&&(h.options.chart.height=l),h.getChartSize();let{chartWidth:f,chartHeight:v,scrollablePixelsX:b=0,scrollablePixelsY:T=0}=h;(h.isDirtyBox||f!==h.oldChartWidth||v!==h.oldChartHeight)&&(h.styledMode||(p?tv:Os)(h.container,{width:`${f+b}px`,height:`${v+T}px`},p),h.setChartSize(!0),d.setSize(f,v,p),h.axes.forEach(function(E){E.isDirty=!0,E.setScale()}),h.isDirtyLegend=!0,h.isDirtyBox=!0,h.layOutTitles(),h.getMargins(),h.redraw(p),h.oldChartHeight=void 0,Cn(h,"resize"),setTimeout(()=>{h&&Cn(h,"endResize")},bM(p).duration)),h.isResizing-=1}setChartSize(r){let l,c,h,d,{chartHeight:p,chartWidth:f,inverted:v,spacing:b,renderer:T}=this,E=this.clipOffset,A=Math[v?"floor":"round"];this.plotLeft=l=Math.round(this.plotLeft),this.plotTop=c=Math.round(this.plotTop),this.plotWidth=h=Math.max(0,Math.round(f-l-(this.marginRight??0))),this.plotHeight=d=Math.max(0,Math.round(p-c-(this.marginBottom??0))),this.plotSizeX=v?d:h,this.plotSizeY=v?h:d,this.spacingBox=T.spacingBox={x:b[3],y:b[0],width:f-b[3]-b[1],height:p-b[0]-b[2]},this.plotBox=T.plotBox={x:l,y:c,width:h,height:d},E&&(this.clipBox={x:A(E[3]),y:A(E[0]),width:A(this.plotSizeX-E[1]-E[3]),height:A(this.plotSizeY-E[0]-E[2])}),r||(this.axes.forEach(function(P){P.setAxisSize(),P.setAxisTranslation()}),T.alignElements()),Cn(this,"afterSetChartSize",{skipAxes:r})}resetMargins(){Cn(this,"resetMargins");let r=this,l=r.options.chart,c=l.plotBorderWidth||0,h=Math.round(c)/2;["margin","spacing"].forEach(d=>{let p=l[d],f=SM(p)?p:[p,p,p,p];["Top","Right","Bottom","Left"].forEach((v,b)=>{r[d][b]=l[`${d}${v}`]??f[b]})}),U_.forEach((d,p)=>{r[d]=r.margin[p]??r.spacing[p]}),r.axisOffset=[0,0,0,0],r.clipOffset=[h,h,h,h],r.plotBorderWidth=c}drawChartBox(){let r=this.options.chart,l=this.renderer,c=this.chartWidth,h=this.chartHeight,d=this.styledMode,p=this.plotBGImage,f=r.backgroundColor,v=r.plotBackgroundColor,b=r.plotBackgroundImage,T=this.plotLeft,E=this.plotTop,A=this.plotWidth,P=this.plotHeight,D=this.plotBox,$=this.clipRect,q=this.clipBox,V=this.chartBackground,Q=this.plotBackground,ee=this.plotBorder,Ee,fe,xe,Ve="animate";V||(this.chartBackground=V=l.rect().addClass("highcharts-background").add(),Ve="attr"),d?Ee=fe=V.strokeWidth():(fe=(Ee=r.borderWidth||0)+8*!!r.shadow,xe={fill:f||"none"},(Ee||V["stroke-width"])&&(xe.stroke=r.borderColor,xe["stroke-width"]=Ee),V.attr(xe).shadow(r.shadow)),V[Ve]({x:fe/2,y:fe/2,width:c-fe-Ee%2,height:h-fe-Ee%2,r:r.borderRadius}),Ve="animate",Q||(Ve="attr",this.plotBackground=Q=l.rect().addClass("highcharts-plot-background").add()),Q[Ve](D),!d&&(Q.attr({fill:v||"none"}).shadow(r.plotShadow),b&&(p?(b!==p.attr("href")&&p.attr("href",b),p.animate(D)):this.plotBGImage=l.image(b,T,E,A,P).add())),$?$.animate({width:q.width,height:q.height}):this.clipRect=l.clipRect(q),Ve="animate",ee||(Ve="attr",this.plotBorder=ee=l.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),d||ee.attr({stroke:r.plotBorderColor,"stroke-width":r.plotBorderWidth||0,fill:"none"}),ee[Ve](ee.crisp(D,-ee.strokeWidth())),this.isDirtyBox=!1,Cn(this,"afterDrawChartBox")}propFromSeries(){let r,l,c,h=this,d=h.options.chart,p=h.options.series;["inverted","angular","polar"].forEach(function(f){for(l=rv[d.type],c=d[f]||l&&l.prototype[f],r=p==null?void 0:p.length;!c&&r--;)(l=rv[p[r].type])&&l.prototype[f]&&(c=!0);h[f]=c})}linkSeries(r){let l=this,c=l.series;c.forEach(function(h){h.linkedSeries.length=0}),c.forEach(function(h){let{linkedTo:d}=h.options;if(Ef(d)){let p;(p=d===":previous"?l.series[h.index-1]:l.get(d))&&p.linkedParent!==h&&(p.linkedSeries.push(h),h.linkedParent=p,p.enabledDataSorting&&h.setDataSortingOptions(),h.visible=wr(h.options.visible,p.options.visible,h.visible))}}),Cn(this,"afterLinkSeries",{isUpdating:r})}renderSeries(){this.series.forEach(function(r){r.translate(),r.render()})}render(){var T;let r=this.axes,l=this.colorAxis,c=this.renderer,h=this.options.chart.axisLayoutRuns||2,d=E=>{E.forEach(A=>{A.visible&&A.render()})},p=0,f=!0,v,b=0;for(let E of(this.setTitle(),Cn(this,"beforeMargins"),(T=this.getStacks)==null||T.call(this),this.getMargins(!0),this.setChartSize(),r)){let{options:A}=E,{labels:P}=A;if(this.hasCartesianSeries&&E.horiz&&E.visible&&P.enabled&&E.series.length&&E.coll!=="colorAxis"&&!this.polar){p=A.tickLength,E.createGroups();let D=new Ea(E,0,"",!0),$=D.createLabel("x",P);if(D.destroy(),$&&wr(P.reserveSpace,!ou(A.crossing))&&(p=$.getBBox().height+P.distance+Math.max(A.offset||0,0)),p){$==null||$.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-p,0);(f||v||h>1)&&b<h;){let E=this.plotWidth,A=this.plotHeight;for(let P of r)b===0?P.setScale():(P.horiz&&f||!P.horiz&&v)&&P.setTickInterval(!0);b===0?this.getAxisMargins():this.getMargins(),f=E/this.plotWidth>(b?1:1.1),v=A/this.plotHeight>(b?1:1.05),b++}this.drawChartBox(),this.hasCartesianSeries?d(r):l!=null&&l.length&&d(l),this.seriesGroup||(this.seriesGroup=c.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.dataLabelsGroup||(this.dataLabelsGroup=c.g("datalabels-group").attr({zIndex:6}).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(r){let l=this,c=lo(!0,this.options.credits,r);c.enabled&&!this.credits&&(this.credits=this.renderer.text(c.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){c.href&&(z_.location.href=c.href)}).attr({align:c.position.align,zIndex:8}),l.styledMode||this.credits.css(c.style),this.credits.add().align(c.position),this.credits.update=function(h){l.credits=l.credits.destroy(),l.addCredits(h)})}destroy(){var f,v;let r,l=this,c=l.axes,h=l.series,d=l.container,p=d==null?void 0:d.parentNode;for(Cn(l,"destroy"),l.renderer.forExport?kM(ql,l):ql[l.index]=void 0,M.chartCount--,l.renderTo.removeAttribute("data-highcharts-chart"),W_(l),r=c.length;r--;)c[r]=c[r].destroy();for((v=(f=this.scroller)==null?void 0:f.destroy)==null||v.call(f),r=h.length;r--;)h[r]=h[r].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(b=>{var T,E;l[b]=(E=(T=l[b])==null?void 0:T.destroy)==null?void 0:E.call(T)}),d&&(d.innerHTML=Vn.emptyHTML,W_(d),p&&EM(d)),uv(l,function(b,T){delete l[T]})}firstRender(){var h;let r=this,l=r.options;r.getContainer(),r.resetMargins(),r.setChartSize(),r.propFromSeries(),r.createAxes();let c=CM(l.series)?l.series:[];l.series=[],c.forEach(function(d){r.initSeries(d)}),r.linkSeries(),r.setSortedData(),Cn(r,"beforeRender"),r.render(),(h=r.pointer)==null||h.getChartPosition(),r.renderer.imgCount||r.hasLoaded||r.onload(),r.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(r){r&&this.index!==void 0&&r.apply(this,[this])},this),Cn(this,"load"),Cn(this,"render"),Sa(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:r,title:l}=this;r&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":((l==null?void 0:l.element.textContent)||"").replace(/</g,"&lt;")}),r.accessibility&&r.accessibility.enabled===!1||av('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(r,l,c){let h,d=this;return r&&(l=wr(l,!0),Cn(d,"addSeries",{options:r},function(){h=d.initSeries(r),d.isDirtyLegend=!0,d.linkSeries(),h.enabledDataSorting&&h.setData(r.data,!1),Cn(d,"afterAddSeries",{series:h}),l&&d.redraw(c)})),h}addAxis(r,l,c,h){return this.createAxis(l?"xAxis":"yAxis",{axis:r,redraw:c,animation:h})}addColorAxis(r,l,c){return this.createAxis("colorAxis",{axis:r,redraw:l,animation:c})}createAxis(r,l){let c=new Ta(this,l.axis,r);return wr(l.redraw,!0)&&this.redraw(l.animation),c}showLoading(r){let l=this,c=l.options,h=c.loading,d=function(){p&&Os(p,{left:l.plotLeft+"px",top:l.plotTop+"px",width:l.plotWidth+"px",height:l.plotHeight+"px"})},p=l.loadingDiv,f=l.loadingSpan;p||(l.loadingDiv=p=ov("div",{className:"highcharts-loading highcharts-loading-hidden"},null,l.container)),f||(l.loadingSpan=f=ov("span",{className:"highcharts-loading-inner"},null,p),sv(l,"redraw",d)),p.className="highcharts-loading",Vn.setElementHTML(f,wr(r,c.lang.loading,"")),!l.styledMode&&(Os(p,Aa(h.style,{zIndex:10})),Os(f,h.labelStyle),l.loadingShown||(Os(p,{opacity:0,display:""}),tv(p,{opacity:h.style.opacity||.5},{duration:h.showDuration||0}))),l.loadingShown=!0,d()}hideLoading(){let r=this.options,l=this.loadingDiv;l&&(l.className="highcharts-loading highcharts-loading-hidden",this.styledMode||tv(l,{opacity:0},{duration:r.loading.hideDuration||100,complete:function(){Os(l,{display:"none"})}})),this.loadingShown=!1}update(r,l,c,h){let d,p,f,v=this,b={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},T=r.isResponsiveOptions,E=[];Cn(v,"update",{options:r}),T||v.setResponsive(!1,!0),r=$_(r,v.options),v.userOptions=lo(v.userOptions,r);let A=r.chart;A&&(lo(!0,v.options.chart,A),this.setZoomOptions(),"className"in A&&v.setClassName(A.className),("inverted"in A||"polar"in A||"type"in A)&&(v.propFromSeries(),d=!0),"alignTicks"in A&&(d=!0),"events"in A&&V_(this,A),uv(A,function($,q){v.propsRequireUpdateSeries.indexOf("chart."+q)!==-1&&(p=!0),v.propsRequireDirtyBox.indexOf(q)!==-1&&(v.isDirtyBox=!0),v.propsRequireReflow.indexOf(q)!==-1&&(v.isDirtyBox=!0,T||(f=!0))}),!v.styledMode&&A.style&&v.renderer.setStyle(v.options.chart.style||{})),!v.styledMode&&r.colors&&(this.options.colors=r.colors),uv(r,function($,q){v[q]&&typeof v[q].update=="function"?v[q].update($,!1):typeof v[b[q]]=="function"?v[b[q]]($):q!=="colors"&&v.collectionsWithUpdate.indexOf(q)===-1&&lo(!0,v.options[q],r[q]),q!=="chart"&&v.propsRequireUpdateSeries.indexOf(q)!==-1&&(p=!0)}),this.collectionsWithUpdate.forEach(function($){r[$]&&(kf(r[$]).forEach(function(q,V){let Q,ee=Sa(q.id);ee&&(Q=v.get(q.id)),!Q&&v[$]&&(Q=v[$][wr(q.index,V)])&&(ee&&Sa(Q.options.id)||Q.options.isInternal)&&(Q=void 0),Q&&Q.coll===$&&(Q.update(q,!1),c&&(Q.touched=!0)),!Q&&c&&v.collectionsWithInit[$]&&(v.collectionsWithInit[$][0].apply(v,[q].concat(v.collectionsWithInit[$][1]||[]).concat([!1])).touched=!0)}),c&&v[$].forEach(function(q){q.touched||q.options.isInternal?delete q.touched:E.push(q)}))}),E.forEach(function($){$.chart&&$.remove&&$.remove(!1)}),d&&v.axes.forEach(function($){$.update({},!1)}),p&&v.getSeriesOrderByLinks().forEach(function($){$.chart&&$.update({},!1)},this);let P=A==null?void 0:A.width,D=A&&(Ef(A.height)?H_(A.height,P||v.chartWidth):A.height);f||ou(P)&&P!==v.chartWidth||ou(D)&&D!==v.chartHeight?v.setSize(P,D,h):wr(l,!0)&&v.redraw(h),Cn(v,"afterUpdate",{options:r,redraw:l,animation:h})}setSubtitle(r,l){this.applyDescription("subtitle",r),this.layOutTitles(l)}setCaption(r,l){this.applyDescription("caption",r),this.layOutTitles(l)}showResetZoom(){let r=this,l=iv.lang,c=r.zooming.resetButton,h=c.theme,d=c.relativeTo==="chart"||c.relativeTo==="spacingBox"?null:"plotBox";function p(){r.zoomOut()}Cn(this,"beforeShowResetZoom",null,function(){r.resetZoomButton=r.renderer.button(l.resetZoom,null,null,p,h).attr({align:c.position.align,title:l.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(c.position,!1,d)}),Cn(this,"afterShowResetZoom")}zoomOut(){Cn(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(r,l){let c=this,h=typeof l=="object"?l:{enabled:l,type:"x"},d=h.type,p=d&&c[{x:"xAxis",xy:"axes",y:"yAxis"}[d]].filter(v=>v.options.panningEnabled&&!v.options.isInternal),f=c.options.chart;f!=null&&f.panning&&(f.panning=h),Cn(this,"pan",{originalEvent:r},()=>{c.transform({axes:p,event:r,to:{x:r.chartX-(c.mouseDownX||0),y:r.chartY-(c.mouseDownY||0)},trigger:"pan"}),Os(c.container,{cursor:"move"})})}transform(r){var D;let{axes:l=this.axes,event:c,from:h={},reset:d,selection:p,to:f={},trigger:v}=r,{inverted:b,time:T}=this;(D=this.hoverPoints)==null||D.forEach($=>$.setState()),Cn(this,"transform",r);let E=r.hasZoomed||!1,A,P;for(let $ of l){let{horiz:q,len:V,minPointOffset:Q=0,options:ee,reversed:Ee}=$,fe=q?"width":"height",xe=q?"x":"y",Ve=wr(f[fe],$.len),Ae=wr(h[fe],$.len),Le=10>Math.abs(Ve)?1:Ve/Ae,it=(h[xe]||0)+Ae/2-$.pos,lt=it-((f[xe]??$.pos)+Ve/2-$.pos)/Le,kt=Ee&&!b||!Ee&&b?-1:1;if(!d&&(it<0||it>$.len))continue;let jt=$.chart.polar||$.isOrdinal?0:Q*kt||0,zt=$.toValue(lt,!0),Ft=$.toValue(lt+V/Le,!0),Wt=zt+jt,Rt=Ft-jt,Yt=$.allExtremes;if(p&&p[$.coll].push({axis:$,min:Math.min(zt,Ft),max:Math.max(zt,Ft)}),Wt>Rt&&([Wt,Rt]=[Rt,Wt]),Le===1&&!d&&$.coll==="yAxis"&&!Yt){for(let qi of $.series){let Qn=qi.getExtremes(qi.getProcessedData(!0).modified.getColumn("y")||[],!0);Yt??(Yt={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),ou(Qn.dataMin)&&ou(Qn.dataMax)&&(Yt.dataMin=Math.min(Qn.dataMin,Yt.dataMin),Yt.dataMax=Math.max(Qn.dataMax,Yt.dataMax))}$.allExtremes=Yt}let{dataMin:pn,dataMax:_n,min:En,max:Qi}=Aa($.getExtremes(),Yt||{}),bn=T.parse(ee.min),On=T.parse(ee.max),ln=pn??bn,sn=_n??On,xi=Rt-Wt,Ln=$.categories?0:Math.min(xi,sn-ln),Gn=ln-Ln*(Sa(bn)?0:ee.minPadding),Bi=sn+Ln*(Sa(On)?0:ee.maxPadding),Oo=$.allowZoomOutside||Le===1||v!=="zoom"&&Le>1,ms=Math.min(bn??Gn,Gn,Oo?En:Gn),Ji=Math.max(On??Bi,Bi,Oo?Qi:Bi);(!$.isOrdinal||Le!==1||d)&&(Wt<ms&&(Wt=ms,Le>=1&&(Rt=Wt+xi)),Rt>Ji&&(Rt=Ji,Le>=1&&(Wt=Rt-xi)),(d||$.series.length&&(Wt!==En||Rt!==Qi)&&Wt>=ms&&Rt<=Ji)&&(p?p[$.coll].push({axis:$,min:Wt,max:Rt}):($.isPanning=v!=="zoom",$.isPanning&&(P=!0),$.setExtremes(d?void 0:Wt,d?void 0:Rt,!1,!1,{move:lt,trigger:v,scale:Le}),!d&&(Wt>ms||Rt<Ji)&&v!=="mousewheel"&&(A=!0)),E=!0),this.hasCartesianSeries||d||v==="mousewheel"||(A=!0),c&&(this[q?"mouseDownX":"mouseDownY"]=c[q?"chartX":"chartY"]))}return E&&(p?Cn(this,"selection",p,()=>{delete r.selection,r.trigger="zoom",this.transform(r)}):(!A||P||this.resetZoomButton?!A&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(v==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),E}}Aa(Na.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Na.prototype.addAxis,[!0]],yAxis:[Na.prototype.addAxis,[!1]],series:[Na.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:IM}=St,{composed:PM}=M,{addEvent:ja,createElement:Tf,css:hv,defined:dv,erase:MM,merge:G_,pushUnique:K_}=Pe;function RM(){let w=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!w&&(this.scrollablePlotArea=w=new Jh(this)),w==null||w.applyFixed()}function Y_(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class Jh{static compose(r,l,c){K_(PM,this.compose)&&(ja(r,"afterInit",Y_),ja(l,"afterSetChartSize",h=>this.afterSetSize(h.target,h)),ja(l,"render",RM),ja(c,"show",Y_))}static afterSetSize(r,l){let c,h,d,{minWidth:p,minHeight:f}=r.options.chart.scrollablePlotArea||{},{clipBox:v,plotBox:b,inverted:T,renderer:E}=r;if(!E.forExport)if(p?(r.scrollablePixelsX=c=Math.max(0,p-r.chartWidth),c&&(r.scrollablePlotBox=G_(r.plotBox),b.width=r.plotWidth+=c,v[T?"height":"width"]+=c,d=!0)):f&&(r.scrollablePixelsY=h=Math.max(0,f-r.chartHeight),dv(h)&&(r.scrollablePlotBox=G_(r.plotBox),b.height=r.plotHeight+=h,v[T?"width":"height"]+=h,d=!1)),dv(d)){if(!l.skipAxes)for(let A of r.axes)(A.horiz===d||r.hasParallelCoordinates&&A.coll==="yAxis")&&(A.setAxisSize(),A.setAxisTranslation())}else delete r.scrollablePlotBox}constructor(r){var P;let l,c=r.options.chart,h=qr.getRendererType(),d=c.scrollablePlotArea||{},p=this.moveFixedElements.bind(this),f={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};r.scrollablePixelsX&&(f.overflowX="auto"),r.scrollablePixelsY&&(f.overflowY="auto"),this.chart=r;let v=this.parentDiv=Tf("div",{className:"highcharts-scrolling-parent"},{position:"relative"},r.renderTo),b=this.scrollingContainer=Tf("div",{className:"highcharts-scrolling"},f,v),T=this.innerContainer=Tf("div",{className:"highcharts-inner-container"},void 0,b),E=this.fixedDiv=Tf("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(((P=c.style)==null?void 0:P.zIndex)||0)+2,top:0},void 0,!0),A=this.fixedRenderer=new h(E,r.chartWidth,r.chartHeight,c.style);this.mask=A.path().attr({fill:c.backgroundColor||"#fff","fill-opacity":d.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),b.parentNode.insertBefore(E,b),hv(r.renderTo,{overflow:"visible"}),ja(r,"afterShowResetZoom",p),ja(r,"afterApplyDrilldown",p),ja(r,"afterLayOutTitles",p),ja(b,"scroll",()=>{let{pointer:D,hoverPoint:$}=r;D&&(delete D.chartPosition,$&&(l=$),D.runPointActions(void 0,l,!0))}),T.appendChild(r.container)}applyFixed(){var it;let{chart:r,fixedRenderer:l,isDirty:c,scrollingContainer:h}=this,{axisOffset:d,chartWidth:p,chartHeight:f,container:v,plotHeight:b,plotLeft:T,plotTop:E,plotWidth:A,scrollablePixelsX:P=0,scrollablePixelsY:D=0}=r,{scrollPositionX:$=0,scrollPositionY:q=0}=r.options.chart.scrollablePlotArea||{},V=p+P,Q=f+D;l.setSize(p,f),(c??!0)&&(this.isDirty=!1,this.moveFixedElements()),IM(r.container),hv(v,{width:`${V}px`,height:`${Q}px`}),r.renderer.boxWrapper.attr({width:V,height:Q,viewBox:[0,0,V,Q].join(" ")}),(it=r.chartBackground)==null||it.attr({width:V,height:Q}),hv(h,{width:`${p}px`,height:`${f}px`}),dv(c)||(h.scrollLeft=P*$,h.scrollTop=D*q);let ee=E-d[0]-1,Ee=T-d[3]-1,fe=E+b+d[2]+1,xe=T+A+d[1]+1,Ve=T+A-P,Ae=E+b-D,Le=[["M",0,0]];P?Le=[["M",0,ee],["L",T-1,ee],["L",T-1,fe],["L",0,fe],["Z"],["M",Ve,ee],["L",p,ee],["L",p,fe],["L",Ve,fe],["Z"]]:D&&(Le=[["M",Ee,0],["L",Ee,E-1],["L",xe,E-1],["L",xe,0],["Z"],["M",Ee,Ae],["L",Ee,f],["L",xe,f],["L",xe,Ae],["Z"]]),r.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:Le})}moveFixedElements(){let r,{container:l,inverted:c,scrollablePixelsX:h,scrollablePixelsY:d}=this.chart,p=this.fixedRenderer,f=Jh.fixedSelectors;if(h&&!c?r=".highcharts-yaxis":h&&c||d&&!c?r=".highcharts-xaxis":d&&c&&(r=".highcharts-yaxis"),r&&!(this.chart.hasParallelCoordinates&&r===".highcharts-yaxis"))for(let v of[`${r}:not(.highcharts-radial-axis)`,`${r}-labels:not(.highcharts-radial-axis-labels)`])K_(f,v);else for(let v of[".highcharts-xaxis",".highcharts-yaxis"])for(let b of[`${v}:not(.highcharts-radial-axis)`,`${v}-labels:not(.highcharts-radial-axis-labels)`])MM(f,b);for(let v of f)[].forEach.call(l.querySelectorAll(v),b=>{(b.namespaceURI===p.SVG_NS?p.box:p.box.parentNode).appendChild(b),b.style.pointerEvents="auto"})}}Jh.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:DM}=wi,{series:OM}=ui,{destroyObjectProperties:LM,fireEvent:X_,getAlignFactor:pv,isNumber:fv,pick:Zh}=Pe,Q_=class{constructor(w,r,l,c,h){let d=w.chart.inverted,p=w.reversed;this.axis=w;let f=this.isNegative=!!l!=!!p;this.options=r=r||{},this.x=c,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=h,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:r.align||(d?f?"left":"right":"center"),verticalAlign:r.verticalAlign||(d?"middle":f?"bottom":"top"),y:r.y,x:r.x},this.textAlign=r.textAlign||(d?f?"right":"left":"center")}destroy(){LM(this,this.axis)}render(w){let r=this.axis.chart,l=this.options,c=l.format,h=c?DM(c,this,r):l.formatter.call(this);if(this.label)this.label.attr({text:h,visibility:"hidden"});else{this.label=r.renderer.label(h,null,void 0,l.shape,void 0,void 0,l.useHTML,!1,"stack-labels");let d={r:l.borderRadius||0,text:h,padding:Zh(l.padding,5),visibility:"hidden"};r.styledMode||(d.fill=l.backgroundColor,d.stroke=l.borderColor,d["stroke-width"]=l.borderWidth,this.label.css(l.style||{})),this.label.attr(d),this.label.added||this.label.add(w)}this.label.labelrank=r.plotSizeY,X_(this,"afterRender")}setOffset(w,r,l,c,h,d){let{alignOptions:p,axis:f,label:v,options:b,textAlign:T}=this,E=f.chart,A=this.getStackBox({xOffset:w,width:r,boxBottom:l,boxTop:c,defaultX:h,xAxis:d}),{verticalAlign:P}=p;if(v&&A){let D=v.getBBox(void 0,0),$=v.padding,q=Zh(b.overflow,"justify")==="justify",V;p.x=b.x||0,p.y=b.y||0;let{x:Q,y:ee}=this.adjustStackPosition({labelBox:D,verticalAlign:P,textAlign:T});A.x-=Q,A.y-=ee,v.align(p,!1,A),(V=E.isInsidePlot(v.alignAttr.x+p.x+Q,v.alignAttr.y+p.y+ee))||(q=!1),q&&OM.prototype.justifyDataLabel.call(f,v,p,v.alignAttr,D,A),v.attr({x:v.alignAttr.x,y:v.alignAttr.y,rotation:b.rotation,rotationOriginX:D.width*pv(b.textAlign||"center"),rotationOriginY:D.height/2}),Zh(!q&&b.crop,!0)&&(V=fv(v.x)&&fv(v.y)&&E.isInsidePlot(v.x-$+(v.width||0),v.y)&&E.isInsidePlot(v.x+$,v.y)),v[V?"show":"hide"]()}X_(this,"afterSetOffset",{xOffset:w,width:r})}adjustStackPosition({labelBox:w,verticalAlign:r,textAlign:l}){return{x:w.width/2+w.width/2*(2*pv(l)-1),y:w.height/2*2*(1-pv(r))}}getStackBox(w){let r=this.axis,l=r.chart,{boxTop:c,defaultX:h,xOffset:d,width:p,boxBottom:f}=w,v=r.stacking.usePercentage?100:Zh(c,this.total,0),b=r.toPixels(v),T=w.xAxis||l.xAxis[0],E=Zh(h,T.translate(this.x))+d,A=Math.abs(b-r.toPixels(f||fv(r.min)&&r.logarithmic&&r.logarithmic.lin2log(r.min)||0)),P=l.inverted,D=this.isNegative;return P?{x:(D?b:b-A)-l.plotLeft,y:T.height-E-p+T.top-l.plotTop,width:A,height:p}:{x:E+T.transB-l.plotLeft,y:(D?b-A:b)-l.plotTop,width:p,height:A}}},{getDeferredAnimation:FM}=St,{series:{prototype:BM}}=ui,{addEvent:J_,correctFloat:ed,defined:Z_,destroyObjectProperties:VM,fireEvent:UM,isNumber:mv,objectEach:$l,pick:gv}=Pe;function zM(){let w=this.inverted;this.axes.forEach(r=>{var l;(l=r.stacking)!=null&&l.stacks&&r.hasVisibleSeries&&(r.stacking.oldStacks=r.stacking.stacks)}),this.series.forEach(r=>{var c;let l=((c=r.xAxis)==null?void 0:c.options)||{};r.options.stacking&&r.reserveSpace()&&(r.stackKey=[r.type,gv(r.options.stack,""),w?l.top:l.left,w?l.height:l.width].join(","))})}function qM(){var r;let w=this.stacking;if(w){let l=w.stacks;$l(l,(c,h)=>{VM(c),delete l[h]}),(r=w.stackTotalGroup)==null||r.destroy()}}function $M(){this.stacking||(this.stacking=new XM(this))}function HM(w,r,l,c){return!Z_(w)||w.x!==r||c&&w.stackKey!==c?w={x:r,index:0,key:c,stackKey:c}:w.index++,w.key=[l,r,w.index].join(","),w}function WM(){let w,r=this,l=r.yAxis,c=r.stackKey||"",h=l.stacking.stacks,d=r.getColumn("x",!0),p=r.options.stacking,f=r[p+"Stacker"];f&&[c,"-"+c].forEach(v=>{var P;let b=d.length,T,E,A;for(;b--;)T=d[b],w=r.getStackIndicator(w,T,r.index,v),E=(P=h[v])==null?void 0:P[T],(A=E==null?void 0:E.points[w.key||""])&&f.call(r,A,E,b)})}function GM(w,r,l){let c=r.total?100/r.total:0;w[0]=ed(w[0]*c),w[1]=ed(w[1]*c),this.stackedYData[l]=w[1]}function KM(w){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?BM.setStackedPoints.call(this,w,"group"):w.stacking.resetStacks())}function YM(w,r){var Ae,Le;let l,c,h,d,p,f,v,b=r||this.options.stacking;if(!b||!this.reserveSpace()||({group:"xAxis"}[b]||"yAxis")!==w.coll)return;let T=this.getColumn("x",!0),E=this.getColumn(this.pointValKey||"y",!0),A=[],P=E.length,D=this.options,$=D.threshold||0,q=D.startFromThreshold?$:0,V=D.stack,Q=r?`${this.type},${b}`:this.stackKey||"",ee="-"+Q,Ee=this.negStacks,fe=w.stacking,xe=fe.stacks,Ve=fe.oldStacks;for(fe.stacksTouched+=1,v=0;v<P;v++){let it=T[v]||0,lt=E[v],kt=mv(lt)&&lt||0;f=(l=this.getStackIndicator(l,it,this.index)).key||"",xe[p=(c=Ee&&kt<(q?0:$))?ee:Q]||(xe[p]={}),xe[p][it]||((Ae=Ve[p])!=null&&Ae[it]?(xe[p][it]=Ve[p][it],xe[p][it].total=null):xe[p][it]=new Q_(w,w.options.stackLabels,!!c,it,V)),h=xe[p][it],lt!==null?(h.points[f]=h.points[this.index]=[gv(h.cumulative,q)],Z_(h.cumulative)||(h.base=f),h.touched=fe.stacksTouched,l.index>0&&this.singleStacks===!1&&(h.points[f][0]=h.points[this.index+","+it+",0"][0])):(delete h.points[f],delete h.points[this.index]);let jt=h.total||0;b==="percent"?(d=c?Q:ee,jt=Ee&&((Le=xe[d])!=null&&Le[it])?(d=xe[d][it]).total=Math.max(d.total||0,jt)+Math.abs(kt):ed(jt+Math.abs(kt))):b==="group"?mv(lt)&&jt++:jt=ed(jt+kt),b==="group"?h.cumulative=(jt||1)-1:h.cumulative=ed(gv(h.cumulative,q)+kt),h.total=jt,lt!==null&&(h.points[f].push(h.cumulative),A[v]=h.cumulative,h.hasValidPoints=!0)}b==="percent"&&(fe.usePercentage=!0),b!=="group"&&(this.stackedYData=A),fe.oldStacks={}}class XM{constructor(r){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=r}buildStacks(){let r,l,c=this.axis,h=c.series,d=c.coll==="xAxis",p=c.options.reversedStacks,f=h.length;for(this.resetStacks(),this.usePercentage=!1,l=f;l--;)r=h[p?l:f-l-1],d&&r.setGroupedPoints(c),r.setStackedPoints(c);if(!d)for(l=0;l<f;l++)h[l].modifyStacks();UM(c,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,$l(this.stacks,r=>{$l(r,l=>{l.cumulative=l.total})}))}resetStacks(){$l(this.stacks,r=>{$l(r,(l,c)=>{mv(l.touched)&&l.touched<this.stacksTouched?(l.destroy(),delete r[c]):(l.total=null,l.cumulative=null)})})}renderStackTotals(){var f;let r=this.axis,l=r.chart,c=l.renderer,h=this.stacks,d=FM(l,((f=r.options.stackLabels)==null?void 0:f.animation)||!1),p=this.stackTotalGroup=this.stackTotalGroup||c.g("stack-labels").attr({zIndex:6,opacity:0}).add();p.translate(l.plotLeft,l.plotTop),$l(h,v=>{$l(v,b=>{b.render(p)})}),p.animate({opacity:1},d)}}(le||(le={})).compose=function(w,r,l){let c=r.prototype,h=l.prototype;c.getStacks||(J_(w,"init",$M),J_(w,"destroy",qM),c.getStacks=zM,h.getStackIndicator=HM,h.modifyStacks=WM,h.percentStacker=GM,h.setGroupedPoints=KM,h.setStackedPoints=YM)};let QM=le,{defined:JM,merge:eE,isObject:ZM}=Pe;class tE extends Mr{drawGraph(){let r=this.options,l=(this.gappedPath||this.getGraphPath).call(this),c=this.chart.styledMode;[this,...this.zones].forEach((h,d)=>{let p,f=h.graph,v=f?"animate":"attr",b=h.dashStyle||r.dashStyle;f?(f.endX=this.preventGraphAnimation?null:l.xMap,f.animate({d:l})):l.length&&(h.graph=f=this.chart.renderer.path(l).addClass("highcharts-graph"+(d?` highcharts-zone-graph-${d-1} `:" ")+(d&&h.className||"")).attr({zIndex:1}).add(this.group)),f&&!c&&(p={stroke:!d&&r.lineColor||h.color||this.color||"#cccccc","stroke-width":r.lineWidth||0,fill:this.fillGraph&&this.color||"none"},b?p.dashstyle=b:r.linecap!=="square"&&(p["stroke-linecap"]=p["stroke-linejoin"]="round"),f[v](p).shadow(r.shadow&&eE({filterUnits:"userSpaceOnUse"},ZM(r.shadow)?r.shadow:{}))),f&&(f.startX=l.xMap,f.isArea=l.isArea)})}getGraphPath(r,l,c){let h=this,d=h.options,p=[],f=[],v,b=d.step,T=(r=r||h.points).reversed;return T&&r.reverse(),(b={right:1,center:2}[b]||b&&3)&&T&&(b=4-b),(r=this.getValidPoints(r,!1,d.nullInteraction||!(d.connectNulls&&!l&&!c))).forEach(function(E,A){let P,D=E.plotX,$=E.plotY,q=r[A-1],V=E.isNull||typeof $!="number";(E.leftCliff||q!=null&&q.rightCliff)&&!c&&(v=!0),V&&!JM(l)&&A>0?v=!d.connectNulls:V&&!l?v=!0:(A===0||v?P=[["M",E.plotX,E.plotY]]:h.getPointSpline?P=[h.getPointSpline(r,E,A)]:b?(P=b===1?[["L",q.plotX,$]]:b===2?[["L",(q.plotX+D)/2,q.plotY],["L",(q.plotX+D)/2,$]]:[["L",D,q.plotY]]).push(["L",D,$]):P=[["L",D,$]],f.push(E.x),b&&(f.push(E.x),b===2&&f.push(E.x)),p.push.apply(p,P),v=!1)}),p.xMap=f,h.graphPath=p,p}}tE.defaultOptions=eE(Mr.defaultOptions,{legendSymbol:"lineMarker"}),ui.registerSeriesType("line",tE);let{seriesTypes:{line:yv}}=ui,{extend:eR,merge:tR,objectEach:nR,pick:Cf}=Pe;class vv extends yv{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:r,options:l}=this;[this,...this.zones].forEach((c,h)=>{let d={},p=c.fillColor||l.fillColor,f=c.area,v=f?"animate":"attr";f?(f.endX=this.preventGraphAnimation?null:r.xMap,f.animate({d:r})):(d.zIndex=0,(f=c.area=this.chart.renderer.path(r).addClass("highcharts-area"+(h?` highcharts-zone-area-${h-1} `:" ")+(h&&c.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(d.fill=p||c.color||this.color,d["fill-opacity"]=p?1:l.fillOpacity??.75,f.css({pointerEvents:this.stickyTracking?"none":"auto"})),f[v](d),f.startX=r.xMap,f.shiftUnit=l.step?2:1})}getGraphPath(r){let l,c,h,d=yv.prototype.getGraphPath,p=this.options,f=p.stacking,v=this.yAxis,b=[],T=[],E=this.index,A=v.stacking.stacks[this.stackKey],P=p.threshold,D=Math.round(v.getThreshold(p.threshold)),$=Cf(p.connectNulls,f==="percent"),q=function(xe,Ve,Ae){let Le=r[xe],it=f&&A[Le.x].points[E],lt=Le[Ae+"Null"]||0,kt=Le[Ae+"Cliff"]||0,jt,zt,Ft=!0;kt||lt?(jt=(lt?it[0]:it[1])+kt,zt=it[0]+kt,Ft=!!lt):!f&&r[Ve]&&r[Ve].isNull&&(jt=zt=P),jt!==void 0&&(T.push({plotX:l,plotY:jt===null?D:v.getThreshold(jt),isNull:Ft,isCliff:!0}),b.push({plotX:l,plotY:zt===null?D:v.getThreshold(zt),doCurve:!1}))};r=r||this.points,f&&(r=this.getStackPoints(r));for(let xe=0,Ve=r.length;xe<Ve;++xe)f||(r[xe].leftCliff=r[xe].rightCliff=r[xe].leftNull=r[xe].rightNull=void 0),c=r[xe].isNull,l=Cf(r[xe].rectPlotX,r[xe].plotX),h=f?Cf(r[xe].yBottom,D):D,(!c||$)&&($||q(xe,xe-1,"left"),c&&!f&&$||(T.push(r[xe]),b.push({x:xe,plotX:l,plotY:h})),$||q(xe,xe+1,"right"));let V=d.call(this,T,!0,!0);b.reversed=!0;let Q=d.call(this,b,!0,!0),ee=Q[0];ee&&ee[0]==="M"&&(Q[0]=["L",ee[1],ee[2]]);let Ee=V.concat(Q);Ee.length&&Ee.push(["Z"]);let fe=d.call(this,T,!1,$);return this.chart.series.length>1&&f&&T.some(xe=>xe.isCliff)&&(Ee.hasStackedCliffs=fe.hasStackedCliffs=!0),Ee.xMap=V.xMap,this.areaPath=Ee,fe}getStackPoints(r){let l=this,c=[],h=[],d=this.xAxis,p=this.yAxis,f=p.stacking.stacks[this.stackKey],v={},b=p.series,T=b.length,E=p.options.reversedStacks?1:-1,A=b.indexOf(l);if(r=r||this.points,this.options.stacking){for(let D=0;D<r.length;D++)r[D].leftNull=r[D].rightNull=void 0,v[r[D].x]=r[D];nR(f,function(D,$){D.total!==null&&h.push($)}),h.sort(function(D,$){return D-$});let P=b.map(D=>D.visible);h.forEach(function(D,$){let q=0,V,Q;if(v[D]&&!v[D].isNull)c.push(v[D]),[-1,1].forEach(function(ee){let Ee=ee===1?"rightNull":"leftNull",fe=f[h[$+ee]],xe=0;if(fe){let Ve=A;for(;Ve>=0&&Ve<T;){let Ae=b[Ve].index;!(V=fe.points[Ae])&&(Ae===l.index?v[D][Ee]=!0:P[Ve]&&(Q=f[D].points[Ae])&&(xe-=Q[1]-Q[0])),Ve+=E}}v[D][ee===1?"rightCliff":"leftCliff"]=xe});else{let ee=A;for(;ee>=0&&ee<T;){let Ee=b[ee].index;if(V=f[D].points[Ee]){q=V[1];break}ee+=E}q=Cf(q,0),q=p.translate(q,0,1,0,1),c.push({isNull:!0,plotX:d.translate(D,0,0,0,1),x:D,plotY:q,yBottom:q})}})}return c}}vv.defaultOptions=tR(yv.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),eR(vv.prototype,{singleStacks:!1}),ui.registerSeriesType("area",vv);let{line:nE}=ui.seriesTypes,{merge:iR,pick:Sf}=Pe;class xv extends nE{getPointSpline(r,l,c){let h,d,p,f,v=l.plotX||0,b=l.plotY||0,T=r[c-1],E=r[c+1];function A(D){return D&&!D.isNull&&D.doCurve!==!1&&!l.isCliff}if(A(T)&&A(E)){let D=T.plotX||0,$=T.plotY||0,q=E.plotX||0,V=E.plotY||0,Q=0;h=(1.5*v+D)/2.5,d=(1.5*b+$)/2.5,p=(1.5*v+q)/2.5,f=(1.5*b+V)/2.5,p!==h&&(Q=(f-d)*(p-v)/(p-h)+b-f),d+=Q,f+=Q,d>$&&d>b?(d=Math.max($,b),f=2*b-d):d<$&&d<b&&(d=Math.min($,b),f=2*b-d),f>V&&f>b?(f=Math.max(V,b),d=2*b-f):f<V&&f<b&&(f=Math.min(V,b),d=2*b-f),l.rightContX=p,l.rightContY=f,l.controlPoints={low:[h,d],high:[p,f]}}let P=["C",Sf(T.rightContX,T.plotX,0),Sf(T.rightContY,T.plotY,0),Sf(h,v,0),Sf(d,b,0),v,b];return T.rightContX=T.rightContY=void 0,P}}xv.defaultOptions=iR(nE.defaultOptions),ui.registerSeriesType("spline",xv);let iE=xv,{area:rR,area:{prototype:bv}}=ui.seriesTypes,{extend:sR,merge:oR}=Pe;class wv extends iE{}wv.defaultOptions=oR(iE.defaultOptions,rR.defaultOptions),sR(wv.prototype,{getGraphPath:bv.getGraphPath,getStackPoints:bv.getStackPoints,drawGraph:bv.drawGraph}),ui.registerSeriesType("areaspline",wv);let{animObject:aR}=St,{parse:lR}=Lt,{noop:cR}=M,{clamp:Af,crisp:Nf,defined:rE,extend:sE,fireEvent:oE,isArray:aE,isNumber:jf,merge:_v,pick:td,objectEach:uR}=Pe;class If extends Mr{animate(r){let l,c,h=this,d=this.yAxis,p=d.pos,f=d.reversed,v=h.options,{clipOffset:b,inverted:T}=this.chart,E={},A=T?"translateX":"translateY";r&&b?(E.scaleY=.001,c=Af(d.toPixels(v.threshold||0),p,p+d.len),T?E.translateX=(c+=f?-Math.floor(b[0]):Math.ceil(b[2]))-d.len:E.translateY=c+=f?Math.ceil(b[0]):-Math.floor(b[2]),h.clipBox&&h.setClip(),h.group.attr(E)):(l=Number(h.group.attr(A)),h.group.animate({scaleY:1},sE(aR(h.options.animation),{step:function(P,D){h.group&&(E[A]=l+D.pos*(p-l),h.group.attr(E))}})))}init(r,l){super.init.apply(this,arguments);let c=this;(r=c.chart).hasRendered&&r.series.forEach(function(h){h.type===c.type&&(h.isDirty=!0)})}getColumnMetrics(){var $,q;let r=this,l=r.options,c=r.xAxis,h=r.yAxis,d=c.options.reversedStacks,p=c.reversed&&!d||!c.reversed&&d,f={},v,b=0;l.grouping===!1?b=1:r.chart.series.forEach(function(V){let Q,ee=V.yAxis,Ee=V.options;V.type===r.type&&V.reserveSpace()&&h.len===ee.len&&h.pos===ee.pos&&(Ee.stacking&&Ee.stacking!=="group"?(f[v=V.stackKey]===void 0&&(f[v]=b++),Q=f[v]):Ee.grouping!==!1&&(Q=b++),V.columnIndex=Q)});let T=Math.min(Math.abs(c.transA)*(!(($=c.brokenAxis)!=null&&$.hasBreaks)&&((q=c.ordinal)==null?void 0:q.slope)||l.pointRange||c.closestPointRange||c.tickInterval||1),c.len),E=T*l.groupPadding,A=(T-2*E)/(b||1),P=Math.min(l.maxPointWidth||c.len,td(l.pointWidth,A*(1-2*l.pointPadding))),D=(r.columnIndex||0)+ +!!p;return r.columnMetrics={width:P,offset:(A-P)/2+(E+D*A-T/2)*(p?-1:1),paddedWidth:A,columnCount:b},r.columnMetrics}crispCol(r,l,c,h){let d=this.borderWidth,p=this.chart.inverted;return h=Nf(l+h,d,p)-(l=Nf(l,d,p)),this.options.crisp&&(c=Nf(r+c,d)-(r=Nf(r,d))),{x:r,y:l,width:c,height:h}}adjustForMissingColumns(r,l,c,h){var d;if(!c.isNull&&h.columnCount>1){let p=this.xAxis.series.filter(T=>T.visible).map(T=>T.index),f=0,v=0;uR((d=this.xAxis.stacking)==null?void 0:d.stacks,T=>{var D;let E=typeof c.x=="number"?(D=T[c.x.toString()])==null?void 0:D.points:void 0,A=E==null?void 0:E[this.index],P={};if(E&&aE(A)){let $=this.index,q=Object.keys(E).filter(V=>!V.match(",")&&E[V]&&E[V].length>1).map(parseFloat).filter(V=>p.indexOf(V)!==-1).filter(V=>{let Q=this.chart.series[V].options,ee=Q.stacking&&Q.stack;if(rE(ee)){if(jf(P[ee]))return $===V&&($=P[ee]),!1;P[ee]=V}return!0}).sort((V,Q)=>Q-V);f=q.indexOf($),v=q.length}}),f=this.xAxis.reversed?v-1-f:f;let b=(v-1)*h.paddedWidth+l;r=(c.plotX||0)+b/2-l-f*h.paddedWidth}return r}translate(){let r=this,l=r.chart,c=r.options,h=r.dense=r.closestPointRange*r.xAxis.transA<2,d=r.borderWidth=td(c.borderWidth,+!h),p=r.xAxis,f=r.yAxis,v=c.threshold,b=td(c.minPointLength,5),T=r.getColumnMetrics(),E=T.width,A=r.pointXOffset=T.offset,P=r.dataMin,D=r.dataMax,$=r.translatedThreshold=f.getThreshold(v),q=r.barW=Math.max(E,1+2*d);c.pointPadding&&c.crisp&&(q=Math.ceil(q)),Mr.prototype.translate.apply(r),r.points.forEach(function(V){let Q=td(V.yBottom,$),ee=999+Math.abs(Q),Ee=V.plotX||0,fe=Af(V.plotY,-ee,f.len+ee),xe,Ve=Math.min(fe,Q),Ae=Math.max(fe,Q)-Ve,Le=E,it=Ee+A,lt=q;b&&Math.abs(Ae)<b&&(Ae=b,xe=!f.reversed&&!V.negative||f.reversed&&V.negative,jf(v)&&jf(D)&&V.y===v&&D<=v&&(f.min||0)<v&&(P!==D||(f.max||0)<=v)&&(xe=!xe,V.negative=!V.negative),Ve=Math.abs(Ve-$)>b?Q-b:$-(xe?b:0)),rE(V.options.pointWidth)&&(it-=Math.round(((Le=lt=Math.ceil(V.options.pointWidth))-E)/2)),c.centerInCategory&&(it=r.adjustForMissingColumns(it,Le,V,T)),V.barX=it,V.pointWidth=Le,V.tooltipPos=l.inverted?[Af(f.len+f.pos-l.plotLeft-fe,f.pos-l.plotLeft,f.len+f.pos-l.plotLeft),p.len+p.pos-l.plotTop-it-lt/2,Ae]:[p.left-l.plotLeft+it+lt/2,Af(fe+f.pos-l.plotTop,f.pos-l.plotTop,f.len+f.pos-l.plotTop),Ae],V.shapeType=r.pointClass.prototype.shapeType||"roundedRect",V.shapeArgs=r.crispCol(it,Ve,lt,V.isNull?0:Ae)}),oE(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(r,l){let c=this.options,h=this.pointAttrToOptions||{},d=h.stroke||"borderColor",p=h["stroke-width"]||"borderWidth",f,v,b,T=r&&r.color||this.color,E=r&&r[d]||c[d]||T,A=r&&r.options.dashStyle||c.dashStyle,P=r&&r[p]||c[p]||this[p]||0,D=r!=null&&r.isNull&&c.nullInteraction?0:(r==null?void 0:r.opacity)??c.opacity??1;r&&this.zones.length&&(v=r.getZone(),T=r.options.color||v&&(v.color||r.nonZonedColor)||this.color,v&&(E=v.borderColor||E,A=v.dashStyle||A,P=v.borderWidth||P)),l&&r&&(b=(f=_v(c.states[l],r.options.states&&r.options.states[l]||{})).brightness,T=f.color||b!==void 0&&lR(T).brighten(f.brightness).get()||T,E=f[d]||E,P=f[p]||P,A=f.dashStyle||A,D=td(f.opacity,D));let $={fill:T,stroke:E,"stroke-width":P,opacity:D};return A&&($.dashstyle=A),$}drawPoints(r=this.points){let l,c=this,h=this.chart,d=c.options,p=d.nullInteraction,f=h.renderer,v=d.animationLimit||250;r.forEach(function(b){let T=b.plotY,E=b.graphic,A=!!E,P=E&&h.pointCount<v?"animate":"attr";jf(T)&&(b.y!==null||p)?(l=b.shapeArgs,E&&b.hasNewShapeType()&&(E=E.destroy()),c.enabledDataSorting&&(b.startXPos=c.xAxis.reversed?-(l&&l.width||0):c.xAxis.width),!E&&(b.graphic=E=f[b.shapeType](l).add(b.group||c.group),E&&c.enabledDataSorting&&h.hasRendered&&h.pointCount<v&&(E.attr({x:b.startXPos}),A=!0,P="animate")),E&&A&&E[P](_v(l)),h.styledMode||E[P](c.pointAttribs(b,b.selected&&"select")).shadow(b.allowShadow!==!1&&d.shadow),E&&(E.addClass(b.getClassName(),!0),E.attr({visibility:b.visible?"inherit":"hidden"}))):E&&(b.graphic=E.destroy())})}drawTracker(r=this.points){let l,c=this,h=c.chart,d=h.pointer,p=function(f){d==null||d.normalize(f);let v=d==null?void 0:d.getPointFromEvent(f);d&&v&&c.options.enableMouseTracking&&(h.isInsidePlot(f.chartX-h.plotLeft,f.chartY-h.plotTop,{visiblePlotOnly:!0})||d!=null&&d.inClass(f.target,"highcharts-data-label"))&&(d.isDirectTouch=!0,v.onMouseOver(f))};r.forEach(function(f){l=aE(f.dataLabels)?f.dataLabels:f.dataLabel?[f.dataLabel]:[],f.graphic&&(f.graphic.element.point=f),l.forEach(function(v){(v.div||v.element).point=f})}),c._hasTracking||(c.trackerGroups.forEach(function(f){c[f]&&(c[f].addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(v){d==null||d.onTrackerMouseOut(v)}).on("touchstart",p),!h.styledMode&&c.options.cursor&&c[f].css({cursor:c.options.cursor}))}),c._hasTracking=!0),oE(this,"afterDrawTracker")}remove(){let r=this,l=r.chart;l.hasRendered&&l.series.forEach(function(c){c.type===r.type&&(c.isDirty=!0)}),Mr.prototype.remove.apply(r,arguments)}}If.defaultOptions=_v(Mr.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),sE(If.prototype,{directTouch:!0,getSymbol:cR,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),ui.registerSeriesType("column",If);let Pf=If,{getDeferredAnimation:hR}=St,{format:dR}=wi,{defined:Hl,extend:lE,fireEvent:Ev,getAlignFactor:cE,isArray:Ia,isString:nd,merge:id,objectEach:pR,pick:rd,pInt:fR,splat:uE}=Pe;(function(w){function r(){return v(this).some(T=>T==null?void 0:T.enabled)}function l(T,E,A,P,D){var it;let{chart:$,enabledDataSorting:q}=this,V=this.isCartesian&&$.inverted,Q=T.plotX,ee=T.plotY,Ee=A.rotation||0,fe=Hl(Q)&&Hl(ee)&&$.isInsidePlot(Q,Math.round(ee),{inverted:V,paneCoordinates:!0,series:this}),xe=Ee===0&&rd(A.overflow,q?"none":"justify")==="justify",Ve=this.visible&&T.visible!==!1&&Hl(Q)&&(T.series.forceDL||q&&!xe||fe||rd(A.inside,!!this.options.stacking)&&P&&$.isInsidePlot(Q,V?P.x+1:P.y+P.height-1,{inverted:V,paneCoordinates:!0,series:this})),Ae=T.pos();if(Ve&&Ae){var Le;let lt=E.getBBox(),kt=E.getBBox(void 0,0);if(P=lE({x:Ae[0],y:Math.round(Ae[1]),width:0,height:0},P||{}),A.alignTo==="plotEdges"&&this.isCartesian&&(P[V?"x":"y"]=0,P[V?"width":"height"]=((it=this.yAxis)==null?void 0:it.len)||0),lE(A,{width:lt.width,height:lt.height}),Le=P,q&&this.xAxis&&!xe&&this.setDataLabelStartPos(T,E,D,fe,Le),E.align(id(A,{width:kt.width,height:kt.height}),!1,P,!1),E.alignAttr.x+=cE(A.align)*(kt.width-lt.width),E.alignAttr.y+=cE(A.verticalAlign)*(kt.height-lt.height),E[E.placed?"animate":"attr"]({"text-align":E.alignAttr["text-align"]||"center",x:E.alignAttr.x+(lt.width-kt.width)/2,y:E.alignAttr.y+(lt.height-kt.height)/2,rotationOriginX:(E.width||0)/2,rotationOriginY:(E.height||0)/2}),xe&&P.height>=0)this.justifyDataLabel(E,A,E.alignAttr,lt,P,D);else if(rd(A.crop,!0)){let{x:jt,y:zt}=E.alignAttr;Ve=$.isInsidePlot(jt,zt,{paneCoordinates:!0,series:this})&&$.isInsidePlot(jt+lt.width-1,zt+lt.height-1,{paneCoordinates:!0,series:this})}A.shape&&!Ee&&E[D?"attr":"animate"]({anchorX:Ae[0],anchorY:Ae[1]})}D&&q&&(E.placed=!1),Ve||q&&!xe?(E.show(),E.placed=!0):(E.hide(),E.placed=!1)}function c(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6,this.chart.dataLabelsGroup)}function h(T){let E=this.hasRendered||0,A=this.initDataLabelsGroup().attr({opacity:+E});return!E&&A&&(this.visible&&A.show(),this.options.animation?A.animate({opacity:1},T):A.attr({opacity:1})),A}function d(T){var Ve;let E;T=T||this.points;let A=this,P=A.chart,D=A.options,$=P.renderer,{backgroundColor:q,plotBackgroundColor:V}=P.options.chart,Q=$.getContrast(nd(V)&&V||nd(q)&&q||"#000000"),ee=v(A),{animation:Ee,defer:fe}=ee[0],xe=fe?hR(P,Ee,A):{defer:0,duration:0};Ev(this,"drawDataLabels"),(Ve=A.hasDataLabels)!=null&&Ve.call(A)&&(E=this.initDataLabels(xe),T.forEach(Ae=>{var kt,jt,zt;let Le=Ae.dataLabels||[],it=Ae.color||A.color;uE(f(ee,Ae.dlOptions||((kt=Ae.options)==null?void 0:kt.dataLabels))).forEach((Ft,Wt)=>{var Gn;let Rt=Ft.enabled&&(Ae.visible||Ae.dataLabelOnHidden)&&(!Ae.isNull||Ae.dataLabelOnNull)&&function(Bi,Oo){let ms=Oo.filter;if(ms){let Ji=ms.operator,qi=Bi[ms.property],Qn=ms.value;return Ji===">"&&qi>Qn||Ji==="<"&&qi<Qn||Ji===">="&&qi>=Qn||Ji==="<="&&qi<=Qn||Ji==="=="&&qi==Qn||Ji==="==="&&qi===Qn||Ji==="!="&&qi!=Qn||Ji==="!=="&&qi!==Qn||!1}return!0}(Ae,Ft),{backgroundColor:Yt,borderColor:pn,distance:_n,style:En={}}=Ft,Qi,bn,On,ln={},sn=Le[Wt],xi=!sn,Ln;Rt&&(bn=Hl(Qi=rd(Ft[Ae.formatPrefix+"Format"],Ft.format))?dR(Qi,Ae,P):(Ft[Ae.formatPrefix+"Formatter"]||Ft.formatter).call(Ae,Ft),On=Ft.rotation,!P.styledMode&&(En.color=rd(Ft.color,En.color,nd(A.color)?A.color:void 0,"#000000"),En.color==="contrast"?(Yt!=="none"&&(Ln=Yt),Ae.contrastColor=$.getContrast(Ln!=="auto"&&nd(Ln)&&Ln||(nd(it)?it:"")),En.color=Ln||!Hl(_n)&&Ft.inside||0>fR(_n||0)||D.stacking?Ae.contrastColor:Q):delete Ae.contrastColor,D.cursor&&(En.cursor=D.cursor)),ln={r:Ft.borderRadius||0,rotation:On,padding:Ft.padding,zIndex:1},P.styledMode||(ln.fill=Yt==="auto"?Ae.color:Yt,ln.stroke=pn==="auto"?Ae.color:pn,ln["stroke-width"]=Ft.borderWidth),pR(ln,(Bi,Oo)=>{Bi===void 0&&delete ln[Oo]})),!sn||Rt&&Hl(bn)&&!!(sn.div||(Gn=sn.text)!=null&&Gn.foreignObject)==!!Ft.useHTML&&(sn.rotation&&Ft.rotation||sn.rotation===Ft.rotation)||(sn=void 0,xi=!0),Rt&&Hl(bn)&&bn!==""&&(sn?ln.text=bn:(sn=$.label(bn,0,0,Ft.shape,void 0,void 0,Ft.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+Ae.colorIndex+" "+(Ft.className||"")+(Ft.useHTML?" highcharts-tracker":"")),sn&&(sn.options=Ft,sn.attr(ln),P.styledMode?En.width&&sn.css({width:En.width,textOverflow:En.textOverflow,whiteSpace:En.whiteSpace}):sn.css(En).shadow(Ft.shadow),Ev(sn,"beforeAddingDataLabel",{labelOptions:Ft,point:Ae}),sn.added||sn.add(E),A.alignDataLabel(Ae,sn,Ft,void 0,xi),sn.isActive=!0,Le[Wt]&&Le[Wt]!==sn&&Le[Wt].destroy(),Le[Wt]=sn))});let lt=Le.length;for(;lt--;)(jt=Le[lt])!=null&&jt.isActive?Le[lt].isActive=!1:((zt=Le[lt])==null||zt.destroy(),Le.splice(lt,1));Ae.dataLabel=Le[0],Ae.dataLabels=Le})),Ev(this,"afterDrawDataLabels")}function p(T,E,A,P,D,$){let q=this.chart,V=E.align,Q=E.verticalAlign,ee=T.box?0:T.padding||0,Ee=q.inverted?this.yAxis:this.xAxis,fe=Ee?Ee.left-q.plotLeft:0,xe=q.inverted?this.xAxis:this.yAxis,Ve=xe?xe.top-q.plotTop:0,{x:Ae=0,y:Le=0}=E,it,lt;return(it=(A.x||0)+ee+fe)<0&&(V==="right"&&Ae>=0?(E.align="left",E.inside=!0):Ae-=it,lt=!0),(it=(A.x||0)+P.width-ee+fe)>q.plotWidth&&(V==="left"&&Ae<=0?(E.align="right",E.inside=!0):Ae+=q.plotWidth-it,lt=!0),(it=A.y+ee+Ve)<0&&(Q==="bottom"&&Le>=0?(E.verticalAlign="top",E.inside=!0):Le-=it,lt=!0),(it=(A.y||0)+P.height-ee+Ve)>q.plotHeight&&(Q==="top"&&Le<=0?(E.verticalAlign="bottom",E.inside=!0):Le+=q.plotHeight-it,lt=!0),lt&&(E.x=Ae,E.y=Le,T.placed=!$,T.align(E,void 0,D)),lt}function f(T,E){let A=[],P;if(Ia(T)&&!Ia(E))A=T.map(function(D){return id(D,E)});else if(Ia(E)&&!Ia(T))A=E.map(function(D){return id(T,D)});else if(Ia(T)||Ia(E)){if(Ia(T)&&Ia(E))for(P=Math.max(T.length,E.length);P--;)A[P]=id(T[P],E[P])}else A=id(T,E);return A}function v(T){var A,P;let E=T.chart.options.plotOptions;return uE(f(f((A=E==null?void 0:E.series)==null?void 0:A.dataLabels,(P=E==null?void 0:E[T.type])==null?void 0:P.dataLabels),T.options.dataLabels))}function b(T,E,A,P,D){let $=this.chart,q=$.inverted,V=this.xAxis,Q=V.reversed,ee=((q?E.height:E.width)||0)/2,Ee=T.pointWidth,fe=Ee?Ee/2:0;E.startXPos=q?D.x:Q?-ee-fe:V.width-ee+fe,E.startYPos=q?Q?this.yAxis.height-ee+fe:-ee-fe:D.y,P?E.visibility==="hidden"&&(E.show(),E.attr({opacity:0}).animate({opacity:1})):E.attr({opacity:1}).animate({opacity:0},void 0,E.hide),$.hasRendered&&(A&&E.attr({x:E.startXPos,y:E.startYPos}),E.placed=!0)}w.compose=function(T){let E=T.prototype;E.initDataLabels||(E.initDataLabels=h,E.initDataLabelsGroup=c,E.alignDataLabel=l,E.drawDataLabels=d,E.justifyDataLabel=p,E.mergeArrays=f,E.setDataLabelStartPos=b,E.hasDataLabels=r)}})(oe||(oe={}));let Mf=oe,{composed:mR}=M,{series:hE}=ui,{merge:gR,pushUnique:yR}=Pe;(function(w){function r(l,c,h,d,p){var $,q;let{chart:f,options:v}=this,b=f.inverted,T=(($=this.xAxis)==null?void 0:$.len)||f.plotSizeX||0,E=((q=this.yAxis)==null?void 0:q.len)||f.plotSizeY||0,A=l.dlBox||l.shapeArgs,P=l.below??(l.plotY||0)>(this.translatedThreshold??E),D=h.inside??!!v.stacking;if(A){if(d=gR(A),h.overflow!=="allow"||h.crop!==!1||v.clip!==!1){d.y<0&&(d.height+=d.y,d.y=0);let V=d.y+d.height-E;V>0&&V<d.height-1&&(d.height-=V)}b&&(d={x:E-d.y-d.height,y:T-d.x-d.width,width:d.height,height:d.width}),D||(b?(d.x+=P?0:d.width,d.width=0):(d.y+=P?d.height:0,d.height=0))}h.align??(h.align=!b||D?"center":P?"right":"left"),h.verticalAlign??(h.verticalAlign=b||D?"middle":P?"top":"bottom"),hE.prototype.alignDataLabel.call(this,l,c,h,d,p),h.inside&&l.contrastColor&&c.css({color:l.contrastColor})}w.compose=function(l){Mf.compose(hE),yR(mR,"ColumnDataLabel")&&(l.prototype.alignDataLabel=r)}})(X||(X={}));let vR=X,{extend:xR,merge:bR}=Pe;class kv extends Pf{}kv.defaultOptions=bR(Pf.defaultOptions,{}),xR(kv.prototype,{inverted:!0}),ui.registerSeriesType("bar",kv);let{column:wR,line:dE}=ui.seriesTypes,{addEvent:_R,extend:ER,merge:kR}=Pe;class Rf extends dE{applyJitter(){let r=this,l=this.options.jitter,c=this.points.length;l&&this.points.forEach(function(h,d){["x","y"].forEach(function(p,f){if(l[p]&&!h.isNull){let v=`plot${p.toUpperCase()}`,b=r[`${p}Axis`],T=l[p]*b.transA;if(b&&!b.logarithmic){let E=Math.max(0,(h[v]||0)-T),A=Math.min(b.len,(h[v]||0)+T);h[v]=E+(A-E)*function(P){let D=1e4*Math.sin(P);return D-Math.floor(D)}(d+f*c),p==="x"&&(h.clientX=h.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}Rf.defaultOptions=kR(dE.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),ER(Rf.prototype,{drawTracker:wR.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),_R(Rf,"afterTranslate",function(){this.applyJitter()}),ui.registerSeriesType("scatter",Rf);let{deg2rad:pE}=M,{fireEvent:TR,isNumber:Tv,pick:Df,relativeLength:CR}=Pe;(function(w){w.getCenter=function(){let r=this.options,l=this.chart,c=2*(r.slicedOffset||0),h=l.plotWidth-2*c,d=l.plotHeight-2*c,p=r.center,f=Math.min(h,d),v=r.thickness,b,T=r.size,E=r.innerSize||0,A,P;typeof T=="string"&&(T=parseFloat(T)),typeof E=="string"&&(E=parseFloat(E));let D=[Df(p==null?void 0:p[0],"50%"),Df(p==null?void 0:p[1],"50%"),Df(T&&T<0?void 0:r.size,"100%"),Df(E&&E<0?void 0:r.innerSize||0,"0%")];for(!l.angular||this instanceof Mr||(D[3]=0),A=0;A<4;++A)P=D[A],b=A<2||A===2&&/%$/.test(P),D[A]=CR(P,[h,d,f,D[2]][A])+(b?c:0);return D[3]>D[2]&&(D[3]=D[2]),Tv(v)&&2*v<D[2]&&v>0&&(D[3]=D[2]-2*v),TR(this,"afterGetCenter",{positions:D}),D},w.getStartAndEndRadians=function(r,l){let c=Tv(r)?r:0,h=Tv(l)&&l>c&&l-c<360?l:c+360;return{start:pE*(c+-90),end:pE*(h+-90)}}})(O||(O={}));let fE=O,{setAnimation:SR}=St,{addEvent:mE,defined:AR,extend:NR,isNumber:jR,pick:IR,relativeLength:PR}=Pe;class gE extends ci{getConnectorPath(r){let l=r.dataLabelPosition,c=r.options||{},h=c.connectorShape,d=this.connectorShapes[h]||h;return l&&d.call(this,{...l.computed,alignment:l.alignment},l.connectorPosition,c)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(r){let l=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(l.x,l.y,l.r+r,l.r+r,{innerR:l.r-1,start:l.start,end:l.end,borderRadius:l.borderRadius})}constructor(r,l,c){super(r,l,c),this.half=0,this.name??(this.name=r.chart.options.lang.pieSliceName);let h=d=>{this.slice(d.type==="select")};mE(this,"select",h),mE(this,"unselect",h)}isValid(){return jR(this.y)&&this.y>=0}setVisible(r,l=!0){r!==this.visible&&this.update({visible:r??!this.visible},l,void 0,!1)}slice(r,l,c){let h=this.series;SR(c,h.chart),l=IR(l,!0),this.sliced=this.options.sliced=r=AR(r)?r:!this.sliced,h.options.data[h.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}NR(gE.prototype,{connectorShapes:{fixedOffset:function(w,r,l){let c=r.breakAt,h=r.touchingSliceAt,d=l.softConnector?["C",w.x+(w.alignment==="left"?-5:5),w.y,2*c.x-h.x,2*c.y-h.y,c.x,c.y]:["L",c.x,c.y];return[["M",w.x,w.y],d,["L",h.x,h.y]]},straight:function(w,r){let l=r.touchingSliceAt;return[["M",w.x,w.y],["L",l.x,l.y]]},crookedLine:function(w,r,l){let{angle:c=this.angle||0,breakAt:h,touchingSliceAt:d}=r,{series:p}=this,[f,v,b]=p.center,T=b/2,{plotLeft:E,plotWidth:A}=p.chart,P=w.alignment==="left",{x:D,y:$}=w,q=h.x;if(l.crookDistance){let Q=PR(l.crookDistance,1);q=P?f+T+(A+E-f-T)*(1-Q):E+(f-T)*Q}else q=f+(v-$)*Math.tan(c-Math.PI/2);let V=[["M",D,$]];return(P?q<=D&&q>=h.x:q>=D&&q<=h.x)&&V.push(["L",q,$]),V.push(["L",h.x,h.y],["L",d.x,d.y]),V}}});let{getStartAndEndRadians:MR}=fE,{noop:yE}=M,{clamp:RR,extend:DR,fireEvent:vE,merge:Cv,pick:OR}=Pe;class Sv extends Mr{animate(r){let l=this,c=l.points,h=l.startAngleRad;r||c.forEach(function(d){let p=d.graphic,f=d.shapeArgs;p&&f&&(p.attr({r:OR(d.startR,l.center&&l.center[3]/2),start:h,end:h}),p.animate({r:f.r,start:f.start,end:f.end},l.options.animation))})}drawEmpty(){let r,l,c=this.startAngleRad,h=this.endAngleRad,d=this.options;this.total===0&&this.center?(r=this.center[0],l=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(r,l,this.center[1]/2,0,c,h).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Kr.arc(r,l,this.center[2]/2,0,{start:c,end:h,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":d.borderWidth,fill:d.fillColor||"none",stroke:d.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let r=this.chart.renderer;this.points.forEach(function(l){l.graphic&&l.hasNewShapeType()&&(l.graphic=l.graphic.destroy()),l.graphic||(l.graphic=r[l.shapeType](l.shapeArgs).add(l.series.group),l.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(r,l,c,h){let d=this.center,p=this.radii?this.radii[c.index]||0:d[2]/2,f=h.dataLabelPosition,v=(f==null?void 0:f.distance)||0,b=Math.asin(RR((r-d[1])/(p+v),-1,1));return d[0]+Math.cos(b)*(p+v)*(l?-1:1)+(v>0?(l?-1:1)*(h.padding||0):0)}hasData(){return this.points.some(r=>r.visible)}redrawPoints(){let r,l,c,h,d=this,p=d.chart;this.drawEmpty(),d.group&&!p.styledMode&&d.group.shadow(d.options.shadow),d.points.forEach(function(f){let v={};l=f.graphic,!f.isNull&&l?(h=f.shapeArgs,r=f.getTranslate(),p.styledMode||(c=d.pointAttribs(f,f.selected&&"select")),f.delayedRendering?(l.setRadialReference(d.center).attr(h).attr(r),p.styledMode||l.attr(c).attr({"stroke-linejoin":"round"}),f.delayedRendering=!1):(l.setRadialReference(d.center),p.styledMode||Cv(!0,v,c),Cv(!0,v,h,r),l.animate(v)),l.attr({visibility:f.visible?"inherit":"hidden"}),l.addClass(f.getClassName(),!0)):l&&(f.graphic=l.destroy())})}sortByAngle(r,l){r.sort(function(c,h){return c.angle!==void 0&&(h.angle-c.angle)*l})}translate(r){vE(this,"translate"),this.generatePoints();let l=this.options,c=l.slicedOffset,h=MR(l.startAngle,l.endAngle),d=this.startAngleRad=h.start,p=(this.endAngleRad=h.end)-d,f=this.points,v=l.ignoreHiddenPoint,b=f.length,T,E,A,P,D,$,q,V=0;for(r||(this.center=r=this.getCenter()),$=0;$<b;$++){q=f[$],T=d+V*p,q.isValid()&&(!v||q.visible)&&(V+=q.percentage/100),E=d+V*p;let Q={x:r[0],y:r[1],r:r[2]/2,innerR:r[3]/2,start:Math.round(1e3*T)/1e3,end:Math.round(1e3*E)/1e3};q.shapeType="arc",q.shapeArgs=Q,(A=(E+T)/2)>1.5*Math.PI?A-=2*Math.PI:A<-Math.PI/2&&(A+=2*Math.PI),q.slicedTranslation={translateX:Math.round(Math.cos(A)*c),translateY:Math.round(Math.sin(A)*c)},P=Math.cos(A)*r[2]/2,D=Math.sin(A)*r[2]/2,q.tooltipPos=[r[0]+.7*P,r[1]+.7*D],q.half=+(A<-Math.PI/2||A>Math.PI/2),q.angle=A}vE(this,"afterTranslate")}updateTotals(){let r=this.points,l=r.length,c=this.options.ignoreHiddenPoint,h,d,p=0;for(h=0;h<l;h++)(d=r[h]).isValid()&&(!c||d.visible)&&(p+=d.y);for(h=0,this.total=p;h<l;h++)(d=r[h]).percentage=p>0&&(d.visible||!c)?d.y/p*100:0,d.total=p}}Sv.defaultOptions=Cv(Mr.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),DR(Sv.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:Pf.prototype.drawTracker,getCenter:fE.getCenter,getSymbol:yE,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:Pf.prototype.pointAttribs,pointClass:gE,requireSorting:!1,searchPoint:yE,trackerGroups:["group","dataLabelsGroup"]}),ui.registerSeriesType("pie",Sv);let{composed:LR,noop:FR}=M,{distribute:BR}=da,{series:xE}=ui,{arrayMax:VR,clamp:bE,defined:wE,isNumber:UR,pick:zR,pushUnique:qR,relativeLength:_E}=Pe;(function(w){let r={radialDistributionY:function(p,f){var v;return(((v=f.dataLabelPosition)==null?void 0:v.top)||0)+p.distributeBox.pos},radialDistributionX:function(p,f,v,b,T){let E=T.dataLabelPosition;return p.getX(v<((E==null?void 0:E.top)||0)+2||v>((E==null?void 0:E.bottom)||0)-2?b:v,f.half,f,T)},justify:function(p,f,v,b){var T;return b[0]+(p.half?-1:1)*(v+(((T=f.dataLabelPosition)==null?void 0:T.distance)||0))},alignToPlotEdges:function(p,f,v,b){let T=p.getBBox().width;return f?T+b:v-T-b},alignToConnectors:function(p,f,v,b){let T=0,E;return p.forEach(function(A){(E=A.dataLabel.getBBox().width)>T&&(T=E)}),f?T+b:v-T-b}};function l(p,f){let v=Math.PI/2,{start:b=0,end:T=0}=p.shapeArgs||{},E=p.angle||0;f>0&&b<v&&T>v&&E>v/2&&E<1.5*v&&(E=E<=v?Math.max(v/2,(b+v)/2):Math.min(1.5*v,(v+T)/2));let{center:A,options:P}=this,D=A[2]/2,$=Math.cos(E),q=Math.sin(E),V=A[0]+$*D,Q=A[1]+q*D,ee=Math.min((P.slicedOffset||0)+(P.borderWidth||0),f/5);return{natural:{x:V+$*f,y:Q+q*f},computed:{},alignment:f<0?"center":p.half?"right":"left",connectorPosition:{angle:E,breakAt:{x:V+$*ee,y:Q+q*ee},touchingSliceAt:{x:V,y:Q}},distance:f}}function c(){var Ve;let p=this,f=p.points,v=p.chart,b=v.plotWidth,T=v.plotHeight,E=v.plotLeft,A=Math.round(v.chartWidth/3),P=p.center,D=P[2]/2,$=P[1],q=[[],[]],V=[0,0,0,0],Q=p.dataLabelPositioners,ee,Ee,fe,xe=0;p.visible&&((Ve=p.hasDataLabels)!=null&&Ve.call(p))&&(f.forEach(Ae=>{(Ae.dataLabels||[]).forEach(Le=>{Le.shortened&&(Le.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),Le.shortened=!1)})}),xE.prototype.drawDataLabels.apply(p),f.forEach(Ae=>{(Ae.dataLabels||[]).forEach((Le,it)=>{var zt;let lt=P[2]/2,kt=Le.options,jt=_E((kt==null?void 0:kt.distance)||0,lt);it===0&&q[Ae.half].push(Ae),!wE((zt=kt==null?void 0:kt.style)==null?void 0:zt.width)&&Le.getBBox().width>A&&(Le.css({width:Math.round(.7*A)+"px"}),Le.shortened=!0),Le.dataLabelPosition=this.getDataLabelPosition(Ae,jt),xe=Math.max(xe,jt)})}),q.forEach((Ae,Le)=>{let it=Ae.length,lt=[],kt,jt,zt=0,Ft;it&&(p.sortByAngle(Ae,Le-.5),xe>0&&(kt=Math.max(0,$-D-xe),jt=Math.min($+D+xe,v.plotHeight),Ae.forEach(Wt=>{(Wt.dataLabels||[]).forEach(Rt=>{var pn;let Yt=Rt.dataLabelPosition;Yt&&Yt.distance>0&&(Yt.top=Math.max(0,$-D-Yt.distance),Yt.bottom=Math.min($+D+Yt.distance,v.plotHeight),zt=Rt.getBBox().height||21,Rt.lineHeight=v.renderer.fontMetrics(Rt.text||Rt).h+2*Rt.padding,Wt.distributeBox={target:(((pn=Rt.dataLabelPosition)==null?void 0:pn.natural.y)||0)-Yt.top+Rt.lineHeight/2,size:zt,rank:Wt.y},lt.push(Wt.distributeBox))})}),BR(lt,Ft=jt+zt-kt,Ft/5)),Ae.forEach(Wt=>{(Wt.dataLabels||[]).forEach(Rt=>{let Yt=Rt.options||{},pn=Wt.distributeBox,_n=Rt.dataLabelPosition,En=(_n==null?void 0:_n.natural.y)||0,Qi=Yt.connectorPadding||0,bn=Rt.lineHeight||21,On=(bn-Rt.getBBox().height)/2,ln=0,sn=En,xi="inherit";if(_n){if(lt&&wE(pn)&&_n.distance>0&&(pn.pos===void 0?xi="hidden":(fe=pn.size,sn=Q.radialDistributionY(Wt,Rt))),Yt.justify)ln=Q.justify(Wt,Rt,D,P);else switch(Yt.alignTo){case"connectors":ln=Q.alignToConnectors(Ae,Le,b,E);break;case"plotEdges":ln=Q.alignToPlotEdges(Rt,Le,b,E);break;default:ln=Q.radialDistributionX(p,Wt,sn-On,En,Rt)}if(_n.attribs={visibility:xi,align:_n.alignment},_n.posAttribs={x:ln+(Yt.x||0)+({left:Qi,right:-Qi}[_n.alignment]||0),y:sn+(Yt.y||0)-bn/2},_n.computed.x=ln,_n.computed.y=sn-On,zR(Yt.crop,!0)){let Ln;ln-(Ee=Rt.getBBox().width)<Qi&&Le===1?(Ln=Math.round(Ee-ln+Qi),V[3]=Math.max(Ln,V[3])):ln+Ee>b-Qi&&Le===0&&(Ln=Math.round(ln+Ee-b+Qi),V[1]=Math.max(Ln,V[1])),sn-fe/2<0?V[0]=Math.max(Math.round(-sn+fe/2),V[0]):sn+fe/2>T&&(V[2]=Math.max(Math.round(sn+fe/2-T),V[2])),_n.sideOverflow=Ln}}})}))}),(VR(V)===0||this.verifyDataLabelOverflow(V))&&(this.placeDataLabels(),this.points.forEach(Ae=>{(Ae.dataLabels||[]).forEach(Le=>{var jt;let{connectorColor:it,connectorWidth:lt=1}=Le.options||{},kt=Le.dataLabelPosition;if(UR(lt)){let zt;ee=Le.connector,kt&&kt.distance>0?(zt=!ee,ee||(Le.connector=ee=v.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Ae.colorIndex+(Ae.className?" "+Ae.className:"")).add(p.dataLabelsGroup)),v.styledMode||ee.attr({"stroke-width":lt,stroke:it||Ae.color||"#666666"}),ee[zt?"attr":"animate"]({d:Ae.getConnectorPath(Le)}),ee.attr({visibility:(jt=kt.attribs)==null?void 0:jt.visibility})):ee&&(Le.connector=ee.destroy())}})})))}function h(){this.points.forEach(p=>{(p.dataLabels||[]).forEach(f=>{var b,T;let v=f.dataLabelPosition;v?(v.sideOverflow&&(f.css({width:Math.max(f.getBBox().width-v.sideOverflow,0)+"px",textOverflow:((T=(b=f.options)==null?void 0:b.style)==null?void 0:T.textOverflow)||"ellipsis"}),f.shortened=!0),f.attr(v.attribs),f[f.moved?"animate":"attr"](v.posAttribs),f.moved=!0):f&&f.attr({y:-9999})}),delete p.distributeBox},this)}function d(p){let f=this.center,v=this.options,b=v.center,T=v.minSize||80,E=T,A=v.size!==null;return!A&&(b[0]!==null?E=Math.max(f[2]-Math.max(p[1],p[3]),T):(E=Math.max(f[2]-p[1]-p[3],T),f[0]+=(p[3]-p[1])/2),b[1]!==null?E=bE(E,T,f[2]-Math.max(p[0],p[2])):(E=bE(E,T,f[2]-p[0]-p[2]),f[1]+=(p[0]-p[2])/2),E<f[2]?(f[2]=E,f[3]=Math.min(v.thickness?Math.max(0,E-2*v.thickness):Math.max(0,_E(v.innerSize||0,E)),E),this.translate(f),this.drawDataLabels&&this.drawDataLabels()):A=!0),A}w.compose=function(p){if(Mf.compose(xE),qR(LR,"PieDataLabel")){let f=p.prototype;f.dataLabelPositioners=r,f.alignDataLabel=FR,f.drawDataLabels=c,f.getDataLabelPosition=l,f.placeDataLabels=h,f.verifyDataLabelOverflow=d}}})(H||(H={}));let $R=H;(function(w){w.getCenterOfPoints=function(r){let l=r.reduce((c,h)=>(c.x+=h.x,c.y+=h.y,c),{x:0,y:0});return{x:l.x/r.length,y:l.y/r.length}},w.getDistanceBetweenPoints=function(r,l){return Math.sqrt(Math.pow(l.x-r.x,2)+Math.pow(l.y-r.y,2))},w.getAngleBetweenPoints=function(r,l){return Math.atan2(l.x-r.x,l.y-r.y)},w.pointInPolygon=function({x:r,y:l},c){let h=c.length,d,p,f=!1;for(d=0,p=h-1;d<h;p=d++){let[v,b]=c[d],[T,E]=c[p];b>l!=E>l&&r<(T-v)*(l-b)/(E-b)+v&&(f=!f)}return f}})(te||(te={}));let{pointInPolygon:HR}=te,{addEvent:WR,getAlignFactor:GR,fireEvent:EE,objectEach:kE,pick:KR}=Pe;function YR(w){let r=w.length,l=(T,E)=>!(E.x>=T.x+T.width||E.x+E.width<=T.x||E.y>=T.y+T.height||E.y+E.height<=T.y),c=(T,E)=>{for(let A of T)if(HR({x:A[0],y:A[1]},E))return!0;return!1},h,d,p,f,v,b=!1;for(let T=0;T<r;T++)(h=w[T])&&(h.oldOpacity=h.opacity,h.newOpacity=1,h.absoluteBox=function(E){var A,P;if(E&&(!E.alignAttr||E.placed)){let D=E.box?0:E.padding||0,$=E.alignAttr||{x:E.attr("x"),y:E.attr("y")},{height:q,polygon:V,width:Q}=E.getBBox(),ee=GR(E.alignValue)*Q;return E.width=Q,E.height=q,{x:$.x+(((A=E.parentGroup)==null?void 0:A.translateX)||0)+D-ee,y:$.y+(((P=E.parentGroup)==null?void 0:P.translateY)||0)+D,width:Q-2*D,height:q-2*D,polygon:V}}}(h));w.sort((T,E)=>(E.labelrank||0)-(T.labelrank||0));for(let T=0;T<r;++T){f=(d=w[T])&&d.absoluteBox;let E=f==null?void 0:f.polygon;for(let A=T+1;A<r;++A){v=(p=w[A])&&p.absoluteBox;let P=!1;if(f&&v&&d!==p&&d.newOpacity!==0&&p.newOpacity!==0&&d.visibility!=="hidden"&&p.visibility!=="hidden"){let D=v.polygon;if(E&&D&&E!==D?c(E,D)&&(P=!0):l(f,v)&&(P=!0),P){let $=d.labelrank<p.labelrank?d:p,q=$.text;$.newOpacity=0,q!=null&&q.element.querySelector("textPath")&&q.hide()}}}}for(let T of w)TE(T,this)&&(b=!0);b&&EE(this,"afterHideAllOverlappingLabels")}function TE(w,r){let l,c=!1;return w&&(l=w.newOpacity,w.oldOpacity!==l&&(w.hasClass("highcharts-data-label")?(w[l?"removeClass":"addClass"]("highcharts-data-label-hidden"),c=!0,w[w.isOld?"animate":"attr"]({opacity:l},void 0,function(){r.styledMode||w.css({pointerEvents:l?"auto":"none"})}),EE(r,"afterHideOverlappingLabel")):w.attr({opacity:l})),w.isOld=!0),c}function XR(){var l;let w=this,r=[];for(let c of w.labelCollectors||[])r=r.concat(c());for(let c of w.yAxis||[])c.stacking&&c.options.stackLabels&&!c.options.stackLabels.allowOverlap&&kE(c.stacking.stacks,h=>{kE(h,d=>{d.label&&r.push(d.label)})});for(let c of w.series||[])if(c.visible&&((l=c.hasDataLabels)!=null&&l.call(c))){let h=d=>{for(let p of d)p.visible&&(p.dataLabels||[]).forEach(f=>{var b;let v=f.options||{};f.labelrank=KR(v.labelrank,p.labelrank,(b=p.shapeArgs)==null?void 0:b.height),v.allowOverlap??Number(v.distance)>0?(f.oldOpacity=f.opacity,f.newOpacity=1,TE(f,w)):r.push(f)})};h(c.nodes||[]),h(c.points)}this.hideOverlappingLabels(r)}let CE={compose:function(w){let r=w.prototype;r.hideOverlappingLabels||(r.hideOverlappingLabels=YR,WR(w,"render",XR))}},{defaultOptions:QR}=He,{noop:SE}=M,{addEvent:AE,extend:JR,isObject:NE,merge:ZR,relativeLength:Av}=Pe,eD={radius:0,scope:"stack",where:void 0},jE=SE,IE=SE;function tD(w,r,l,c,h={}){let d=jE(w,r,l,c,h),{brStart:p=!0,brEnd:f=!0,innerR:v=0,r:b=l,start:T=0,end:E=0}=h;if(h.open||!h.borderRadius)return d;let A=E-T,P=Math.sin(A/2),D=Math.max(Math.min(Av(h.borderRadius||0,b-v),(b-v)/2,b*P/(1+P)),0),$=Math.min(D,A/Math.PI*2*v),q=d.length-1;for(;q--;)(p||q!==0&&q!==3)&&(f||q!==1&&q!==2)&&function(V,Q,ee){let Ee,fe,xe,Ve=V[Q],Ae=V[Q+1];if(Ae[0]==="Z"&&(Ae=V[0]),(Ve[0]==="M"||Ve[0]==="L")&&Ae[0]==="A"?(Ee=Ve,fe=Ae,xe=!0):Ve[0]==="A"&&(Ae[0]==="M"||Ae[0]==="L")&&(Ee=Ae,fe=Ve),Ee&&fe&&fe.params){let Le=fe[1],it=fe[5],lt=fe.params,{start:kt,end:jt,cx:zt,cy:Ft}=lt,Wt=it?Le-ee:Le+ee,Rt=Wt?Math.asin(ee/Wt):0,Yt=it?Rt:-Rt,pn=Math.cos(Rt)*Wt;xe?(lt.start=kt+Yt,Ee[1]=zt+pn*Math.cos(kt),Ee[2]=Ft+pn*Math.sin(kt),V.splice(Q+1,0,["A",ee,ee,0,0,1,zt+Le*Math.cos(lt.start),Ft+Le*Math.sin(lt.start)])):(lt.end=jt-Yt,fe[6]=zt+Le*Math.cos(lt.end),fe[7]=Ft+Le*Math.sin(lt.end),V.splice(Q+1,0,["A",ee,ee,0,0,1,zt+pn*Math.cos(jt),Ft+pn*Math.sin(jt)])),fe[4]=Math.abs(lt.end-lt.start)<Math.PI?0:1}}(d,q,q>1?$:D);return d}function nD(){var w,r;if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:l,yAxis:c}=this,h=l.stacking==="percent",d=(r=(w=QR.plotOptions)==null?void 0:w[this.type])==null?void 0:r.borderRadius,p=Nv(l.borderRadius,NE(d)?d:{}),f=c.options.reversed;for(let v of this.points){let{shapeArgs:b}=v;if(v.shapeType==="roundedRect"&&b){let{width:T=0,height:E=0,y:A=0}=b,P=A,D=E;if(p.scope==="stack"&&v.stackTotal){let Q=c.translate(h?100:v.stackTotal,!1,!0,!1,!0),ee=c.translate(l.threshold||0,!1,!0,!1,!0),Ee=this.crispCol(0,Math.min(Q,ee),0,Math.abs(Q-ee));P=Ee.y,D=Ee.height}let $=(v.negative?-1:1)*(f?-1:1)==-1,q=p.where;!q&&this.is("waterfall")&&Math.abs((v.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(q="all"),q||(q="end");let V=Math.min(Av(p.radius,T),T/2,q==="all"?E/2:1/0)||0;q==="end"&&($&&(P-=V),D+=V),JR(b,{brBoxHeight:D,brBoxY:P,r:V})}}}}function Nv(w,r){return NE(w)||(w={radius:w||0}),ZR(eD,r,w)}function iD(){let w=Nv(this.options.borderRadius);for(let r of this.points){let l=r.shapeArgs;l&&(l.borderRadius=Av(w.radius,(l.r||0)-(l.innerR||0)))}}function rD(w,r,l,c,h={}){let d=IE(w,r,l,c,h),{r:p=0,brBoxHeight:f=c,brBoxY:v=r}=h,b=r-v,T=v+f-(r+c),E=b-p>-.1?0:p,A=T-p>-.1?0:p,P=Math.max(E&&b,0),D=Math.max(A&&T,0),$=[w+E,r],q=[w+l-E,r],V=[w+l,r+E],Q=[w+l,r+c-A],ee=[w+l-A,r+c],Ee=[w+A,r+c],fe=[w,r+c-A],xe=[w,r+E],Ve=(Ae,Le)=>Math.sqrt(Math.pow(Ae,2)-Math.pow(Le,2));if(P){let Ae=Ve(E,E-P);$[0]-=Ae,q[0]+=Ae,V[1]=xe[1]=r+E-P}if(c<E-P){let Ae=Ve(E,E-P-c);V[0]=Q[0]=w+l-E+Ae,ee[0]=Math.min(V[0],ee[0]),Ee[0]=Math.max(Q[0],Ee[0]),fe[0]=xe[0]=w+E-Ae,V[1]=xe[1]=r+c}if(D){let Ae=Ve(A,A-D);ee[0]+=Ae,Ee[0]-=Ae,Q[1]=fe[1]=r+c-A+D}if(c<A-D){let Ae=Ve(A,A-D-c);V[0]=Q[0]=w+l-A+Ae,q[0]=Math.min(V[0],q[0]),$[0]=Math.max(Q[0],$[0]),fe[0]=xe[0]=w+A-Ae,Q[1]=fe[1]=r}return d.length=0,d.push(["M",...$],["L",...q],["A",E,E,0,0,1,...V],["L",...Q],["A",A,A,0,0,1,...ee],["L",...Ee],["A",A,A,0,0,1,...fe],["L",...xe],["A",E,E,0,0,1,...$],["Z"]),d}let{diffObjects:sD,extend:oD,find:aD,merge:lD,pick:Of,uniqueKey:cD}=Pe;(function(w){function r(c,h){let d=c.condition;(d.callback||function(){return this.chartWidth<=Of(d.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=Of(d.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=Of(d.minWidth,0)&&this.chartHeight>=Of(d.minHeight,0)}).call(this)&&h.push(c._id)}function l(c,h){let d=this.options.responsive,p=this.currentResponsive,f=[],v;!h&&d&&d.rules&&d.rules.forEach(E=>{E._id===void 0&&(E._id=cD()),this.matchResponsiveRule(E,f)},this);let b=lD(...f.map(E=>aD((d==null?void 0:d.rules)||[],A=>A._id===E)).map(E=>E==null?void 0:E.chartOptions));b.isResponsiveOptions=!0,f=f.toString()||void 0;let T=p==null?void 0:p.ruleIds;f!==T&&(p&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(p.undoOptions,c,!0),this.updatingResponsive=!1),f?((v=sD(b,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:f,mergedOptions:b,undoOptions:v},this.updatingResponsive||this.update(b,c,!0)):this.currentResponsive=void 0)}w.compose=function(c){let h=c.prototype;return h.matchResponsiveRule||oD(h,{matchResponsiveRule:r,setResponsive:l}),c}})(Te||(Te={}));let uD=Te;M.AST=Vn,M.Axis=Ta,M.Chart=Na,M.Color=Lt,M.DataLabel=Mf,M.DataTableCore=xf,M.Fx=Rn,M.HTMLElement=Ir,M.Legend=B_,M.LegendSymbol=T_,M.OverlappingDataLabels=M.OverlappingDataLabels||CE,M.PlotLineOrBand=Ro,M.Point=ci,M.Pointer=__,M.RendererRegistry=qr,M.Series=Mr,M.SeriesRegistry=ui,M.StackItem=Q_,M.SVGElement=cr,M.SVGRenderer=Hc,M.Templating=wi,M.Tick=Ea,M.Time=rt,M.Tooltip=L,M.animate=St.animate,M.animObject=St.animObject,M.chart=Na.chart,M.color=Lt.parse,M.dateFormat=wi.dateFormat,M.defaultOptions=He.defaultOptions,M.distribute=da.distribute,M.format=wi.format,M.getDeferredAnimation=St.getDeferredAnimation,M.getOptions=He.getOptions,M.numberFormat=wi.numberFormat,M.seriesType=ui.seriesType,M.setAnimation=St.setAnimation,M.setOptions=He.setOptions,M.stop=St.stop,M.time=He.defaultTime,M.timers=Rn.timers,{compose:function(w,r,l){let c=w.types.pie;if(!r.symbolCustomAttribs.includes("borderRadius")){let h=l.prototype.symbols;AE(w,"afterColumnTranslate",nD,{order:9}),AE(c,"afterTranslate",iD),r.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY","brEnd","brStart"),jE=h.arc,IE=h.roundedRect,h.arc=tD,h.roundedRect=rD}},optionsToObject:Nv}.compose(M.Series,M.SVGElement,M.SVGRenderer),vR.compose(M.Series.types.column),Mf.compose(M.Series),By.compose(M.Axis),Ir.compose(M.SVGRenderer),B_.compose(M.Chart),Zc.compose(M.Axis),CE.compose(M.Chart),$R.compose(M.Series.types.pie),Ro.compose(M.Chart,M.Axis),__.compose(M.Chart),uD.compose(M.Chart),Jh.compose(M.Axis,M.Chart,M.Series),QM.compose(M.Axis,M.Chart,M.Series),L.compose(M.Pointer),Pe.extend(M,Pe);let hD=M;return Y.default})())})(EP);var Xq=EP.exports;const d0=gl(Xq);var kP={exports:{}};(function(t,e){(function(n,i){t.exports=i(F)})(typeof self<"u"?self:wc,function(n){return function(i){function s(u){if(a[u])return a[u].exports;var m=a[u]={i:u,l:!1,exports:{}};return i[u].call(m.exports,m,m.exports,s),m.l=!0,m.exports}var a={};return s.m=i,s.c=a,s.d=function(u,m,x){s.o(u,m)||Object.defineProperty(u,m,{configurable:!1,enumerable:!0,get:x})},s.n=function(u){var m=u&&u.__esModule?function(){return u.default}:function(){return u};return s.d(m,"a",m),m},s.o=function(u,m){return Object.prototype.hasOwnProperty.call(u,m)},s.p="",s(s.s=0)}([function(i,s,a){function u(){return u=Object.assign?Object.assign.bind():function(O){for(var H=1;H<arguments.length;H++){var te=arguments[H];for(var Te in te)Object.prototype.hasOwnProperty.call(te,Te)&&(O[Te]=te[Te])}return O},u.apply(this,arguments)}function m(O){return I(O)||j(O)||_(O)||x()}function x(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _(O,H){if(O){if(typeof O=="string")return U(O,H);var te=Object.prototype.toString.call(O).slice(8,-1);return te==="Object"&&O.constructor&&(te=O.constructor.name),te==="Map"||te==="Set"?Array.from(O):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?U(O,H):void 0}}function j(O){if(typeof Symbol<"u"&&O[Symbol.iterator]!=null||O["@@iterator"]!=null)return Array.from(O)}function I(O){if(Array.isArray(O))return U(O)}function U(O,H){(H==null||H>O.length)&&(H=O.length);for(var te=0,Te=new Array(H);te<H;te++)Te[te]=O[te];return Te}function J(O){"@babel/helpers - typeof";return(J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H})(O)}Object.defineProperty(s,"__esModule",{value:!0}),a.d(s,"HighchartsReact",function(){return X});var ne=a(1),le=a.n(ne),oe=typeof window<"u"?ne.useLayoutEffect:ne.useEffect,X=Object(ne.memo)(Object(ne.forwardRef)(function(O,H){var te=Object(ne.useRef)(),Te=Object(ne.useRef)(),ge=Object(ne.useRef)(O.constructorType),Y=Object(ne.useRef)(O.highcharts);return oe(function(){function M(){var z=O.highcharts||(typeof window>"u"?"undefined":J(window))==="object"&&window.Highcharts,K=O.constructorType||"chart";z?z[K]?O.options?Te.current=z[K](te.current,O.options,O.callback):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(Te.current){if(O.allowChartUpdate!==!1)if(O.constructorType!==ge.current||O.highcharts!==Y.current)ge.current=O.constructorType,Y.current=O.highcharts,M();else if(!O.immutable&&Te.current){var G;(G=Te.current).update.apply(G,[O.options].concat(m(O.updateArgs||[!0,!0])))}else M()}else M()},[O.options,O.allowChartUpdate,O.updateArgs,O.containerProps,O.highcharts,O.constructorType]),oe(function(){return function(){Te.current&&(Te.current.destroy(),Te.current=null)}},[]),Object(ne.useImperativeHandle)(H,function(){return{get chart(){return Te.current},container:te}},[]),le.a.createElement("div",u({},O.containerProps,{ref:te}))}));s.default=X},function(i,s){i.exports=n}])})})(kP);var Qq=kP.exports;const Jq=gl(Qq);var TP={exports:{}};(function(t,e){(function(n,i){t.exports=i(n._Highcharts,n._Highcharts.Axis,n._Highcharts.Chart,n._Highcharts.Point,n._Highcharts.SeriesRegistry)})(typeof window>"u"?wc:window,(n,i,s,a,u)=>(()=>{var m={260:st=>{st.exports=a},512:st=>{st.exports=u},532:st=>{st.exports=i},944:st=>{st.exports=n},960:st=>{st.exports=s}},x={};function _(st){var be=x[st];if(be!==void 0)return be.exports;var ae=x[st]={exports:{}};return m[st](ae,ae.exports,_),ae.exports}_.n=st=>{var be=st&&st.__esModule?()=>st.default:()=>st;return _.d(be,{a:be}),be},_.d=(st,be)=>{for(var ae in be)_.o(be,ae)&&!_.o(st,ae)&&Object.defineProperty(st,ae,{enumerable:!0,get:be[ae]})},_.o=(st,be)=>Object.prototype.hasOwnProperty.call(st,be);var j={};_.d(j,{default:()=>Pt});var I=_(944),U=_.n(I);let{win:J}=U(),{discardElement:ne,objectEach:le}=U(),oe={ajax:function(st){var me;let be={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},ae=new XMLHttpRequest;function ke(Ye,Pe){st.error&&st.error(Ye,Pe)}if(!st.url)return!1;ae.open((st.type||"get").toUpperCase(),st.url,!0),(me=st.headers)!=null&&me["Content-Type"]||ae.setRequestHeader("Content-Type",be[st.dataType||"json"]||be.text),le(st.headers,function(Ye,Pe){ae.setRequestHeader(Pe,Ye)}),st.responseType&&(ae.responseType=st.responseType),ae.onreadystatechange=function(){var Pe;let Ye;if(ae.readyState===4){if(ae.status===200){if(st.responseType!=="blob"&&(Ye=ae.responseText,st.dataType==="json"))try{Ye=JSON.parse(Ye)}catch(ze){if(ze instanceof Error)return ke(ae,ze)}return(Pe=st.success)==null?void 0:Pe.call(st,Ye,ae)}ke(ae,ae.responseText)}},st.data&&typeof st.data!="string"&&(st.data=JSON.stringify(st.data)),ae.send(st.data)},getJSON:function(st,be){oe.ajax({url:st,success:be,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:async function(st,be,ae){let ke=new J.FormData;le(be,function(Ye,Pe){ke.append(Pe,Ye)}),ke.append("b64","true");let me=await J.fetch(st,{method:"POST",body:ke,...ae});if(me.ok){let Ye=await me.text(),Pe=document.createElement("a");Pe.href=`data:${be.type};base64,${Ye}`,Pe.download=be.filename,Pe.click(),ne(Pe)}}};var X=_(532),O=_.n(X),H=_(960),te=_.n(H),Te=_(260),ge=_.n(Te),Y=_(512),M=_.n(Y);let{getOptions:G}=U(),{doc:z}=U(),{ajax:K}=oe,{seriesTypes:se}=M(),{addEvent:ie,defined:dt,extend:Dt,fireEvent:Ge,isNumber:ut,merge:Re,objectEach:Ke,pick:ct,splat:Et}=U();function wt(st){return!!(st&&(st.rowsURL||st.csvURL||st.columnsURL))}class vt{static data(be,ae={},ke){return new vt(be,ae,ke)}static rowsToColumns(be){let ae,ke,me,Ye,Pe;if(be)for(ae=0,Pe=[],ke=be.length;ae<ke;ae++)for(me=0,Ye=be[ae].length;me<Ye;me++)Pe[me]||(Pe[me]=[]),Pe[me][ae]=be[ae][me];return Pe}constructor(be,ae={},ke){this.rowsToColumns=vt.rowsToColumns,this.dateFormats={"YYYY/mm/dd":{regex:/^(\d{4})[\-\/\.](\d{1,2})[\-\/\.](\d{1,2})$/,parser:function(me){return me?Date.UTC(+me[1],me[2]-1,+me[3]):NaN}},"dd/mm/YYYY":{regex:/^(\d{1,2})[\-\/\.](\d{1,2})[\-\/\.](\d{4})$/,parser:function(me){return me?Date.UTC(+me[3],me[2]-1,+me[1]):NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^(\d{1,2})[\-\/\.](\d{1,2})[\-\/\.](\d{4})$/,parser:function(me){return me?Date.UTC(+me[3],me[1]-1,+me[2]):NaN}},"dd/mm/YY":{regex:/^(\d{1,2})[\-\/\.](\d{1,2})[\-\/\.](\d{2})$/,parser:function(me){if(!me)return NaN;let Ye=new Date,Pe=+me[3];return Pe>Ye.getFullYear()-2e3?Pe+=1900:Pe+=2e3,Date.UTC(Pe,me[2]-1,+me[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^(\d{1,2})[\-\/\.](\d{1,2})[\-\/\.](\d{2})$/,parser:function(me){return me?Date.UTC(+me[3]+2e3,me[1]-1,+me[2]):NaN}}},this.chart=ke,this.chartOptions=ae,this.options=be,this.rawColumns=[],this.init(be,ae,ke)}init(be,ae,ke){let me=be.decimalPoint,Ye;ae&&(this.chartOptions=ae),ke&&(this.chart=ke),me!=="."&&me!==","&&(me=void 0),this.options=be,this.columns=be.columns||this.rowsToColumns(be.rows)||[],this.firstRowAsNames=ct(be.firstRowAsNames,this.firstRowAsNames,!0),this.decimalRegex=me&&RegExp("^(-?[0-9]+)"+me+"([0-9]+)$"),this.liveDataTimeout!==void 0&&clearTimeout(this.liveDataTimeout),this.rawColumns=[],this.columns.length&&(this.dataFound(),Ye=!wt(be)),Ye||(Ye=this.fetchLiveData()),Ye||(Ye=!!this.parseCSV().length),Ye||(Ye=!!this.parseTable().length),Ye||(Ye=this.parseGoogleSpreadsheet()),!Ye&&be.afterComplete&&be.afterComplete(this)}getColumnDistribution(){var Ct,pt;let be=this.chartOptions,ae=this.options,ke=[],me=function(De="line"){return(se[De].prototype.pointArrayMap||[0]).length},Ye=function(De="line"){return se[De].prototype.pointArrayMap},Pe=(Ct=be==null?void 0:be.chart)==null?void 0:Ct.type,ze=[],we=[],yt=(ae==null?void 0:ae.seriesMapping)||((pt=be==null?void 0:be.series)==null?void 0:pt.map(function(){return{x:0}}))||[],xt=0;((be==null?void 0:be.series)||[]).forEach(De=>{ze.push(me(De.type||Pe))}),yt.forEach(De=>{ke.push(De.x||0)}),ke.length===0&&ke.push(0),yt.forEach(De=>{let _e=new Ot,Se=ze[xt]||me(Pe),ue=((be==null?void 0:be.series)??[])[xt]??{},Fe=Ye(ue.type||Pe),de=Fe??["y"];(dt(De.x)||ue.isCartesian||!Fe)&&_e.addColumnReader(De.x,"x"),Ke(De,function(ye,je){je!=="x"&&_e.addColumnReader(ye,je)});for(let ye=0;ye<Se;ye++)_e.hasReader(de[ye])||_e.addColumnReader(void 0,de[ye]);we.push(_e),xt++});let Tt=Ye(Pe);Tt===void 0&&(Tt=["y"]),this.valueCount={global:me(Pe),xColumns:ke,individual:ze,seriesBuilders:we,globalPointArrayMap:Tt}}dataFound(){this.options.switchRowsAndColumns&&(this.columns=this.rowsToColumns(this.columns)),this.getColumnDistribution(),this.parseTypes(),this.parsed()!==!1&&this.complete()}parseCSV(be){let ae=this,ke=this.columns=[],me=be||this.options,Ye=me.startColumn||0,Pe=me.endColumn||Number.MAX_VALUE,ze=[],we={",":0,";":0,"	":0},yt=me.csv,xt=me.startRow||0,Tt=me.endRow||Number.MAX_VALUE,Ct,pt,De=0;if(yt&&me.beforeParse&&(yt=me.beforeParse.call(this,yt)),yt){if(pt=yt.replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(me.lineDelimiter||`
`),(!xt||xt<0)&&(xt=0),(!Tt||Tt>=pt.length)&&(Tt=pt.length-1),me.itemDelimiter)Ct=me.itemDelimiter;else{let Se,ue,Fe;Se=0,ue=0,Fe=!1,pt.some(function(de,ye){let je=!1,Ze,nt,Ht,Bt="";if(ye>13)return!0;for(let at=0;at<de.length;at++){if(Ze=de[at],nt=de[at+1],Ht=de[at-1],Ze==="#")return;if(Ze==='"')if(je){if(Ht!=='"'&&nt!=='"'){for(;nt===" "&&at<de.length;)nt=de[++at];we[nt]!==void 0&&we[nt]++,je=!1}}else je=!0;else we[Ze]!==void 0?(isNaN(Date.parse(Bt=Bt.trim()))?(isNaN(Bt)||!isFinite(Bt))&&we[Ze]++:we[Ze]++,Bt=""):Bt+=Ze;Ze===","&&ue++,Ze==="."&&Se++}}),we[";"]>we[","]?Fe=";":(we[","],we[";"],Fe=","),me.decimalPoint||(Se>ue?me.decimalPoint=".":me.decimalPoint=",",ae.decimalRegex=RegExp("^(-?[0-9]+)"+me.decimalPoint+"([0-9]+)$")),Ct=Fe}let _e=0;for(De=xt;De<=Tt;De++)pt[De][0]==="#"?_e++:function(Se,ue,Fe,de){let ye=0,je="",Ze="",nt="",Ht="",Bt=0,at=0;function rt(Be){je=Se[Be],Ze=Se[Be-1],nt=Se[Be+1]}function he(Be){ze.length<at+1&&ze.push([Be]),ze[at][ze[at].length-1]!==Be&&ze[at].push(Be)}function Ne(){if(Ye>Bt||Bt>Pe){++Bt,Ht="";return}me.columnTypes||(!isNaN(parseFloat(Ht))&&isFinite(Ht)?(Ht=parseFloat(Ht),he("number")):isNaN(Date.parse(Ht))?he("string"):(Ht=Ht.replace(/\//g,"-"),he("date"))),ke.length<at+1&&ke.push([]),ke[at][ue]=Ht,Ht="",++at,++Bt}if(Se.trim().length&&Se.trim()[0]!=="#"){for(;ye<Se.length;ye++)if(rt(ye),je==='"')for(rt(++ye);ye<Se.length&&(je!=='"'||Ze==='"'||nt==='"');)(je!=='"'||je==='"'&&Ze!=='"')&&(Ht+=je),rt(++ye);else je===Ct?Ne():Ht+=je;Ne()}}(pt[De],De-xt-_e);(!me.columnTypes||me.columnTypes.length===0)&&ze.length&&ze[0].length&&ze[0][1]==="date"&&!me.dateFormat&&(me.dateFormat=function(Se,ue){var rt;let Fe="YYYY/mm/dd",de=[],ye=[],je,Ze=[],nt,Ht=0,Bt=!1,at;for((!ue||ue>Se.length)&&(ue=Se.length);Ht<ue;Ht++)if(Se[Ht]!==void 0&&((rt=Se[Ht])!=null&&rt.length))for(at=0,je=Se[Ht].trim().replace(/\//g," ").replace(/\-/g," ").replace(/\./g," ").split(" "),Ze=["","",""];at<je.length;at++)at<Ze.length&&(je[at]=parseInt(je[at],10),je[at]&&(ye[at]=!ye[at]||ye[at]<je[at]?je[at]:ye[at],de[at]!==void 0?de[at]!==je[at]&&(de[at]=!1):de[at]=je[at],je[at]>31?je[at]<100?Ze[at]="YY":Ze[at]="YYYY":je[at]>12&&je[at]<=31?(Ze[at]="dd",Bt=!0):Ze[at].length||(Ze[at]="mm")));if(Bt){for(at=0;at<de.length;at++)de[at]!==!1?ye[at]>12&&Ze[at]!=="YY"&&Ze[at]!=="YYYY"&&(Ze[at]="YY"):ye[at]>12&&Ze[at]==="mm"&&(Ze[at]="dd");return Ze.length===3&&Ze[1]==="dd"&&Ze[2]==="dd"&&(Ze[2]="YY"),nt=Ze.join("/"),(me.dateFormats||ae.dateFormats)[nt]?nt:(Ge(ae,"deduceDateFailed"),Fe)}return Fe}(ke[0])),this.dataFound()}return ke}parseTable(){let be=this.options,ae=this.columns||[],ke=be.startRow||0,me=be.endRow||Number.MAX_VALUE,Ye=be.startColumn||0,Pe=be.endColumn||Number.MAX_VALUE;if(be.table){let ze=be.table;typeof ze=="string"&&(ze=z.getElementById(ze)),[].forEach.call(ze.getElementsByTagName("tr"),(we,yt)=>{yt>=ke&&yt<=me&&[].forEach.call(we.children,(xt,Tt)=>{let Ct=ae[Tt-Ye],pt=1;if((xt.tagName==="TD"||xt.tagName==="TH")&&Tt>=Ye&&Tt<=Pe)for(ae[Tt-Ye]||(ae[Tt-Ye]=[]),ae[Tt-Ye][yt-ke]=xt.innerHTML;yt-ke>=pt&&Ct[yt-ke-pt]===void 0;)Ct[yt-ke-pt]=null,pt++})}),this.dataFound()}return ae}fetchLiveData(){let be=this,ae=this.chart,ke=this.options,me=ke.enablePolling,Ye=Re(ke),Pe=0,ze=1e3*(ke.dataRefreshRate||2);return!!wt(ke)&&(ze<1e3&&(ze=1e3),delete ke.csvURL,delete ke.rowsURL,delete ke.columnsURL,function we(yt){function xt(Tt,Ct,pt){if(!Tt||!/^(http|\/|\.\/|\.\.\/)/.test(Tt))return Tt&&ke.error&&ke.error("Invalid URL"),!1;function De(){me&&ae.liveDataURL===Tt&&(be.liveDataTimeout=setTimeout(we,ze))}return yt&&(clearTimeout(be.liveDataTimeout),ae.liveDataURL=Tt),K({url:Tt,dataType:pt||"json",success:function(_e){ae!=null&&ae.series&&Ct(_e),De()},error:function(_e,Se){var ue;return++Pe<3&&De(),(ue=ke.error)==null?void 0:ue.call(ke,Se,_e)}}),!0}xt(Ye.csvURL,function(Tt){ae.update({data:{csv:Tt}})},"text")||xt(Ye.rowsURL,function(Tt){ae.update({data:{rows:Tt}})})||xt(Ye.columnsURL,function(Tt){ae.update({data:{columns:Tt}})})}(!0),wt(ke))}parseGoogleSpreadsheet(){let be=this,ae=this.options,ke=ae.googleSpreadsheetKey,me=this.chart,Ye=Math.max(1e3*(ae.dataRefreshRate||2),4e3),Pe=()=>{if(ae.googleSpreadsheetRange)return ae.googleSpreadsheetRange;let ze="ABCDEFGHIJKLMNOPQRSTUVWXYZ",we=(ze.charAt(ae.startColumn||0)||"A")+((ae.startRow||0)+1),yt=ze.charAt(ct(ae.endColumn,-1))||"ZZ";return dt(ae.endRow)&&(yt+=ae.endRow+1),`${we}:${yt}`};return ke&&(delete ae.googleSpreadsheetKey,function ze(we){K({url:["https://sheets.googleapis.com/v4/spreadsheets",ke,"values",Pe(),"?alt=json&majorDimension=COLUMNS&valueRenderOption=UNFORMATTED_VALUE&dateTimeRenderOption=FORMATTED_STRING&key="+ae.googleAPIKey].join("/"),dataType:"json",success:function(yt){we(yt),ae.enablePolling&&(be.liveDataTimeout=setTimeout(function(){ze(we)},Ye))},error:function(yt,xt){var Tt;return(Tt=ae.error)==null?void 0:Tt.call(ae,xt,yt)}})}(function(ze){let we=ze.values;if(!we||we.length===0)return!1;let yt=we.reduce((xt,Tt)=>Math.max(xt,Tt.length),0);we.forEach(xt=>{for(let Tt=0;Tt<yt;Tt++)xt[Tt]===void 0&&(xt[Tt]=null)}),me!=null&&me.series?me.update({data:{columns:we}}):(be.columns=we,be.dataFound())})),!1}trim(be,ae){return typeof be=="string"&&(be=be.replace(/^\s+|\s+$/g,""),ae&&/[\d\s]+/.test(be)&&(be=be.replace(/\s/g,"")),this.decimalRegex&&(be=be.replace(this.decimalRegex,"$1.$2"))),be}parseTypes(){let be=this.columns||[],ae=be.length;for(;ae--;)this.parseColumn(be[ae],ae)}parseColumn(be,ae){var ye;let ke=this.rawColumns,me=this.columns=this.columns||[],Ye=this.firstRowAsNames,Pe=((ye=this.valueCount)==null?void 0:ye.xColumns.indexOf(ae))!==-1,ze=[],we=this.chartOptions,yt=(this.options.columnTypes||[])[ae],xt=Pe&&(we==null?void 0:we.xAxis)&&Et(we.xAxis)[0].type==="category"||yt==="string",Tt=dt(be.name),Ct=be.length,pt,De,_e,Se,ue,Fe,de;for(ke[ae]||(ke[ae]=[]);Ct--;)pt=ze[Ct]||be[Ct],_e=this.trim(pt),De=parseFloat(Se=this.trim(pt,!0)),ke[ae][Ct]===void 0&&(ke[ae][Ct]=_e),xt||Ct===0&&Ye&&!Tt?be[Ct]=""+_e:+Se===De?(be[Ct]=De,De>31536e6&&yt!=="float"?be.isDatetime=!0:be.isNumeric=!0,be[Ct+1]!==void 0&&(de=De>be[Ct+1])):(_e!=null&&_e.length&&(ue=this.parseDate(pt)),Pe&&ut(ue)&&yt!=="float"?(ze[Ct]=pt,be[Ct]=ue,be.isDatetime=!0,be[Ct+1]!==void 0&&((Fe=ue>be[Ct+1])!==de&&de!==void 0&&(this.alternativeFormat?(this.dateFormat=this.alternativeFormat,Ct=be.length,this.alternativeFormat=this.dateFormats[this.dateFormat].alternative):be.unsorted=!0),de=Fe)):(be[Ct]=_e===""?null:_e,Ct!==0&&(be.isDatetime||be.isNumeric)&&(be.mixed=!0)));if(Pe&&be.mixed&&(me[ae]=ke[ae]),Pe&&de&&this.options.sort){for(ae=0;ae<me.length;ae++)if(me[ae].reverse(),Ye){let je=me[ae].pop();je&&me[ae].unshift(je)}}}parseDate(be){let ae=this.options.parseDate,ke,me,Ye,Pe=this.options.dateFormat||this.dateFormat,ze;if(ae)ke=ae(be);else if(typeof be=="string"){if(Pe)(Ye=this.dateFormats[Pe])||(Ye=this.dateFormats["YYYY/mm/dd"]),(ze=be.match(Ye.regex))&&(ke=Ye.parser(ze));else for(me in this.dateFormats)if(Ye=this.dateFormats[me],ze=be.match(Ye.regex)){this.dateFormat=Pe=me,this.alternativeFormat=Ye.alternative,ke=Ye.parser(ze);break}!ze&&(be.match(/:.+(GMT|UTC|[Z+\-])/)&&(be=be.replace(/\s*(?:GMT|UTC)?([+\-])(\d\d)(\d\d)$/,"$1$2:$3").replace(/(?:\s+|GMT|UTC)([+\-])/,"$1").replace(/(\d)\s*(?:GMT|UTC|Z)$/,"$1+00:00")),typeof(ze=Date.parse(be))=="object"&&ze!==null&&ze.getTime?ke=ze.getTime()-6e4*ze.getTimezoneOffset():ut(ze)&&(ke=ze-6e4*new Date(ze).getTimezoneOffset()))}return ke}getData(){var be;if(this.columns)return(be=this.rowsToColumns(this.columns))==null?void 0:be.slice(1)}parsed(){if(this.options.parsed)return this.options.parsed.call(this,this.columns)}complete(){var Se,ue,Fe,de;let be=this.columns=this.columns||[],ae=this.options,ke=[],me="linear",Ye,Pe,ze,we,yt,xt,Tt,Ct,pt,De,_e;if(be.length,ae.complete||ae.afterComplete){if(this.firstRowAsNames)for(ze=0;ze<be.length;ze++){let ye=be[ze];dt(ye.name)||(ye.name=ct(ye.shift(),"").toString())}for(xt=0,Ye=[],pt=function(ye,je){let Ze,nt,Ht,Bt=[],at=[];for(nt=0;nt<ye;nt+=1)Bt.push(!0);for(Ze=0;Ze<je.length;Ze+=1)for(nt=0,Ht=je[Ze].getReferencedColumnIndexes();nt<Ht.length;nt+=1)Bt[Ht[nt]]=!1;for(nt=0;nt<Bt.length;nt+=1)Bt[nt]&&at.push(nt);return at}((be==null?void 0:be.length)||0,this.valueCount.seriesBuilders);xt<this.valueCount.seriesBuilders.length;xt++)(Ct=this.valueCount.seriesBuilders[xt]).populateColumns(pt)&&ke.push(Ct);for(;pt.length>0;){for((Ct=new Ot).addColumnReader(0,"x"),(_e=pt.indexOf(0))!==-1&&pt.splice(_e,1),ze=0;ze<this.valueCount.global;ze++)Ct.addColumnReader(void 0,this.valueCount.globalPointArrayMap[ze]);Ct.populateColumns(pt)&&ke.push(Ct)}if(ke.length>0&&ke[0].readers.length>0&&(De=be==null?void 0:be[ke[0].readers[0].columnIndex??-1])!==void 0&&(De.isDatetime?me="datetime":De.isNumeric||(me="category")),me==="category")for(xt=0;xt<ke.length;xt++)for(yt=0,Ct=ke[xt];yt<Ct.readers.length;yt++)Ct.readers[yt].configName==="x"&&(Ct.readers[yt].configName="name");for(xt=0;xt<ke.length;xt++){for(we=0,Ct=ke[xt],Pe=[];we<be[0].length;we++)Pe[we]=Ct.read(be,we);Ye[xt]={data:Pe,pointStart:Pe[0]&&(Ct.pointIsArray?(Se=Pe[0])==null?void 0:Se[0]:(ue=Pe[0])==null?void 0:ue.x)||void 0},Ct.name&&(Ye[xt].name=Ct.name),me==="category"&&(Ye[xt].turboThreshold=0,Ye[xt].pointStart=0)}Tt={series:Ye},me!=="linear"||this.xAxisOptions&&this.xAxisOptions.type!==me?(this.xAxisOptions={type:me},me==="category"&&(this.xAxisOptions.uniqueNames=!1)):me=this.xAxisOptions=void 0,this.chart||Re(!0,Tt,{xAxis:this.xAxisOptions||{}}),(Fe=ae.complete)==null||Fe.call(ae,Tt),(de=ae.afterComplete)==null||de.call(ae,this,Tt)}}xAxisUpdateHandler(be){let ae=this.xAxisOptions;ae&&(!be.options.type&&ae.type&&(be.type=ae.type),be.options.uniqueNames||ae.uniqueNames!==!1||(be.uniqueNames=ae.uniqueNames))}update(be,ae){var Ye;let ke=this.chart,me=ke.options;be&&(be.afterComplete=function(Pe,ze){if(!ze)return;let we=ke.xAxis[0],yt=Pe.xAxisOptions;yt&&we&&(we.type!==yt.type&&!we.options.type||we.uniqueNames&&yt.uniqueNames===!1&&we.options.uniqueNames===void 0)?we.update({},!1):((ze==null?void 0:ze.series)||[]).forEach(function(xt){delete xt.pointStart}),ke.update(ze,ae,!0)},Re(!0,me.data,be),(Ye=me.data)!=null&&Ye.googleSpreadsheetKey&&!be.columns&&delete me.data.columns,this.init(me.data||{},me))}}ie(O(),"afterSetOptions",function(){var st;this.isXAxis&&(!this.chart.xAxis.length||this.chart.xAxis[0]===this)&&((st=this.chart.data)==null||st.xAxisUpdateHandler(this))}),ie(te(),"init",function(st){let be=this,ae=st.args[1],ke=G().data,me=st.args[0]||{};(ke||me&&me.data)&&!be.hasDataDef&&(be.hasDataDef=!0,be.data=new vt(Dt(Re(ke,me.data),{afterComplete:function(Ye,Pe){var yt,xt;let ze,we;if(Object.hasOwnProperty.call(me,"series"))if(typeof me.series=="object")for(ze=Math.max(me.series.length,((yt=Pe==null?void 0:Pe.series)==null?void 0:yt.length)??0);ze--;)we=me.series[ze]||{},me.series[ze]=Re(we,((xt=Pe==null?void 0:Pe.series)==null?void 0:xt[ze])??{});else delete me.series;me=Re(Pe,me),be.data=Ye,be.init(me,ae)}}),me,be),st.preventDefault())});class Ot{constructor(){this.readers=[],this.pointIsArray=!0}populateColumns(be){let ae=!0;return this.readers.forEach(ke=>{ke.columnIndex===void 0&&(ke.columnIndex=be.shift())}),this.readers.forEach(ke=>{ke.columnIndex===void 0&&(ae=!1)}),ae}read(be,ae){let ke=this.pointIsArray,me=ke?[]:{};if(this.readers.forEach(Ye=>{let Pe=be[Ye.columnIndex][ae];ke?me.push(Pe):Ye.configName.indexOf(".")>0?ge().prototype.setNestedProperty(me,Pe,Ye.configName):me[Ye.configName]=Pe}),this.name===void 0&&this.readers.length>=2){let Ye=[];this.readers.forEach(function(Pe){(Pe.configName==="x"||Pe.configName==="name"||Pe.configName==="y")&&Pe.columnIndex!==void 0&&Ye.push(Pe.columnIndex)}),Ye.length>=2&&(Ye.shift(),Ye.sort(function(Pe,ze){return Pe-ze})),this.name=be[ct(Ye.shift(),0)].name}return me}addColumnReader(be,ae){this.readers.push({columnIndex:be,configName:ae}),ae!=="x"&&ae!=="y"&&ae!==void 0&&(this.pointIsArray=!1)}getReferencedColumnIndexes(){let be,ae,ke=[];for(be=0;be<this.readers.length;be+=1)(ae=this.readers[be]).columnIndex!==void 0&&ke.push(ae.columnIndex);return ke}hasReader(be){let ae;for(ae=0;ae<this.readers.length;ae+=1)if(this.readers[ae].configName===be)return!0}}let ht=U();ht.Data=ht.Data||vt,ht.HttpUtilities=ht.HttpUtilities||oe,ht.ajax=ht.HttpUtilities.ajax,ht.data=ht.Data.data,ht.getJSON=ht.HttpUtilities.getJSON,ht.post=ht.HttpUtilities.post;let Pt=U();return j.default})())})(TP);var Zq=TP.exports;const e$=gl(Zq);var CP={exports:{}};(function(t,e){(function(n,i){t.exports=i(n._Highcharts,n._Highcharts.AST,n._Highcharts.Chart)})(typeof window>"u"?wc:window,(n,i,s)=>(()=>{var a,u,m={660:rt=>{rt.exports=i},944:rt=>{rt.exports=n},960:rt=>{rt.exports=s}},x={};function _(rt){var he=x[rt];if(he!==void 0)return he.exports;var Ne=x[rt]={exports:{}};return m[rt](Ne,Ne.exports,_),Ne.exports}_.n=rt=>{var he=rt&&rt.__esModule?()=>rt.default:()=>rt;return _.d(he,{a:he}),he},_.d=(rt,he)=>{for(var Ne in he)_.o(he,Ne)&&!_.o(rt,Ne)&&Object.defineProperty(rt,Ne,{enumerable:!0,get:he[Ne]})},_.o=(rt,he)=>Object.prototype.hasOwnProperty.call(rt,he);var j={};_.d(j,{default:()=>at});var I=_(944),U=_.n(I),J=_(660),ne=_.n(J),le=_(960),oe=_.n(le);(function(rt){rt.compose=function(Ne){return Ne.navigation||(Ne.navigation=new he(Ne)),Ne};class he{constructor(Be){this.updates=[],this.chart=Be}addUpdate(Be){this.chart.navigation.updates.push(Be)}update(Be,Me){this.updates.forEach(Ue=>{Ue.call(this.chart,Be,Me)})}}rt.Additions=he})(a||(a={}));let X=a,{isSafari:O,win:H,win:{document:te}}=U(),{error:Te}=U(),ge=H.URL||H.webkitURL||H;function Y(rt){let he=rt.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([A-Z+\d\/]+)/i);if(he&&he.length>3&&H.atob&&H.ArrayBuffer&&H.Uint8Array&&H.Blob&&ge.createObjectURL){let Ne=H.atob(he[3]),Be=new H.ArrayBuffer(Ne.length),Me=new H.Uint8Array(Be);for(let Ue=0;Ue<Me.length;++Ue)Me[Ue]=Ne.charCodeAt(Ue);return ge.createObjectURL(new H.Blob([Me],{type:he[1]}))}}let{isTouchDevice:M}=U(),G={exporting:{allowTableSorting:!0,libURL:"https://code.highcharts.com/12.4.0/lib/",local:!0,type:"image/png",url:`https://export-svg.highcharts.com?v=${U().version}`,pdfFont:{normal:void 0,bold:void 0,bolditalic:void 0,italic:void 0},printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:["viewFullscreen","printChart","separator","downloadPNG","downloadJPEG","downloadSVG"]}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){var rt;(rt=this.fullscreen)==null||rt.toggle()}},printChart:{textKey:"printChart",onclick:function(){var rt;(rt=this.exporting)==null||rt.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:async function(){var rt;await((rt=this.exporting)==null?void 0:rt.exportChart())}},downloadJPEG:{textKey:"downloadJPEG",onclick:async function(){var rt;await((rt=this.exporting)==null?void 0:rt.exportChart({type:"image/jpeg"}))}},downloadPDF:{textKey:"downloadPDF",onclick:async function(){var rt;await((rt=this.exporting)==null?void 0:rt.exportChart({type:"application/pdf"}))}},downloadSVG:{textKey:"downloadSVG",onclick:async function(){var rt;await((rt=this.exporting)==null?void 0:rt.exportChart({type:"image/svg+xml"}))}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:14.5,symbolY:13.5,align:"right",buttonSpacing:5,height:28,y:-5,verticalAlign:"top",width:28,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{fill:"#ffffff",padding:5,stroke:"none","stroke-linecap":"round"}},menuStyle:{border:"none",borderRadius:"3px",background:"#ffffff",padding:"0.5em"},menuItemStyle:{background:"none",borderRadius:"3px",color:"#333333",padding:"0.5em",fontSize:M?"0.9em":"0.8em",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#f2f2f2"}}};(function(rt){let he=[];function Ne(Me,Ue,He,ft){return[["M",Me,Ue+2.5],["L",Me+He,Ue+2.5],["M",Me,Ue+ft/2+.5],["L",Me+He,Ue+ft/2+.5],["M",Me,Ue+ft-1.5],["L",Me+He,Ue+ft-1.5]]}function Be(Me,Ue,He,ft){let Mt=ft/3-2;return[].concat(this.circle(He-Mt,Ue,Mt,Mt),this.circle(He-Mt,Ue+Mt+4,Mt,Mt),this.circle(He-Mt,Ue+2*(Mt+4),Mt,Mt))}rt.compose=function(Me){if(he.indexOf(Me)===-1){he.push(Me);let Ue=Me.prototype.symbols;Ue.menu=Ne,Ue.menuball=Be.bind(Ue)}}})(u||(u={}));let z=u,{composed:K}=U(),{addEvent:se,fireEvent:ie,pushUnique:dt}=U();function Dt(){this.fullscreen=new Ge(this)}class Ge{static compose(he){dt(K,"Fullscreen")&&se(he,"beforeRender",Dt)}constructor(he){this.chart=he,this.isOpen=!1;let Ne=he.renderTo;!this.browserProps&&(typeof Ne.requestFullscreen=="function"?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:Ne.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:Ne.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:Ne.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}close(){let he=this,Ne=he.chart,Be=Ne.options.chart;ie(Ne,"fullscreenClose",null,function(){he.isOpen&&he.browserProps&&Ne.container.ownerDocument instanceof Document&&Ne.container.ownerDocument[he.browserProps.exitFullscreen](),he.unbindFullscreenEvent&&(he.unbindFullscreenEvent=he.unbindFullscreenEvent()),Ne.setSize(he.origWidth,he.origHeight,!1),he.origWidth=void 0,he.origHeight=void 0,Be.width=he.origWidthOption,Be.height=he.origHeightOption,he.origWidthOption=void 0,he.origHeightOption=void 0,he.isOpen=!1,he.setButtonText()})}open(){let he=this,Ne=he.chart,Be=Ne.options.chart;ie(Ne,"fullscreenOpen",null,function(){if(Be&&(he.origWidthOption=Be.width,he.origHeightOption=Be.height),he.origWidth=Ne.chartWidth,he.origHeight=Ne.chartHeight,he.browserProps){let Me=se(Ne.container.ownerDocument,he.browserProps.fullscreenChange,function(){he.isOpen?(he.isOpen=!1,he.close()):(Ne.setSize(null,null,!1),he.isOpen=!0,he.setButtonText())}),Ue=se(Ne,"destroy",Me);he.unbindFullscreenEvent=()=>{Me(),Ue()};let He=Ne.renderTo[he.browserProps.requestFullscreen]();He&&He.catch(function(){alert("Full screen is not supported inside a frame.")})}})}setButtonText(){var He;let he=this.chart,Ne=(He=he.exporting)==null?void 0:He.divElements,Be=he.options.exporting,Me=Be&&Be.buttons&&Be.buttons.contextButton.menuItems,Ue=he.options.lang;if(Be&&Be.menuItemDefinitions&&Ue&&Ue.exitFullscreen&&Ue.viewFullscreen&&Me&&Ne){let ft=Ne[Me.indexOf("viewFullscreen")];ft&&ne().setElementHTML(ft,this.isOpen?Ue.exitFullscreen:Be.menuItemDefinitions.viewFullscreen.text||Ue.viewFullscreen)}}toggle(){this.isOpen?this.close():this.open()}}let{win:ut}=U(),{discardElement:Re,objectEach:Ke}=U(),ct={ajax:function(rt){var Me;let he={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},Ne=new XMLHttpRequest;function Be(Ue,He){rt.error&&rt.error(Ue,He)}if(!rt.url)return!1;Ne.open((rt.type||"get").toUpperCase(),rt.url,!0),(Me=rt.headers)!=null&&Me["Content-Type"]||Ne.setRequestHeader("Content-Type",he[rt.dataType||"json"]||he.text),Ke(rt.headers,function(Ue,He){Ne.setRequestHeader(He,Ue)}),rt.responseType&&(Ne.responseType=rt.responseType),Ne.onreadystatechange=function(){var He;let Ue;if(Ne.readyState===4){if(Ne.status===200){if(rt.responseType!=="blob"&&(Ue=Ne.responseText,rt.dataType==="json"))try{Ue=JSON.parse(Ue)}catch(ft){if(ft instanceof Error)return Be(Ne,ft)}return(He=rt.success)==null?void 0:He.call(rt,Ue,Ne)}Be(Ne,Ne.responseText)}},rt.data&&typeof rt.data!="string"&&(rt.data=JSON.stringify(rt.data)),Ne.send(rt.data)},getJSON:function(rt,he){ct.ajax({url:rt,success:he,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:async function(rt,he,Ne){let Be=new ut.FormData;Ke(he,function(Ue,He){Be.append(He,Ue)}),Be.append("b64","true");let Me=await ut.fetch(rt,{method:"POST",body:Be,...Ne});if(Me.ok){let Ue=await Me.text(),He=document.createElement("a");He.href=`data:${he.type};base64,${Ue}`,He.download=he.filename,He.click(),Re(He)}}},{defaultOptions:Et,setOptions:wt}=U(),{downloadURL:vt,getScript:Ot}={downloadURL:function(rt,he){let Ne=H.navigator,Be=te.createElement("a");if(typeof rt!="string"&&!(rt instanceof String)&&Ne.msSaveOrOpenBlob)return void Ne.msSaveOrOpenBlob(rt,he);if(rt=""+rt,Ne.userAgent.length>1e3)throw Error("Input too long");let Me=/Edge\/\d+/.test(Ne.userAgent);if((O&&typeof rt=="string"&&rt.indexOf("data:application/pdf")===0||Me||rt.length>2e6)&&!(rt=Y(rt)||""))throw Error("Failed to convert to blob");if(Be.download!==void 0)Be.href=rt,Be.download=he,te.body.appendChild(Be),Be.click(),te.body.removeChild(Be);else try{if(!H.open(rt,"chart"))throw Error("Failed to open window")}catch{H.location.href=rt}},getScript:function(rt){return new Promise((he,Ne)=>{let Be=te.getElementsByTagName("head")[0],Me=te.createElement("script");Me.type="text/javascript",Me.src=rt,Me.onload=()=>{he()},Me.onerror=()=>{let Ue=`Error loading script ${rt}`;Te(Ue),Ne(Error(Ue))},Be.appendChild(Me)})}},{composed:ht,doc:Pt,isFirefox:st,isMS:be,isSafari:ae,SVG_NS:ke,win:me}=U(),{addEvent:Ye,clearTimeout:Pe,createElement:ze,css:we,discardElement:yt,error:xt,extend:Tt,find:Ct,fireEvent:pt,isObject:De,merge:_e,objectEach:Se,pick:ue,pushUnique:Fe,removeEvent:de,splat:ye,uniqueKey:je}=U();ne().allowedAttributes.push("data-z-index","fill-opacity","filter","preserveAspectRatio","rx","ry","stroke-dasharray","stroke-linejoin","stroke-opacity","text-anchor","transform","transform-origin","version","viewBox","visibility","xmlns","xmlns:xlink"),ne().allowedTags.push("desc","clippath","fedropshadow","femorphology","g","image");let Ze=me.URL||me.webkitURL||me;class nt{constructor(he,Ne){this.options={},this.chart=he,this.options=Ne,this.btnCount=0,this.buttonOffset=0,this.divElements=[],this.svgElements=[]}static hyphenate(he){return he.replace(/[A-Z]/g,function(Ne){return"-"+Ne.toLowerCase()})}static async imageToDataURL(he,Ne,Be){let Me=await nt.loadImage(he),Ue=Pt.createElement("canvas"),He=Ue==null?void 0:Ue.getContext("2d");if(He)return Ue.height=Me.height*Ne,Ue.width=Me.width*Ne,He.drawImage(Me,0,0,Ue.width,Ue.height),Ue.toDataURL(Be);throw Error("No canvas found!")}static async fetchCSS(he){let Ne=await fetch(he).then(Me=>Me.text()),Be=new CSSStyleSheet;return Be.replaceSync(Ne),Be}static async handleStyleSheet(he,Ne){try{for(let Be of Array.from(he.cssRules)){if(Be instanceof CSSImportRule){let Me=await nt.fetchCSS(Be.href);await nt.handleStyleSheet(Me,Ne)}if(Be instanceof CSSFontFaceRule){let Me=Be.cssText;if(he.href){let Ue=he.href,He=/url\(\s*(['"]?)(?![a-z]+:|\/\/)([^'")]+?)\1\s*\)/gi;Me=Me.replace(He,(ft,Mt,Nt)=>{let Vt=new URL(Nt,Ue).href;return`url(${Mt}${Vt}${Mt})`})}Ne.push(Me)}}}catch{if(he.href){let Be=await nt.fetchCSS(he.href);await nt.handleStyleSheet(Be,Ne)}}}static async fetchStyleSheets(){let he=[];for(let Ne of Array.from(Pt.styleSheets))await nt.handleStyleSheet(Ne,he);return he}static async inlineFonts(he){let Ne=await nt.fetchStyleSheets(),Be=/url\(([^)]+)\)/g,Me=[],Ue=Ne.join(`
`),He;for(;He=Be.exec(Ue);){let Vt=He[1].replace(/['"]/g,"");Me.includes(Vt)||Me.push(Vt)}let ft=Vt=>{let Qt="",tt=new Uint8Array(Vt);for(let Ut=0;Ut<tt.byteLength;Ut++)Qt+=String.fromCharCode(tt[Ut]);return btoa(Qt)},Mt={};for(let Vt of Me)try{let Qt=await fetch(Vt),tt=Qt.headers.get("Content-Type")||"",Ut=ft(await Qt.arrayBuffer());Mt[Vt]=`data:${tt};base64,${Ut}`}catch{}Ue=Ue.replace(Be,(Vt,Qt)=>{let tt=Qt.replace(/['"]/g,"");return`url(${Mt[tt]||tt})`});let Nt=document.createElementNS("http://www.w3.org/2000/svg","style");return Nt.textContent=Ue,he.append(Nt),he}static loadImage(he){return new Promise((Ne,Be)=>{let Me=new me.Image;Me.crossOrigin="Anonymous",Me.onload=()=>{setTimeout(()=>{Ne(Me)},nt.loadEventDeferDelay)},Me.onerror=Ue=>{Be(Ue)},Me.src=he})}static prepareImageOptions(he){var Me;let Ne=(he==null?void 0:he.type)||"image/png",Be=(he==null?void 0:he.libURL)||((Me=Et.exporting)==null?void 0:Me.libURL);return{type:Ne,filename:((he==null?void 0:he.filename)||"chart")+"."+(Ne==="image/svg+xml"?"svg":Ne.split("/")[1]),scale:(he==null?void 0:he.scale)||1,libURL:(Be==null?void 0:Be.slice(-1))!=="/"?Be+"/":Be}}static sanitizeSVG(he,Ne){var He;let Be=he.indexOf("</svg>")+6,Me=he.indexOf("<foreignObject")>-1,Ue=he.substr(Be);return he=he.substr(0,Be),Me?he=he.replace(/(<(?:img|br).*?(?=\>))>/g,"$1 />"):Ue&&((He=Ne==null?void 0:Ne.exporting)!=null&&He.allowHTML)&&(Ue='<foreignObject x="0" y="0" width="'+Ne.chart.width+'" height="'+Ne.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+Ue.replace(/(<(?:img|br).*?(?=\>))>/g,"$1 />")+"</body></foreignObject>",he=he.replace("</svg>",Ue+"</svg>")),he=he.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery\d+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;)\;?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS\d+\:)?href=/g," xlink:href=").replace(/\n+/g," ").replace(/&nbsp;/g,"").replace(/&shy;/g,"")}static svgToDataURL(he){let Ne=me.navigator.userAgent,Be=Ne.indexOf("WebKit")>-1&&0>Ne.indexOf("Chrome");try{if(!Be&&he.indexOf("<foreignObject")===-1)return Ze.createObjectURL(new me.Blob([he],{type:"image/svg+xml;charset-utf-16"}))}catch{}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(he)}addButton(he){var Ut;let Ne,Be=this,Me=Be.chart,Ue=Me.renderer,He=_e((Ut=Me.options.navigation)==null?void 0:Ut.buttonOptions,he),ft=He.onclick,Mt=He.menuItems,Nt=He.symbolSize||12;if(He.enabled===!1||!He.theme)return;let Vt=Me.styledMode?{}:He.theme,Qt=()=>{};ft?Qt=function(Jt){Jt&&Jt.stopPropagation(),ft.call(Me,Jt)}:Mt&&(Qt=function(Jt){Jt&&Jt.stopPropagation(),Be.contextMenu(tt.menuClassName,Mt,tt.translateX||0,tt.translateY||0,tt.width||0,tt.height||0,tt),tt.setState(2)}),He.text&&He.symbol?Vt.paddingLeft=ue(Vt.paddingLeft,30):He.text||Tt(Vt,{width:He.width,height:He.height,padding:0});let tt=Ue.button(He.text||"",0,0,Qt,Vt,void 0,void 0,void 0,void 0,He.useHTML).addClass(he.className||"").attr({title:ue(Me.options.lang[He._titleKey||He.titleKey],"")});tt.menuClassName=he.menuClassName||"highcharts-menu-"+Be.btnCount++,He.symbol&&(Ne=Ue.symbol(He.symbol,Math.round((He.symbolX||0)-Nt/2),Math.round((He.symbolY||0)-Nt/2),Nt,Nt,{width:Nt,height:Nt}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(tt),Me.styledMode||Ne.attr({stroke:He.symbolStroke,fill:He.symbolFill,"stroke-width":He.symbolStrokeWidth||1})),tt.add(Be.group).align(Tt(He,{width:tt.width,x:ue(He.x,Be.buttonOffset)}),!0,"spacingBox"),Be.buttonOffset+=((tt.width||0)+(He.buttonSpacing||0))*(He.align==="right"?-1:1),Be.svgElements.push(tt,Ne)}afterPrint(){let he=this.chart;if(!this.printReverseInfo)return;let{childNodes:Ne,origDisplay:Be,resetParams:Me}=this.printReverseInfo;this.moveContainers(he.renderTo),[].forEach.call(Ne,function(Ue,He){Ue.nodeType===1&&(Ue.style.display=Be[He]||"")}),this.isPrinting=!1,Me&&he.setSize.apply(he,Me),delete this.printReverseInfo,nt.printingChart=void 0,pt(he,"afterPrint")}beforePrint(){var Ue;let he=this.chart,Ne=Pt.body,Be=this.options.printMaxWidth,Me={childNodes:Ne.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,(Ue=he.pointer)==null||Ue.reset(void 0,0),pt(he,"beforePrint"),Be&&he.chartWidth>Be&&(Me.resetParams=[he.options.chart.width,void 0,!1],he.setSize(Be,void 0,!1)),[].forEach.call(Me.childNodes,function(He,ft){He.nodeType===1&&(Me.origDisplay[ft]=He.style.display,He.style.display="none")}),this.moveContainers(Ne),this.printReverseInfo=Me}contextMenu(he,Ne,Be,Me,Ue,He,ft){var gn,hn,Rn;let Mt=this,Nt=Mt.chart,Vt=Nt.options.navigation,Qt=Nt.chartWidth,tt=Nt.chartHeight,Ut="cache-"+he,Jt=Math.max(Ue,He),Lt,en=Nt[Ut];en||(Mt.contextMenuEl=Nt[Ut]=en=ze("div",{className:he},{position:"absolute",zIndex:1e3,padding:Jt+"px",pointerEvents:"auto",...Nt.renderer.style},((gn=Nt.scrollablePlotArea)==null?void 0:gn.fixedDiv)||Nt.container),Lt=ze("ul",{className:"highcharts-menu"},Nt.styledMode?{}:{listStyle:"none",margin:0,padding:0},en),Nt.styledMode||we(Lt,Tt({MozBoxShadow:"3px 3px 10px #0008",WebkitBoxShadow:"3px 3px 10px #0008",boxShadow:"3px 3px 10px #0008"},(Vt==null?void 0:Vt.menuStyle)||{})),en.hideMenu=function(){we(en,{display:"none"}),ft&&ft.setState(0),Nt.exporting&&(Nt.exporting.openMenu=!1),we(Nt.renderTo,{overflow:"hidden"}),we(Nt.container,{overflow:"hidden"}),Pe(en.hideTimer),pt(Nt,"exportMenuHidden")},(hn=Mt.events)==null||hn.push(Ye(en,"mouseleave",function(){en.hideTimer=me.setTimeout(en.hideMenu,500)}),Ye(en,"mouseenter",function(){Pe(en.hideTimer)}),Ye(Pt,"mouseup",function(vn){var Kn;(Kn=Nt.pointer)!=null&&Kn.inClass(vn.target,he)||en.hideMenu()}),Ye(en,"click",function(){var vn;(vn=Nt.exporting)!=null&&vn.openMenu&&en.hideMenu()})),Ne.forEach(function(vn){var Kn;if(typeof vn=="string"&&((Kn=Mt.options.menuItemDefinitions)!=null&&Kn[vn])&&(vn=Mt.options.menuItemDefinitions[vn]),De(vn,!0)){let ji;vn.separator?ji=ze("hr",void 0,void 0,Lt):(vn.textKey==="viewData"&&Mt.isDataTableVisible&&(vn.textKey="hideData"),ji=ze("li",{className:"highcharts-menu-item",onclick:function(ar){ar&&ar.stopPropagation(),en.hideMenu(),typeof vn!="string"&&vn.onclick&&vn.onclick.apply(Nt,arguments)}},void 0,Lt),ne().setElementHTML(ji,vn.text||Nt.options.lang[vn.textKey]),Nt.styledMode||(ji.onmouseover=function(){we(this,(Vt==null?void 0:Vt.menuItemHoverStyle)||{})},ji.onmouseout=function(){we(this,(Vt==null?void 0:Vt.menuItemStyle)||{})},we(ji,Tt({cursor:"pointer"},(Vt==null?void 0:Vt.menuItemStyle)||{})))),Mt.divElements.push(ji)}}),Mt.divElements.push(Lt,en),Mt.menuHeight=en.offsetHeight,Mt.menuWidth=en.offsetWidth);let rn={display:"block"};Be+(Mt.menuWidth||0)>Qt?rn.right=Qt-Be-Ue-Jt+"px":rn.left=Be-Jt+"px",Me+He+(Mt.menuHeight||0)>tt&&((Rn=ft.alignOptions)==null?void 0:Rn.verticalAlign)!=="top"?rn.bottom=tt-Me-Jt+"px":rn.top=Me+He-Jt+"px",we(en,rn),we(Nt.renderTo,{overflow:""}),we(Nt.container,{overflow:""}),Nt.exporting&&(Nt.exporting.openMenu=!0),pt(Nt,"exportMenuShown")}destroy(he){let Ne,Be=he?he.target:this.chart,{divElements:Me,events:Ue,svgElements:He}=this;He.forEach((ft,Mt)=>{ft&&(ft.onclick=ft.ontouchstart=null,Be[Ne="cache-"+ft.menuClassName]&&delete Be[Ne],He[Mt]=ft.destroy())}),He.length=0,this.group&&(this.group.destroy(),delete this.group),Me.forEach(function(ft,Mt){ft&&(Pe(ft.hideTimer),de(ft,"mouseleave"),Me[Mt]=ft.onmouseout=ft.onmouseover=ft.ontouchstart=ft.onclick=null,yt(ft))}),Me.length=0,Ue&&(Ue.forEach(function(ft){ft()}),Ue.length=0)}async downloadSVG(he,Ne){let Be,Me={svg:he,exportingOptions:Ne,exporting:this};if(pt(nt.prototype,"downloadSVG",Me),Me.defaultPrevented)return;let{type:Ue,filename:He,scale:ft,libURL:Mt}=nt.prepareImageOptions(Ne);if(Ue==="application/pdf")throw Error("Offline exporting logic for PDF type is not found.");if(Ue==="image/svg+xml"){if(me.MSBlobBuilder!==void 0){let Nt=new me.MSBlobBuilder;Nt.append(he),Be=Nt.getBlob("image/svg+xml")}else Be=nt.svgToDataURL(he);vt(Be,He)}else{Be=nt.svgToDataURL(he);try{nt.objectURLRevoke=!0;let Nt=await nt.imageToDataURL(Be,ft,Ue);vt(Nt,He)}catch(Nt){if(Nt.message==="No canvas found!")throw Nt;if(he.length>1e8)throw Error("Input too long");let Vt=Pt.createElement("canvas"),Qt=Vt.getContext("2d"),tt=he.match(/^<svg[^>]*\s{,1000}width\s{,1000}=\s{,1000}\"?(\d+)\"?[^>]*>/),Ut=he.match(/^<svg[^>]*\s{0,1000}height\s{,1000}=\s{,1000}\"?(\d+)\"?[^>]*>/);if(Qt&&tt&&Ut){let Jt=tt[1]*ft,Lt=Ut[1]*ft;Vt.width=Jt,Vt.height=Lt,me.canvg||(nt.objectURLRevoke=!0,await Ot(Mt+"canvg.js")),me.canvg.Canvg.fromString(Qt,he).start(),vt(me.navigator.msSaveOrOpenBlob?Vt.msToBlob():Vt.toDataURL(Ue),He)}}finally{if(nt.objectURLRevoke)try{Ze.revokeObjectURL(Be)}catch{}}}}async exportChart(he,Ne){if((he=_e(this.options,he)).local)await this.localExport(he,Ne||{});else{let Be=this.getSVGForExport(he,Ne);he.url&&await ct.post(he.url,{filename:he.filename?he.filename.replace(/\//g,"-"):this.getFilename(),type:he.type,width:he.width,scale:he.scale,svg:Be},he.fetchOptions)}}async fallbackToServer(he,Ne){he.fallbackToExportServer===!1?he.error?he.error(he,Ne):xt(28,!0):he.type==="application/pdf"&&(he.local=!1,await this.exportChart(he))}getChartHTML(he){let Ne=this.chart;return he&&this.inlineStyles(),this.resolveCSSVariables(),Ne.container.innerHTML}getFilename(){var Be;let he=(Be=this.chart.userOptions.title)==null?void 0:Be.text,Ne=this.options.filename;return Ne?Ne.replace(/\//g,"-"):(typeof he=="string"&&(Ne=he.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z\d\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!Ne||Ne.length<5)&&(Ne="chart"),Ne)}getSVG(he){var Ut,Jt,Lt,en;let Ne=this.chart,Be,Me,Ue=_e(Ne.options,he);Ue.plotOptions=_e(Ne.userOptions.plotOptions,he==null?void 0:he.plotOptions),Ue.time=_e(Ne.userOptions.time,he==null?void 0:he.time);let He=ze("div",void 0,{position:"absolute",top:"-9999em",width:Ne.chartWidth+"px",height:Ne.chartHeight+"px"},Pt.body),ft=Ne.renderTo.style.width,Mt=Ne.renderTo.style.height,Nt=((Ut=Ue.exporting)==null?void 0:Ut.sourceWidth)||Ue.chart.width||/px$/.test(ft)&&parseInt(ft,10)||(Ue.isGantt?800:600),Vt=((Jt=Ue.exporting)==null?void 0:Jt.sourceHeight)||Ue.chart.height||/px$/.test(Mt)&&parseInt(Mt,10)||400;Tt(Ue.chart,{animation:!1,renderTo:He,forExport:!0,renderer:"SVGRenderer",width:Nt,height:Vt}),Ue.exporting&&(Ue.exporting.enabled=!1),delete Ue.data,Ue.series=[],Ne.series.forEach(function(rn){var gn;(Me=_e(rn.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:rn.visible})).isInternal||((gn=Ue==null?void 0:Ue.series)==null||gn.push(Me))});let Qt={};Ne.axes.forEach(function(rn){rn.userOptions.internalKey||(rn.userOptions.internalKey=je()),Ue&&!rn.options.isInternal&&(Qt[rn.coll]||(Qt[rn.coll]=!0,Ue[rn.coll]=[]),Ue[rn.coll].push(_e(rn.userOptions,{visible:rn.visible,type:rn.type,uniqueNames:rn.uniqueNames})))}),Ue.colorAxis=Ne.userOptions.colorAxis;let tt=new Ne.constructor(Ue,Ne.callback);return he&&["xAxis","yAxis","series"].forEach(function(rn){he[rn]&&tt.update({[rn]:he[rn]})}),Ne.axes.forEach(function(rn){let gn=Ct(tt.axes,hn=>hn.options.internalKey===rn.userOptions.internalKey);if(gn){let hn=rn.getExtremes(),Rn=ye((he==null?void 0:he[rn.coll])||{})[0],vn="min"in Rn?Rn.min:hn.userMin,Kn="max"in Rn?Rn.max:hn.userMax;(vn!==void 0&&vn!==gn.min||Kn!==void 0&&Kn!==gn.max)&&gn.setExtremes(vn??void 0,Kn??void 0,!0,!1)}}),Be=((en=tt.exporting)==null?void 0:en.getChartHTML(Ne.styledMode||((Lt=Ue.exporting)==null?void 0:Lt.applyStyleSheets)))||"",pt(Ne,"getSVG",{chartCopy:tt}),Be=nt.sanitizeSVG(Be,Ue),Ue=void 0,tt.destroy(),yt(He),Be}getSVGForExport(he,Ne){let Be=this.options;return this.getSVG(_e({chart:{borderRadius:0}},Be.chartOptions,Ne,{exporting:{sourceWidth:(he==null?void 0:he.sourceWidth)||Be.sourceWidth,sourceHeight:(he==null?void 0:he.sourceHeight)||Be.sourceHeight}}))}inlineStyles(){var ft;let he,Ne=nt.inlineDenylist,Be=nt.inlineAllowlist,Me={},Ue=ze("iframe",void 0,{width:"1px",height:"1px",visibility:"hidden"},Pt.body),He=(ft=Ue.contentWindow)==null?void 0:ft.document;He&&He.body.appendChild(He.createElementNS(ke,"svg")),function Mt(Nt){let Vt,Qt,tt,Ut,Jt,Lt,en={};if(He&&Nt.nodeType===1&&nt.unstyledElements.indexOf(Nt.nodeName)===-1){if(Vt=me.getComputedStyle(Nt,null),Qt=Nt.nodeName==="svg"?{}:me.getComputedStyle(Nt.parentNode,null),!Me[Nt.nodeName]){he=He.getElementsByTagName("svg")[0],tt=He.createElementNS(Nt.namespaceURI,Nt.nodeName),he.appendChild(tt);let rn=me.getComputedStyle(tt,null),gn={};for(let hn in rn)hn.length<1e3&&typeof rn[hn]=="string"&&!/^\d+$/.test(hn)&&(gn[hn]=rn[hn]);Me[Nt.nodeName]=gn,Nt.nodeName==="text"&&delete Me.text.fill,he.removeChild(tt)}for(let rn in Vt)(st||be||ae||Object.hasOwnProperty.call(Vt,rn))&&function(gn,hn){if(Ut=Jt=!1,Be.length){for(Lt=Be.length;Lt--&&!Jt;)Jt=Be[Lt].test(hn);Ut=!Jt}for(hn==="transform"&&gn==="none"&&(Ut=!0),Lt=Ne.length;Lt--&&!Ut;){if(hn.length>1e3)throw Error("Input too long");Ut=Ne[Lt].test(hn)||typeof gn=="function"}!Ut&&(Qt[hn]!==gn||Nt.nodeName==="svg")&&Me[Nt.nodeName][hn]!==gn&&(nt.inlineToAttributes&&nt.inlineToAttributes.indexOf(hn)===-1?en[hn]=gn:gn&&Nt.setAttribute(nt.hyphenate(hn),gn))}(Vt[rn],rn);if(we(Nt,en),Nt.nodeName==="svg"&&Nt.setAttribute("stroke-width","1px"),Nt.nodeName==="text")return;[].forEach.call(Nt.children||Nt.childNodes,Mt)}}(this.chart.container.querySelector("svg")),he.parentNode.removeChild(he),Ue.parentNode.removeChild(Ue)}async localExport(he,Ne){var Nt,Vt,Qt;let Be=this.chart,Me,Ue,He=null,ft;if(be&&Be.styledMode&&!nt.inlineAllowlist.length&&nt.inlineAllowlist.push(/^blockSize/,/^border/,/^caretColor/,/^color/,/^columnRule/,/^columnRuleColor/,/^cssFloat/,/^cursor/,/^fill$/,/^fillOpacity/,/^font/,/^inlineSize/,/^length/,/^lineHeight/,/^opacity/,/^outline/,/^parentRule/,/^rx$/,/^ry$/,/^stroke/,/^textAlign/,/^textAnchor/,/^textDecoration/,/^transform/,/^vectorEffect/,/^visibility/,/^x$/,/^y$/),be&&(he.type==="application/pdf"||Be.container.getElementsByTagName("image").length&&he.type!=="image/svg+xml")||he.type==="application/pdf"&&[].some.call(Be.container.getElementsByTagName("image"),function(tt){let Ut=tt.getAttribute("href");return Ut!==""&&typeof Ut=="string"&&Ut.indexOf("data:")!==0}))return void await this.fallbackToServer(he,Error("Image type not supported for this chart/browser."));let Mt=Ye(Be,"getSVG",tt=>{Ue=tt.chartCopy.options,ft=(Me=tt.chartCopy.container.cloneNode(!0))&&Me.getElementsByTagName("image")||[]});try{let tt;for(let Lt of(this.getSVGForExport(he,Ne),ft?Array.from(ft):[]))if(He=Lt.getAttributeNS("http://www.w3.org/1999/xlink","href")){nt.objectURLRevoke=!1;let en=await nt.imageToDataURL(He,(he==null?void 0:he.scale)||1,(he==null?void 0:he.type)||"image/png");Lt.setAttributeNS("http://www.w3.org/1999/xlink","href",en)}else Lt.parentNode.removeChild(Lt);let Ut=Me==null?void 0:Me.querySelector("svg");Ut&&!((Qt=(Vt=(Nt=he.chartOptions)==null?void 0:Nt.chart)==null?void 0:Vt.style)!=null&&Qt.fontFamily)&&await nt.inlineFonts(Ut);let Jt=(tt=Me==null?void 0:Me.innerHTML,nt.sanitizeSVG(tt||"",Ue));if(Jt.indexOf("<foreignObject")>-1&&he.type!=="image/svg+xml"&&(be||he.type==="application/pdf"))throw Error("Image type not supported for charts with embedded HTML");return await this.downloadSVG(Jt,Tt({filename:this.getFilename()},he)),Jt}catch(tt){await this.fallbackToServer(he,tt)}finally{Mt()}}moveContainers(he){let Ne=this.chart,{scrollablePlotArea:Be}=Ne;(Be?[Be.fixedDiv,Be.scrollingContainer]:[Ne.container]).forEach(function(Me){he.appendChild(Me)})}print(){let he=this.chart;this.isPrinting||(nt.printingChart=he,ae||this.beforePrint(),setTimeout(()=>{me.focus(),me.print(),ae||setTimeout(()=>{var Ne;(Ne=he.exporting)==null||Ne.afterPrint()},1e3)},1))}render(){let he=this,{chart:Ne,options:Be}=he,Me=(he==null?void 0:he.isDirty)||!(he!=null&&he.svgElements.length);he.buttonOffset=0,he.isDirty&&he.destroy(),Me&&Be.enabled!==!1&&(he.events=[],he.group||(he.group=Ne.renderer.g("exporting-group").attr({zIndex:3}).add()),Se(Be==null?void 0:Be.buttons,function(Ue){he.addButton(Ue)}),he.isDirty=!1)}resolveCSSVariables(){Array.from(this.chart.container.querySelectorAll("*")).forEach(he=>{["color","fill","stop-color","stroke"].forEach(Ne=>{var Ue;let Be=he.getAttribute(Ne);Be!=null&&Be.includes("var(")&&he.setAttribute(Ne,getComputedStyle(he).getPropertyValue(Ne));let Me=(Ue=he.style)==null?void 0:Ue[Ne];Me!=null&&Me.includes("var(")&&(he.style[Ne]=getComputedStyle(he).getPropertyValue(Ne))})})}update(he,Ne){this.isDirty=!0,_e(!0,this.options,he),ue(Ne,!0)&&this.chart.redraw()}}nt.inlineAllowlist=[],nt.inlineDenylist=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/^parentRule$/,/^(cssRules|ownerRules)$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/,/^\d+$/],nt.inlineToAttributes=["fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","textAnchor","x","y"],nt.loadEventDeferDelay=150*!!be,nt.unstyledElements=["clipPath","defs","desc"],function(rt){function he(Me){let Ue=Me.exporting;Ue&&(Ue.render(),Ye(Me,"redraw",function(){var He;(He=this.exporting)==null||He.render()}),Ye(Me,"destroy",function(){var He;(He=this.exporting)==null||He.destroy()}))}function Ne(){let Me=this;Me.options.exporting&&(Me.exporting=new rt(Me,Me.options.exporting),X.compose(Me).navigation.addUpdate((Ue,He)=>{Me.exporting&&(Me.exporting.isDirty=!0,_e(!0,Me.options.navigation,Ue),ue(He,!0)&&Me.redraw())}))}function Be({alignTo:Me,key:Ue,textPxLength:He}){var Jt,Lt,en;let ft=this.options.exporting,{align:Mt,buttonSpacing:Nt=0,verticalAlign:Vt,width:Qt=0}=_e((Jt=this.options.navigation)==null?void 0:Jt.buttonOptions,(Lt=ft==null?void 0:ft.buttons)==null?void 0:Lt.contextButton),tt=Me.width-He,Ut=Qt+Nt;((ft==null?void 0:ft.enabled)??!0)&&Ue==="title"&&Mt==="right"&&Vt==="top"&&tt<2*Ut&&(tt<Ut?Me.width-=Ut:((en=this.title)==null?void 0:en.alignValue)!=="left"&&(Me.x-=Ut-tt/2))}rt.compose=function(Me,Ue){z.compose(Ue),Ge.compose(Me),Fe(ht,"Exporting")&&(Tt(oe().prototype,{exportChart:async function(He,ft){var Mt;await((Mt=this.exporting)==null?void 0:Mt.exportChart(He,ft))},getChartHTML:function(He){var ft;return(ft=this.exporting)==null?void 0:ft.getChartHTML(He)},getFilename:function(){var He;return(He=this.exporting)==null?void 0:He.getFilename()},getSVG:function(He){var ft;return(ft=this.exporting)==null?void 0:ft.getSVG(He)},print:function(){var He;return(He=this.exporting)==null?void 0:He.print()}}),Me.prototype.callbacks.push(he),Ye(Me,"afterInit",Ne),Ye(Me,"layOutTitle",Be),ae&&me.matchMedia("print").addListener(function(He){var ft,Mt;rt.printingChart&&(He.matches?(ft=rt.printingChart.exporting)==null||ft.beforePrint():(Mt=rt.printingChart.exporting)==null||Mt.afterPrint())}),wt(G))}}(nt||(nt={}));let Ht=nt,Bt=U();Bt.Exporting=Ht,Bt.HttpUtilities=Bt.HttpUtilities||ct,Bt.ajax=Bt.HttpUtilities.ajax,Bt.getJSON=Bt.HttpUtilities.getJSON,Bt.post=Bt.HttpUtilities.post,Ht.compose(Bt.Chart,Bt.Renderer);let at=U();return j.default})())})(CP);var t$=CP.exports;const n$=gl(t$);var SP={exports:{}};(function(t,e){(function(n,i){t.exports=i(n._Highcharts,n._Highcharts.AST,n._Highcharts.Chart)})(typeof window>"u"?wc:window,(n,i,s)=>(()=>{var a,u={660:ht=>{ht.exports=i},944:ht=>{ht.exports=n},960:ht=>{ht.exports=s}},m={};function x(ht){var Pt=m[ht];if(Pt!==void 0)return Pt.exports;var st=m[ht]={exports:{}};return u[ht](st,st.exports,x),st.exports}x.n=ht=>{var Pt=ht&&ht.__esModule?()=>ht.default:()=>ht;return x.d(Pt,{a:Pt}),Pt},x.d=(ht,Pt)=>{for(var st in Pt)x.o(Pt,st)&&!x.o(ht,st)&&Object.defineProperty(ht,st,{enumerable:!0,get:Pt[st]})},x.o=(ht,Pt)=>Object.prototype.hasOwnProperty.call(ht,Pt);var _={};x.d(_,{default:()=>Ot});var j=x(944),I=x.n(j);let{isSafari:U,win:J,win:{document:ne}}=I(),{error:le}=I(),oe=J.URL||J.webkitURL||J;function X(ht){let Pt=ht.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([A-Z+\d\/]+)/i);if(Pt&&Pt.length>3&&J.atob&&J.ArrayBuffer&&J.Uint8Array&&J.Blob&&oe.createObjectURL){let st=J.atob(Pt[3]),be=new J.ArrayBuffer(st.length),ae=new J.Uint8Array(be);for(let ke=0;ke<ae.length;++ke)ae[ke]=st.charCodeAt(ke);return oe.createObjectURL(new J.Blob([ae],{type:Pt[1]}))}}let O={dataURLtoBlob:X,downloadURL:function(ht,Pt){let st=J.navigator,be=ne.createElement("a");if(typeof ht!="string"&&!(ht instanceof String)&&st.msSaveOrOpenBlob)return void st.msSaveOrOpenBlob(ht,Pt);if(ht=""+ht,st.userAgent.length>1e3)throw Error("Input too long");let ae=/Edge\/\d+/.test(st.userAgent);if((U&&typeof ht=="string"&&ht.indexOf("data:application/pdf")===0||ae||ht.length>2e6)&&!(ht=X(ht)||""))throw Error("Failed to convert to blob");if(be.download!==void 0)be.href=ht,be.download=Pt,ne.body.appendChild(be),be.click(),ne.body.removeChild(be);else try{if(!J.open(ht,"chart"))throw Error("Failed to open window")}catch{J.location.href=ht}}};var H=x(660),te=x.n(H),Te=x(960),ge=x.n(Te);let Y={exporting:{csv:{annotations:{itemDelimiter:"; ",join:!1},columnHeaderFormatter:null,dateFormat:"%Y-%m-%d %H:%M:%S",decimalPoint:null,itemDelimiter:null,lineDelimiter:`
`},menuItemDefinitions:{downloadCSV:{textKey:"downloadCSV",onclick:function(){var ht;(ht=this.exporting)==null||ht.downloadCSV()}},downloadXLS:{textKey:"downloadXLS",onclick:function(){var ht;(ht=this.exporting)==null||ht.downloadXLS()}},viewData:{textKey:"viewData",onclick:function(){var ht;(ht=this.exporting)==null||ht.wrapLoading(this.exporting.toggleDataTable)}}},showTable:!1,useMultiLevelHeaders:!0,useRowspanHeaders:!0,showExportInProgress:!0},lang:{downloadCSV:"Download CSV",downloadXLS:"Download XLS",exportData:{annotationHeader:"Annotations",categoryHeader:"Category",categoryDatetimeHeader:"DateTime"},viewData:"View data table",hideData:"Hide data table",exportInProgress:"Exporting..."}},{getOptions:M,setOptions:G}=I(),{downloadURL:z}=O,{composed:K,doc:se,win:ie}=I(),{addEvent:dt,defined:Dt,extend:Ge,find:ut,fireEvent:Re,isNumber:Ke,pick:ct,pushUnique:Et}=I();(function(ht){function Pt(){this.wrapLoading(()=>{let pt=this.getCSV(!0);z(be(pt,"text/csv")||"data:text/csv,\uFEFF"+encodeURIComponent(pt),this.getFilename()+".csv")})}function st(){this.wrapLoading(()=>{let pt='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>Ark1</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--><style>td{border:none;font-family: Calibri, sans-serif;} .number{mso-number-format:"0.00";} .text{ mso-number-format:"@";}</style><meta name=ProgId content=Excel.Sheet><meta charset=UTF-8></head><body>'+this.getTable(!0)+"</body></html>";z(be(pt,"application/vnd.ms-excel")||"data:application/vnd.ms-excel;base64,"+ie.btoa(unescape(encodeURIComponent(pt))),this.getFilename()+".xls")})}function be(pt,De){let _e=ie.navigator,Se=ie.URL||ie.webkitURL||ie;try{if(_e.msSaveOrOpenBlob&&ie.MSBlobBuilder){let ue=new ie.MSBlobBuilder;return ue.append(pt),ue.getBlob("image/svg+xml")}return Se.createObjectURL(new ie.Blob(["\uFEFF"+pt],{type:De}))}catch{}}function ae(pt){var ye;let De="",_e=this.getDataRows(),Se=(ye=this.options)==null?void 0:ye.csv,ue=ct(Se==null?void 0:Se.decimalPoint,(Se==null?void 0:Se.itemDelimiter)!==","&&pt?1.1.toLocaleString()[1]:"."),Fe=ct(Se==null?void 0:Se.itemDelimiter,ue===","?";":","),de=Se==null?void 0:Se.lineDelimiter;return _e.forEach((je,Ze)=>{let nt="",Ht=je.length;for(;Ht--;)typeof(nt=je[Ht])=="string"&&(nt=`"${nt}"`),typeof nt=="number"&&ue!=="."&&(nt=nt.toString().replace(".",ue)),je[Ht]=nt;je.length=_e.length?_e[0].length:0,De+=je.join(Fe),Ze<_e.length-1&&(De+=de)}),De}function ke(pt){var Qt;let De,_e,Se=this.chart,ue=Se.hasParallelCoordinates,Fe=Se.time,de=((Qt=this.options)==null?void 0:Qt.csv)||{},ye=Se.xAxis,je={},Ze=[],nt=[],Ht=[],Bt=Se.options.lang.exportData,at=Bt==null?void 0:Bt.categoryHeader,rt=Bt==null?void 0:Bt.categoryDatetimeHeader,he=function(tt,Ut,Jt){if(de.columnHeaderFormatter){let Lt=de.columnHeaderFormatter(tt,Ut,Jt);if(Lt!==!1)return Lt}return!tt&&at?at:!tt.bindAxes&&rt&&at?tt.options.title&&tt.options.title.text||(tt.dateTime?rt:at):pt?{columnTitle:((Jt||0)>1?Ut:tt.name)||"",topLevelColumnTitle:tt.name}:tt.name+((Jt||0)>1?" ("+Ut+")":"")},Ne=function(tt,Ut,Jt){let Lt={},en={};return Ut.forEach(function(rn){let gn=(tt.keyToAxis&&tt.keyToAxis[rn]||rn)+"Axis",hn=Ke(Jt)?tt.chart[gn][Jt]:tt[gn];Lt[rn]=hn&&hn.categories||[],en[rn]=hn&&hn.dateTime}),{categoryMap:Lt,dateTimeValueAxisMap:en}},Be=function(tt,Ut){let Jt=tt.pointArrayMap||["y"];return tt.data.some(Lt=>Lt.y!==void 0&&Lt.name)&&Ut&&!Ut.categories&&tt.exportKey!=="name"?["x",...Jt]:Jt},Me=[],Ue,He,ft,Mt=0,Nt,Vt;for(Nt in Se.series.forEach(function(tt){var Kn;let Ut=tt.options.keys,Jt=tt.xAxis,Lt=Ut||Be(tt,Jt),en=Lt.length,rn=!tt.requireSorting&&{},gn=ye.indexOf(Jt),hn=Ne(tt,Lt),Rn,vn;if(tt.options.includeInDataExport!==!1&&!tt.options.isInternal&&tt.visible!==!1){for(ut(Me,function(ji){return ji[0]===gn})||Me.push([gn,Mt]),vn=0;vn<en;)ft=he(tt,Lt[vn],Lt.length),Ht.push(ft.columnTitle||ft),pt&&nt.push(ft.topLevelColumnTitle||ft),vn++;Rn={chart:tt.chart,autoIncrement:tt.autoIncrement,options:tt.options,pointArrayMap:tt.pointArrayMap,index:tt.index},(Kn=tt.options.data)==null||Kn.forEach(function(ji,ar){let Pn,Ce,Ie,qe={series:Rn};ue&&(hn=Ne(tt,Lt,ar)),tt.pointClass.prototype.applyOptions.apply(qe,[ji]);let Je=tt.data[ar]&&tt.data[ar].name;if(Pn=(qe.x??"")+","+Je,vn=0,(!Jt||tt.exportKey==="name"||!ue&&Jt&&Jt.hasNames&&Je)&&(Pn=Je),rn&&(rn[Pn]&&(Pn+="|"+ar),rn[Pn]=!0),je[Pn]){let gt=`${Pn},${je[Pn].pointers[tt.index]}`,St=Pn;je[Pn].pointers[tt.index]&&(je[gt]||(je[gt]=[],je[gt].xValues=[],je[gt].pointers=[]),Pn=gt),je[St].pointers[tt.index]+=1}else{je[Pn]=[],je[Pn].xValues=[];let gt=[];for(let St=0;St<tt.chart.series.length;St++)gt[St]=0;je[Pn].pointers=gt,je[Pn].pointers[tt.index]=1}for(je[Pn].x=qe.x,je[Pn].name=Je,je[Pn].xValues[gn]=qe.x;vn<en;)Ce=Lt[vn],Ie=tt.pointClass.prototype.getNestedProperty.apply(qe,[Ce]),je[Pn][Mt+vn]=ct(hn.categoryMap[Ce][Ie],hn.dateTimeValueAxisMap[Ce]?Fe.dateFormat(de.dateFormat,Ie):null,Ie),vn++}),Mt+=vn}}),je)Object.hasOwnProperty.call(je,Nt)&&Ze.push(je[Nt]);for(He=pt?[nt,Ht]:[Ht],Mt=Me.length;Mt--;)De=Me[Mt][0],_e=Me[Mt][1],Ue=ye[De],Ze.sort(function(tt,Ut){return tt.xValues[De]-Ut.xValues[De]}),Vt=he(Ue),He[0].splice(_e,0,Vt),pt&&He[1]&&He[1].splice(_e,0,Vt),Ze.forEach(function(tt){let Ut=tt.name;Ue&&!Dt(Ut)&&(Ue.dateTime?(tt.x instanceof Date&&(tt.x=tt.x.getTime()),Ut=Fe.dateFormat(de.dateFormat,tt.x)):Ut=Ue.categories?ct(Ue.names[tt.x],Ue.categories[tt.x],tt.x):tt.x),tt.splice(_e,0,Ut)});return Re(Se,"exportData",{dataRows:He=He.concat(Ze)}),He}function me(pt){let De=_e=>{if(!_e.tagName||_e.tagName==="#text")return _e.textContent||"";let Se=_e.attributes,ue=`<${_e.tagName}`;return Se&&Object.keys(Se).forEach(Fe=>{let de=Se[Fe];ue+=` ${Fe}="${de}"`}),ue+=">",ue+=_e.textContent||"",(_e.children||[]).forEach(Fe=>{ue+=De(Fe)}),ue+=`</${_e.tagName}>`};return De(this.getTableAST(pt))}function Ye(pt){var Ne;let De=0,_e=[],Se=this,ue=Se.chart,Fe=ue.options,de=pt?1.1.toLocaleString()[1]:".",ye=ct(Se.options.useMultiLevelHeaders,!0),je=Se.getDataRows(ye),Ze=ye?je.shift():null,nt=je.shift(),Ht=function(Be,Me){let Ue=Be.length;if(Me.length!==Ue)return!1;for(;Ue--;)if(Be[Ue]!==Me[Ue])return!1;return!0},Bt=function(Be,Me,Ue,He){let ft=ct(He,""),Mt="highcharts-text"+(Me?" "+Me:"");return typeof ft=="number"?(ft=ue.numberFormatter(ft,-1,de,Be==="th"?"":void 0),Mt="highcharts-number"):He||(Mt="highcharts-empty"),{tagName:Be,attributes:Ue=Ge({class:Mt},Ue),textContent:ft}},{tableCaption:at}=Se.options||{};at!==!1&&_e.push({tagName:"caption",attributes:{class:"highcharts-table-caption"},textContent:typeof at=="string"?at:((Ne=Fe.title)==null?void 0:Ne.text)||Fe.lang.chartTitle});for(let Be=0,Me=je.length;Be<Me;++Be)je[Be].length>De&&(De=je[Be].length);_e.push(function(Be,Me,Ue){let He=[],ft=0,Mt=Ue||Me&&Me.length,Nt,Vt=0,Qt;if(ye&&Be&&Me&&!Ht(Be,Me)){let tt=[];for(;ft<Mt;++ft)if((Nt=Be[ft])===Be[ft+1])++Vt;else if(Vt)tt.push(Bt("th","highcharts-table-topheading",{scope:"col",colspan:Vt+1},Nt)),Vt=0;else{Nt===Me[ft]?Se.options.useRowspanHeaders?(Qt=2,delete Me[ft]):(Qt=1,Me[ft]=""):Qt=1;let Ut=Bt("th","highcharts-table-topheading",{scope:"col"},Nt);Qt>1&&Ut.attributes&&(Ut.attributes.valign="top",Ut.attributes.rowspan=Qt),tt.push(Ut)}He.push({tagName:"tr",children:tt})}if(Me){let tt=[];for(ft=0,Mt=Me.length;ft<Mt;++ft)Me[ft]!==void 0&&tt.push(Bt("th",null,{scope:"col"},Me[ft]));He.push({tagName:"tr",children:tt})}return{tagName:"thead",children:He}}(Ze,nt||[],Math.max(De,(nt==null?void 0:nt.length)||0)));let rt=[];je.forEach(function(Be){let Me=[];for(let Ue=0;Ue<De;Ue++)Me.push(Bt(Ue?"td":"th",null,Ue?{}:{scope:"row"},Be[Ue]));rt.push({tagName:"tr",children:Me})}),_e.push({tagName:"tbody",children:rt});let he={tree:{tagName:"table",id:`highcharts-data-table-${ue.index}`,children:_e}};return Re(ue,"afterGetTableAST",he),he.tree}function Pe(){this.toggleDataTable(!1)}function ze(pt){var ye;let De=this.chart,_e=(pt=ct(pt,!this.isDataTableVisible))&&!this.dataTableDiv;if(_e&&(this.dataTableDiv=se.createElement("div"),this.dataTableDiv.className="highcharts-data-table",De.renderTo.parentNode.insertBefore(this.dataTableDiv,De.renderTo.nextSibling)),this.dataTableDiv){let je=this.dataTableDiv.style,Ze=je.display;je.display=pt?"block":"none",pt?(this.dataTableDiv.innerHTML=te().emptyHTML,new(te())([this.getTableAST()]).addToDOM(this.dataTableDiv),Re(De,"afterViewData",{element:this.dataTableDiv,wasHidden:_e||Ze!==je.display})):Re(De,"afterHideData")}this.isDataTableVisible=pt;let Se=this.divElements,ue=this.options,Fe=(ye=ue.buttons)==null?void 0:ye.contextButton.menuItems,de=De.options.lang;if(ue&&ue.menuItemDefinitions&&de&&de.viewData&&de.hideData&&Fe&&Se){let je=Se[Fe.indexOf("viewData")];je&&te().setElementHTML(je,this.isDataTableVisible?de.hideData:de.viewData)}}function we(){this.toggleDataTable(!0)}function yt(pt){let De=this.chart,_e=!!this.options.showExportInProgress,Se=ie.requestAnimationFrame||setTimeout;Se(()=>{_e&&De.showLoading(De.options.lang.exportInProgress),Se(()=>{try{pt.call(this)}finally{_e&&De.hideLoading()}})})}function xt(){let pt=this.exporting,De=pt==null?void 0:pt.dataTableDiv,_e=(ue,Fe)=>ue.children[Fe].textContent,Se=(ue,Fe)=>(de,ye)=>{let je,Ze;return je=_e(Fe?de:ye,ue),Ze=_e(Fe?ye:de,ue),je===""||Ze===""||isNaN(je)||isNaN(Ze)?je.toString().localeCompare(Ze):je-Ze};if(De&&pt.options.allowTableSorting){let ue=De.querySelector("thead tr");ue&&ue.childNodes.forEach(Fe=>{let de=De.querySelector("tbody");Fe.addEventListener("click",function(){let ye=[...De.querySelectorAll("tr:not(thead tr)")],je=[...Fe.parentNode.children];pt&&(ye.sort(Se(je.indexOf(Fe),pt.ascendingOrderInTable=!pt.ascendingOrderInTable)).forEach(Ze=>{de==null||de.appendChild(Ze)}),je.forEach(Ze=>{["highcharts-sort-ascending","highcharts-sort-descending"].forEach(nt=>{Ze.classList.contains(nt)&&Ze.classList.remove(nt)})}),Fe.classList.add(pt.ascendingOrderInTable?"highcharts-sort-ascending":"highcharts-sort-descending"))})})}}function Tt(){var pt,De,_e;(De=(pt=this.options)==null?void 0:pt.exporting)!=null&&De.showTable&&!this.options.chart.forExport&&((_e=this.exporting)==null||_e.viewData())}function Ct(){var pt,De;(De=(pt=this.exporting)==null?void 0:pt.dataTableDiv)==null||De.remove()}ht.compose=function(pt,De,_e){var ue,Fe,de;if(!Et(K,"ExportData"))return;Ge(ge().prototype,{downloadCSV:function(){var ye;return(ye=this.exporting)==null?void 0:ye.downloadCSV()},downloadXLS:function(){var ye;return(ye=this.exporting)==null?void 0:ye.downloadXLS()},getCSV:function(ye){var je;return(je=this.exporting)==null?void 0:je.getCSV(ye)},getDataRows:function(ye){var je;return(je=this.exporting)==null?void 0:je.getDataRows(ye)},getTable:function(ye){var je;return(je=this.exporting)==null?void 0:je.getTable(ye)},getTableAST:function(ye){var je;return(je=this.exporting)==null?void 0:je.getTableAST(ye)},hideData:function(){var ye;return(ye=this.exporting)==null?void 0:ye.hideData()},toggleDataTable:function(ye){var je;return(je=this.exporting)==null?void 0:je.toggleDataTable(ye)},viewData:function(){var ye;return(ye=this.exporting)==null?void 0:ye.viewData()}});let Se=De.prototype;if(!Se.downloadCSV){dt(pt,"afterViewData",xt),dt(pt,"render",Tt),dt(pt,"destroy",Ct),Se.downloadCSV=Pt,Se.downloadXLS=st,Se.getCSV=ae,Se.getDataRows=ke,Se.getTable=me,Se.getTableAST=Ye,Se.hideData=Pe,Se.toggleDataTable=ze,Se.wrapLoading=yt,Se.viewData=we,G(Y);let ye=(de=(Fe=(ue=M().exporting)==null?void 0:ue.buttons)==null?void 0:Fe.contextButton)==null?void 0:de.menuItems;ye&&ye.push("separator","downloadCSV","downloadXLS","viewData");let{arearange:je,gantt:Ze,map:nt,mapbubble:Ht,treemap:Bt,xrange:at}=_e.types;je&&(je.prototype.keyToAxis={low:"y",high:"y"}),Ze&&(Ze.prototype.exportKey="name",Ze.prototype.keyToAxis={start:"x",end:"x"}),nt&&(nt.prototype.exportKey="name"),Ht&&(Ht.prototype.exportKey="name"),Bt&&(Bt.prototype.exportKey="name"),at&&(at.prototype.keyToAxis={x2:"x"})}}})(a||(a={}));let wt=a,vt=I();vt.dataURLtoBlob=vt.dataURLtoBlob||O.dataURLtoBlob,vt.downloadURL=vt.downloadURL||O.downloadURL,wt.compose(vt.Chart,vt.Exporting,vt.Series);let Ot=I();return _.default})())})(SP);var i$=SP.exports;const r$=gl(i$);var AP={exports:{}};(function(t,e){(function(n,i){t.exports=i(n._Highcharts,n._Highcharts.Templating,n._Highcharts.AST,n._Highcharts.Legend,n._Highcharts.Axis,n._Highcharts.Color,n._Highcharts.SeriesRegistry,n._Highcharts.RendererRegistry,n._Highcharts.SVGRenderer,n._Highcharts.Point,n._Highcharts.Series)})(typeof window>"u"?wc:window,(n,i,s,a,u,m,x,_,j,I,U)=>(()=>{let J;var ne,le,oe,X,O={260:C=>{C.exports=I},512:C=>{C.exports=x},532:C=>{C.exports=u},540:C=>{C.exports=j},608:C=>{C.exports=_},620:C=>{C.exports=m},632:C=>{C.exports=a},660:C=>{C.exports=s},820:C=>{C.exports=U},944:C=>{C.exports=n},984:C=>{C.exports=i}},H={};function te(C){var y=H[C];if(y!==void 0)return y.exports;var k=H[C]={exports:{}};return O[C](k,k.exports,te),k.exports}te.n=C=>{var y=C&&C.__esModule?()=>C.default:()=>C;return te.d(y,{a:y}),y},te.d=(C,y)=>{for(var k in y)te.o(y,k)&&!te.o(C,k)&&Object.defineProperty(C,k,{enumerable:!0,get:y[k]})},te.o=(C,y)=>Object.prototype.hasOwnProperty.call(C,y);var Te={};te.d(Te,{default:()=>Gh});var ge=te(944),Y=te.n(ge);let{doc:M,win:G}=Y(),{css:z}=Y(),K=G.EventTarget&&new G.EventTarget||"none";function se(C){if(typeof G.MouseEvent=="function")return new G.MouseEvent(C.type,C);if(M!=null&&M.createEvent){let y=M.createEvent("MouseEvent");if(y.initMouseEvent)return y.initMouseEvent(C.type,C.bubbles,C.cancelable,C.view||G,C.detail,C.screenX,C.screenY,C.clientX,C.clientY,C.ctrlKey,C.altKey,C.shiftKey,C.metaKey,C.button,C.relatedTarget),y}return ie(C.type)}function ie(C,y,k){let S=y||{x:0,y:0};if(typeof G.MouseEvent=="function")return new G.MouseEvent(C,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:k||K,view:G,detail:+(C==="click"),screenX:S.x,screenY:S.y,clientX:S.x,clientY:S.y});if(M!=null&&M.createEvent){let R=M.createEvent("MouseEvent");if(R.initMouseEvent)return R.initMouseEvent(C,!0,!0,G,+(C==="click"),S.x,S.y,S.x,S.y,!1,!1,!1,!1,0,null),R}return{type:C}}let dt={addClass:function(C,y){C.classList?C.classList.add(y):0>C.className.indexOf(y)&&(C.className+=" "+y)},cloneMouseEvent:se,cloneTouchEvent:function(C){let y=S=>{let R=[];for(let W=0;W<S.length;++W){let L=S.item(W);L&&R.push(L)}return R};if(typeof G.TouchEvent=="function"){let S=new G.TouchEvent(C.type,{touches:y(C.touches),targetTouches:y(C.targetTouches),changedTouches:y(C.changedTouches),ctrlKey:C.ctrlKey,shiftKey:C.shiftKey,altKey:C.altKey,metaKey:C.metaKey,bubbles:C.bubbles,cancelable:C.cancelable,composed:C.composed,detail:C.detail,view:C.view});return C.defaultPrevented&&S.preventDefault(),S}let k=se(C);return k.touches=C.touches,k.changedTouches=C.changedTouches,k.targetTouches=C.targetTouches,k},escapeStringForHTML:function(C){return C.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(C){return M.getElementById(C)},getFakeMouseEvent:ie,getHeadingTagNameForElement:function(C){let y=W=>"h"+Math.min(6,parseInt(W.slice(1),10)+1),k=W=>/^H[1-6]$/i.test(W),S=W=>{let L=W;for(;L=L.previousSibling;){let Z=L.tagName||"";if(k(Z))return Z}return""},R=W=>{let L=S(W);if(L)return y(L);let Z=W.parentElement;if(!Z)return"h6";let ce=Z.tagName;return k(ce)?y(ce):R(Z)};return R(C)},removeChildNodes:function(C){for(;C.lastChild;)C.removeChild(C.lastChild)},removeClass:function(C,y){C.classList?C.classList.remove(y):C.className=C.className.replace(RegExp(y,"g"),"")},removeElement:function(C){C&&C.parentNode&&C.parentNode.removeChild(C)},reverseChildNodes:function(C){let y=C.childNodes.length;for(;y--;)C.appendChild(C.childNodes[y])},simulatedEventTarget:K,stripHTMLTagsFromString:function(C,y=!1){return typeof C=="string"?y?C.replace(/<\/?[^>]+(>|$)/g,""):C.replace(/<\/?(?!\s)[^>]+(>|$)/g,""):C},visuallyHideElement:function(C){z(C,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}};var Dt=te(984),Ge=te.n(Dt);let{format:ut}=Ge(),{getNestedProperty:Re,pick:Ke}=Y();(function(C){function y(S,R,W){let L=($e,Xe)=>{let et=$e.slice(Xe||0),Qe=et.indexOf("{"),bt=et.indexOf("}");if(Qe>-1&&bt>Qe)return{statement:et.substring(Qe+1,bt),begin:Xe+Qe+1,end:Xe+bt}},Z=[],ce,pe,ve=0;do ce=L(S,ve),(pe=S.substring(ve,ce&&ce.begin-1)).length&&Z.push({value:pe,type:"constant"}),ce&&Z.push({value:ce.statement,type:"statement"}),ve=ce?ce.end+1:ve+1;while(ce);return Z.forEach($e=>{$e.type==="statement"&&($e.value=function(Xe,et){let Qe,bt,Gt=Xe.indexOf("#each("),Kt=Xe.indexOf("#plural("),an=Xe.indexOf("["),xn=Xe.indexOf("]");if(Gt>-1){let Zt=Xe.slice(Gt).indexOf(")")+Gt,yn=Xe.substring(0,Gt),wn=Xe.substring(Zt+1),li=Xe.substring(Gt+6,Zt).split(","),Dn=Number(li[1]),ci;if(bt="",Qe=Re(li[0],et)){ci=(Dn=isNaN(Dn)?Qe.length:Dn)<0?Qe.length+Dn:Math.min(Dn,Qe.length);for(let Ms=0;Ms<ci;++Ms)bt+=yn+Qe[Ms]+wn}return bt.length?bt:""}if(Kt>-1){var nn;let Zt=Xe.slice(Kt).indexOf(")")+Kt,yn=Xe.substring(Kt+8,Zt).split(",");switch(Number(Re(yn[0],et))){case 0:bt=Ke(yn[4],yn[1]);break;case 1:bt=Ke(yn[2],yn[1]);break;case 2:bt=Ke(yn[3],yn[1]);break;default:bt=yn[1]}return bt?(nn=bt).trim&&nn.trim()||nn.replace(/^\s+|\s+$/g,""):""}if(an>-1){let Zt,yn=Xe.substring(0,an),wn=Number(Xe.substring(an+1,xn));return Qe=Re(yn,et),!isNaN(wn)&&Qe&&(wn<0?(Zt=Qe[Qe.length+wn])===void 0&&(Zt=Qe[0]):(Zt=Qe[wn])===void 0&&(Zt=Qe[Qe.length-1])),Zt!==void 0?Zt:""}return"{"+Xe+"}"}($e.value,R))}),ut(Z.reduce(($e,Xe)=>$e+Xe.value,""),R,W)}function k(S,R){let W=S.split("."),L=this.options.lang,Z=0;for(;Z<W.length;++Z)L=L&&L[W[Z]];return typeof L=="string"?y(L,R,this):""}C.compose=function(S){let R=S.prototype;R.langFormat||(R.langFormat=k)},C.i18nFormat=y})(ne||(ne={}));let ct=ne,{doc:Et}=Y(),{stripHTMLTagsFromString:wt}=dt,{defined:vt,find:Ot,fireEvent:ht}=Y();function Pt(C){if(C.points&&C.points.length){let y=Ot(C.points,k=>!!k.graphic);return y&&y.graphic&&y.graphic.element}}function st(C){let y=Pt(C);return y&&y.parentNode||C.graph&&C.graph.element||C.group&&C.group.element}let be={fireEventOnWrappedOrUnwrappedElement:function C(y,k){let S=k.type,R=y.hcEvents;Et!=null&&Et.createEvent&&(y.dispatchEvent||y.fireEvent)?y.dispatchEvent?y.dispatchEvent(k):y.fireEvent(S,k):R&&R[S]?ht(y,S,k):y.element&&C(y.element,k)},getChartTitle:function(C){return wt(C.options.title.text||C.langFormat("accessibility.defaultChartTitle",{chart:C}),C.renderer.forExport)},getAxisDescription:function(C){var y,k;return C&&(((y=C.options.accessibility)==null?void 0:y.description)||((k=C.axisTitle)==null?void 0:k.textStr)||C.options.id||C.categories&&"categories"||C.dateTime&&"Time"||"values")},getAxisRangeDescription:function(C){let y=C.options||{};return y.accessibility&&y.accessibility.rangeDescription!==void 0?y.accessibility.rangeDescription:C.categories?function(k){let S=k.chart;return k.dataMax&&k.dataMin?S.langFormat("accessibility.axis.rangeCategories",{chart:S,axis:k,numCategories:k.dataMax-k.dataMin+1}):""}(C):C.dateTime&&(C.min===0||C.dataMin===0)?function(k){let S=k.chart,R={},W=k.dataMin||k.min||0,L=k.dataMax||k.max||0,Z="Seconds";R.Seconds=(L-W)/1e3,R.Minutes=R.Seconds/60,R.Hours=R.Minutes/60,R.Days=R.Hours/24,["Minutes","Hours","Days"].forEach(function(pe){R[pe]>2&&(Z=pe)});let ce=R[Z].toFixed(+(Z!=="Seconds"&&Z!=="Minutes"));return S.langFormat("accessibility.axis.timeRange"+Z,{chart:S,axis:k,range:ce.replace(".0","")})}(C):function(k){let S=k.chart,R=S.options,W=R&&R.accessibility&&R.accessibility.screenReaderSection.axisRangeDateFormat||"",L={min:k.dataMin||k.min||0,max:k.dataMax||k.max||0},Z=function(ce){return k.dateTime?S.time.dateFormat(W,L[ce]):L[ce].toString()};return S.langFormat("accessibility.axis.rangeFromTo",{chart:S,axis:k,rangeFrom:Z("min"),rangeTo:Z("max")})}(C)},getPointFromXY:function(C,y,k){let S=C.length,R;for(;S--;)if(R=Ot(C[S].points||[],function(W){return W.x===y&&W.y===k}))return R},getSeriesFirstPointElement:Pt,getSeriesFromName:function(C,y){return y?(C.series||[]).filter(function(k){return k.name===y}):C.series},getSeriesA11yElement:st,unhideChartElementFromAT:function C(y,k){k.setAttribute("aria-hidden",!1),k!==y.renderTo&&k.parentNode&&k.parentNode!==Et.body&&(Array.prototype.forEach.call(k.parentNode.childNodes,function(S){S.hasAttribute("aria-hidden")||S.setAttribute("aria-hidden",!0)}),C(y,k.parentNode))},hideSeriesFromAT:function(C){let y=st(C);y&&y.setAttribute("aria-hidden",!0)},scrollAxisToPoint:function(C){let y=C.series.xAxis,k=C.series.yAxis,S=y&&y.scrollbar?y:k,R=S&&S.scrollbar;if(R&&vt(R.to)&&vt(R.from)){let W=R.to-R.from,L=function(Z,ce){if(!vt(Z.dataMin)||!vt(Z.dataMax))return 0;let pe=Z.toPixels(Z.dataMin),ve=Z.toPixels(Z.dataMax),$e=Z.coll==="xAxis"?"x":"y";return(Z.toPixels(ce[$e]||0)-pe)/(ve-pe)}(S,C);R.updatePosition(L-W/2,L+W/2),ht(R,"changed",{from:R.from,to:R.to,trigger:"scrollbar",DOMEvent:null})}}},{doc:ae}=Y(),{removeElement:ke}=dt,me=class{constructor(){this.elements=[]}createElement(){let C=ae.createElement.apply(ae,arguments);return this.elements.push(C),C}removeElement(C){ke(C),this.elements.splice(this.elements.indexOf(C),1)}destroyCreatedElements(){this.elements.forEach(function(C){ke(C)}),this.elements=[]}},{addEvent:Ye}=Y(),Pe=class{constructor(){this.eventRemovers=[]}addEvent(){let C=Ye.apply(Y(),arguments);return this.eventRemovers.push({element:arguments[0],remover:C}),C}removeEvent(C){let y=this.eventRemovers.map(k=>k.remover).indexOf(C);this.eventRemovers[y].remover(),this.eventRemovers.splice(y,1)}removeAddedEvents(){this.eventRemovers.map(C=>C.remover).forEach(C=>C()),this.eventRemovers=[]}},{fireEventOnWrappedOrUnwrappedElement:ze}=be,{getFakeMouseEvent:we}=dt,yt=class{destroy(){}getKeyboardNavigation(){return[]}init(){}onChartRender(){}onChartUpdate(){}initBase(C,y){this.chart=C,this.eventProvider=new Pe,this.domElementProvider=new me,this.proxyProvider=y,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}}addEvent(C,y,k,S){return this.eventProvider.addEvent(C,y,k,S)}createElement(C,y){return this.domElementProvider.createElement(C,y)}fakeClickEvent(C){ze(C,we("click"))}destroyBase(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()}},{find:xt}=Y(),Tt=class{constructor(C,y){this.chart=C,this.keyCodeMap=y.keyCodeMap||[],this.validate=y.validate,this.init=y.init,this.terminate=y.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}run(C){let y=C.which||C.keyCode,k=this.response.noHandler,S=xt(this.keyCodeMap,function(R){return R[0].indexOf(y)>-1});return S?k=S[1].call(this,y,C):y===9&&(k=this.response[C.shiftKey?"prev":"next"]),k}},{unhideChartElementFromAT:Ct,getChartTitle:pt}=be,{doc:De}=Y(),{stripHTMLTagsFromString:_e}=dt,Se=class extends yt{onChartUpdate(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()}handleSVGTitleElement(){let C=this.chart,y="highcharts-title-"+C.index,k=_e(C.langFormat("accessibility.svgContainerTitle",{chartTitle:pt(C)}));if(k.length){let S=this.svgTitleElement=this.svgTitleElement||De.createElementNS("http://www.w3.org/2000/svg","title");S.textContent=k,S.id=y,C.renderTo.insertBefore(S,C.renderTo.firstChild)}}setSVGContainerLabel(){let C=this.chart,y=C.langFormat("accessibility.svgContainerLabel",{chartTitle:pt(C)});C.renderer.box&&y.length&&C.renderer.box.setAttribute("aria-label",y)}setGraphicContainerAttrs(){let C=this.chart,y=C.langFormat("accessibility.graphicContainerLabel",{chartTitle:pt(C)});y.length&&C.container.setAttribute("aria-label",y)}setRenderToAttrs(){let C=this.chart,y=C.options.accessibility.landmarkVerbosity!=="disabled",k=C.langFormat("accessibility.chartContainerLabel",{title:pt(C),chart:C});k&&(C.renderTo.setAttribute("role",y?"region":"group"),C.renderTo.setAttribute("aria-label",k))}makeCreditsAccessible(){let C=this.chart,y=C.credits;y&&(y.textStr&&y.element.setAttribute("aria-label",C.langFormat("accessibility.credits",{creditsStr:_e(y.textStr,C.renderer.forExport)})),Ct(C,y.element))}getKeyboardNavigation(){let C=this.chart;return new Tt(C,{keyCodeMap:[],validate:function(){return!0},init:function(){let y=C.accessibility;y&&y.keyboardNavigation.tabindexContainer.focus()}})}destroy(){this.chart.renderTo.setAttribute("aria-hidden",!0)}},{addEvent:ue,pick:Fe}=Y();(function(C){let y=["x","y","transform","width","height","r","d","stroke-width"];function k(){let L=this.focusElement,Z=this.options.accessibility.keyboardNavigation.focusBorder;L&&(L.removeFocusBorder(),Z.enabled&&L.addFocusBorder(Z.margin,{stroke:Z.style.color,strokeWidth:Z.style.lineWidth,r:Z.style.borderRadius}))}function S(L,Z){let ce=this.options.accessibility.keyboardNavigation.focusBorder,pe=Z||L.element;pe&&pe.focus&&(pe.hcEvents&&pe.hcEvents.focusin||ue(pe,"focusin",function(){}),pe.focus(),ce.hideBrowserFocusOutline&&(pe.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=L,ue(this,"endResize",function(){this.renderFocusBorder()}),this.renderFocusBorder()}function R(L,Z){this.focusBorder&&this.removeFocusBorder();let ce=this.getBBox(),pe=Fe(L,3),ve=this.parentGroup,$e=this.scaleX||ve&&ve.scaleX,Xe=this.scaleY||ve&&ve.scaleY,et=($e?!Xe:Xe)?Math.abs($e||Xe||1):(Math.abs($e||1)+Math.abs(Xe||1))/2,Qe=this.renderer.fontMetrics(this).h;ce.x+=this.translateX?this.translateX:0,ce.y+=this.translateY?this.translateY:0;let bt=ce.x-pe,Gt=ce.y-pe,Kt=ce.width+2*pe,an=ce.height+2*pe,xn=!!this.text;if(this.element.nodeName==="text"||xn){let nn,Zt,yn=!!this.rotation,wn=xn?{x:+!!yn,y:0}:(nn=0,Zt=0,this.attr("text-anchor")==="middle"?nn=Zt=.5:this.rotation?nn=.25:Zt=.75,{x:nn,y:Zt}),li=+this.attr("x"),Dn=+this.attr("y");if(isNaN(li)||(bt=li-ce.width*wn.x-pe),isNaN(Dn)||(Gt=Dn-(this.attr("text-anchor")==="start"?Qe:ce.height)*wn.y-pe),xn&&yn){let ci=Kt;Kt=an,an=ci,isNaN(li)||(bt=li-ce.height*wn.x-pe),isNaN(Dn)||(Gt=Dn-ce.width*wn.y-pe)}}this.focusBorder=this.renderer.rect(bt,Gt,Kt,an,parseInt((Z&&Z.r||0).toString(),10)/et).addClass("highcharts-focus-border").attr({zIndex:99}).add(ve),this.renderer.styledMode||this.focusBorder.attr({stroke:Z&&Z.stroke,"stroke-width":(Z&&Z.strokeWidth||0)/et}),function(nn,...Zt){nn.focusBorderUpdateHooks||(nn.focusBorderUpdateHooks={},y.forEach(yn=>{let wn=yn+"Setter",li=nn[wn]||nn._defaultSetter;nn.focusBorderUpdateHooks[wn]=li,nn[wn]=function(){let Dn=li.apply(nn,arguments);return nn.addFocusBorder.apply(nn,Zt),Dn}}))}(this,L,Z),function(nn){if(nn.focusBorderDestroyHook)return;let Zt=nn.destroy;nn.destroy=function(){return nn.focusBorder&&nn.focusBorder.destroy&&nn.focusBorder.destroy(),Zt.apply(nn,arguments)},nn.focusBorderDestroyHook=Zt}(this)}function W(){var L;L=this,L.focusBorderUpdateHooks&&(Object.keys(L.focusBorderUpdateHooks).forEach(Z=>{let ce=L.focusBorderUpdateHooks[Z];ce===L._defaultSetter?delete L[Z]:L[Z]=ce}),delete L.focusBorderUpdateHooks),this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}C.compose=function(L,Z){let ce=L.prototype,pe=Z.prototype;ce.renderFocusBorder||(ce.renderFocusBorder=k,ce.setFocusToElement=S),pe.addFocusBorder||(pe.addFocusBorder=R,pe.removeFocusBorder=W)}})(le||(le={}));let de=le;var ye=te(660),je=te.n(ye);let{doc:Ze}=Y(),{addClass:nt,visuallyHideElement:Ht}=dt,{attr:Bt}=Y(),at=class{constructor(C,y){this.chart=C,this.domElementProvider=new me,this.announceRegion=this.addAnnounceRegion(y)}destroy(){this.domElementProvider.destroyCreatedElements()}announce(C){je().setElementHTML(this.announceRegion,C),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(()=>{this.announceRegion.innerHTML=je().emptyHTML,delete this.clearAnnouncementRegionTimer},3e3)}addAnnounceRegion(C){let y=this.chart.announcerContainer||this.createAnnouncerContainer(),k=this.domElementProvider.createElement("div");return Bt(k,{"aria-hidden":!1,"aria-live":C,"aria-atomic":!0}),this.chart.styledMode?nt(k,"highcharts-visually-hidden"):Ht(k),y.appendChild(k),k}createAnnouncerContainer(){let C=this.chart,y=Ze.createElement("div");return Bt(y,{"aria-hidden":!1,class:"highcharts-announcer-container"}),y.style.position="relative",C.renderTo.insertBefore(y,C.renderTo.firstChild),C.announcerContainer=y,y}},{escapeStringForHTML:rt,stripHTMLTagsFromString:he}=dt;function Ne(C){return(C.annotations||[]).reduce((y,k)=>(k.options&&k.options.visible!==!1&&(y=y.concat(k.labels)),y),[])}function Be(C){return C.options&&C.options.accessibility&&C.options.accessibility.description||C.graphic&&C.graphic.text&&C.graphic.text.textStr||""}function Me(C){let y=C.options&&C.options.accessibility&&C.options.accessibility.description;if(y)return y;let k=C.chart,S=Be(C),R=C.points,W=ve=>ve.graphic&&ve.graphic.element&&ve.graphic.element.getAttribute("aria-label")||"",L=R.filter(ve=>!!ve.graphic).map(ve=>{let $e=ve.accessibility&&ve.accessibility.valueDescription||W(ve),Xe=ve&&ve.series.name||"";return(Xe?Xe+", ":"")+"data point "+$e}).filter(ve=>!!ve),Z=L.length,ce=Z>1?"MultiplePoints":Z?"SinglePoint":"NoPoints",pe={annotationText:S,annotation:C,numPoints:Z,annotationPoint:L[0],additionalAnnotationPoints:L.slice(1)};return k.langFormat("accessibility.screenReaderSection.annotations.description"+ce,pe)}function Ue(C){return Ne(C).map(y=>{let k=rt(he(Me(y),C.renderer.forExport));return k?`<li>${k}</li>`:""})}let He={getAnnotationsInfoHTML:function(C){let y=C.annotations;return y&&y.length?`<ul style="list-style-type: none">${Ue(C).join(" ")}</ul>`:""},getPointAnnotationTexts:function(C){let y=Ne(C.series.chart).filter(k=>k.points.indexOf(C)>-1);return y.length?y.map(k=>`${Be(k)}`):[]}},{getAnnotationsInfoHTML:ft}=He,{getAxisDescription:Mt,getAxisRangeDescription:Nt,getChartTitle:Vt,unhideChartElementFromAT:Qt}=be,{format:tt}=Ge(),{doc:Ut}=Y(),{addClass:Jt,getElement:Lt,getHeadingTagNameForElement:en,stripHTMLTagsFromString:rn,visuallyHideElement:gn}=dt,{attr:hn,pick:Rn,replaceNested:vn}=Y();function Kn(C){return vn(C,[/<([\w\-.:!]+)\b[^<>]*>\s*<\/\1>/g,""])}let ji=class extends yt{constructor(){super(...arguments),this.screenReaderSections={}}init(){let C=this.chart,y=this;this.initRegionsDefinitions(),this.addEvent(C,"afterGetTableAST",function(k){y.onDataTableCreated(k)}),this.addEvent(C,"afterViewData",function(k){k.wasHidden&&(y.dataTableDiv=k.element,setTimeout(function(){y.focusDataTable()},300))}),this.addEvent(C,"afterHideData",function(){y.viewDataTableButton&&y.viewDataTableButton.setAttribute("aria-expanded","false")}),C.exporting&&this.addEvent(C,"afterPrint",function(){y.updateAllScreenReaderSections()}),this.announcer=new at(C,"assertive")}initRegionsDefinitions(){let C=this,y=this.chart.options.accessibility;this.screenReaderSections={before:{element:null,buildContent:function(k){let S=y.screenReaderSection.beforeChartFormatter;return S?S(k):C.defaultBeforeChartFormatter(k)},insertIntoDOM:function(k,S){S.renderTo.insertBefore(k,S.renderTo.firstChild)},afterInserted:function(){C.sonifyButtonId!==void 0&&C.initSonifyButton(C.sonifyButtonId),C.dataTableButtonId!==void 0&&C.initDataTableButton(C.dataTableButtonId)}},after:{element:null,buildContent:function(k){let S=y.screenReaderSection.afterChartFormatter;return S?S(k):C.defaultAfterChartFormatter()},insertIntoDOM:function(k,S){S.renderTo.insertBefore(k,S.container.nextSibling)},afterInserted:function(){C.chart.accessibility&&y.keyboardNavigation.enabled&&C.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}}onChartRender(){this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),this.updateAllScreenReaderSections()}updateAllScreenReaderSections(){let C=this;Object.keys(this.screenReaderSections).forEach(function(y){C.updateScreenReaderSection(y)})}getLinkedDescriptionElement(){let C=this.chart.options.accessibility.linkedDescription;if(!C)return;if(typeof C!="string")return C;let y=tt(C,this.chart),k=Ut.querySelectorAll(y);if(k.length===1)return k[0]}setLinkedDescriptionAttrs(){let C=this.linkedDescriptionElement;C&&(C.setAttribute("aria-hidden","true"),Jt(C,"highcharts-linked-description"))}updateScreenReaderSection(C){let y=this.chart,k=this.screenReaderSections[C],S=k.buildContent(y),R=k.element=k.element||this.createElement("div"),W=R.firstChild||this.createElement("div");S?(this.setScreenReaderSectionAttribs(R,C),je().setElementHTML(W,S),R.appendChild(W),k.insertIntoDOM(R,y),y.styledMode?Jt(W,"highcharts-visually-hidden"):gn(W),Qt(y,W),k.afterInserted&&k.afterInserted()):(R.parentNode&&R.parentNode.removeChild(R),k.element=null)}setScreenReaderSectionAttribs(C,y){let k=this.chart,S=k.langFormat("accessibility.screenReaderSection."+y+"RegionLabel",{chart:k,chartTitle:Vt(k)});hn(C,{id:`highcharts-screen-reader-region-${y}-${k.index}`,"aria-label":S||void 0}),C.style.position="relative",S&&C.setAttribute("role",k.options.accessibility.landmarkVerbosity==="all"?"region":"group")}defaultBeforeChartFormatter(){var ve;let C=this.chart,y=C.options.accessibility.screenReaderSection.beforeChartFormat;if(!y)return"";let k=this.getAxesDescription(),S=C.sonify&&C.options.sonification&&C.options.sonification.enabled,R="highcharts-a11y-sonify-data-btn-"+C.index,W="hc-linkto-highcharts-data-table-"+C.index,L=ft(C),Z=C.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:C}),ce={headingTagName:en(C.renderTo),chartTitle:Vt(C),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:k.xAxis,yAxisDescription:k.yAxis,playAsSoundButton:S?this.getSonifyButtonText(R):"",viewTableButton:(ve=C.exporting)!=null&&ve.getCSV?this.getDataTableButtonText(W):"",annotationsTitle:L?Z:"",annotationsList:L},pe=ct.i18nFormat(y,ce,C);return this.dataTableButtonId=W,this.sonifyButtonId=R,Kn(pe)}defaultAfterChartFormatter(){let C=this.chart,y=C.options.accessibility.screenReaderSection.afterChartFormat;if(!y)return"";let k={endOfChartMarker:this.getEndOfChartMarkerText()};return Kn(ct.i18nFormat(y,k,C))}getLinkedDescription(){let C=this.linkedDescriptionElement;return rn(C&&C.innerHTML||"",this.chart.renderer.forExport)}getLongdescText(){let C=this.chart.options,y=C.caption,k=y&&y.text,S=this.getLinkedDescription();return C.accessibility.description||S||k||""}getTypeDescriptionText(){let C=this.chart;return C.types?C.options.accessibility.typeDescription||function(y,k){let S=k[0],R=y.series&&y.series[0]||{},W=y.mapView&&y.mapView.geoMap&&y.mapView.geoMap.title,L={numSeries:y.series.length,numPoints:R.points&&R.points.length,chart:y,mapTitle:W};if(!S)return y.langFormat("accessibility.chartTypes.emptyChart",L);if(S==="map"||S==="tiledwebmap")return L.mapTitle?y.langFormat("accessibility.chartTypes.mapTypeDescription",L):y.langFormat("accessibility.chartTypes.unknownMap",L);if(y.types.length>1)return y.langFormat("accessibility.chartTypes.combinationChart",L);let Z=k[0],ce=y.langFormat("accessibility.seriesTypeDescriptions."+Z,L),pe=y.series&&y.series.length<2?"Single":"Multiple";return(y.langFormat("accessibility.chartTypes."+Z+pe,L)||y.langFormat("accessibility.chartTypes.default"+pe,L))+(ce?" "+ce:"")}(C,C.types):""}getDataTableButtonText(C){let y=this.chart;return'<button id="'+C+'">'+y.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:y,chartTitle:Vt(y)})+"</button>"}getSonifyButtonText(C){let y=this.chart;return y.options.sonification&&y.options.sonification.enabled===!1?"":'<button id="'+C+'">'+y.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:y,chartTitle:Vt(y)})+"</button>"}getSubtitleText(){let C=this.chart.options.subtitle;return rn(C&&C.text||"",this.chart.renderer.forExport)}getEndOfChartMarkerText(){let C=Lt(`highcharts-end-of-chart-marker-${this.chart.index}`);if(C)return C.outerHTML;let y=this.chart,k=y.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:y});return'<div id="highcharts-end-of-chart-marker-'+y.index+'">'+k+"</div>"}onDataTableCreated(C){let y=this.chart;if(y.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");let k=C.tree.attributes||{};k.tabindex=-1,k.summary=y.langFormat("accessibility.table.tableSummary",{chart:y}),C.tree.attributes=k}}focusDataTable(){let C=this.dataTableDiv,y=C&&C.getElementsByTagName("table")[0];y&&y.focus&&y.focus()}initSonifyButton(C){let y=this.sonifyButton=Lt(C),k=this.chart,S=R=>{y&&(y.setAttribute("aria-hidden","true"),y.setAttribute("aria-label","")),R.preventDefault(),R.stopPropagation();let W=k.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:k});this.announcer.announce(W),setTimeout(()=>{y&&(y.removeAttribute("aria-hidden"),y.removeAttribute("aria-label")),k.sonify&&k.sonify()},1e3)};y&&k&&(y.setAttribute("tabindex",-1),y.onclick=function(R){(k.options.accessibility&&k.options.accessibility.screenReaderSection.onPlayAsSoundClick||S).call(this,R,k)})}initDataTableButton(C){let y=this.viewDataTableButton=Lt(C),k=this.chart,S=C.replace("hc-linkto-","");y&&(hn(y,{tabindex:-1,"aria-expanded":!!Lt(S)}),y.onclick=k.options.accessibility.screenReaderSection.onViewDataTableClick||function(){var R;(R=k.exporting)==null||R.viewData()})}getAxesDescription(){let C=this.chart,y=function(Z,ce){let pe=C[Z];return pe.length>1||pe[0]&&Rn(pe[0].options.accessibility&&pe[0].options.accessibility.enabled,ce)},k=!!C.types&&0>C.types.indexOf("map")&&0>C.types.indexOf("treemap")&&0>C.types.indexOf("tilemap"),S=!!C.hasCartesianSeries,R=y("xAxis",!C.angular&&S&&k),W=y("yAxis",S&&k),L={};return R&&(L.xAxis=this.getAxisDescriptionText("xAxis")),W&&(L.yAxis=this.getAxisDescriptionText("yAxis")),L}getAxisDescriptionText(C){let y=this.chart,k=y[C];return y.langFormat("accessibility.axis."+C+"Description"+(k.length>1?"Plural":"Singular"),{chart:y,names:k.map(function(S){return Mt(S)}),ranges:k.map(function(S){return Nt(S)}),numAxes:k.length})}destroy(){this.announcer&&this.announcer.destroy()}},{attr:ar}=Y(),{getChartTitle:Pn,unhideChartElementFromAT:Ce}=be,{getFakeMouseEvent:Ie}=dt;function qe(C){var y,k;return(k=(y=C.exporting)==null?void 0:y.svgElements)==null?void 0:k[0]}class Je extends yt{init(){let y=this.chart,k=this;this.addEvent(y,"exportMenuShown",function(){k.onMenuShown()}),this.addEvent(y,"exportMenuHidden",function(){k.onMenuHidden()}),this.createProxyGroup()}onMenuHidden(){var k;let y=(k=this.chart.exporting)==null?void 0:k.contextMenuEl;y&&y.setAttribute("aria-hidden","true"),this.setExportButtonExpandedState("false")}onMenuShown(){var S;let y=this.chart,k=(S=y.exporting)==null?void 0:S.contextMenuEl;k&&(this.addAccessibleContextMenuAttribs(),Ce(y,k)),this.setExportButtonExpandedState("true")}setExportButtonExpandedState(y){this.exportButtonProxy&&this.exportButtonProxy.innerElement.setAttribute("aria-expanded",y)}onChartRender(){var R;let y=this.chart,k=y.focusElement,S=y.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&k&&k===((R=y.exporting)==null?void 0:R.group)&&(k.focusBorder?y.setFocusToElement(k,this.exportButtonProxy.innerElement):S&&S.keyboardNavigation.tabindexContainer.focus())}proxyMenuButton(){let y=this.chart,k=this.proxyProvider,S=qe(y);(function(R){let W=R.options.exporting,L=qe(R);return!!(W&&W.enabled!==!1&&W.accessibility&&W.accessibility.enabled&&L&&L.element)})(y)&&S&&(this.exportButtonProxy=k.addProxyElement("chartMenu",{click:S},"button",{"aria-label":y.langFormat("accessibility.exporting.menuButtonLabel",{chart:y,chartTitle:Pn(y)}),"aria-expanded":!1,title:y.options.lang.contextButtonTitle||null}))}createProxyGroup(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu")}addAccessibleContextMenuAttribs(){var S;let y=this.chart,k=(S=y.exporting)==null?void 0:S.divElements;if(k&&k.length){k.forEach(W=>{W&&(W.tagName!=="LI"||W.children&&W.children.length?W.setAttribute("aria-hidden","true"):W.setAttribute("tabindex",-1))});let R=k[0]&&k[0].parentNode;R&&ar(R,{"aria-hidden":void 0,"aria-label":y.langFormat("accessibility.exporting.chartMenuLabel",{chart:y}),role:"list"})}}getKeyboardNavigation(){let y=this.keyCodes,k=this.chart,S=this;return new Tt(k,{keyCodeMap:[[[y.left,y.up],function(){return S.onKbdPrevious(this)}],[[y.right,y.down],function(){return S.onKbdNext(this)}],[[y.enter,y.space],function(){return S.onKbdClick(this)}]],validate:function(){var R,W,L;return!!k.exporting&&((W=(R=k.options.exporting)==null?void 0:R.buttons)==null?void 0:W.contextButton.enabled)!==!1&&k.options.exporting.enabled!==!1&&(((L=k.options.exporting.accessibility)==null?void 0:L.enabled)||!1)!==!1},init:function(){var L;let R=S.exportButtonProxy,W=(L=S.chart.exporting)==null?void 0:L.group;R&&W&&k.setFocusToElement(W,R.innerElement)},terminate:function(){k.hideExportMenu()}})}onKbdPrevious(y){let k=this.chart,S=k.options.accessibility,R=y.response,W=k.highlightedExportItemIx||0;for(;W--;)if(k.highlightExportItem(W))return R.success;return S.keyboardNavigation.wrapAround?(k.highlightLastExportItem(),R.success):R.prev}onKbdNext(y){var W,L;let k=this.chart,S=k.options.accessibility,R=y.response;for(let Z=(k.highlightedExportItemIx||0)+1;Z<(((L=(W=k.exporting)==null?void 0:W.divElements)==null?void 0:L.length)||0);++Z)if(k.highlightExportItem(Z))return R.success;return S.keyboardNavigation.wrapAround?(k.highlightExportItem(0),R.success):R.next}onKbdClick(y){var W,L,Z,ce;let k=this.chart,S=k.highlightedExportItemIx!==void 0&&((L=(W=k.exporting)==null?void 0:W.divElements)==null?void 0:L[k.highlightedExportItemIx]),R=(Z=qe(k))==null?void 0:Z.element;return(ce=k.exporting)!=null&&ce.openMenu?S&&this.fakeClickEvent(S):(R&&this.fakeClickEvent(R),k.highlightExportItem(0)),y.response.success}}(function(C){function y(){let W=qe(this);if(W){let L=W.element;L.onclick&&(L.onclick=function(){Ie("click")})}}function k(){var L,Z,ce;let W=(L=this.exporting)==null?void 0:L.divElements;W&&((Z=this.exporting)!=null&&Z.contextMenuEl)&&((ce=this.exporting)!=null&&ce.openMenu)&&(W.forEach(pe=>{pe&&pe.className==="highcharts-menu-item"&&pe.onmouseout&&pe.onmouseout(Ie("mouseout"))}),this.highlightedExportItemIx=0,this.exporting.contextMenuEl.hideMenu(),this.container.focus())}function S(W){var ce,pe,ve,$e;let L=(pe=(ce=this.exporting)==null?void 0:ce.divElements)==null?void 0:pe[W],Z=this.highlightedExportItemIx!==void 0&&(($e=(ve=this.exporting)==null?void 0:ve.divElements)==null?void 0:$e[this.highlightedExportItemIx]);if(L&&L.tagName==="LI"&&!(L.children&&L.children.length)){let Xe=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;return L.focus&&Xe&&L.focus(),Z&&Z.onmouseout&&Z.onmouseout(Ie("mouseout")),L.onmouseover&&L.onmouseover(Ie("mouseover")),this.highlightedExportItemIx=W,!0}return!1}function R(){var W,L;if((W=this.exporting)!=null&&W.divElements){let Z=(L=this.exporting)==null?void 0:L.divElements.length;for(;Z--;)if(this.highlightExportItem(Z))return!0}return!1}C.compose=function(W){let L=W.prototype;L.hideExportMenu||(L.hideExportMenu=k,L.highlightExportItem=S,L.highlightLastExportItem=R,L.showExportMenu=y)}})(Je||(Je={}));let gt=Je,{doc:St,win:ot}=Y(),{addEvent:ai,defined:ii,fireEvent:Gi}=Y(),{getElement:Ii,simulatedEventTarget:Ts}=dt;class aa{constructor(y,k){this.currentModuleIx=NaN,this.modules=[],this.init(y,k)}init(y,k){let S=this.eventProvider=new Pe;this.chart=y,this.components=k,this.modules=[],this.currentModuleIx=0,this.update(),S.addEvent(this.tabindexContainer,"keydown",R=>this.onKeydown(R)),S.addEvent(this.tabindexContainer,"focus",R=>this.onFocus(R)),["mouseup","touchend"].forEach(R=>S.addEvent(St,R,W=>this.onMouseUp(W))),["mousedown","touchstart"].forEach(R=>S.addEvent(y.renderTo,R,()=>{this.isClickingChart=!0}))}update(y){let k=this.chart.options.accessibility,S=k&&k.keyboardNavigation,R=this.components;this.updateContainerTabindex(),S&&S.enabled&&y&&y.length?(this.modules=y.reduce(function(W,L){let Z=R[L].getKeyboardNavigation();return W.concat(Z)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())}updateExitAnchor(){let y=Ii(`highcharts-end-of-chart-marker-${this.chart.index}`);this.removeExitAnchor(),y?(this.makeElementAnExitAnchor(y),this.exitAnchor=y):this.createExitAnchor()}move(y){let k=this.modules&&this.modules[this.currentModuleIx];k&&k.terminate&&k.terminate(y),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=y;let S=this.modules&&this.modules[this.currentModuleIx];if(S){if(S.validate&&!S.validate())return this.move(y);if(S.init)return S.init(y),!0}return this.currentModuleIx=0,this.exiting=!0,y>0?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus(),!1}onFocus(y){let k=this.chart,S=y.relatedTarget&&k.container.contains(y.relatedTarget),R=k.options.accessibility,W=R&&R.keyboardNavigation;if(W&&W.enabled&&!this.exiting&&!this.tabbingInBackwards&&!this.isClickingChart&&!S){let L=this.getFirstValidModuleIx();L!==null&&(this.currentModuleIx=L,this.modules[L].init(1))}this.keyboardReset=!1,this.exiting=!1}onMouseUp(y){if(delete this.isClickingChart,!this.keyboardReset&&y.relatedTarget!==Ts){let k=this.chart;if(!y.target||!k.container.contains(y.target)){let S=this.modules&&this.modules[this.currentModuleIx||0];S&&S.terminate&&S.terminate(),this.currentModuleIx=0}k.focusElement&&(k.focusElement.removeFocusBorder(),delete k.focusElement),this.keyboardReset=!0}}onKeydown(y){let k,S=y||ot.event,R=this.modules&&this.modules.length&&this.modules[this.currentModuleIx],W=S.target;if((!W||W.nodeName!=="INPUT"||W.classList.contains("highcharts-a11y-proxy-element"))&&(this.keyboardReset=!1,this.exiting=!1,R)){let L=R.run(S);L===R.response.success?k=!0:L===R.response.prev?k=this.move(-1):L===R.response.next&&(k=this.move(1)),k&&(S.preventDefault(),S.stopPropagation())}}updateContainerTabindex(){let y,k=this.chart.options.accessibility,S=k&&k.keyboardNavigation,R=!(S&&S.enabled===!1),W=this.chart,L=W.container;W.renderTo.hasAttribute("tabindex")?(L.removeAttribute("tabindex"),y=W.renderTo):y=L,this.tabindexContainer=y;let Z=y.getAttribute("tabindex");R&&!Z?y.setAttribute("tabindex","0"):R||W.container.removeAttribute("tabindex")}createExitAnchor(){let y=this.chart,k=this.exitAnchor=St.createElement("div");y.renderTo.appendChild(k),this.makeElementAnExitAnchor(k)}makeElementAnExitAnchor(y){let k=this.tabindexContainer.getAttribute("tabindex")||0;y.setAttribute("class","highcharts-exit-anchor"),y.setAttribute("tabindex",k),y.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(y)}removeExitAnchor(){if(this.exitAnchor){let y=this.eventProvider.eventRemovers.find(k=>k.element===this.exitAnchor);y&&ii(y.remover)&&this.eventProvider.removeEvent(y.remover),this.exitAnchor.parentNode&&this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor}}addExitAnchorEventsToEl(y){let k=this.chart,S=this;this.eventProvider.addEvent(y,"focus",function(R){let W=R||ot.event,L=!(W.relatedTarget&&k.container.contains(W.relatedTarget)||S.exiting);if(k.focusElement&&delete k.focusElement,L){if(S.tabbingInBackwards=!0,S.tabindexContainer.focus(),delete S.tabbingInBackwards,W.preventDefault(),S.modules&&S.modules.length){S.currentModuleIx=S.modules.length-1;let Z=S.modules[S.currentModuleIx];Z&&Z.validate&&!Z.validate()?S.move(-1):Z&&Z.init(-1)}}else S.exiting=!1})}getFirstValidModuleIx(){let y=this.modules.length;for(let k=0;k<y;++k){let S=this.modules[k];if(!S.validate||S.validate())return k}return null}destroy(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")}}(function(C){function y(){let S=this;Gi(this,"dismissPopupContent",{},function(){S.tooltip&&S.tooltip.hide(0),S.hideExportMenu()})}function k(S){(S.which||S.keyCode)===27&&Y().charts&&Y().charts.forEach(R=>{R&&R.dismissPopupContent&&R.dismissPopupContent()})}C.compose=function(S){gt.compose(S);let R=S.prototype;return!R.dismissPopupContent&&(R.dismissPopupContent=y,St&&ai(St,"keydown",k)),S}})(aa||(aa={}));let Co=aa;var Xs=te(632),zr=te.n(Xs);let{animObject:So}=Y(),{doc:la}=Y(),{addEvent:jc,fireEvent:Vn,isNumber:El,pick:ca,syncTimeout:kl}=Y(),{getChartTitle:Ic}=be,{stripHTMLTagsFromString:Tl,addClass:xh,removeClass:Pc}=dt;function ua(C){let y=C.legend&&C.legend.allItems,k=C.options.legend.accessibility||{},S=C.colorAxis&&C.colorAxis.some(R=>!R.dataClasses||!R.dataClasses.length);return!!(y&&y.length&&!S&&k.enabled!==!1)}function ha(C,y){let k=y.legendItem||{};for(let S of(y.setState(C?"hover":"",!0),["group","label","symbol"])){let R=k[S],W=R&&R.element||R;W&&Vn(W,C?"mouseover":"mouseout")}}class Cl extends yt{constructor(){super(...arguments),this.highlightedLegendItemIx=NaN,this.proxyGroup=null}init(){let y=this;this.recreateProxies(),this.addEvent(zr(),"afterScroll",function(){this.chart===y.chart&&(y.proxyProvider.updateGroupProxyElementPositions("legend"),y.updateLegendItemProxyVisibility(),y.highlightedLegendItemIx>-1&&this.chart.highlightLegendItem(y.highlightedLegendItemIx))}),this.addEvent(zr(),"afterPositionItem",function(k){this.chart===y.chart&&this.chart.renderer&&y.updateProxyPositionForItem(k.item)}),this.addEvent(zr(),"afterRender",function(){this.chart===y.chart&&this.chart.renderer&&y.recreateProxies()&&kl(()=>y.proxyProvider.updateGroupProxyElementPositions("legend"),So(ca(this.chart.renderer.globalAnimation,!0)).duration)})}updateLegendItemProxyVisibility(){let y,k=this.chart,S=k.legend,R=S.allItems||[],W=S.currentPage||1,L=S.clipHeight||0;R.forEach(Z=>{if(Z.a11yProxyElement){let ce=S.pages&&S.pages.length,pe=Z.a11yProxyElement.element,ve=!1;if(y=Z.legendItem||{},ce){let $e=y.pageIx||0;ve=(y.y||0)+(y.label?Math.round(y.label.getBBox().height):0)-S.pages[$e]>L||$e!==W-1}ve?k.styledMode?xh(pe,"highcharts-a11y-invisible"):pe.style.visibility="hidden":(Pc(pe,"highcharts-a11y-invisible"),pe.style.visibility="")}})}onChartRender(){ua(this.chart)||this.removeProxies()}highlightAdjacentLegendPage(y){let k=this.chart,S=k.legend,R=(S.currentPage||1)+y,W=S.pages||[];if(R>0&&R<=W.length){let L=0;for(let Z of S.allItems)((Z.legendItem||{}).pageIx||0)+1===R&&k.highlightLegendItem(L)&&(this.highlightedLegendItemIx=L),++L}}updateProxyPositionForItem(y){y.a11yProxyElement&&y.a11yProxyElement.refreshPosition()}recreateProxies(){let y=la.activeElement,k=this.proxyGroup,S=y&&k&&k.contains(y);return this.removeProxies(),!!ua(this.chart)&&(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),S&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0)}removeProxies(){this.proxyProvider.removeGroup("legend")}updateLegendTitle(){let y=this.chart,k=Tl((y.legend&&y.legend.options.title&&y.legend.options.title.text||"").replace(/<br ?\/?>/g," "),y.renderer.forExport),S=y.langFormat("accessibility.legend.legendLabel"+(k?"":"NoTitle"),{chart:y,legendTitle:k,chartTitle:Ic(y)});this.proxyProvider.updateGroupAttrs("legend",{"aria-label":S})}addLegendProxyGroup(){let y=this.chart.options.accessibility.landmarkVerbosity==="all"?"region":null;this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:y})}proxyLegendItems(){let y,k=this;((this.chart.legend||{}).allItems||[]).forEach(S=>{(y=S.legendItem||{}).label&&y.label.element&&k.proxyLegendItem(S)})}proxyLegendItem(y){var pe,ve,$e;let k=y.legendItem||{},S=(pe=y.legendItem)==null?void 0:pe.label,R=S==null?void 0:S.element,W=(($e=(ve=k.label)==null?void 0:ve.styles)==null?void 0:$e.textOverflow)==="ellipsis";if(!k.label||!k.group)return;let L=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:Tl(y.name,this.chart.renderer.forExport),item:y}),Z={tabindex:-1,"aria-pressed":y.visible,"aria-label":L,title:""};W&&(R.textContent||"").indexOf("")!==-1&&(Z.title=S==null?void 0:S.textStr);let ce=k.group.div?k.label:k.group;y.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:k.label,visual:ce.element},"button",Z)}getKeyboardNavigation(){let y=this.keyCodes,k=this,S=this.chart;return new Tt(S,{keyCodeMap:[[[y.left,y.right,y.up,y.down],function(R){return k.onKbdArrowKey(this,R)}],[[y.enter,y.space],function(){return k.onKbdClick(this)}],[[y.pageDown,y.pageUp],function(R){let W=R===y.pageDown?1:-1;return k.highlightAdjacentLegendPage(W),this.response.success}]],validate:function(){return k.shouldHaveLegendNavigation()},init:function(){S.highlightLegendItem(0),k.highlightedLegendItemIx=0},terminate:function(){k.highlightedLegendItemIx=-1,S.legend.allItems.forEach(R=>ha(!1,R))}})}onKbdArrowKey(y,k){let{keyCodes:{left:S,up:R},highlightedLegendItemIx:W,chart:L}=this,Z=L.legend.allItems.length,ce=L.options.accessibility.keyboardNavigation.wrapAround,pe=k===S||k===R?-1:1;return L.highlightLegendItem(W+pe)?this.highlightedLegendItemIx+=pe:ce&&Z>1&&(this.highlightedLegendItemIx=pe>0?0:Z-1,L.highlightLegendItem(this.highlightedLegendItemIx)),y.response.success}onKbdClick(y){let k=this.chart.legend.allItems[this.highlightedLegendItemIx];return k&&k.a11yProxyElement&&k.a11yProxyElement.click(),y.response.success}shouldHaveLegendNavigation(){if(!ua(this.chart))return!1;let y=this.chart,k=(y.options.legend||{}).accessibility||{};return!!(y.legend.display&&k.keyboardNavigation&&k.keyboardNavigation.enabled)}destroy(){this.removeProxies()}}(function(C){function y(S){let R=this.legend.allItems,W=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx,L=R[S],Z=(L==null?void 0:L.legendItem)||{};if(L){El(W)&&R[W]&&ha(!1,R[W]);var ce=this.legend;let pe=(ce.allItems[S].legendItem||{}).pageIx,ve=ce.currentPage;pe!==void 0&&pe+1!==ve&&ce.scroll(1+pe-ve);let $e=Z.label,Xe=L.a11yProxyElement&&L.a11yProxyElement.innerElement;return $e&&$e.element&&Xe&&this.setFocusToElement($e,Xe),ha(!0,L),!0}return!1}function k(S){let R=this.chart.options.accessibility,W=S.item;R.enabled&&W&&W.a11yProxyElement&&W.a11yProxyElement.innerElement.setAttribute("aria-pressed",S.visible?"true":"false")}C.compose=function(S,R){let W=S.prototype;W.highlightLegendItem||(W.highlightLegendItem=y,jc(R,"afterColorizeItem",k))}})(Cl||(Cl={}));let os=Cl;var lr=te(532),Qs=te.n(lr);let{isTouchDevice:Js}=Y(),{addEvent:Ar,merge:Bn,pick:wi}=Y(),qr=[];function Ao(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function bh(){var W;let C,y,k,S=this.legend,R=this.navigator;if(R){C=S&&S.options,y=R.xAxis,k=R.yAxis;let{scrollbarHeight:L,scrollButtonSize:Z}=R;this.inverted?(R.left=R.opposite?this.chartWidth-L-R.height:this.spacing[3]+L,R.top=this.plotTop+Z):(R.left=wi(y.left,this.plotLeft+Z),R.top=R.navigatorOptions.top||this.chartHeight-R.height-L-(((W=this.scrollbar)==null?void 0:W.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(C&&C.verticalAlign==="bottom"&&C.layout!=="proximate"&&C.enabled&&!C.floating?S.legendHeight+wi(C.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),y&&k&&(this.inverted?y.options.left=k.options.left=R.left:y.options.top=k.options.top=R.top,y.setAxisSize(),k.setAxisSize())}}function Mc(C){!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)&&(this.scroller=this.navigator=new J(this),wi(C.redraw,!0)&&this.redraw(C.animation))}function Sl(){let C=this.options;(C.navigator.enabled||C.scrollbar.enabled)&&(this.scroller=this.navigator=new J(this))}function da(){let C=this.options,y=C.navigator,k=C.rangeSelector;if((y&&y.enabled||k&&k.enabled)&&(!Js&&this.zooming.type==="x"||Js&&this.zooming.pinchType==="x"))return!1}function wh(C){let y=C.navigator;if(y&&C.xAxis[0]){let k=C.xAxis[0].getExtremes();y.render(k.min,k.max)}}function _h(C){let y=C.options.navigator||{},k=C.options.scrollbar||{};!this.navigator&&!this.scroller&&(y.enabled||k.enabled)&&(Bn(!0,this.options.navigator,y),Bn(!0,this.options.scrollbar,k),delete C.options.navigator,delete C.options.scrollbar)}let Zs={compose:function(C,y){if(Y().pushUnique(qr,C)){let k=C.prototype;J=y,k.callbacks.push(wh),Ar(C,"afterAddSeries",Ao),Ar(C,"afterSetChartSize",bh),Ar(C,"afterUpdate",Mc),Ar(C,"beforeRender",Sl),Ar(C,"beforeShowResetZoom",da),Ar(C,"update",_h)}}},{isTouchDevice:$r}=Y(),{addEvent:as,correctFloat:Al,defined:Cs,isNumber:Ss,pick:Rc}=Y();function Eh(){this.navigatorAxis||(this.navigatorAxis=new Nr(this))}function Nl(C){let y,k=this.chart,S=k.options,R=S.navigator,W=this.navigatorAxis,L=k.zooming.pinchType,Z=S.rangeSelector,ce=k.zooming.type;if(this.isXAxis&&(R!=null&&R.enabled||Z!=null&&Z.enabled)){if(ce==="y"&&C.trigger==="zoom")y=!1;else if((C.trigger==="zoom"&&ce==="xy"||$r&&L==="xy")&&this.options.range){let pe=W.previousZoom;Cs(C.min)?W.previousZoom=[this.min,this.max]:pe&&(C.min=pe[0],C.max=pe[1],W.previousZoom=void 0)}}y!==void 0&&C.preventDefault()}class Nr{static compose(y){y.keepProps.includes("navigatorAxis")||(y.keepProps.push("navigatorAxis"),as(y,"init",Eh),as(y,"setExtremes",Nl))}constructor(y){this.axis=y}destroy(){this.axis=void 0}toFixedRange(y,k,S,R){let W=this.axis,L=(W.pointRange||0)/2,Z=Rc(S,W.translate(y,!0,!W.horiz)),ce=Rc(R,W.translate(k,!0,!W.horiz));return Cs(S)||(Z=Al(Z+L)),Cs(R)||(ce=Al(ce-L)),Ss(Z)&&Ss(ce)||(Z=ce=void 0),{min:Z,max:ce}}}var pa=te(620),Dc=te.n(pa),Ki=te(512),No=te.n(Ki);let{parse:eo}=Dc(),{seriesTypes:As}=No(),Ns={height:40,margin:22,maskInside:!0,handles:{width:7,borderRadius:0,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:eo("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:As.areaspline===void 0?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",id:"navigator-x-axis",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,id:"navigator-y-axis",maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:void 0},tickLength:0,tickWidth:0}},{defined:Oc,isNumber:jl,pick:Zn}=Y(),kh={rect:function(C,y,k,S,R){return R!=null&&R.r?function(W,L,Z,ce,pe){let ve=(pe==null?void 0:pe.r)||0;return[["M",W+ve,L],["L",W+Z-ve,L],["A",ve,ve,0,0,1,W+Z,L+ve],["L",W+Z,L+ce-ve],["A",ve,ve,0,0,1,W+Z-ve,L+ce],["L",W+ve,L+ce],["A",ve,ve,0,0,1,W,L+ce-ve],["L",W,L+ve],["A",ve,ve,0,0,1,W+ve,L],["Z"]]}(C,y,k,S,R):[["M",C,y],["L",C+k,y],["L",C+k,y+S],["L",C,y+S],["Z"]]}},{relativeLength:Lc}=Y(),fa={"navigator-handle":function(C,y,k,S,R={}){let W=R.width?R.width/2:k,L=Lc(R.borderRadius||0,Math.min(2*W,S));return[["M",-1.5,(S=R.height||S)/2-3.5],["L",-1.5,S/2+4.5],["M",.5,S/2-3.5],["L",.5,S/2+4.5],...kh.rect(-W-1,.5,2*W+1,S,{r:L})]}};var js=te(608),jr=te.n(js);let{defined:ls}=Y(),{defaultOptions:Fc}=Y(),{composed:Hr}=Y(),{getRendererType:Bc}=jr(),{setFixedRange:Vc}={setFixedRange:function(C){let y=this.xAxis[0];ls(y.dataMax)&&ls(y.dataMin)&&C?this.fixedRange=Math.min(C,y.dataMax-y.dataMin):this.fixedRange=C}},{addEvent:Hn,extend:cr,pushUnique:ma}=Y();function ga(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}let Il={compose:function(C,y,k){Nr.compose(y),ma(Hr,"Navigator")&&(C.prototype.setFixedRange=Vc,cr(Bc().prototype.symbols,fa),cr(Fc,{navigator:Ns}),Hn(k,"afterUpdate",ga))}},{composed:cs}=Y(),{addEvent:ya,correctFloat:to,defined:ur,pick:Wr,pushUnique:Pl}=Y();(function(C){let y;function k(L){var pe,ve,$e;let Z=Wr((pe=L.options)==null?void 0:pe.min,L.min),ce=Wr((ve=L.options)==null?void 0:ve.max,L.max);return{axisMin:Z,axisMax:ce,scrollMin:ur(L.dataMin)?Math.min(Z,L.min??1/0,L.dataMin,L.threshold??1/0):Z,scrollMax:(($e=L.treeGrid)==null?void 0:$e.adjustedMax)??(ur(L.dataMax)?Math.max(ce,L.max??-1/0,L.dataMax,L.threshold??-1/0):ce)}}function S(){let L=this.scrollbar,Z=L&&!L.options.opposite,ce=this.horiz?2:Z?3:1;L&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[ce]+=L.size+(L.options.margin||0))}function R(){var Z,ce;let L=this;(ce=(Z=L.options)==null?void 0:Z.scrollbar)!=null&&ce.enabled&&(L.options.scrollbar.vertical=!L.horiz,L.options.startOnTick=L.options.endOnTick=!1,L.scrollbar=new y(L.chart.renderer,L.options.scrollbar,L.chart),ya(L.scrollbar,"changed",function(pe){let ve,$e,{axisMin:Xe,axisMax:et,scrollMin:Qe,scrollMax:bt}=k(L),Gt=L.toPixels(Qe),Kt=L.toPixels(bt)-Gt;if(ur(Xe)&&ur(et))if(L.horiz&&!L.reversed||!L.horiz&&L.reversed?(ve=Math.min(bt,L.toValue(Gt+Kt*this.to)),$e=Math.max(Qe,L.toValue(Gt+Kt*this.from))):(ve=Math.min(bt,L.toValue(Gt+Kt*(1-this.from))),$e=Math.max(Qe,L.toValue(Gt+Kt*(1-this.to)))),this.shouldUpdateExtremes(pe.DOMType)){let an=pe.DOMType!=="mousemove"&&pe.DOMType!=="touchmove"&&void 0;L.setExtremes(to($e),to(ve),!0,an,pe)}else this.setRange(this.from,this.to)}))}function W(){let L,Z,ce,{scrollMin:pe,scrollMax:ve}=k(this),$e=this.scrollbar,Xe=(this.axisTitleMargin||0)+(this.titleOffset||0),et=this.chart.scrollbarsOffsets,Qe=this.options.margin||0;if($e&&et){if(this.horiz)this.opposite||(et[1]+=Xe),$e.position(this.left,this.top+this.height+2+et[1]-(this.opposite?Qe:0),this.width,this.height),this.opposite||(et[1]+=Qe),L=1;else{let bt;this.opposite&&(et[0]+=Xe),bt=$e.options.opposite?this.left+this.width+2+et[0]-(this.opposite?0:Qe):this.opposite?0:Qe,$e.position(bt,this.top,this.width,this.height),this.opposite&&(et[0]+=Qe),L=0}if(et[L]+=$e.size+($e.options.margin||0),isNaN(pe)||isNaN(ve)||!ur(this.min)||!ur(this.max)||ur(this.dataMin)&&this.dataMin===this.dataMax)$e.setRange(0,1);else if(this.min===this.max){let bt=this.pointRange/(this.dataMax+1);Z=bt*this.min,ce=bt*(this.max+1),$e.setRange(Z,ce)}else Z=(this.toPixels(this.min)-this.toPixels(pe))/(this.toPixels(ve)-this.toPixels(pe)),ce=(this.toPixels(this.max)-this.toPixels(pe))/(this.toPixels(ve)-this.toPixels(pe)),this.horiz&&!this.reversed||!this.horiz&&this.reversed?$e.setRange(Z,ce):$e.setRange(1-ce,1-Z)}}C.compose=function(L,Z){Pl(cs,"Axis.Scrollbar")&&(y=Z,ya(L,"afterGetOffset",S),ya(L,"afterInit",R),ya(L,"afterRender",W))}})(oe||(oe={}));let Ml=oe,Gr={height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1},{defaultOptions:va}=Y(),{composed:jo}=Y(),{addEvent:xa,correctFloat:Kr,crisp:hr,defined:Rl,destroyObjectProperties:Dl,extend:ba,fireEvent:no,merge:Io,pick:_i,pushUnique:Uc,removeEvent:zc}=Y();class Yi{static compose(y){Ml.compose(y,Yi),Uc(jo,"Scrollbar")&&ba(va,{scrollbar:Gr})}static swapXY(y,k){return k&&y.forEach(S=>{let R,W=S.length;for(let L=0;L<W;L+=2)typeof(R=S[L+1])=="number"&&(S[L+1]=S[L+2],S[L+2]=R)}),y}constructor(y,k,S){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.scrollbarButtons=[],this.scrollbarLeft=0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.trackBorderWidth=1,this.x=0,this.y=0,this.init(y,k,S)}addEvents(){let y=this.options.inverted?[1,0]:[0,1],k=this.scrollbarButtons,S=this.scrollbarGroup.element,R=this.track.element,W=this.mouseDownHandler.bind(this),L=this.mouseMoveHandler.bind(this),Z=this.mouseUpHandler.bind(this),ce=[[k[y[0]].element,"click",this.buttonToMinClick.bind(this)],[k[y[1]].element,"click",this.buttonToMaxClick.bind(this)],[R,"click",this.trackClick.bind(this)],[S,"mousedown",W],[S.ownerDocument,"mousemove",L],[S.ownerDocument,"mouseup",Z],[S,"touchstart",W],[S.ownerDocument,"touchmove",L],[S.ownerDocument,"touchend",Z]];ce.forEach(function(pe){xa.apply(null,pe)}),this._events=ce}buttonToMaxClick(y){let k=(this.to-this.from)*_i(this.options.step,.2);this.updatePosition(this.from+k,this.to+k),no(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:y})}buttonToMinClick(y){let k=Kr(this.to-this.from)*_i(this.options.step,.2);this.updatePosition(Kr(this.from-k),Kr(this.to-k)),no(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:y})}cursorToScrollbarPosition(y){let k=this.options,S=k.minWidth>this.calculatedWidth?k.minWidth:0;return{chartX:(y.chartX-this.x-this.xOffset)/(this.barWidth-S),chartY:(y.chartY-this.y-this.yOffset)/(this.barWidth-S)}}destroy(){let y=this,k=y.chart.scroller;y.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(S){y[S]&&y[S].destroy&&(y[S]=y[S].destroy())}),k&&y===k.scrollbar&&(k.scrollbar=null,Dl(k.scrollbarButtons))}drawScrollbarButton(y){let k=this.renderer,S=this.scrollbarButtons,R=this.options,W=this.size,L=k.g().add(this.group);if(S.push(L),R.buttonsEnabled){let Z=k.rect().addClass("highcharts-scrollbar-button").add(L);this.chart.styledMode||Z.attr({stroke:R.buttonBorderColor,"stroke-width":R.buttonBorderWidth,fill:R.buttonBackgroundColor}),Z.attr(Z.crisp({x:-.5,y:-.5,width:W,height:W,r:R.buttonBorderRadius},Z.strokeWidth()));let ce=k.path(Yi.swapXY([["M",W/2+(y?-1:1),W/2-3],["L",W/2+(y?-1:1),W/2+3],["L",W/2+(y?2:-2),W/2]],R.vertical)).addClass("highcharts-scrollbar-arrow").add(S[y]);this.chart.styledMode||ce.attr({fill:R.buttonArrowColor})}}init(y,k,S){this.scrollbarButtons=[],this.renderer=y,this.userOptions=k,this.options=Io(Gr,va.scrollbar,k),this.options.margin=_i(this.options.margin,10),this.chart=S,this.size=_i(this.options.size,this.options.height),k.enabled&&(this.render(),this.addEvents())}mouseDownHandler(y){var R;let k=((R=this.chart.pointer)==null?void 0:R.normalize(y))||y,S=this.cursorToScrollbarPosition(k);this.chartX=S.chartX,this.chartY=S.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(y){var L;let k,S=((L=this.chart.pointer)==null?void 0:L.normalize(y))||y,R=this.options.vertical?"chartY":"chartX",W=this.initPositions||[];this.grabbedCenter&&(!y.touches||y.touches[0][R]!==0)&&(k=this.cursorToScrollbarPosition(S)[R]-this[R],this.hasDragged=!0,this.updatePosition(W[0]+k,W[1]+k),this.hasDragged&&no(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:y.type,DOMEvent:y}))}mouseUpHandler(y){this.hasDragged&&no(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:y.type,DOMEvent:y}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(y,k,S,R){let{buttonsEnabled:W,margin:L=0,vertical:Z}=this.options,ce=this.rendered?"animate":"attr",pe=R,ve=0;this.group.show(),this.x=y,this.y=k+this.trackBorderWidth,this.width=S,this.height=R,this.xOffset=pe,this.yOffset=ve,Z?(this.width=this.yOffset=S=ve=this.size,this.xOffset=pe=0,this.yOffset=ve=W?this.size:0,this.barWidth=R-(W?2*S:0),this.x=y+=L):(this.height=R=this.size,this.xOffset=pe=W?this.size:0,this.barWidth=S-(W?2*R:0),this.y=this.y+L),this.group[ce]({translateX:y,translateY:this.y}),this.track[ce]({width:S,height:R}),this.scrollbarButtons[1][ce]({translateX:Z?0:S-pe,translateY:Z?R-ve:0})}removeEvents(){this._events.forEach(function(y){zc.apply(null,y)}),this._events.length=0}render(){let y=this.renderer,k=this.options,S=this.size,R=this.chart.styledMode,W=y.g("scrollbar").attr({zIndex:k.zIndex}).hide().add();this.group=W,this.track=y.rect().addClass("highcharts-scrollbar-track").attr({r:k.trackBorderRadius||0,height:S,width:S}).add(W),R||this.track.attr({fill:k.trackBackgroundColor,stroke:k.trackBorderColor,"stroke-width":k.trackBorderWidth});let L=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-hr(0,L),y:-hr(0,L)}),this.scrollbarGroup=y.g().add(W),this.scrollbar=y.rect().addClass("highcharts-scrollbar-thumb").attr({height:S-L,width:S-L,r:k.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=y.path(Yi.swapXY([["M",-3,S/4],["L",-3,2*S/3],["M",0,S/4],["L",0,2*S/3],["M",3,S/4],["L",3,2*S/3]],k.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),R||(this.scrollbar.attr({fill:k.barBackgroundColor,stroke:k.barBorderColor,"stroke-width":k.barBorderWidth}),this.scrollbarRifles.attr({stroke:k.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-hr(0,this.scrollbarStrokeWidth),-hr(0,this.scrollbarStrokeWidth)),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(y,k){let S,R,W=this.options,L=W.vertical,Z=W.minWidth,ce=this.barWidth,pe=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(!Rl(ce))return;let ve=ce*Math.min(k,1);S=Math.ceil(ce*(y=Math.max(y,0))),this.calculatedWidth=R=Kr(ve-S),R<Z&&(S=(ce-Z+R)*y,R=Z);let $e=Math.floor(S+this.xOffset+this.yOffset),Xe=R/2-.5;this.from=y,this.to=k,L?(this.scrollbarGroup[pe]({translateY:$e}),this.scrollbar[pe]({height:R}),this.scrollbarRifles[pe]({translateY:Xe}),this.scrollbarTop=$e,this.scrollbarLeft=0):(this.scrollbarGroup[pe]({translateX:$e}),this.scrollbar[pe]({width:R}),this.scrollbarRifles[pe]({translateX:Xe}),this.scrollbarLeft=$e,this.scrollbarTop=0),R<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(),W.showFull===!1&&(y<=0&&k>=1?this.group.hide():this.group.show()),this.rendered=!0}shouldUpdateExtremes(y){return _i(this.options.liveRedraw,Y().svg&&!Y().isTouchDevice&&!this.chart.boosted)||y==="mouseup"||y==="touchend"||!Rl(y)}trackClick(y){var L;let k=((L=this.chart.pointer)==null?void 0:L.normalize(y))||y,S=this.to-this.from,R=this.y+this.scrollbarTop,W=this.x+this.scrollbarLeft;this.options.vertical&&k.chartY>R||!this.options.vertical&&k.chartX>W?this.updatePosition(this.from+S,this.to+S):this.updatePosition(this.from-S,this.to-S),no(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:y})}update(y){this.destroy(),this.init(this.chart.renderer,Io(!0,this.options,y),this.chart)}updatePosition(y,k){k>1&&(y=Kr(1-Kr(k-y)),k=1),y<0&&(k=Kr(k-y),y=0),this.from=y,this.to=k}}Yi.defaultOptions=Gr;var g=te(540),N=te.n(g);let{defaultOptions:B}=Y(),{isTouchDevice:re}=Y(),{prototype:{symbols:Oe}}=N(),{addEvent:We,clamp:It,correctFloat:jn,defined:Yn,destroyObjectProperties:Tn,erase:Wn,extend:vi,find:Yr,fireEvent:Pi,isArray:Po,isNumber:Xi,merge:Is,pick:Ei,removeEvent:qc,splat:io}=Y();function $c(C,...y){let k=[].filter.call(y,Xi);if(k.length)return Math[C].apply(0,k)}class us{static compose(y,k,S){Zs.compose(y,us),Il.compose(y,k,S)}constructor(y){this.isDirty=!1,this.scrollbarHeight=0,this.init(y)}drawHandle(y,k,S,R){let W=this.navigatorOptions.handles.height;this.handles[k][R](S?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(y,10)+.5-W)}:{translateX:Math.round(this.left+parseInt(y,10)),translateY:Math.round(this.top+this.height/2-W/2-1)})}drawOutline(y,k,S,R){let W=this.navigatorOptions.maskInside,L=this.outline.strokeWidth(),Z=L/2,ce=L%2/2,pe=this.scrollButtonSize,ve=this.size,$e=this.top,Xe=this.height,et=$e-Z,Qe=$e+Xe,bt=this.left,Gt,Kt;S?(Gt=$e+k+ce,k=$e+y+ce,Kt=[["M",bt+Xe,$e-pe-ce],["L",bt+Xe,Gt],["L",bt,Gt],["M",bt,k],["L",bt+Xe,k],["L",bt+Xe,$e+ve+pe]],W&&Kt.push(["M",bt+Xe,Gt-Z],["L",bt+Xe,k+Z])):(bt-=pe,y+=bt+pe-ce,k+=bt+pe-ce,Kt=[["M",bt,et],["L",y,et],["L",y,Qe],["M",k,Qe],["L",k,et],["L",bt+ve+2*pe,et]],W&&Kt.push(["M",y-Z,et],["L",k+Z,et])),this.outline[R]({d:Kt})}drawMasks(y,k,S,R){let W,L,Z,ce,pe=this.left,ve=this.top,$e=this.height;S?(Z=[pe,pe,pe],ce=[ve,ve+y,ve+k],L=[$e,$e,$e],W=[y,k-y,this.size-k]):(Z=[pe,pe+y,pe+k],ce=[ve,ve,ve],L=[y,k-y,this.size-k],W=[$e,$e,$e]),this.shades.forEach((Xe,et)=>{Xe[R]({x:Z[et],y:ce[et],width:L[et],height:W[et]})})}renderElements(){var pe;let y=this,k=y.navigatorOptions,S=k.maskInside,R=y.chart,W=R.inverted,L=R.renderer,Z={cursor:W?"ns-resize":"ew-resize"},ce=y.navigatorGroup??(y.navigatorGroup=L.g("navigator").attr({zIndex:8,visibility:"hidden"}).add());if([!S,S,!S].forEach((ve,$e)=>{let Xe=y.shades[$e]??(y.shades[$e]=L.rect().addClass("highcharts-navigator-mask"+($e===1?"-inside":"-outside")).add(ce));R.styledMode||(Xe.attr({fill:ve?k.maskFill:"rgba(0,0,0,0)"}),$e===1&&Xe.css(Z))}),y.outline||(y.outline=L.path().addClass("highcharts-navigator-outline").add(ce)),R.styledMode||y.outline.attr({"stroke-width":k.outlineWidth,stroke:k.outlineColor}),(pe=k.handles)==null?void 0:pe.enabled){let ve=k.handles,{height:$e,width:Xe}=ve;[0,1].forEach(et=>{var bt;let Qe=ve.symbols[et];if(y.handles[et]&&y.handles[et].symbolUrl===Qe){if(!y.handles[et].isImg&&y.handles[et].symbolName!==Qe){let Gt=Oe[Qe].call(Oe,-Xe/2-1,0,Xe,$e);y.handles[et].attr({d:Gt}),y.handles[et].symbolName=Qe}}else(bt=y.handles[et])==null||bt.destroy(),y.handles[et]=L.symbol(Qe,-Xe/2-1,0,Xe,$e,ve),y.handles[et].attr({zIndex:7-et}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][et]).add(ce),y.addMouseEvents();R.inverted&&y.handles[et].attr({rotation:90,rotationOriginX:Math.floor(-Xe/2),rotationOriginY:($e+Xe)/2}),R.styledMode||y.handles[et].attr({fill:ve.backgroundColor,stroke:ve.borderColor,"stroke-width":ve.lineWidth,width:ve.width,height:ve.height,x:-Xe/2-1,y:0}).css(Z)})}}update(y,k=!1){var W;let S=this.chart,R=S.options.chart.inverted!==((W=S.scrollbar)==null?void 0:W.options.vertical);if(Is(!0,S.options.navigator,y),this.navigatorOptions=S.options.navigator||{},this.setOpposite(),Yn(y.enabled)||R)return this.destroy(),this.navigatorEnabled=y.enabled||this.navigatorEnabled,this.init(S);if(this.navigatorEnabled&&(this.isDirty=!0,y.adaptToUpdatedData===!1&&this.baseSeries.forEach(L=>{qc(L,"updatedData",this.updatedDataHandler)},this),y.adaptToUpdatedData&&this.baseSeries.forEach(L=>{L.eventsToUnbind.push(We(L,"updatedData",this.updatedDataHandler))},this),(y.series||y.baseSeries)&&this.setBaseSeries(void 0,!1),y.height||y.xAxis||y.yAxis)){this.height=y.height??this.height;let L=this.getXAxisOffsets();this.xAxis.update({...y.xAxis,offsets:L,[S.inverted?"width":"height"]:this.height,[S.inverted?"height":"width"]:void 0},!1),this.yAxis.update({...y.yAxis,[S.inverted?"width":"height"]:this.height},!1)}k&&S.redraw()}render(y,k,S,R){let W=this.chart,L=this.xAxis,Z=L.pointRange||0,ce=L.navigatorAxis.fake?W.xAxis[0]:L,pe=this.navigatorEnabled,ve=this.rendered,$e=W.inverted,Xe=W.xAxis[0].minRange,et=W.xAxis[0].options.maxRange,Qe=this.scrollButtonSize,bt,Gt,Kt,an=this.scrollbarHeight,xn,nn;if(this.hasDragged&&!Yn(S))return;if(this.isDirty&&this.renderElements(),y=jn(y-Z/2),k=jn(k+Z/2),!Xi(y)||!Xi(k))if(ve)S=0,R=Ei(L.width,ce.width);else return;this.left=Ei(L.left,W.plotLeft+Qe+($e?W.plotWidth:0));let Zt=this.size=xn=Ei(L.len,($e?W.plotHeight:W.plotWidth)-2*Qe);bt=$e?an:xn+2*Qe,S=Ei(S,L.toPixels(y,!0)),R=Ei(R,L.toPixels(k,!0)),Xi(S)&&Math.abs(S)!==1/0||(S=0,R=bt);let yn=L.toValue(S,!0),wn=L.toValue(R,!0),li=Math.abs(jn(wn-yn));li<Xe?this.grabbedLeft?S=L.toPixels(wn-Xe-Z,!0):this.grabbedRight&&(R=L.toPixels(yn+Xe+Z,!0)):Yn(et)&&jn(li-Z)>et&&(this.grabbedLeft?S=L.toPixels(wn-et-Z,!0):this.grabbedRight&&(R=L.toPixels(yn+et+Z,!0))),this.zoomedMax=It(Math.max(S,R),0,Zt),this.zoomedMin=It(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(S,R),0,Zt),this.range=this.zoomedMax-this.zoomedMin,Zt=Math.round(this.zoomedMax);let Dn=Math.round(this.zoomedMin);pe&&(this.navigatorGroup.attr({visibility:"inherit"}),nn=ve&&!this.hasDragged?"animate":"attr",this.drawMasks(Dn,Zt,$e,nn),this.drawOutline(Dn,Zt,$e,nn),this.navigatorOptions.handles.enabled&&(this.drawHandle(Dn,0,$e,nn),this.drawHandle(Zt,1,$e,nn))),this.scrollbar&&($e?(Kt=this.top-Qe,Gt=this.left-an+(pe||!ce.opposite?0:(ce.titleOffset||0)+ce.axisTitleMargin),an=xn+2*Qe):(Kt=this.top+(pe?this.height:-an),Gt=this.left-Qe),this.scrollbar.position(Gt,Kt,bt,an),this.scrollbar.setRange(this.zoomedMin/(xn||1),this.zoomedMax/(xn||1))),this.rendered=!0,this.isDirty=!1,Pi(this,"afterRender")}addMouseEvents(){let y=this,k=y.chart,S=k.container,R=[],W,L;y.mouseMoveHandler=W=function(Z){y.onMouseMove(Z)},y.mouseUpHandler=L=function(Z){y.onMouseUp(Z)},(R=y.getPartsEvents("mousedown")).push(We(k.renderTo,"mousemove",W),We(S.ownerDocument,"mouseup",L),We(k.renderTo,"touchmove",W),We(S.ownerDocument,"touchend",L)),R.concat(y.getPartsEvents("touchstart")),y.eventsToUnbind=R,y.series&&y.series[0]&&R.push(We(y.series[0].xAxis,"foundExtremes",function(){k.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(y){let k=this,S=[];return["shades","handles"].forEach(function(R){k[R].forEach(function(W,L){S.push(We(W.element,y,function(Z){k[R+"Mousedown"](Z,L)}))})}),S}shadesMousedown(y,k){var Qe;y=((Qe=this.chart.pointer)==null?void 0:Qe.normalize(y))||y;let S=this.chart,R=this.xAxis,W=this.zoomedMin,L=this.size,Z=this.range,ce=this.left,pe=y.chartX,ve,$e,Xe,et;S.inverted&&(pe=y.chartY,ce=this.top),k===1?(this.grabbedCenter=pe,this.fixedWidth=Z,this.dragOffset=pe-W):(et=pe-ce-Z/2,k===0?et=Math.max(0,et):k===2&&et+Z>=L&&(et=L-Z,this.reversedExtremes?(et-=Z,$e=this.getUnionExtremes().dataMin):ve=this.getUnionExtremes().dataMax),et!==W&&(this.fixedWidth=Z,Yn((Xe=R.navigatorAxis.toFixedRange(et,et+Z,$e,ve)).min)&&Pi(this,"setRange",{min:Math.min(Xe.min,Xe.max),max:Math.max(Xe.min,Xe.max),redraw:!0,eventArguments:{trigger:"navigator"}})))}handlesMousedown(y,k){var L;y=((L=this.chart.pointer)==null?void 0:L.normalize(y))||y;let S=this.chart,R=S.xAxis[0],W=this.reversedExtremes;k===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=W?R.min:R.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=W?R.max:R.min),S.setFixedRange(void 0)}onMouseMove(y){var ve;let k=this,S=k.chart,R=k.navigatorSize,W=k.range,L=k.dragOffset,Z=S.inverted,ce=k.left,pe;(!y.touches||y.touches[0].pageX!==0)&&(pe=(y=((ve=S.pointer)==null?void 0:ve.normalize(y))||y).chartX,Z&&(ce=k.top,pe=y.chartY),k.grabbedLeft?(k.hasDragged=!0,k.render(0,0,pe-ce,k.otherHandlePos)):k.grabbedRight?(k.hasDragged=!0,k.render(0,0,k.otherHandlePos,pe-ce)):k.grabbedCenter&&(k.hasDragged=!0,pe<L?pe=L:pe>R+L-W&&(pe=R+L-W),k.render(0,0,pe-L,pe-L+W)),k.hasDragged&&k.scrollbar&&Ei(k.scrollbar.options.liveRedraw,!re&&!this.chart.boosted)&&(y.DOMType=y.type,setTimeout(function(){k.onMouseUp(y)},0)))}onMouseUp(y){let k,S,R,W,L,Z,ce=this.chart,pe=this.xAxis,ve=this.scrollbar,$e=y.DOMEvent||y,Xe=ce.inverted,et=this.rendered&&!this.hasDragged?"animate":"attr";(this.hasDragged&&(!ve||!ve.hasDragged)||y.trigger==="scrollbar")&&(R=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?W=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(L=this.fixedExtreme),this.zoomedMax===this.size&&(L=this.reversedExtremes?R.dataMin:R.dataMax),this.zoomedMin===0&&(W=this.reversedExtremes?R.dataMax:R.dataMin),Yn((Z=pe.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,W,L)).min)&&Pi(this,"setRange",{min:Math.min(Z.min,Z.max),max:Math.max(Z.min,Z.max),redraw:!0,animation:!this.hasDragged&&null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:$e}})),y.DOMType!=="mousemove"&&y.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&Xi(this.zoomedMin)&&Xi(this.zoomedMax)&&(S=Math.round(this.zoomedMin),k=Math.round(this.zoomedMax),this.shades&&this.drawMasks(S,k,Xe,et),this.outline&&this.drawOutline(S,k,Xe,et),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(S,0,Xe,et),this.drawHandle(k,1,Xe,et)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(y){y()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){let y=this.baseSeries||[];this.navigatorEnabled&&y[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&y.forEach(function(k){qc(k,"updatedData",this.updatedDataHandler)},this),y[0].xAxis&&qc(y[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}getXAxisOffsets(){return this.chart.inverted?[this.scrollButtonSize,0,-this.scrollButtonSize,0]:[0,-this.scrollButtonSize,0,this.scrollButtonSize]}init(y){var bt,Gt;let k=y.options,S=k.navigator||{},R=S.enabled,W=k.scrollbar||{},L=W.enabled,Z=R&&S.height||0,ce=L&&W.height||0,pe=W.buttonsEnabled&&ce||0;this.handles=[],this.shades=[],this.chart=y,this.setBaseSeries(),this.height=Z,this.scrollbarHeight=ce,this.scrollButtonSize=pe,this.scrollbarEnabled=L,this.navigatorEnabled=R,this.navigatorOptions=S,this.scrollbarOptions=W,this.setOpposite();let ve=this,$e=ve.baseSeries,Xe=y.xAxis.length,et=y.yAxis.length,Qe=$e&&$e[0]&&$e[0].xAxis||y.xAxis[0]||{options:{}};if(y.isDirtyBox=!0,ve.navigatorEnabled){let Kt=this.getXAxisOffsets();ve.xAxis=new(Qs())(y,Is({breaks:Qe.options.breaks,ordinal:Qe.options.ordinal,overscroll:Qe.options.overscroll},S.xAxis,{type:"datetime",yAxis:(bt=S.yAxis)==null?void 0:bt.id,index:Xe,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:Qe.options.ordinal?0:Qe.options.minPadding,maxPadding:Qe.options.ordinal?0:Qe.options.maxPadding,zoomEnabled:!1},y.inverted?{offsets:Kt,width:Z}:{offsets:Kt,height:Z}),"xAxis"),ve.yAxis=new(Qs())(y,Is(S.yAxis,{alignTicks:!1,offset:0,index:et,isInternal:!0,reversed:Ei(S.yAxis&&S.yAxis.reversed,y.yAxis[0]&&y.yAxis[0].reversed,!1),zoomEnabled:!1},y.inverted?{width:Z}:{height:Z}),"yAxis"),$e||S.series.data?ve.updateNavigatorSeries(!1):y.series.length===0&&(ve.unbindRedraw=We(y,"beforeRedraw",function(){y.series.length>0&&!ve.series&&(ve.setBaseSeries(),ve.unbindRedraw())})),ve.reversedExtremes=y.inverted&&!ve.xAxis.reversed||!y.inverted&&ve.xAxis.reversed,ve.renderElements(),ve.addMouseEvents()}else ve.xAxis={chart:y,navigatorAxis:{fake:!0},translate:function(Kt,an){let xn=y.xAxis[0],nn=xn.getExtremes(),Zt=xn.len-2*pe,yn=$c("min",xn.options.min,nn.dataMin),wn=$c("max",xn.options.max,nn.dataMax)-yn;return an?Kt*wn/Zt+yn:Zt*(Kt-yn)/wn},toPixels:function(Kt){return this.translate(Kt)},toValue:function(Kt){return this.translate(Kt,!0)}},ve.xAxis.navigatorAxis.axis=ve.xAxis,ve.xAxis.navigatorAxis.toFixedRange=Nr.prototype.toFixedRange.bind(ve.xAxis.navigatorAxis);if((Gt=y.options.scrollbar)!=null&&Gt.enabled){let Kt=Is(y.options.scrollbar,{vertical:y.inverted});Xi(Kt.margin)||(Kt.margin=y.inverted?-3:3),y.scrollbar=ve.scrollbar=new Yi(y.renderer,Kt,y),We(ve.scrollbar,"changed",function(an){let xn=ve.size,nn=xn*this.to,Zt=xn*this.from;ve.hasDragged=ve.scrollbar.hasDragged,ve.render(0,0,Zt,nn),this.shouldUpdateExtremes(an.DOMType)&&setTimeout(function(){ve.onMouseUp(an)})})}ve.addBaseSeriesEvents(),ve.addChartEvents()}setOpposite(){let y=this.navigatorOptions,k=this.navigatorEnabled,S=this.chart;this.opposite=Ei(y.opposite,!!(!k&&S.inverted))}getUnionExtremes(y){let k,S=this.chart.xAxis[0],R=this.chart.time,W=this.xAxis,L=W.options,Z=S.options;return y&&S.dataMin===null||(k={dataMin:Ei(R.parse(L==null?void 0:L.min),$c("min",R.parse(Z.min),S.dataMin,W.dataMin,W.min)),dataMax:Ei(R.parse(L==null?void 0:L.max),$c("max",R.parse(Z.max),S.dataMax,W.dataMax,W.max))}),k}setBaseSeries(y,k){let S=this.chart,R=this.baseSeries=[];y=y||S.options&&S.options.navigator.baseSeries||(S.series.length?Yr(S.series,W=>!W.options.isInternal).index:0),(S.series||[]).forEach((W,L)=>{!W.options.isInternal&&(W.options.showInNavigator||(L===y||W.options.id===y)&&W.options.showInNavigator!==!1)&&R.push(W)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,k)}updateNavigatorSeries(y,k){var Xe,et;let S=this,R=S.chart,W=S.baseSeries,L={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:(Xe=this.navigatorOptions.xAxis)==null?void 0:Xe.id,yAxis:(et=this.navigatorOptions.yAxis)==null?void 0:et.id,showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},Z=S.series=(S.series||[]).filter(Qe=>{let bt=Qe.baseSeries;return!(0>W.indexOf(bt))||(bt&&(qc(bt,"updatedData",S.updatedDataHandler),delete bt.navigatorSeries),Qe.chart&&Qe.destroy(),!1)}),ce,pe,ve=S.navigatorOptions.series,$e;W&&W.length&&W.forEach(Qe=>{var an;let bt=Qe.navigatorSeries,Gt=vi({color:Qe.color,visible:Qe.visible},Po(ve)?B.navigator.series:ve);if(bt&&S.navigatorOptions.adaptToUpdatedData===!1)return;L.name="Navigator "+W.length,$e=(ce=Qe.options||{}).navigatorOptions||{},Gt.dataLabels=io(Gt.dataLabels),(pe=Is(ce,L,Gt,$e)).pointRange=Ei(Gt.pointRange,$e.pointRange,B.plotOptions[pe.type||"line"].pointRange);let Kt=$e.data||Gt.data;S.hasNavigatorData=S.hasNavigatorData||!!Kt,pe.data=Kt||((an=ce.data)==null?void 0:an.slice(0)),bt&&bt.options?bt.update(pe,k):(Qe.navigatorSeries=R.initSeries(pe),R.setSortedData(),Qe.navigatorSeries.baseSeries=Qe,Z.push(Qe.navigatorSeries))}),(ve.data&&!(W&&W.length)||Po(ve))&&(S.hasNavigatorData=!1,(ve=io(ve)).forEach((Qe,bt)=>{L.name="Navigator "+(Z.length+1),(pe=Is(B.navigator.series,{color:R.series[bt]&&!R.series[bt].options.isInternal&&R.series[bt].color||R.options.colors[bt]||R.options.colors[0]},L,Qe)).data=Qe.data,pe.data&&(S.hasNavigatorData=!0,Z.push(R.initSeries(pe)))})),y&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){let y=this,k=y.baseSeries||[];k[0]&&k[0].xAxis&&k[0].eventsToUnbind.push(We(k[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),k.forEach(S=>{S.eventsToUnbind.push(We(S,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),S.eventsToUnbind.push(We(S,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&S.xAxis&&S.eventsToUnbind.push(We(S,"updatedData",this.updatedDataHandler)),S.eventsToUnbind.push(We(S,"remove",function(){k&&Wn(k,S),this.navigatorSeries&&y.series&&(Wn(y.series,this.navigatorSeries),Yn(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(y){return this.baseSeries.reduce(function(k,S){return Math.min(k,S.getColumn("x")[0]??k)},y)}modifyNavigatorAxisExtremes(){let y=this.xAxis;if(y.getExtremes!==void 0){let k=this.getUnionExtremes(!0);k&&(k.dataMin!==y.min||k.dataMax!==y.max)&&(y.min=k.dataMin,y.max=k.dataMax)}}modifyBaseAxisExtremes(){var bt;let y,k,S=this.chart.navigator,R=this.getExtremes(),W=R.min,L=R.max,Z=R.dataMin,ce=R.dataMax,pe=L-W,ve=S.stickToMin,$e=S.stickToMax,Xe=Ei((bt=this.ordinal)==null?void 0:bt.convertOverscroll(this.options.overscroll),0),et=S.series&&S.series[0],Qe=!!this.setExtremes;!(this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton")&&(ve&&(y=(k=Z)+pe),$e&&(y=ce+Xe,ve||(k=Math.max(Z,y-pe,S.getBaseSeriesMin(et&&et.xData?et.xData[0]:-Number.MAX_VALUE)))),Qe&&(ve||$e)&&Xi(k)&&(this.min=this.userMin=k,this.max=this.userMax=y)),S.stickToMin=S.stickToMax=null}updatedDataHandler(){let y=this.chart.navigator,k=this.navigatorSeries,S=y.reversedExtremes?Math.round(y.zoomedMin)===0:Math.round(y.zoomedMax)>=Math.round(y.size);y.stickToMax=Ei(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,S),y.stickToMin=y.shouldStickToMin(this,y),k&&!y.hasNavigatorData&&(k.options.pointStart=this.getColumn("x")[0],k.setData(this.options.data,!1,null,!1))}shouldStickToMin(y,k){let S=k.getBaseSeriesMin(y.getColumn("x")[0]),R=y.xAxis,W=R.max,L=R.min,Z=R.options.range;return!!(Xi(W)&&Xi(L))&&(Z&&W-S>0?W-S<Z:L<=S)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(We(this.chart,"redraw",function(){let y=this.navigator,k=y&&(y.baseSeries&&y.baseSeries[0]&&y.baseSeries[0].xAxis||this.xAxis[0]);k&&y.render(k.min,k.max)}),We(this.chart,"getMargins",function(){var S;let y=this.navigator,k=y.opposite?"plotTop":"marginBottom";this.inverted&&(k=y.opposite?"marginRight":"plotLeft"),this[k]=(this[k]||0)+(y.navigatorEnabled||!this.inverted?y.height+(((S=this.scrollbar)==null?void 0:S.options.margin)||0)+y.scrollbarHeight:0)+(y.navigatorOptions.margin||0)}),We(us,"setRange",function(y){this.chart.xAxis[0].setExtremes(y.min,y.max,y.redraw,y.animation,y.eventArguments)}))}destroy(){this.removeEvents(),this.xAxis&&(Wn(this.chart.xAxis,this.xAxis),Wn(this.chart.axes,this.xAxis)),this.yAxis&&(Wn(this.chart.yAxis,this.yAxis),Wn(this.chart.axes,this.yAxis)),(this.series||[]).forEach(y=>{y.destroy&&y.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(y=>{this[y]&&this[y].destroy&&this[y].destroy(),this[y]=null}),[this.handles].forEach(y=>{Tn(y)}),this.baseSeries.forEach(y=>{y.navigatorSeries=void 0}),this.navigatorEnabled=!1}}let{animObject:Ol}=Y(),{format:Th}=Ge(),{clamp:Ch,pick:Sh,syncTimeout:wy}=Y(),{getFakeMouseEvent:_y}=dt,{getAxisRangeDescription:Ey,fireEventOnWrappedOrUnwrappedElement:Hc}=be,ky=class extends yt{init(){let C=this.chart,y=this;this.announcer=new at(C,"polite"),this.addEvent(us,"afterRender",function(){this.chart===y.chart&&this.chart.renderer&&wy(()=>{y.proxyProvider.updateGroupProxyElementPositions("navigator"),y.updateHandleValues()},Ol(Sh(this.chart.renderer.globalAnimation,!0)).duration)})}onChartUpdate(){var S,R,W;let C=this.chart,y=C.options,k=y.navigator;if(k.enabled&&((S=k.accessibility)!=null&&S.enabled)){let L=y.accessibility.landmarkVerbosity,Z=(R=y.lang.accessibility)==null?void 0:R.navigator.groupLabel;this.proxyProvider.removeGroup("navigator"),this.proxyProvider.addGroup("navigator","div",{role:L==="all"?"region":"group","aria-label":Th(Z,{chart:C},C)});let ce=(W=y.lang.accessibility)==null?void 0:W.navigator.handleLabel;[0,1].forEach(pe=>{let ve=this.getHandleByIx(pe);if(ve){let $e=this.proxyProvider.addProxyElement("navigator",{click:ve},"input",{type:"range","aria-label":Th(ce,{handleIx:pe,chart:C},C)});this[pe?"maxHandleProxy":"minHandleProxy"]=$e.innerElement,$e.innerElement.style.pointerEvents="none",$e.innerElement.oninput=()=>this.updateNavigator()}}),this.updateHandleValues()}else this.proxyProvider.removeGroup("navigator")}getNavigatorHandleNavigation(C){let y=this,k=this.chart,S=C?this.maxHandleProxy:this.minHandleProxy,R=this.keyCodes;return new Tt(k,{keyCodeMap:[[[R.left,R.right,R.up,R.down],function(W){if(S){let L=W===R.left||W===R.up?-1:1;S.value=""+Ch(parseFloat(S.value)+L,0,100),y.updateNavigator(()=>{let Z=y.getHandleByIx(C);Z&&k.setFocusToElement(Z,S)})}return this.response.success}]],init:()=>{k.setFocusToElement(this.getHandleByIx(C),S)},validate:()=>{var W;return!!(this.getHandleByIx(C)&&S&&((W=k.options.navigator.accessibility)!=null&&W.enabled))}})}getKeyboardNavigation(){return[this.getNavigatorHandleNavigation(0),this.getNavigatorHandleNavigation(1)]}destroy(){this.updateNavigatorThrottleTimer&&clearTimeout(this.updateNavigatorThrottleTimer),this.proxyProvider.removeGroup("navigator"),this.announcer&&this.announcer.destroy()}updateHandleValues(){let C=this.chart.navigator;if(C&&this.minHandleProxy&&this.maxHandleProxy){let y=C.size;this.minHandleProxy.value=""+Math.round(C.zoomedMin/y*100),this.maxHandleProxy.value=""+Math.round(C.zoomedMax/y*100)}}getHandleByIx(C){let y=this.chart.navigator;return y&&y.handles&&y.handles[C]}updateNavigator(C){this.updateNavigatorThrottleTimer&&clearTimeout(this.updateNavigatorThrottleTimer),this.updateNavigatorThrottleTimer=setTimeout((y=>{var L,Z;let k=this.chart,{navigator:S,pointer:R}=k,W=(L=this.chart.accessibility)==null?void 0:L.keyboardNavigation;if(S&&R&&this.minHandleProxy&&this.maxHandleProxy){let ce=R.getChartPosition(),pe=parseFloat(this.minHandleProxy.value)/100*S.size,ve=parseFloat(this.maxHandleProxy.value)/100*S.size;[[0,"mousedown",S.zoomedMin],[0,"mousemove",pe],[0,"mouseup",pe],[1,"mousedown",S.zoomedMax],[1,"mousemove",ve],[1,"mouseup",ve]].forEach(([et,Qe,bt])=>{var Kt;let Gt=(Kt=this.getHandleByIx(et))==null?void 0:Kt.element;Gt&&Hc(Gt,_y(Qe,{x:ce.left+S.left+bt,y:ce.top+S.top},Gt))}),W&&(W.keyboardReset=!1),y&&y();let $e=(Z=k.options.lang.accessibility)==null?void 0:Z.navigator.changeAnnouncement,Xe=Ey(k.xAxis[0]);this.announcer.announce(Th($e,{axisRangeDescription:Xe,chart:k},k))}}).bind(this,C),20)}},{getPointAnnotationTexts:Ty}=He,{getAxisDescription:Cy,getSeriesFirstPointElement:ro,getSeriesA11yElement:Sy,unhideChartElementFromAT:$p}=be,{format:Wc,numberFormat:Ay}=Ge(),{reverseChildNodes:Gc,stripHTMLTagsFromString:Hp}=dt,{find:Ny,isNumber:Wp,isString:Gp,pick:Ir,defined:hs}=Y();function Kp(C){let y=C.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(y!==!1&&C.points&&C.points.length>=+y)}function Yp(C,y){let k=C.series,S=k.chart,R=S.options.accessibility.point||{},W=k.options.accessibility&&k.options.accessibility.point||{},L=k.tooltipOptions||{},Z=S.options.lang;return Wp(y)?Ay(y,W.valueDecimals||R.valueDecimals||L.valueDecimals||-1,Z.decimalPoint,Z.accessibility.thousandsSep||Z.thousandsSep):y}function Xp(C,y){let k=C[y];return C.chart.langFormat("accessibility.series."+y+"Description",{name:Cy(k),series:C})}function Qp(C){let y=C.series,k=y.chart.series.length>1||y.options.name,S=function(Z){let ce=Z.series,pe=ce.chart,ve=ce.options.accessibility,$e=ve&&ve.point&&ve.point.valueDescriptionFormat||pe.options.accessibility.point.valueDescriptionFormat,Xe=Ir(ce.xAxis&&ce.xAxis.options.accessibility&&ce.xAxis.options.accessibility.enabled,!pe.angular&&ce.type!=="flowmap"),et=Xe?function(Qe){let bt=function(xn){let nn=xn.series,Zt=nn.chart,yn=nn.options.accessibility&&nn.options.accessibility.point||{},wn=Zt.options.accessibility.point||{},li=nn.xAxis&&nn.xAxis.dateTime;if(li){let Dn=li.getXDateFormat(xn.x||0,Zt.options.tooltip.dateTimeLabelFormats),ci=yn.dateFormatter&&yn.dateFormatter(xn)||wn.dateFormatter&&wn.dateFormatter(xn)||yn.dateFormat||wn.dateFormat||Dn;return Zt.time.dateFormat(ci,xn.x||0,void 0)}}(Qe),Gt=(Qe.series.xAxis||{}).categories&&hs(Qe.category)&&(""+Qe.category).replace("<br/>"," "),Kt=hs(Qe.id)&&0>(""+Qe.id).indexOf("highcharts-"),an="x, "+Qe.x;return Qe.name||bt||Gt||(Kt?Qe.id:an)}(Z):"";return Wc($e,{point:Z,index:hs(Z.index)?Z.index+1:"",xDescription:et,value:function(Qe){let bt=Qe.series,Gt=bt.chart.options.accessibility.point||{},Kt=bt.chart.options.accessibility&&bt.chart.options.accessibility.point||{},an=bt.tooltipOptions||{},xn=Kt.valuePrefix||Gt.valuePrefix||an.valuePrefix||"",nn=Kt.valueSuffix||Gt.valueSuffix||an.valueSuffix||"",Zt=Qe.value!==void 0?"value":"y",yn=Yp(Qe,Qe[Zt]);if(Qe.isNull)return bt.chart.langFormat("accessibility.series.nullPointValue",{point:Qe});if(bt.pointArrayMap){let wn=xn||"",li=nn||"",Dn=function(ci){let Ms=Yp(Qe,Ir(Qe[ci],Qe.options[ci]));return Ms!==void 0?ci+": "+wn+Ms+li:Ms};return Qe.series.pointArrayMap.reduce(function(ci,Ms){let iu=Dn(Ms);return iu?ci+(ci.length?", ":"")+iu:ci},"")}return xn+yn+nn}(Z),separator:Xe?", ":""},pe)}(C),R=C.options&&C.options.accessibility&&C.options.accessibility.description,W=k?" "+y.name+".":"",L=function(Z){let ce=Z.series.chart,pe=Ty(Z);return pe.length?ce.langFormat("accessibility.series.pointAnnotationsDescription",{point:Z,annotations:pe}):""}(C);return C.accessibility=C.accessibility||{},C.accessibility.valueDescription=S,S+(R?" "+R:"")+W+(L?" "+L:"")}function Jp(C){let y=C.chart,k=y.types||[],S=function(Xe){let et=(Xe.options.accessibility||{}).description;return et&&Xe.chart.langFormat("accessibility.series.description",{description:et,series:Xe})||""}(C),R=function(Xe){return y[Xe]&&y[Xe].length>1&&C[Xe]},W=C.index+1,L=Xp(C,"xAxis"),Z=Xp(C,"yAxis"),ce={seriesNumber:W,series:C,chart:y},pe=k.length>1?"Combination":"",ve=y.langFormat("accessibility.series.summary."+C.type+pe,ce)||y.langFormat("accessibility.series.summary.default"+pe,ce),$e=(R("yAxis")?" "+Z+".":"")+(R("xAxis")?" "+L+".":"");return Wc(Ir(C.options.accessibility&&C.options.accessibility.descriptionFormat,y.options.accessibility.series.descriptionFormat,""),{seriesDescription:ve,authorDescription:S?" "+S:"",axisDescription:$e,series:C,chart:y,seriesNumber:W},void 0)}let wa={defaultPointDescriptionFormatter:Qp,defaultSeriesDescriptionFormatter:Jp,describeSeries:function(C){let y=C.chart,k=ro(C),S=Sy(C),R=y.is3d&&y.is3d();if(S){S.lastChild!==k||R||Gc(S);let W=function(ce){let pe=ce.options.accessibility||{};return!Kp(ce)&&!pe.exposeAsGroupOnly}(C),L=function(ce){let pe=ce.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!!(ce.points&&(ce.points.length<+pe.pointNavigationEnabledThreshold||pe.pointNavigationEnabledThreshold===!1))}(C),Z=C.chart.options.accessibility.point.describeNull;if((W||L)&&C.points.forEach(ce=>{var $e,Xe,et;let pe=ce.graphic&&ce.graphic.element||function(Qe){let bt=Qe.series,Gt=bt&&bt.chart,Kt=bt&&bt.is("sunburst"),an=Qe.isNull,xn=Gt&&Gt.options.accessibility.point.describeNull;return an&&!Kt&&xn}(ce)&&function(Qe){let bt=Qe.series,Gt=function(Zt){var li;let yn=Zt.index;if(!Zt.series||!Zt.series.data||!hs(yn))return null;let wn=(li=Zt.series.options)==null?void 0:li.nullInteraction;return Ny(Zt.series.data,function(Dn){return!!(Dn&&Dn.index!==void 0&&(wn||Dn.index>yn)&&Dn.graphic&&Dn.graphic.element)})||null}(Qe),Kt=Gt&&Gt.graphic,an=Kt?Kt.parentGroup:bt.graph||bt.group,xn=Gt?{x:Ir(Qe.plotX,Gt.plotX,0),y:Ir(Qe.plotY,Gt.plotY,0)}:{x:Ir(Qe.plotX,0),y:Ir(Qe.plotY,0)},nn=function(Zt,yn){let wn=Zt.series.chart.renderer.rect(yn.x,yn.y,1,1);return wn.attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),wn}(Qe,xn);if(an&&an.element)return Qe.graphic=nn,Qe.hasMockGraphic=!0,nn.add(an),an.element.insertBefore(nn.element,Kt?Kt.element:null),nn.element}(ce),ve=ce.options&&ce.options.accessibility&&ce.options.accessibility.enabled===!1;if(pe){if(ce.isNull&&!Z)return void pe.setAttribute("aria-hidden",!0);if(pe.setAttribute("tabindex","-1"),C.chart.styledMode||(pe.style.outline="none"),W&&!ve){let Qe=ce.series,bt=(($e=Qe.options.accessibility)==null?void 0:$e.point)||{},Gt=Qe.chart.options.accessibility.point||{},Kt=Hp(Gp(bt.descriptionFormat)&&Wc(bt.descriptionFormat,ce,Qe.chart)||((Xe=bt.descriptionFormatter)==null?void 0:Xe.call(bt,ce))||Gp(Gt.descriptionFormat)&&Wc(Gt.descriptionFormat,ce,Qe.chart)||((et=Gt.descriptionFormatter)==null?void 0:et.call(Gt,ce))||Qp(ce),Qe.chart.renderer.forExport);pe.setAttribute("role","img"),pe.setAttribute("aria-label",Kt)}else pe.setAttribute("aria-hidden",!0)}}),$p(y,S),function(ce){let pe=ce.chart,ve=pe.options.chart,$e=ve.options3d&&ve.options3d.enabled,Xe=pe.series.length>1,et=pe.options.accessibility.series.describeSingleSeries,Qe=(ce.options.accessibility||{}).exposeAsGroupOnly;return!($e&&Xe)&&(Xe||et||Qe||Kp(ce))}(C)){let ce=C.options.accessibility||{},pe=C.chart.options.accessibility,ve=pe.landmarkVerbosity;ce.exposeAsGroupOnly?S.setAttribute("role","img"):ve==="all"?S.setAttribute("role","region"):S.setAttribute("role","group"),S.setAttribute("tabindex","-1"),C.chart.styledMode||(S.style.outline="none"),S.setAttribute("aria-label",Hp(pe.series.descriptionFormatter&&pe.series.descriptionFormatter(C)||Jp(C),C.chart.renderer.forExport))}else S.removeAttribute("aria-label")}}},{composed:Ah}=Y(),{addEvent:Zp,defined:Ll,pushUnique:Nh}=Y(),{getChartTitle:jy}=be,{defaultPointDescriptionFormatter:ef,defaultSeriesDescriptionFormatter:Fl}=wa;function jh(C){return!!C.options.accessibility.announceNewData.enabled}class _a{constructor(y){this.dirty={allSeries:{}},this.lastAnnouncementTime=0,this.chart=y}init(){let y=this.chart,k=y.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new Pe,this.announcer=new at(y,k),this.addEventListeners()}destroy(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()}addEventListeners(){let y=this,k=this.chart,S=this.eventProvider;S.addEvent(k,"afterApplyDrilldown",function(){y.lastAnnouncementTime=0}),S.addEvent(k,"afterAddSeries",function(R){y.onSeriesAdded(R.series)}),S.addEvent(k,"redraw",function(){y.announceDirtyData()})}onSeriesAdded(y){jh(this.chart)&&(this.dirty.hasDirty=!0,this.dirty.allSeries[y.name+y.index]=y,this.dirty.newSeries=Ll(this.dirty.newSeries)?void 0:y)}announceDirtyData(){let y=this.chart,k=this;if(y.options.accessibility.announceNewData&&this.dirty.hasDirty){let S=this.dirty.newPoint;S&&(S=function(R){let W=R.series.data.filter(L=>R.x===L.x&&R.y===L.y);return W.length===1?W[0]:R}(S)),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(R=>k.dirty.allSeries[R]),this.dirty.newSeries,S),this.dirty={allSeries:{}}}}queueAnnouncement(y,k,S){let R=this.chart.options.accessibility.announceNewData;if(R.enabled){let W=+new Date,L=W-this.lastAnnouncementTime,Z=Math.max(0,R.minAnnounceInterval-L),ce=function(ve,$e){let Xe=(ve||[]).concat($e||[]).reduce((et,Qe)=>(et[Qe.name+Qe.index]=Qe,et),{});return Object.keys(Xe).map(et=>Xe[et])}(this.queuedAnnouncement&&this.queuedAnnouncement.series,y),pe=this.buildAnnouncementMessage(ce,k,S);pe&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:W,message:pe,series:ce},this.queuedAnnouncementTimer=setTimeout(()=>{this&&this.announcer&&(this.lastAnnouncementTime=+new Date,this.announcer.announce(this.queuedAnnouncement.message),delete this.queuedAnnouncement,delete this.queuedAnnouncementTimer)},Z))}}buildAnnouncementMessage(y,k,S){let R=this.chart,W=R.options.accessibility.announceNewData;if(W.announcementFormatter){let pe=W.announcementFormatter(y,k,S);if(pe!==!1)return pe.length?pe:null}let L=Y().charts&&Y().charts.length>1?"Multiple":"Single",Z=k?"newSeriesAnnounce"+L:S?"newPointAnnounce"+L:"newDataAnnounce",ce=jy(R);return R.langFormat("accessibility.announceNewData."+Z,{chartTitle:ce,seriesDesc:k?Fl(k):null,pointDesc:S?ef(S):null,point:S,series:k})}}(function(C){function y(S){var L;let R=this.chart,W=(L=R.accessibility)==null?void 0:L.components.series.newDataAnnouncer;W&&W.chart===R&&jh(R)&&(W.dirty.newPoint=Ll(W.dirty.newPoint)?void 0:S.point)}function k(){var W;let S=this.chart,R=(W=S.accessibility)==null?void 0:W.components.series.newDataAnnouncer;R&&R.chart===S&&jh(S)&&(R.dirty.hasDirty=!0,R.dirty.allSeries[this.name+this.index]=this)}C.compose=function(S){Nh(Ah,"A11y.NDA")&&(Zp(S,"addPoint",y),Zp(S,"updatedData",k))}})(_a||(_a={}));let Ih=_a,{doc:Ph,win:ds}=Y(),{attr:Ea,css:tf,merge:nf}=Y(),{fireEventOnWrappedOrUnwrappedElement:rf}=be,{cloneMouseEvent:Mh,cloneTouchEvent:Iy,getFakeMouseEvent:Py,removeElement:sf}=dt,My=class{constructor(C,y,k="button",S,R){this.chart=C,this.target=y,this.eventProvider=new Pe;let W=this.innerElement=Ph.createElement(k),L=this.element=S?Ph.createElement(S):W;C.styledMode||this.hideElementVisually(W),S&&(S!=="li"||C.styledMode||(L.style.listStyle="none"),L.appendChild(W),this.element=L),this.updateTarget(y,R)}click(){let C=this.getTargetPosition();C.x+=C.width/2,C.y+=C.height/2;let y=Py("click",C);rf(this.target.click,y)}updateTarget(C,y){this.target=C,this.updateCSSClassName();let k=y||{};Object.keys(k).forEach(R=>{k[R]===null&&delete k[R]});let S=this.getTargetAttr(C.click,"aria-label");Ea(this.innerElement,nf(S?{"aria-label":S}:{},k)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToElement(this.innerElement,C.click),this.refreshPosition()}refreshPosition(){let C=this.getTargetPosition();tf(this.innerElement,{width:(C.width||1)+"px",height:(C.height||1)+"px",left:(Math.round(C.x)||0)+"px",top:(Math.round(C.y)||0)+"px"})}remove(){this.eventProvider.removeAddedEvents(),sf(this.element)}updateCSSClassName(){let C=W=>W.indexOf("highcharts-no-tooltip")>-1,y=this.chart.legend,k=y.group&&y.group.div,S=C(k&&k.className||""),R=C(this.getTargetAttr(this.target.click,"class")||"");this.innerElement.className=S||R?"highcharts-a11y-proxy-element highcharts-no-tooltip":"highcharts-a11y-proxy-element"}addProxyEventsToElement(C,y){["click","touchstart","touchend","touchcancel","touchmove","mouseover","mouseenter","mouseleave","mouseout"].forEach(k=>{let S=k.indexOf("touch")===0;this.eventProvider.addEvent(C,k,R=>{let W=S?Iy(R):Mh(R);y&&rf(y,W),R.stopPropagation(),S||R.preventDefault()},{passive:!1})})}hideElementVisually(C){tf(C,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})}getTargetPosition(){let C=this.target.click,y=C.element?C.element:C,k=this.target.visual||y,S=this.chart.renderTo,R=this.chart.pointer;if(S&&(k!=null&&k.getBoundingClientRect)&&R){let W=ds.scrollY||Ph.documentElement.scrollTop,L=k.getBoundingClientRect(),Z=R.getChartPosition();return{x:(L.left-Z.left)/Z.scaleX,y:(L.top+W-Z.top)/Z.scaleY,width:L.right/Z.scaleX-L.left/Z.scaleX,height:L.bottom/Z.scaleY-L.top/Z.scaleY}}return{x:0,y:0,width:1,height:1}}getTargetAttr(C,y){return C.element?C.element.getAttribute(y):C.getAttribute(y)}},{doc:Rh}=Y(),{attr:dr,css:Un}=Y(),{unhideChartElementFromAT:of}=be,{removeChildNodes:Dh}=dt,Oh=class{constructor(C){this.chart=C,this.domElementProvider=new me,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}addProxyElement(C,y,k="button",S){let R=this.groups[C];if(!R)throw Error("ProxyProvider.addProxyElement: Invalid group key "+C);let W=R.type==="ul"||R.type==="ol"?"li":void 0,L=new My(this.chart,y,k,W,S);return R.proxyContainerElement.appendChild(L.element),R.proxyElements.push(L),L}addGroup(C,y="div",k){let S,R=this.groups[C];if(R)return R.groupElement;let W=this.domElementProvider.createElement(y);return k&&k.role&&y!=="div"?(S=this.domElementProvider.createElement("div")).appendChild(W):S=W,S.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+C.replace(/\W/g,"-"),this.groups[C]={proxyContainerElement:W,groupElement:S,type:y,proxyElements:[]},dr(S,k||{}),y==="ul"&&W.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(S),this.updateGroupOrder(this.groupOrder),S}updateGroupAttrs(C,y){let k=this.groups[C];if(!k)throw Error("ProxyProvider.updateGroupAttrs: Invalid group key "+C);dr(k.groupElement,y)}updateGroupOrder(C){if(this.groupOrder=C.slice(),this.isDOMOrderGroupOrder())return;let y=C.indexOf("series"),k=y>-1?C.slice(0,y):C,S=y>-1?C.slice(y+1):[],R=Rh.activeElement;["before","after"].forEach(W=>{let L=this[W==="before"?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"];Dh(L),(W==="before"?k:S).forEach(Z=>{let ce=this.groups[Z];ce&&L.appendChild(ce.groupElement)})}),(this.beforeChartProxyPosContainer.contains(R)||this.afterChartProxyPosContainer.contains(R))&&R&&R.focus&&R.focus()}clearGroup(C){let y=this.groups[C];if(!y)throw Error("ProxyProvider.clearGroup: Invalid group key "+C);Dh(y.proxyContainerElement)}removeGroup(C){let y=this.groups[C];y&&(this.domElementProvider.removeElement(y.groupElement),y.groupElement!==y.proxyContainerElement&&this.domElementProvider.removeElement(y.proxyContainerElement),delete this.groups[C])}update(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()}updateProxyElementPositions(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))}updateGroupProxyElementPositions(C){let y=this.groups[C];y&&y.proxyElements.forEach(k=>k.refreshPosition())}destroy(){this.domElementProvider.destroyCreatedElements()}createProxyPosContainer(C){let y=this.domElementProvider.createElement("div");return y.setAttribute("aria-hidden","false"),y.className="highcharts-a11y-proxy-container"+(C?"-"+C:""),Un(y,{top:"0",left:"0"}),this.chart.styledMode||(y.style.whiteSpace="nowrap",y.style.position="absolute"),y}getCurrentGroupOrderInDOM(){let C=R=>{let W=Object.keys(this.groups),L=W.length;for(;L--;){let Z=W[L],ce=this.groups[Z];if(ce&&R===ce.groupElement)return Z}},y=R=>{let W=[],L=R.children;for(let Z=0;Z<L.length;++Z){let ce=C(L[Z]);ce&&W.push(ce)}return W},k=y(this.beforeChartProxyPosContainer),S=y(this.afterChartProxyPosContainer);return k.push("series"),k.concat(S)}isDOMOrderGroupOrder(){let C=this.getCurrentGroupOrderInDOM(),y=this.groupOrder.filter(S=>S==="series"||!!this.groups[S]),k=C.length;if(k!==y.length)return!1;for(;k--;)if(C[k]!==y[k])return!1;return!0}updatePosContainerPositions(){let C=this.chart;if(C.renderer.forExport)return;let y=C.renderer.box;C.container.insertBefore(this.afterChartProxyPosContainer,y.nextSibling),C.container.insertBefore(this.beforeChartProxyPosContainer,y),of(this.chart,this.afterChartProxyPosContainer),of(this.chart,this.beforeChartProxyPosContainer)}},{unhideChartElementFromAT:ka,getAxisRangeDescription:Xn}=be,{addEvent:Bl,attr:af}=Y();class Kc extends yt{init(){let y=this.chart;this.announcer=new at(y,"polite")}onChartUpdate(){let y=this.chart,k=this,S=y.rangeSelector;S&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),S.buttons&&S.buttons.length&&S.buttons.forEach(R=>{k.setRangeButtonAttrs(R)}),S.maxInput&&S.minInput&&["minInput","maxInput"].forEach(function(R,W){let L=S[R];L&&(ka(y,L),k.setRangeInputAttrs(L,"accessibility.rangeSelector."+(W?"max":"min")+"InputLabel"))}))}updateSelectorVisibility(){let y=this.chart,k=y.rangeSelector,S=k&&k.dropdown,R=k&&k.buttons||[],W=L=>L.setAttribute("aria-hidden",!0);k&&k.hasVisibleDropdown&&S?(ka(y,S),R.forEach(L=>W(L.element))):(S&&W(S),R.forEach(L=>ka(y,L.element)))}setDropdownAttrs(){let y=this.chart,k=y.rangeSelector&&y.rangeSelector.dropdown;if(k){let S=y.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:y.options.lang.rangeSelectorZoom});k.setAttribute("aria-label",S),k.setAttribute("tabindex",-1)}}setRangeButtonAttrs(y){af(y.element,{tabindex:-1,role:"button"})}setRangeInputAttrs(y,k){let S=this.chart;af(y,{tabindex:-1,"aria-label":S.langFormat(k,{chart:S})})}onButtonNavKbdArrowKey(y,k){let S=y.response,R=this.keyCodes,W=this.chart,L=W.options.accessibility.keyboardNavigation.wrapAround,Z=k===R.left||k===R.up?-1:1;return W.highlightRangeSelectorButton(W.highlightedRangeSelectorItemIx+Z)?S.success:L?(y.init(Z),S.success):S[Z>0?"next":"prev"]}onButtonNavKbdClick(y){let k=y.response,S=this.chart;return S.oldRangeSelectorItemState!==3&&this.fakeClickEvent(S.rangeSelector.buttons[S.highlightedRangeSelectorItemIx].element),k.success}onAfterBtnClick(){let y=this.chart,k=Xn(y.xAxis[0]),S=y.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:y,axisRangeDescription:k});S&&this.announcer.announce(S)}onInputKbdMove(y){let k=this.chart,S=k.rangeSelector,R=k.highlightedInputRangeIx=(k.highlightedInputRangeIx||0)+y;if(R>1||R<0){if(k.accessibility)return k.accessibility.keyboardNavigation.exiting=!0,k.accessibility.keyboardNavigation.tabindexContainer.focus(),k.accessibility.keyboardNavigation.move(y)}else if(S){let W=S[R?"maxDateBox":"minDateBox"],L=S[R?"maxInput":"minInput"];W&&L&&k.setFocusToElement(W,L)}return!0}onInputNavInit(y){let k=this,S=this.chart,R=y>0?0:1,W=S.rangeSelector,L=W&&W[R?"maxDateBox":"minDateBox"],Z=W&&W.minInput,ce=W&&W.maxInput;if(S.highlightedInputRangeIx=R,L&&Z&&ce){S.setFocusToElement(L,R?ce:Z),this.removeInputKeydownHandler&&this.removeInputKeydownHandler();let pe=Xe=>{(Xe.which||Xe.keyCode)===this.keyCodes.tab&&k.onInputKbdMove(Xe.shiftKey?-1:1)&&(Xe.preventDefault(),Xe.stopPropagation())},ve=Bl(Z,"keydown",pe),$e=Bl(ce,"keydown",pe);this.removeInputKeydownHandler=()=>{ve(),$e()}}}onInputNavTerminate(){let y=this.chart.rangeSelector||{};y.maxInput&&y.hideInput("max"),y.minInput&&y.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)}initDropdownNav(){let y=this.chart,k=y.rangeSelector,S=k&&k.dropdown;k&&S&&(y.setFocusToElement(k.buttonGroup,S),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=Bl(S,"keydown",R=>{let W=(R.which||R.keyCode)===this.keyCodes.tab,L=y.accessibility;W&&(R.preventDefault(),R.stopPropagation(),L&&L.keyboardNavigation.move(R.shiftKey?-1:1))}))}getRangeSelectorButtonNavigation(){let y=this.chart,k=this.keyCodes,S=this;return new Tt(y,{keyCodeMap:[[[k.left,k.right,k.up,k.down],function(R){return S.onButtonNavKbdArrowKey(this,R)}],[[k.enter,k.space],function(){return S.onButtonNavKbdClick(this)}]],validate:function(){return!!(y.rangeSelector&&y.rangeSelector.buttons&&y.rangeSelector.buttons.length)},init:function(R){let W=y.rangeSelector;if(W&&W.hasVisibleDropdown)S.initDropdownNav();else if(W){let L=W.buttons.length-1;y.highlightRangeSelectorButton(R>0?0:L)}},terminate:function(){S.removeDropdownKeydownHandler&&(S.removeDropdownKeydownHandler(),delete S.removeDropdownKeydownHandler)}})}getRangeSelectorInputNavigation(){let y=this.chart,k=this;return new Tt(y,{keyCodeMap:[],validate:function(){return!!(y.rangeSelector&&y.rangeSelector.inputGroup&&y.rangeSelector.inputGroup.element.style.visibility!=="hidden"&&y.options.rangeSelector.inputEnabled!==!1&&y.rangeSelector.minInput&&y.rangeSelector.maxInput)},init:function(S){k.onInputNavInit(S)},terminate:function(){k.onInputNavTerminate()}})}getKeyboardNavigation(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]}destroy(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()}}(function(C){function y(S){let R=this.rangeSelector&&this.rangeSelector.buttons||[],W=this.highlightedRangeSelectorItemIx,L=this.rangeSelector&&this.rangeSelector.selected;return W!==void 0&&R[W]&&W!==L&&R[W].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=S,!!R[S]&&(this.setFocusToElement(R[S].box,R[S].element),S!==L&&(this.oldRangeSelectorItemState=R[S].state,R[S].setState(1)),!0)}function k(){let S=this.chart.accessibility;if(S&&S.components.rangeSelector)return S.components.rangeSelector.onAfterBtnClick()}C.compose=function(S,R){let W=S.prototype;W.highlightRangeSelectorButton||(W.highlightRangeSelectorButton=y,Bl(R,"afterBtnClick",k))}})(Kc||(Kc={}));let tn=Kc,{composed:lf}=Y(),{addEvent:Mo,merge:Yc,pushUnique:Xc}=Y();(function(C){function y(ce){Yc(!0,ce,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function k(ce){return ce.marker.states&&ce.marker.states.normal&&ce.marker.states.normal.opacity}function S(ce){return!!(ce._hasPointMarkers&&ce.points&&ce.points.length)}function R(){this.chart.styledMode&&(this.markerGroup&&this.markerGroup[this.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),S(this)&&this.points.forEach(ce=>{ce.graphic&&(ce.graphic[ce.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),ce.graphic[ce.hasForcedA11yMarker===!1?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))}function W(ce){this.resetA11yMarkerOptions=Yc(ce.options.marker||{},this.userOptions.marker||{})}function L(){let ce=this.options;(function(pe){let ve=pe.chart.options.accessibility.enabled,$e=(pe.options.accessibility&&pe.options.accessibility.enabled)!==!1;return ve&&$e&&function(Xe){let et=Xe.chart.options.accessibility;return Xe.points.length<et.series.pointDescriptionEnabledThreshold||et.series.pointDescriptionEnabledThreshold===!1}(pe)})(this)?(ce.marker&&ce.marker.enabled===!1&&(this.a11yMarkersForced=!0,y(this.options)),S(this)&&function(pe){let ve=pe.points.length;for(;ve--;){let Xe=pe.points[ve],et=Xe.options,Qe=Xe.hasForcedA11yMarker;if(delete Xe.hasForcedA11yMarker,et.marker){var $e;let bt=Qe&&k(et)===0;et.marker.enabled&&!bt?(Yc(!0,($e=et).marker,{states:{normal:{opacity:k($e)||1}}}),Xe.hasForcedA11yMarker=!1):et.marker.enabled===!1&&(y(et),Xe.hasForcedA11yMarker=!0)}}}(this)):this.a11yMarkersForced&&(delete this.a11yMarkersForced,function(pe){let ve=pe.resetA11yMarkerOptions;if(ve){let $e=ve.states&&ve.states.normal&&ve.states.normal.opacity;pe.userOptions&&pe.userOptions.marker&&(pe.userOptions.marker.enabled=!0),pe.update({marker:{enabled:ve.enabled,states:{normal:{opacity:$e}}}})}}(this),ce.marker&&ce.marker.enabled===!1&&delete this.resetA11yMarkerOptions)}function Z(){this.boosted&&this.a11yMarkersForced&&(Yc(!0,this.options,{marker:{enabled:!1}}),delete this.a11yMarkersForced)}C.compose=function(ce){Xc(lf,"A11y.FM")&&(Mo(ce,"afterSetOptions",W),Mo(ce,"render",L),Mo(ce,"afterRender",R),Mo(ce,"renderCanvas",Z))}})(X||(X={}));let dn=X;var Qc=te(260),Ry=te.n(Qc),Dy=te(820),Oy=te.n(Dy);let{seriesTypes:Lh}=No(),{doc:Ta}=Y(),{defined:Ps,fireEvent:Ly}=Y(),{getPointFromXY:Fy,getSeriesFromName:Jc,scrollAxisToPoint:By}=be;function Fh(C){let y=C.index,k=C.series.points,S=k.length;if(k[y]===C)return y;for(;S--;)if(k[S]===C)return S}function Vl(C){let y=C.chart.options.accessibility.keyboardNavigation.seriesNavigation,k=C.options.accessibility||{},S=k.keyboardNavigation;return S&&S.enabled===!1||k.enabled===!1||C.options.enableMouseTracking===!1||!C.visible||y.pointNavigationEnabledThreshold&&+y.pointNavigationEnabledThreshold<=C.points.length}function Ul(C){let y=C.series,k=y.options.nullInteraction,S=C.options.accessibility,R=y.chart.options.accessibility,W=(S==null?void 0:S.enabled)===!1;return R.keyboardNavigation.seriesNavigation.skipNullPoints??(!(!C.isNull||k)&&C.visible===!1||C.isInside===!1||W||Vl(y))}function Zc(C){let y=C.series||[],k=y.length;for(let S=0;S<k;++S)if(!Vl(y[S])){let R=function(W){let L=W.points||[],Z=L.length;for(let ce=0;ce<Z;++ce)if(!Ul(L[ce]))return L[ce];return null}(y[S]);if(R)return R}return null}function cf(C){let y=C.series.length,k=!1;for(;y--&&(C.highlightedPoint=C.series[y].points[C.series[y].points.length-1],!(k=C.series[y].highlightNextValidPoint())););return k}function Bh(C){delete C.highlightedPoint;let y=Zc(C);return!!y&&y.highlight()}class eu{constructor(y,k){this.keyCodes=k,this.chart=y}init(){let y=this,k=this.chart,S=this.eventProvider=new Pe;S.addEvent(Oy(),"destroy",function(){return y.onSeriesDestroy(this)}),S.addEvent(k,"afterApplyDrilldown",function(){let R=Zc(this);R&&R.highlight(!1)}),S.addEvent(k,"drilldown",function(R){let W=R.point,L=W.series;y.lastDrilledDownPoint={x:W.x,y:W.y,seriesName:L?L.name:""}}),S.addEvent(k,"drillupall",function(){setTimeout(function(){y.onDrillupAll()},10)}),S.addEvent(Ry(),"afterSetState",function(){let R=this.graphic&&this.graphic.element,W=Ta.activeElement,L=W&&W.getAttribute("class"),Z=L&&L.indexOf("highcharts-a11y-proxy-element")>-1;k.highlightedPoint===this&&W!==R&&!Z&&R&&R.focus&&R.focus()})}onDrillupAll(){let y,k=this.lastDrilledDownPoint,S=this.chart,R=k&&Jc(S,k.seriesName);k&&R&&Ps(k.x)&&Ps(k.y)&&(y=Fy(R,k.x,k.y)),y=y||Zc(S),S.container&&S.container.focus(),y&&y.highlight&&y.highlight(!1)}getKeyboardNavigationHandler(){let y=this,k=this.keyCodes,S=this.chart,R=S.inverted;return new Tt(S,{keyCodeMap:[[R?[k.up,k.down]:[k.left,k.right],function(W){return y.onKbdSideways(this,W)}],[R?[k.left,k.right]:[k.up,k.down],function(W){return y.onKbdVertical(this,W)}],[[k.enter,k.space],function(W,L){var ce;let Z=S.highlightedPoint;if(Z){let{plotLeft:pe,plotTop:ve}=this.chart,{plotX:$e=0,plotY:Xe=0}=Z;L={...L,chartX:pe+$e,chartY:ve+Xe,point:Z,target:((ce=Z.graphic)==null?void 0:ce.element)||L.target},Ly(Z.series,"click",L),Z.firePointEvent("click",L)}return this.response.success}],[[k.home],function(){return Bh(S),this.response.success}],[[k.end],function(){return cf(S),this.response.success}],[[k.pageDown,k.pageUp],function(W){return S.highlightAdjacentSeries(W===k.pageDown),this.response.success}]],init:function(){return y.onHandlerInit(this)},validate:function(){return!!Zc(S)},terminate:function(){return y.onHandlerTerminate()}})}onKbdSideways(y,k){let S=this.keyCodes,R=k===S.right||k===S.down;return this.attemptHighlightAdjacentPoint(y,R)}onHandlerInit(y){let k=this.chart;return k.options.accessibility.keyboardNavigation.seriesNavigation.rememberPointFocus&&k.highlightedPoint?k.highlightedPoint.highlight():Bh(k),y.response.success}onKbdVertical(y,k){let S=this.chart,R=this.keyCodes,W=k===R.down||k===R.right,L=S.options.accessibility.keyboardNavigation.seriesNavigation;if(L.mode&&L.mode==="serialize")return this.attemptHighlightAdjacentPoint(y,W);let Z=S.highlightedPoint&&S.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries";return S[Z](W),y.response.success}onHandlerTerminate(){let y=this.chart,k=y.options.accessibility.keyboardNavigation;y.tooltip&&y.tooltip.hide(0);let S=y.highlightedPoint&&y.highlightedPoint.series;S&&S.onMouseOut&&S.onMouseOut(),y.highlightedPoint&&y.highlightedPoint.onMouseOut&&y.highlightedPoint.onMouseOut(),k.seriesNavigation.rememberPointFocus||delete y.highlightedPoint}attemptHighlightAdjacentPoint(y,k){let S=this.chart,R=S.options.accessibility.keyboardNavigation.wrapAround;return S.highlightAdjacentPoint(k)||R&&(k?Bh(S):cf(S))?y.response.success:y.response[k?"next":"prev"]}onSeriesDestroy(y){let k=this.chart;k.highlightedPoint&&k.highlightedPoint.series===y&&(delete k.highlightedPoint,k.focusElement&&k.focusElement.removeFocusBorder())}destroy(){this.eventProvider.removeAddedEvents()}}(function(C){function y(L){let Z,ce,pe=this.series,ve=this.highlightedPoint,$e=ve&&Fh(ve)||0,Xe=ve&&ve.series.points||[],et=this.series&&this.series[this.series.length-1],Qe=et&&et.points&&et.points[et.points.length-1];if(!pe[0]||!pe[0].points)return!1;if(ve){if(Z=pe[ve.series.index+(L?1:-1)],(ce=Xe[$e+(L?1:-1)])||!Z||(ce=Z.points[L?0:Z.points.length-1]),!ce)return!1}else ce=L?pe[0].points[0]:Qe;return Ul(ce)?(Vl(Z=ce.series)?this.highlightedPoint=L?Z.points[Z.points.length-1]:Z.points[0]:this.highlightedPoint=ce,this.highlightAdjacentPoint(L)):ce.highlight()}function k(L){let Z=this.highlightedPoint,ce=1/0,pe;return!!Ps(Z.plotX)&&!!Ps(Z.plotY)&&(this.series.forEach(ve=>{Vl(ve)||ve.points.forEach($e=>{if(!Ps($e.plotY)||!Ps($e.plotX)||$e===Z)return;let Xe=$e.plotY-Z.plotY,et=Math.abs($e.plotX-Z.plotX),Qe=Math.abs(Xe)*Math.abs(Xe)+et*et*4;ve.yAxis&&ve.yAxis.reversed&&(Xe*=-1),!(Xe<=0&&L||Xe>=0&&!L||Qe<5||Ul($e))&&Qe<ce&&(ce=Qe,pe=$e)})}),!!pe&&pe.highlight())}function S(L){let Z,ce,pe,ve=this.highlightedPoint,$e=this.series&&this.series[this.series.length-1],Xe=$e&&$e.points&&$e.points[$e.points.length-1];return this.highlightedPoint?!!(Z=this.series[ve.series.index+(L?-1:1)])&&!!(ce=function(et,Qe,bt,Gt){let Kt=1/0,an,xn,nn,Zt=Qe.points.length,yn=wn=>!(Ps(wn.plotX)&&Ps(wn.plotY));if(!yn(et)){for(;Zt--;)!yn(an=Qe.points[Zt])&&(nn=(et.plotX-an.plotX)*(et.plotX-an.plotX)*4+(et.plotY-an.plotY)*(et.plotY-an.plotY)*1)<Kt&&(Kt=nn,xn=Zt);return Ps(xn)?Qe.points[xn]:void 0}}(ve,Z))&&(Vl(Z)?(ce.highlight(),(pe=this.highlightAdjacentSeries(L))?pe:(ve.highlight(),!1)):(ce.highlight(),ce.series.highlightNextValidPoint())):(Z=L?this.series&&this.series[0]:$e,!!(ce=L?Z&&Z.points&&Z.points[0]:Xe)&&ce.highlight())}function R(L=!0){var ve,$e,Xe;let Z=this.series.chart,ce=($e=(ve=Z.tooltip)==null?void 0:ve.label)==null?void 0:$e.element;(!this.isNull||(Xe=this.series.options)!=null&&Xe.nullInteraction)&&L?this.onMouseOver():Z.tooltip&&Z.tooltip.hide(0),By(this),this.graphic&&(Z.setFocusToElement(this.graphic),!L&&Z.focusElement&&Z.focusElement.removeFocusBorder()),Z.highlightedPoint=this;let pe=ce==null?void 0:ce.getBoundingClientRect().top;if(ce&&pe&&pe<0){let et=window.scrollY;window.scrollTo({behavior:"smooth",top:et+pe})}return this}function W(){let L=this.chart.highlightedPoint,Z=(L&&L.series)===this?Fh(L):0,ce=this.points,pe=ce.length;if(ce&&pe){for(let ve=Z;ve<pe;++ve)if(!Ul(ce[ve]))return ce[ve].highlight();for(let ve=Z;ve>=0;--ve)if(!Ul(ce[ve]))return ce[ve].highlight()}return!1}C.compose=function(L,Z,ce){let pe=L.prototype,ve=Z.prototype,$e=ce.prototype;pe.highlightAdjacentPoint||(pe.highlightAdjacentPoint=y,pe.highlightAdjacentPointVertical=k,pe.highlightAdjacentSeries=S,ve.highlight=R,$e.keyboardMoveVertical=!0,["column","gantt","pie"].forEach(Xe=>{Lh[Xe]&&(Lh[Xe].prototype.keyboardMoveVertical=!1)}),$e.highlightNextValidPoint=W)}})(eu||(eu={}));let uf=eu,{hideSeriesFromAT:Vy}=be,{describeSeries:hf}=wa,Vh=class extends yt{static compose(C,y,k){Ih.compose(k),dn.compose(k),uf.compose(C,y,k)}init(){this.newDataAnnouncer=new Ih(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new uf(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()}hideTooltipFromATWhenShown(){let C=this;this.chart.tooltip&&this.addEvent(this.chart.tooltip.constructor,"refresh",function(){this.chart===C.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})}hideSeriesLabelsFromATWhenShown(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(C){C.labelBySeries&&C.labelBySeries.attr("aria-hidden",!0)})})}onChartRender(){this.chart.series.forEach(function(C){(C.options.accessibility&&C.options.accessibility.enabled)!==!1&&C.visible&&C.getPointsCollection().length!==0?hf(C):Vy(C)})}getKeyboardNavigation(){return this.keyboardNavigation.getKeyboardNavigationHandler()}destroy(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()}},{unhideChartElementFromAT:ps}=be,{getFakeMouseEvent:Uh}=dt,{attr:Uy,pick:zy}=Y(),df=class extends yt{constructor(){super(...arguments),this.focusedMapNavButtonIx=-1}init(){let C=this,y=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach(k=>{C.addEvent(y,k,function(){C.updateProxyOverlays()})})}onChartUpdate(){let C=this.chart,y=this;C.mapNavigation&&C.mapNavigation.navButtons.forEach((k,S)=>{ps(C,k.element),y.setMapNavButtonAttrs(k.element,"accessibility.zoom.mapZoom"+(S?"Out":"In"))})}setMapNavButtonAttrs(C,y){let k=this.chart;Uy(C,{tabindex:-1,role:"button","aria-label":k.langFormat(y,{chart:k})})}onChartRender(){this.updateProxyOverlays()}updateProxyOverlays(){let C=this.chart;if(this.proxyProvider.clearGroup("zoom"),C.resetZoomButton&&this.createZoomProxyButton(C.resetZoomButton,"resetZoomProxyButton",C.langFormat("accessibility.zoom.resetZoomButton",{chart:C})),C.drillUpButton&&C.breadcrumbs&&C.breadcrumbs.list){let y=C.breadcrumbs.list[C.breadcrumbs.list.length-1];this.createZoomProxyButton(C.drillUpButton,"drillUpProxyButton",C.langFormat("accessibility.drillUpButton",{chart:C,buttonText:C.breadcrumbs.getButtonText(y)}))}}createZoomProxyButton(C,y,k){this[y]=this.proxyProvider.addProxyElement("zoom",{click:C},"button",{"aria-label":k,tabindex:-1})}getMapZoomNavigation(){let C=this.keyCodes,y=this.chart,k=this;return new Tt(y,{keyCodeMap:[[[C.up,C.down,C.left,C.right],function(S){return k.onMapKbdArrow(this,S)}],[[C.tab],function(S,R){return k.onMapKbdTab(this,R)}],[[C.space,C.enter],function(){return k.onMapKbdClick(this)}]],validate:function(){return!!(y.mapView&&y.mapNavigation&&y.mapNavigation.navButtons.length)},init:function(S){return k.onMapNavInit(S)}})}onMapKbdArrow(C,y){let k=this.chart,S=this.keyCodes,R=k.container,W=y===S.up||y===S.down,L=y===S.left||y===S.up?1:-1,Z=(W?k.plotHeight:k.plotWidth)/10*L,ce=10*Math.random(),pe={x:R.offsetLeft+k.plotLeft+k.plotWidth/2+ce,y:R.offsetTop+k.plotTop+k.plotHeight/2+ce},ve=W?{x:pe.x,y:pe.y+Z}:{x:pe.x+Z,y:pe.y};return[Uh("mousedown",pe),Uh("mousemove",ve),Uh("mouseup",ve)].forEach($e=>R.dispatchEvent($e)),C.response.success}onMapKbdTab(C,y){let k=this.chart,S=C.response,R=y.shiftKey,W=R&&!this.focusedMapNavButtonIx||!R&&this.focusedMapNavButtonIx;if(k.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0),W)return k.mapView&&k.mapView.zoomBy(),S[R?"prev":"next"];this.focusedMapNavButtonIx+=R?-1:1;let L=k.mapNavigation.navButtons[this.focusedMapNavButtonIx];return k.setFocusToElement(L.box,L.element),L.setState(2),S.success}onMapKbdClick(C){let y=this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element;return this.fakeClickEvent(y),C.response.success}onMapNavInit(C){let y=this.chart,k=y.mapNavigation.navButtons[0],S=y.mapNavigation.navButtons[1],R=C>0?k:S;y.setFocusToElement(R.box,R.element),R.setState(2),this.focusedMapNavButtonIx=C>0?0:1}simpleButtonNavigation(C,y,k){let S=this.keyCodes,R=this,W=this.chart;return new Tt(W,{keyCodeMap:[[[S.tab,S.up,S.down,S.left,S.right],function(L,Z){let ce=L===S.tab&&Z.shiftKey||L===S.left||L===S.up;return this.response[ce?"prev":"next"]}],[[S.space,S.enter],function(){return zy(k(this,W),this.response.success)}]],validate:function(){return W[C]&&W[C].box&&R[y].innerElement},init:function(){W.setFocusToElement(W[C].box,R[y].innerElement)}})}getKeyboardNavigation(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(C,y){y.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(C,y){return y.drillUp(),C.response.prev}),this.getMapZoomNavigation()]}},{doc:zh,isMS:qy,win:Ro}=Y(),pf={isHighContrastModeActive:function(){if(qy&&Ro.getComputedStyle){let C=zh.createElement("div");C.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",zh.body.appendChild(C);let y=(C.currentStyle||Ro.getComputedStyle(C)).backgroundImage;return zh.body.removeChild(C),y==="none"}return Ro.matchMedia&&Ro.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function(C){var S;C.highContrastModeActive=!0;let y=C.options.accessibility.highContrastTheme;C.update(y,!1);let k=((S=y.colors)==null?void 0:S.length)>1;C.series.forEach(function(R){let W=y.plotOptions[R.type]||{},L=k&&R.colorIndex!==void 0?y.colors[R.colorIndex]:W.color||"window",Z={color:W.color||"windowText",colors:k?y.colors:[W.color||"windowText"],borderColor:W.borderColor||"window",fillColor:L};R.update(Z,!1),R.points&&R.points.forEach(function(ce){ce.options&&ce.options.color&&ce.update({color:W.color||"windowText",borderColor:W.borderColor||"window"},!1)})}),C.redraw()}},ff={chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[],dataClasses:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}},{error:tu,pick:$y}=Y();function qh(C,y,k){let S=C,R,W=0;for(;W<y.length-1;++W)S=S[R=y[W]]=$y(S[R],{});S[y[y.length-1]]=k}function $h(C,y,k,S){function R(Z,ce){return ce.reduce(function(pe,ve){return pe[ve]},Z)}let W=R(C.options,y),L=R(C.options,k);Object.keys(S).forEach(function(Z){let ce=W[Z];ce!==void 0&&(qh(L,S[Z],ce),tu(32,!1,C,{[y.join(".")+"."+Z]:k.join(".")+"."+S[Z].join(".")}))})}let Hy=function(C){let y=C.options.chart,k=C.options.accessibility||{};["description","typeDescription"].forEach(function(S){y[S]&&(k[S]=y[S],tu(32,!1,C,{[`chart.${S}`]:`use accessibility.${S}`}))}),C.axes.forEach(function(S){let R=S.options;R&&R.description&&(R.accessibility=R.accessibility||{},R.accessibility.description=R.description,tu(32,!1,C,{"axis.description":"use axis.accessibility.description"}))}),C.series&&function(S){let R={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};S.series.forEach(function(W){Object.keys(R).forEach(function(L){let Z=W.options[L];L==="accessibility.pointDescriptionFormatter"&&(Z=W.options.accessibility&&W.options.accessibility.pointDescriptionFormatter),Z!==void 0&&(qh(W.options,R[L],L==="skipKeyboardNavigation"?!Z:Z),tu(32,!1,S,{[`series.${L}`]:"series."+R[L].join(".")}))})})}(C),$h(C,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]}),$h(C,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]}),$h(C,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})},{defaultOptions:Wy}=Y(),{doc:so}=Y(),{addEvent:oo,extend:Gy,fireEvent:Hh,merge:nu}=Y(),{removeElement:mf}=dt;class Wh{constructor(y){this.init(y)}init(y){if(this.chart=y,!(so!=null&&so.addEventListener)){this.zombie=!0,this.components={},y.renderTo.setAttribute("aria-hidden",!0);return}Hy(y),this.proxyProvider=new Oh(this.chart),this.initComponents(),this.keyboardNavigation=new Co(y,this.components)}initComponents(){let y=this.chart,k=this.proxyProvider,S=y.options.accessibility;this.components={container:new Se,infoRegions:new ji,legend:new os,chartMenu:new gt,rangeSelector:new tn,series:new Vh,zoom:new df,navigator:new ky},S.customComponents&&Gy(this.components,S.customComponents);let R=this.components;this.getComponentOrder().forEach(function(W){R[W].initBase(y,k),R[W].init()})}getComponentOrder(){return this.components?this.components.series?["series"].concat(Object.keys(this.components).filter(y=>y!=="series")):Object.keys(this.components):[]}update(){let y=this.components,k=this.chart,S=k.options.accessibility;Hh(k,"beforeA11yUpdate"),k.types=this.getChartTypes();let R=S.keyboardNavigation.order;this.proxyProvider.updateGroupOrder(R),this.getComponentOrder().forEach(function(W){y[W].onChartUpdate(),Hh(k,"afterA11yComponentUpdate",{name:W,component:y[W]})}),this.keyboardNavigation.update(R),!k.highContrastModeActive&&S.highContrastMode!==!1&&(pf.isHighContrastModeActive()||S.highContrastMode===!0)&&pf.setHighContrastTheme(k),Hh(k,"afterA11yUpdate",{accessibility:this})}destroy(){let y=this.chart||{},k=this.components;Object.keys(k).forEach(function(S){k[S].destroy(),k[S].destroyBase()}),this.proxyProvider&&this.proxyProvider.destroy(),y.announcerContainer&&mf(y.announcerContainer),this.keyboardNavigation&&this.keyboardNavigation.destroy(),y.renderTo&&y.renderTo.setAttribute("aria-hidden",!0),y.focusElement&&y.focusElement.removeFocusBorder()}getChartTypes(){let y={};return this.chart.series.forEach(function(k){y[k.type]=1}),Object.keys(y)}}(function(C){function y(){this.accessibility&&this.accessibility.destroy()}function k(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());let L=this.accessibility;L&&!L.zombie&&(L.proxyProvider.updateProxyElementPositions(),L.getComponentOrder().forEach(function(Z){L.components[Z].onChartRender()}))}function S(L){let Z=L.options.accessibility;Z&&(Z.customComponents&&(this.options.accessibility.customComponents=Z.customComponents,delete Z.customComponents),nu(!0,this.options.accessibility,Z),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function R(){let L=this.accessibility,Z=this.options.accessibility,ce=this.renderer.boxWrapper.element,pe=this.title;if(Z&&Z.enabled)L&&!L.zombie?L.update():(this.accessibility=L=new C(this),L&&!L.zombie&&L.update(),ce.getAttribute("role")==="img"&&ce.removeAttribute("role"));else if(L)L.destroy&&L.destroy(),delete this.accessibility;else{this.renderTo.setAttribute("role","img"),this.renderTo.setAttribute("aria-hidden",!1),this.renderTo.setAttribute("aria-label",(pe&&pe.element.textContent||"").replace(/</g,"&lt;")),ce.setAttribute("aria-hidden",!0);let ve=document.getElementsByClassName("highcharts-description")[0];ve&&(ve.setAttribute("aria-hidden",!1),ve.classList.remove("highcharts-linked-description"))}}function W(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}C.i18nFormat=ct.i18nFormat,C.compose=function(L,Z,ce,pe,ve,$e){Co.compose(L),Ih.compose(pe),os.compose(L,Z),gt.compose(L),Vh.compose(L,ce,pe),ct.compose(L),de.compose(L,ve),$e&&tn.compose(L,$e);let Xe=L.prototype;Xe.updateA11yEnabled||(Xe.updateA11yEnabled=R,oo(L,"destroy",y),oo(L,"render",k),oo(L,"update",S),["addSeries","init"].forEach(et=>{oo(L,et,function(){this.a11yDirty=!0})}),["afterApplyDrilldown","drillupall"].forEach(et=>{oo(L,et,function(){let Qe=this.accessibility;Qe&&!Qe.zombie&&Qe.update()})}),oo(ce,"update",W),["update","updatedData","remove"].forEach(et=>{oo(pe,et,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})}))}})(Wh||(Wh={})),nu(!0,Wy,{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',highContrastMode:"auto",keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#334eff",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","navigator","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:void 0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}},navigator:{accessibility:{enabled:!0}}},{accessibility:{highContrastTheme:ff},lang:{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{#each additionalAnnotationPoints}, also related to {this}{/each}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},navigator:{handleLabel:"{#eq handleIx 0}Start, percent{else}End, percent{/eq}",groupLabel:"Axis zoom",changeAnnouncement:"{axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#eq numPoints 1}bar{else}bars{/eq}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#eq numPoints 1}bar{else}bars{/eq}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#eq numPoints 1}slice{else}slices{/eq}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#eq numPoints 1}point{else}points{/eq}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#eq numPoints 1}box{else}boxes{/eq}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#eq numPoints 1}bubbles{else}bubble{/eq}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each names}{#unless @first},{/unless}{#if @last} and{/if} {this}{/each}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each names}{#unless @first},{/unless}{#if @last} and{/if} {this}{/each}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}slice{else}slices{/eq}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#eq series.points.length 1}slice{else}slices{/eq}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}point{else}points{/eq}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#eq series.points.length 1}point{else}points{/eq}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}box{else}boxes{/eq}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#eq series.points.length 1}box{else}boxes{/eq}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}area{else}areas{/eq}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#eq series.points.length 1}area{else}areas{/eq}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{#each annotations}Annotation: {this}{/each}"}}}});let gf=Wh,Pr=Y();Pr.i18nFormat=gf.i18nFormat,Pr.A11yChartUtilities=be,Pr.A11yHTMLUtilities=dt,Pr.AccessibilityComponent=yt,Pr.KeyboardNavigationHandler=Tt,Pr.SeriesAccessibilityDescriber=wa,gf.compose(Pr.Chart,Pr.Legend,Pr.Point,Pr.Series,Pr.SVGElement,Pr.RangeSelector);let Gh=Y();return Te.default})())})(AP);var s$=AP.exports;const o$=gl(s$);var NP={exports:{}};(function(t,e){(function(n,i){t.exports=i(n._Highcharts)})(typeof window>"u"?wc:window,n=>(()=>{var i,s={944:oe=>{oe.exports=n}},a={};function u(oe){var X=a[oe];if(X!==void 0)return X.exports;var O=a[oe]={exports:{}};return s[oe](O,O.exports,u),O.exports}u.n=oe=>{var X=oe&&oe.__esModule?()=>oe.default:()=>oe;return u.d(X,{a:X}),X},u.d=(oe,X)=>{for(var O in X)u.o(X,O)&&!u.o(oe,O)&&Object.defineProperty(oe,O,{enumerable:!0,get:X[O]})},u.o=(oe,X)=>Object.prototype.hasOwnProperty.call(oe,X);var m={};u.d(m,{default:()=>le});var x=u(944),_=u.n(x);let{setOptions:j}=_(),I=`
        /* Colors for data series and points */
        --highcharts-color-0: #2caffe;
        --highcharts-color-1: #544fc5;
        --highcharts-color-2: #00e272;
        --highcharts-color-3: #fe6a35;
        --highcharts-color-4: #6b8abc;
        --highcharts-color-5: #d568fb;
        --highcharts-color-6: #2ee0ca;
        --highcharts-color-7: #fa4b42;
        --highcharts-color-8: #feb56a;
        --highcharts-color-9: #91e8e1;

    /* Chart background, point stroke for markers and columns etc */
    --highcharts-background-color: #ffffff;

    /*
    Neutral colors, grayscale by default. The default colors are defined by
    mixing the background-color with neutral, with a weight corresponding to
    the number in the name.

    https://www.highcharts.com/samples/highcharts/css/palette-helper
    */

    /* Strong text. */
    --highcharts-neutral-color-100: #000000;

    /* Main text, axis labels and some strokes. */
    --highcharts-neutral-color-80: #333333;

    /* Axis title, connector fallback. */
    --highcharts-neutral-color-60: #666666;

    /* Credits text, export menu stroke. */
    --highcharts-neutral-color-40: #999999;

    /* Disabled texts, button strokes, crosshair etc. */
    --highcharts-neutral-color-20: #cccccc;

    /* Grid lines etc. */
    --highcharts-neutral-color-10: #e6e6e6;

    /* Minor grid lines etc. */
    --highcharts-neutral-color-5: #f2f2f2;

    /* Tooltip background, button fills, map null points. */
    --highcharts-neutral-color-3: #f7f7f7;

    /*
    Highlights, shades of blue by default
    */

    /* Drilldown clickable labels, color axis max color. */
    --highcharts-highlight-color-100: #0022ff;

    /* Selection marker, menu hover, button hover, chart border, navigator
    series. */
    --highcharts-highlight-color-80: #334eff;

    /* Navigator mask fill. */
    --highcharts-highlight-color-60: #667aff;

    /* Ticks and axis line. */
    --highcharts-highlight-color-20: #ccd3ff;

    /* Pressed button, color axis min color. */
    --highcharts-highlight-color-10: #e6e9ff;

    /* Indicators */
    --highcharts-positive-color: #06b535;
    --highcharts-negative-color: #f21313;

    /* Transparent colors for annotations */
    --highcharts-annotation-color-0: rgba(130, 170, 255, 0.4);
    --highcharts-annotation-color-1: rgba(139, 191, 216, 0.4);
    --highcharts-annotation-color-2: rgba(150, 216, 192, 0.4);
    --highcharts-annotation-color-3: rgba(156, 229, 161, 0.4);
    --highcharts-annotation-color-4: rgba(162, 241, 130, 0.4);
    --highcharts-annotation-color-5: rgba(169, 255, 101, 0.4);
`,U=`
    /* Colors for data series and points */
    --highcharts-color-1: #00e272;
    --highcharts-color-2: #efdf00;

    /* UI colors */
    --highcharts-background-color: #141414;

    /*
        Neutral color variations
        https://www.highcharts.com/samples/highcharts/css/palette-helper
    */
    --highcharts-neutral-color-100: #ffffff;
    --highcharts-neutral-color-80: #d0d0d0;
    --highcharts-neutral-color-60: #a1a1a1;
    --highcharts-neutral-color-40: #727272;
    --highcharts-neutral-color-20: #434343;
    --highcharts-neutral-color-10: #2c2c2c;
    --highcharts-neutral-color-5: #202020;
    --highcharts-neutral-color-3: #1b1b1b;

    /* Highlight color variations */
    --highcharts-highlight-color-100: #2caffe;
    --highcharts-highlight-color-80: #2790cf;
    --highcharts-highlight-color-60: #2271a0;
    --highcharts-highlight-color-20: #193343;
    --highcharts-highlight-color-10: #16242b;
`,J=`
:root,
.highcharts-light {
    ${I}
}

@media (prefers-color-scheme: dark) {
    :root {
        ${U}
    }
}

.highcharts-dark {
    ${U}
}
`;(function(oe){oe.options={colors:["var(--highcharts-color-0)","var(--highcharts-color-1)","var(--highcharts-color-2)","var(--highcharts-color-3)","var(--highcharts-color-4)","var(--highcharts-color-5)","var(--highcharts-color-6)","var(--highcharts-color-7)","var(--highcharts-color-8)","var(--highcharts-color-9)"],global:{buttonTheme:{fill:"var(--highcharts-neutral-color-3)",stroke:"var(--highcharts-neutral-color-20)",style:{color:"var(--highcharts-neutral-color-80)"},states:{hover:{fill:"var(--highcharts-neutral-color-10)"},select:{fill:"var(--highcharts-highlight-color-10)",style:{color:"var(--highcharts-neutral-color-100)"}},disabled:{style:{color:"var(--highcharts-neutral-color-20)"}}}}},chart:{borderColor:"var(--highcharts-highlight-color-80)",backgroundColor:"var(--highcharts-background-color)",plotBorderColor:"var(--highcharts-neutral-color-20)"},title:{style:{color:"var(--highcharts-neutral-color-80)"}},subtitle:{style:{color:"var(--highcharts-neutral-color-60)"}},caption:{style:{color:"var(--highcharts-neutral-color-60)"}},plotOptions:{line:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},area:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},spline:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},areaspline:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},column:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},bar:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},scatter:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},pie:{borderColor:"var(--highcharts-background-color)"},hlc:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},ohlc:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},candlestick:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)",lineColor:"var(--highcharts-neutral-color-100)",upColor:"var(--highcharts-background-color)"},flags:{states:{hover:{lineColor:"var(--highcharts-neutral-color-100)",fillColor:"var(--highcharts-highlight-color-20)"},select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)",fillColor:"var(--highcharts-background-color)",style:{color:"var(--highcharts-neutral-color-100)"}},arearange:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},areasplinerange:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},boxplot:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)",fillColor:"var(--highcharts-background-color)"},bubble:{marker:{states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},columnrange:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},columnpyramid:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},errorbar:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)",fillColor:"var(--highcharts-background-color)",color:"var(--highcharts-neutral-color-100)"},gauge:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}},dataLabels:{borderColor:"var(--highcharts-neutral-color-20)"},dial:{backgroundColor:"var(--highcharts-neutral-color-100)",borderColor:"var(--highcharts-neutral-color-20)"},pivot:{borderColor:"var(--highcharts-neutral-color-20)",backgroundColor:"var(--highcharts-neutral-color-100)"}},packedbubble:{marker:{states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},polygon:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},waterfall:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-neutral-color-80)",lineColor:"var(--highcharts-neutral-color-80)"},scatter3d:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},map:{states:{hover:{borderColor:"var(--highcharts-neutral-color-60)"},select:{color:"var(--highcharts-neutral-color-20)"}},nullColor:"var(--highcharts-neutral-color-3)",borderColor:"var(--highcharts-neutral-color-10)"},mapline:{states:{hover:{borderColor:"var(--highcharts-neutral-color-60)"},select:{color:"var(--highcharts-neutral-color-20)"}},nullColor:"var(--highcharts-neutral-color-3)",borderColor:"var(--highcharts-neutral-color-10)"},mappoint:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}},dataLabels:{style:{color:"var(--highcharts-neutral-color-100)"}}},mapbubble:{marker:{states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},heatmap:{marker:{states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}},nullColor:"var(--highcharts-neutral-color-3)"},xrange:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},gantt:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},sankey:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},dependencywheel:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},funnel:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},pyramid:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},histogram:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},bellcurve:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},item:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}},borderColor:"var(--highcharts-background-color)"},organization:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-neutral-color-60)",link:{color:"var(--highcharts-neutral-color-60)"}},solidgauge:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}},dataLabels:{borderColor:"var(--highcharts-neutral-color-20)"},dial:{backgroundColor:"var(--highcharts-neutral-color-100)",borderColor:"var(--highcharts-neutral-color-20)"},pivot:{borderColor:"var(--highcharts-neutral-color-20)",backgroundColor:"var(--highcharts-neutral-color-100)"}},timeline:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}},dataLabels:{backgroundColor:"var(--highcharts-background-color)",borderColor:"var(--highcharts-neutral-color-40)",color:"var(--highcharts-neutral-color-80)"}},treemap:{states:{hover:{borderColor:"var(--highcharts-neutral-color-40)"}},borderColor:"var(--highcharts-neutral-color-10)"},sunburst:{states:{hover:{borderColor:"var(--highcharts-neutral-color-40)"}},borderColor:"var(--highcharts-neutral-color-10)"},treegraph:{states:{hover:{borderColor:"var(--highcharts-neutral-color-40)"}},borderColor:"var(--highcharts-neutral-color-10)",link:{color:"var(--highcharts-neutral-color-60)"}}},legend:{borderColor:"var(--highcharts-neutral-color-40)",navigation:{activeColor:"var(--highcharts-highlight-color-100)",inactiveColor:"var(--highcharts-neutral-color-20)"},itemStyle:{color:"var(--highcharts-neutral-color-80)"},itemHoverStyle:{color:"var(--highcharts-neutral-color-100)"},itemHiddenStyle:{color:"var(--highcharts-neutral-color-60)"},title:{style:{color:"var(--highcharts-neutral-color-80)"}},bubbleLegend:{labels:{style:{color:"var(--highcharts-neutral-color-100)"}}}},loading:{style:{backgroundColor:"var(--highcharts-background-color)"}},tooltip:{backgroundColor:"var(--highcharts-background-color)",style:{color:"var(--highcharts-neutral-color-80)"}},credits:{style:{color:"var(--highcharts-neutral-color-40)"}},xAxis:{labels:{style:{color:"var(--highcharts-neutral-color-80)"}},title:{style:{color:"var(--highcharts-neutral-color-60)"}},minorGridLineColor:"var(--highcharts-neutral-color-5)",minorTickColor:"var(--highcharts-neutral-color-40)",lineColor:"var(--highcharts-neutral-color-80)",gridLineColor:"var(--highcharts-neutral-color-10)",tickColor:"var(--highcharts-neutral-color-80)",grid:{borderColor:"var(--highcharts-neutral-color-20)"}},yAxis:{labels:{style:{color:"var(--highcharts-neutral-color-80)"}},title:{style:{color:"var(--highcharts-neutral-color-60)"}},minorGridLineColor:"var(--highcharts-neutral-color-5)",minorTickColor:"var(--highcharts-neutral-color-40)",lineColor:"var(--highcharts-neutral-color-80)",gridLineColor:"var(--highcharts-neutral-color-10)",tickColor:"var(--highcharts-neutral-color-80)",stackLabels:{style:{color:"var(--highcharts-neutral-color-100)"}},grid:{borderColor:"var(--highcharts-neutral-color-20)"}},navigator:{handles:{backgroundColor:"var(--highcharts-neutral-color-5)",borderColor:"var(--highcharts-neutral-color-40)"},outlineColor:"var(--highcharts-neutral-color-40)",xAxis:{gridLineColor:"var(--highcharts-neutral-color-10)",labels:{style:{color:"var(--highcharts-neutral-color-100)"}}}},rangeSelector:{inputStyle:{color:"var(--highcharts-highlight-color-80)"},labelStyle:{color:"var(--highcharts-neutral-color-60)"}},scrollbar:{barBackgroundColor:"var(--highcharts-neutral-color-20)",barBorderColor:"var(--highcharts-neutral-color-20)",buttonArrowColor:"var(--highcharts-neutral-color-80)",buttonBackgroundColor:"var(--highcharts-neutral-color-10)",buttonBorderColor:"var(--highcharts-neutral-color-20)",trackBorderColor:"var(--highcharts-neutral-color-20)"},pane:{background:{borderColor:"var(--highcharts-neutral-color-20)",backgroundColor:{stops:[[0,"var(--highcharts-background-color)"],[1,"var(--highcharts-neutral-color-10)"]]}}},zAxis:{labels:{style:{color:"var(--highcharts-neutral-color-80)"}},title:{style:{color:"var(--highcharts-neutral-color-60)"}},minorGridLineColor:"var(--highcharts-neutral-color-5)",minorTickColor:"var(--highcharts-neutral-color-40)",lineColor:"var(--highcharts-neutral-color-80)",gridLineColor:"var(--highcharts-neutral-color-10)",tickColor:"var(--highcharts-neutral-color-80)"},colorAxis:{labels:{style:{color:"var(--highcharts-neutral-color-80)"}},title:{style:{color:"var(--highcharts-neutral-color-60)"}},minorGridLineColor:"var(--highcharts-neutral-color-5)",minorTickColor:"var(--highcharts-neutral-color-40)",lineColor:"var(--highcharts-neutral-color-80)",gridLineColor:"var(--highcharts-background-color)",tickColor:"var(--highcharts-neutral-color-80)",marker:{color:"var(--highcharts-neutral-color-40)"},minColor:"var(--highcharts-highlight-color-10)",maxColor:"var(--highcharts-highlight-color-100)"},mapNavigation:{buttonOptions:{style:{color:"var(--highcharts-neutral-color-60)"},theme:{fill:"var(--highcharts-background-color)",stroke:"var(--highcharts-neutral-color-10)"}}},accessibility:{keyboardNavigation:{focusBorder:{style:{color:"var(--highcharts-highlight-color-80)"}}}},drilldown:{activeAxisLabelStyle:{color:"var(--highcharts-highlight-color-100)"},activeDataLabelStyle:{color:"var(--highcharts-highlight-color-100)"}},annotations:{labelOptions:{borderColor:"var(--highcharts-neutral-color-100)",backgroundColor:"color-mix(in srgb, var(--highcharts-neutral-color-100) 75%, transparent)"},controlPointOptions:{style:{fill:"var(--highcharts-background-color)",stroke:"var(--highcharts-neutral-color-100)"}},types:{elliottWave:{labelOptions:{style:{color:"var(--highcharts-neutral-color-60)"}}},fibonacci:{typeOptions:{lineColor:"var(--highcharts-neutral-color-40)"},labelOptions:{style:{color:"var(--highcharts-neutral-color-60)"}}},fibonacciTimeZones:{typeOptions:{line:{stroke:"var(--highcharts-neutral-color-80)"}}},verticalLine:{labelOptions:{style:{color:"var(--highcharts-neutral-color-60)"}}},measure:{typeOptions:{label:{style:{color:"var(--highcharts-neutral-color-60)"}}}}},shapeOptions:{fill:"color-mix(in srgb, var(--highcharts-neutral-color-100) 75%, transparent)",stroke:"color-mix(in srgb, var(--highcharts-neutral-color-100) 75%, transparent)"}},navigation:{buttonOptions:{symbolFill:"var(--highcharts-neutral-color-60)",symbolStroke:"var(--highcharts-neutral-color-60)",theme:{fill:"var(--highcharts-background-color)"}},menuStyle:{background:"var(--highcharts-background-color)"},menuItemStyle:{color:"var(--highcharts-neutral-color-80)"},menuItemHoverStyle:{background:"var(--highcharts-neutral-color-5)"}}},oe.apply=function(){let X=document.createElement("style");X.nonce="highcharts",X.innerText=J,document.getElementsByTagName("head")[0].appendChild(X),j(oe.options)}})(i||(i={}));let ne=i;_().theme=ne.options,ne.apply();let le=_();return m.default})())})(NP);var a$=NP.exports;const l$=gl(a$),c$=({eyebrow:t,title:e,description:n,stats:i,images:s,heroClassName:a,heroImage:u,imageOnly:m,children:x})=>{const _=a??"";return o.jsxs("section",{className:_,children:[u?o.jsx("img",{src:u.src,alt:u.alt}):null,m?null:o.jsxs("div",{className:"finance-hero__content",children:[o.jsx("h1",{children:e}),o.jsx("p",{children:n}),o.jsx("div",{className:"finance-hero__stats",children:i.map(j=>o.jsxs("article",{children:[o.jsx("span",{children:j.label}),o.jsx("strong",{children:j.value})]},j.id))}),x]})]})},u$="/assets/planner-04-BxBnIaqo.jpg",h$="/assets/planner-07-BRybATVY.jpg",d$="/assets/planner-02-BwUUM3BT.jpg",vd=t=>{t&&(typeof t=="function"?t(d0):typeof t.default=="function"&&t.default(d0))};let sS=!1;const p$=()=>{sS||typeof window>"u"||(vd(e$),vd(n$),vd(r$),vd(o$),vd(l$),sS=!0)};p$();const Oa={food:{label:"Courses et alimentation",color:"#FECACA"},housing:{label:"Logement et charges",color:"#FBCFE8"},transport:{label:"Abonnements",color:"#C7D2FE"},clothing:{label:"Shopping",color:"#FDE68A"},beauty:{label:"Restaurants et bars",color:"#FBCFE8"},leisure:{label:"Loisirs",color:"#BBF7D0"},health:{label:"Taxes et impts",color:"#BFDBFE"},friends:{label:"Amis",color:"#FCA5A5"}},jP=[{src:u$,alt:"Moodboard budget"},{src:h$,alt:"Carnet d'pargne inspir"},{src:d$,alt:"Planification crative"}];jP[1];const Us=new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}),f$=new Intl.DateTimeFormat("fr-FR",{month:"long",year:"numeric"}),m$=new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"short",year:"numeric"}),g$=14,y$=12,IP=t=>{const e=t.getFullYear(),n=`${t.getMonth()+1}`.padStart(2,"0"),i=`${t.getDate()}`.padStart(2,"0");return`${e}-${n}-${i}`},PP=()=>IP(new Date),y_=t=>`${t.getFullYear()}-${`${t.getMonth()+1}`.padStart(2,"0")}`,Pd=t=>t.length>=7?t.slice(0,7):"",MP=t=>t.length===0?t:t[0].toUpperCase()+t.slice(1),v_=t=>{const[e,n]=t.split("-"),i=Number(e),s=Number(n);return!Number.isFinite(i)||!Number.isFinite(s)||s<1||s>12?new Date:new Date(i,s-1,1)},RP=t=>MP(f$.format(v_(t))),oS=t=>{const e=new Date(t);return Number.isNaN(e.getTime())?t:MP(m$.format(e))},x_=(t,e)=>{const n=v_(t),i=new Date(n.getFullYear(),n.getMonth()+e,1);return y_(i)},v$=(t,e)=>{const n=[];for(let i=1;i<=e;i+=1)n.push(x_(t,i));return n},x$=(t,e)=>{const n=[];for(let i=1;i<=e;i+=1)n.push(x_(t,-i));return n},aS=t=>{const e=[];return t.forEach(n=>{const i=Pd(n.date);if(!i)return;let s=e.find(a=>a.monthKey===i);s||(s={monthKey:i,monthLabel:RP(i),entries:[]},e.push(s)),s.entries.push(n)}),e},lS=(t,e,n,i)=>{if(!t)return null;const s=v_(t);if(Number.isNaN(s.getTime()))return null;const a=new Date(s.getFullYear(),s.getMonth()+1,0),u=new Map;e.forEach(U=>{const J=U.direction==="in"?U.amount:-U.amount,ne=u.get(U.date)??0;u.set(U.date,Fo(ne+J))});const m=[],x=[];let _=n;for(let U=new Date(s);U<=a;U.setDate(U.getDate()+1)){const J=IP(U),ne=u.get(J)??0;_=Fo(_+ne),m.push(U.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})),x.push(_)}if(x.length===0)return null;if(!i||i<=0||x.length<=i)return{labels:m,values:x};const j=[],I=[];for(let U=0;U<i;U+=1){const J=U/(i-1),ne=Math.min(x.length-1,Math.round(J*(x.length-1)));j.push(m[ne]),I.push(x[ne])}return{labels:j,values:I}},b$=t=>y_(new Date)===t?PP():`${t}-01`,Fo=t=>Math.round(t*100)/100,hm=t=>{if(t===0)return Us.format(0);const e=Us.format(Math.abs(t));return t>0?`+${e}`:`-${e}`},w$=t=>{const e=t.reduce((s,a)=>s+a.value,0);if(e<=0)return"conic-gradient(#e2e8f0 0deg, #e2e8f0 360deg)";let n=0;return`conic-gradient(${t.map(s=>{const a=s.value/e*360,u=n+a,m=`${s.color} ${n.toFixed(2)}deg ${u.toFixed(2)}deg`;return n=u,m}).join(", ")})`},_$=()=>({food:0,housing:0,transport:0,clothing:0,beauty:0,leisure:0,health:0,friends:0}),E$="planner.finance.expenses",k$="planner.finance.monthlySnapshots",T$=()=>{var De;const[t,e]=Si(E$,()=>[]),[n,i]=Si(k$,()=>({})),[s,a]=F.useState(()=>({label:"",amount:"",category:"food",date:PP(),direction:"out"})),[u,m]=F.useState(!1),x=F.useRef(null),[_,j]=F.useState(!1),I=F.useRef(null),[U,J]=F.useState(!1);F.useEffect(()=>(document.body.classList.add("planner-page--white"),()=>{document.body.classList.remove("planner-page--white")}),[]),F.useEffect(()=>{if(!_)return;const _e=ue=>{I.current&&(I.current.contains(ue.target)||j(!1))},Se=ue=>{ue.key==="Escape"&&j(!1)};return window.addEventListener("mousedown",_e),window.addEventListener("keydown",Se),()=>{window.removeEventListener("mousedown",_e),window.removeEventListener("keydown",Se)}},[_]),F.useEffect(()=>{if(!u)return;const _e=ue=>{x.current&&(x.current.contains(ue.target)||m(!1))},Se=ue=>{ue.key==="Escape"&&m(!1)};return window.addEventListener("mousedown",_e),window.addEventListener("keydown",Se),()=>{window.removeEventListener("mousedown",_e),window.removeEventListener("keydown",Se)}},[u]),F.useEffect(()=>{s.direction!=="out"&&j(!1)},[s.direction]);const ne=F.useMemo(()=>t.map(_e=>({..._e,direction:_e.direction??"out"})),[t]),le=F.useMemo(()=>new Date,[]),oe=F.useMemo(()=>y_(le),[le]),X=F.useMemo(()=>s.direction==="in"?"Revenus":"Dpense",[s.direction]),O=F.useMemo(()=>{if(s.direction!=="out")return"Catgorie";const _e=s.category?Oa[s.category]:void 0;return(_e==null?void 0:_e.label)??"Catgorie"},[s.category,s.direction]),H=F.useMemo(()=>{const _e=new Set;return ne.forEach(Se=>{const ue=Pd(Se.date);ue&&_e.add(ue)}),Object.keys(n).forEach(Se=>{Se&&_e.add(Se)}),_e.add(oe),x$(oe,y$).forEach(Se=>{_e.add(Se)}),v$(oe,g$).forEach(Se=>{_e.add(Se)}),Array.from(_e).sort((Se,ue)=>ue.localeCompare(Se))},[ne,n,oe]),[te,Te]=F.useState(()=>oe);F.useEffect(()=>{H.length!==0&&(H.includes(te)||Te(H[0]??oe))},[H,te,oe]);const ge=F.useMemo(()=>RP(te),[te]),Y=H.findIndex(_e=>_e===te),M=Y>=0&&Y<H.length-1,G=Y>0,z=_e=>{if(H.length===0)return;const Se=H.findIndex(de=>de===te);if(Se===-1){Te(H[0]);return}const Fe=H[Se+(_e==="prev"?1:-1)];Fe&&Te(Fe)};F.useEffect(()=>{a(_e=>Pd(_e.date)===te&&_e.date?_e:{..._e,date:b$(te)})},[te]);const K=F.useMemo(()=>ne.filter(Se=>Pd(Se.date)===te).sort((Se,ue)=>Se.date===ue.date?ue.id.localeCompare(Se.id):ue.date.localeCompare(Se.date)),[ne,te]),se=F.useMemo(()=>x_(te,-1),[te]),ie=F.useMemo(()=>ne.filter(_e=>Pd(_e.date)===se),[ne,se]),dt=F.useMemo(()=>K.filter(_e=>_e.direction==="out"),[K]),Dt=F.useMemo(()=>K.filter(_e=>_e.direction==="in"),[K]),Ge=F.useMemo(()=>dt.reduce((_e,Se)=>(Se.category&&(_e[Se.category]=(_e[Se.category]??0)+Se.amount),_e),_$()),[dt]),ut=F.useMemo(()=>Fo(dt.reduce((_e,Se)=>_e+Se.amount,0)),[dt]),Re=F.useMemo(()=>Fo(Dt.reduce((_e,Se)=>_e+Se.amount,0)),[Dt]),Ke=F.useMemo(()=>Fo(Re-ut),[Re,ut]),ct=F.useMemo(()=>[{id:"income",label:"Entres",value:Us.format(Re)},{id:"expenses",label:"Sorties",value:Us.format(ut)},{id:"balance",label:"Solde du mois",value:Us.format(Ke)}],[Ke,Re,ut]),Et=F.useMemo(()=>Object.entries(Ge).filter(([,_e])=>_e>0).sort(([,_e],[,Se])=>Se-_e).slice(0,3),[Ge]);F.useMemo(()=>{if(Et.length===0)return null;const[_e,Se]=Et[0],ue=Oa[_e],Fe=Se*.9;return{label:ue.label,current:Se,target:Fe}},[Et]);const wt=n[te],vt=(wt==null?void 0:wt.startingAmount)??0,Ot=((De=n[se])==null?void 0:De.startingAmount)??0,ht=F.useMemo(()=>Fo(vt+Ke),[vt,Ke]),Pt=F.useMemo(()=>Fo(ht-vt),[ht,vt]);F.useMemo(()=>vt<=0?0:Pt/vt*100,[Pt,vt]);const st=F.useMemo(()=>Object.entries(Ge).filter(([,_e])=>_e>0).map(([_e,Se])=>({label:Oa[_e].label,value:Se,color:Oa[_e].color})),[Ge]),be=F.useMemo(()=>w$(st),[st]),ae=st.length>0,ke=F.useMemo(()=>{const _e=lS(te,K,vt);if(!_e)return null;const Se=lS(se,ie,Ot,_e.values.length);return{labels:_e.labels,current:_e.values,previous:(Se==null?void 0:Se.values)??null}},[te,K,vt,se,ie,Ot]),[me,Ye]=F.useState(()=>(wt==null?void 0:wt.startingAmount)!==void 0?wt.startingAmount.toString():"");F.useEffect(()=>{(wt==null?void 0:wt.startingAmount)!==void 0?Ye(wt.startingAmount.toString()):Ye("")},[wt,te]);const Pe=F.useMemo(()=>K.slice(0,2),[K]),ze=F.useMemo(()=>aS(Pe),[Pe]),we=F.useMemo(()=>aS(K),[K]),yt=K.length>Pe.length,xt=(_e,Se)=>{a(ue=>({...ue,[_e]:Se}))},Tt=_e=>{_e.preventDefault();const Se=parseFloat(s.amount.replace(",","."));if(!Number.isFinite(Se)||Se<=0)return;const ue=s.label.trim(),Fe={id:`finance-${Date.now()}`,label:ue.length>0?ue:s.direction==="in"?"Revenus":"Dpense",amount:Fo(Se),date:s.date,direction:s.direction,...s.direction==="out"?{category:s.category}:{}};e(de=>[Fe,...de].sort((je,Ze)=>je.date===Ze.date?Ze.id.localeCompare(je.id):Ze.date.localeCompare(je.date))),a(de=>({...de,label:"",amount:""}))},Ct=_e=>{e(Se=>Se.filter(ue=>ue.id!==_e))},pt=_e=>{_e.preventDefault();const Se=me.replace(",",".").trim();if(Se.length===0){i(de=>{const ye={...de};return delete ye[te],ye});return}const ue=parseFloat(Se);if(!Number.isFinite(ue)||ue<0)return;const Fe=Fo(ue);i(de=>({...de,[te]:{startingAmount:Fe}}))};return o.jsxs("div",{className:"finance-page aesthetic-page",children:[o.jsx(c$,{eyebrow:"quilibre pastel",title:"Mes finances",description:"Visualise tes entres et tes sorties pour mieux organiser ton mois.",stats:ct,images:jP,tone:"blue",heroClassName:"finance-hero dashboard-panel"}),o.jsxs("div",{className:"finance-heading-row",children:[o.jsx(yi,{eyebrow:"Finances",title:"Mes finances"}),o.jsxs("div",{className:"calendar-month-nav finance-hero__month-nav",children:[o.jsx("button",{type:"button",onClick:()=>z("prev"),disabled:!M,"aria-label":"Mois prcdent",children:"<"}),o.jsx("button",{type:"button",onClick:()=>z("next"),disabled:!G,"aria-label":"Mois suivant",children:">"})]})]}),o.jsxs("section",{className:"finance-dashboard",children:[o.jsxs("div",{className:"finance-dashboard__main",children:[o.jsxs("section",{className:"finance-summary dashboard-panel",children:[o.jsxs("div",{className:"finance-section-chip",children:[o.jsx("span",{className:"finance-section-chip__title",children:"Rpartition par catgorie"}),o.jsx("div",{className:"finance-section-chip__divider","aria-hidden":"true"})]}),o.jsxs("header",{className:"finance-section-header",children:[o.jsx("span",{className:"finance-section-header__eyebrow",children:"Vue densemble"}),o.jsx("p",{children:"Repre rapidement les catgories qui te cotent le plus"})]}),o.jsx("div",{className:"finance-summary__grid",children:Object.entries(Ge).map(([_e,Se])=>{const ue=Oa[_e];return o.jsxs("article",{className:"finance-summary__card",style:{borderColor:ue.color,boxShadow:`0 32px 60px ${ue.color}33`},children:[o.jsx("span",{className:"finance-summary__label",children:ue.label}),o.jsx("strong",{className:"finance-summary__value",children:Us.format(Se)})]},_e)})})]}),o.jsxs("section",{className:"finance-form dashboard-panel",children:[o.jsxs("div",{className:"finance-section-chip",children:[o.jsx("span",{className:"finance-section-chip__title",children:"Ajouter une dpense"}),o.jsx("div",{className:"finance-section-chip__divider","aria-hidden":"true"})]}),o.jsxs("header",{className:"finance-section-header",children:[o.jsx("span",{className:"finance-section-header__eyebrow",children:"Ajoute ton mouvement"}),o.jsx("p",{children:"Enregistre en un instant les dpenses et les revenus du mois."})]}),o.jsxs("form",{onSubmit:Tt,className:"finance-form__grid",children:[o.jsxs("label",{className:"finance-form__field",children:[o.jsx("span",{children:"Intitul"}),o.jsx("input",{type:"text",value:s.label,onChange:_e=>xt("label",_e.target.value),placeholder:"Ex : Courses semaine"})]}),o.jsxs("label",{className:"finance-form__field",children:[o.jsx("span",{children:"Montant"}),o.jsx("input",{type:"text",value:s.amount,onChange:_e=>xt("amount",_e.target.value),placeholder:"Ex : 45,90",required:!0})]}),o.jsxs("label",{className:"finance-form__field",children:[o.jsx("span",{children:"Type"}),o.jsxs("div",{className:"finance-form__select-field",ref:x,children:[o.jsxs("button",{type:"button",className:"finance-form__select-trigger","aria-haspopup":"listbox","aria-expanded":u,onClick:()=>m(_e=>!_e),children:[o.jsx("span",{children:X}),o.jsx("svg",{className:"finance-form__select-chevron",viewBox:"0 0 20 20","aria-hidden":"true",children:o.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})]}),u?o.jsxs("div",{className:"finance-form__select-menu",role:"listbox",children:[o.jsx("button",{type:"button",role:"option","aria-selected":s.direction==="out",className:s.direction==="out"?"is-selected":void 0,onClick:()=>{xt("direction","out"),m(!1)},children:"Dpense"}),o.jsx("button",{type:"button",role:"option","aria-selected":s.direction==="in",className:s.direction==="in"?"is-selected":void 0,onClick:()=>{xt("direction","in"),m(!1)},children:"Revenus"})]}):null]})]}),s.direction==="out"&&o.jsxs("label",{className:"finance-form__field",children:[o.jsx("span",{children:"Catgorie"}),o.jsxs("div",{className:"finance-form__select-field",ref:I,children:[o.jsxs("button",{type:"button",className:"finance-form__select-trigger","aria-haspopup":"listbox","aria-expanded":_,onClick:()=>j(_e=>!_e),children:[o.jsx("span",{children:O}),o.jsx("svg",{className:"finance-form__select-chevron",viewBox:"0 0 20 20","aria-hidden":"true",children:o.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})]}),_?o.jsx("div",{className:"finance-form__select-menu",role:"listbox",children:Object.entries(Oa).map(([_e,Se])=>o.jsx("button",{type:"button",role:"option","aria-selected":s.category===_e,className:s.category===_e?"is-selected":void 0,onClick:()=>{xt("category",_e),j(!1)},children:Se.label},_e))}):null]})]}),o.jsxs("label",{className:"finance-form__field",children:[o.jsx("span",{children:"Date"}),o.jsx("input",{type:"date",value:s.date,onChange:_e=>xt("date",_e.target.value),required:!0})]}),o.jsx("button",{type:"submit",className:"finance-form__submit",children:"Ajouter"})]})]}),o.jsxs("section",{className:"finance-history dashboard-panel",children:[o.jsx("header",{className:"finance-section-header",children:o.jsxs("div",{className:"finance-history__header",children:[o.jsxs("div",{className:"finance-history__title",children:[o.jsx("span",{className:"finance-section-header__eyebrow",children:"Mmoire du mois"}),o.jsx("h2",{children:"Historique du mois"})]}),yt?o.jsx("button",{type:"button",className:"finance-history__collapse",onClick:()=>J(!0),children:"Tout afficher"}):null]})}),K.length===0?o.jsxs("p",{className:"finance-history__empty",children:["Aucun mouvement enregistr pour ",ge,"."]}):o.jsx("div",{className:"finance-history__groups",children:ze.map(_e=>o.jsxs("div",{className:"finance-history__group",children:[o.jsx("div",{className:"finance-history__month-chip",children:_e.monthLabel}),o.jsx("ul",{className:"finance-history__list",children:_e.entries.map(Se=>{const ue=Se.category?Oa[Se.category]:void 0,Fe=Se.direction==="out"?-Se.amount:Se.amount,de=Se.direction==="in"?"#db2777":(ue==null?void 0:ue.color)??"#1e1b4b",ye=Se.direction==="in"?"Revenus":(ue==null?void 0:ue.label)??"Dpense",je=oS(Se.date),Ze=Se.direction==="in"?"Entre":"Sortie";return o.jsxs("li",{className:"finance-history__item",children:[o.jsx("div",{className:"finance-history__indicator",style:{backgroundColor:de},children:o.jsx("span",{"aria-hidden":"true",children:Se.direction==="in"?"+":"-"})}),o.jsxs("div",{className:"finance-history__details",children:[o.jsxs("div",{className:"finance-history__row",children:[o.jsx("span",{className:"finance-history__label",children:Se.label}),o.jsx("span",{className:"finance-history__amount",style:{color:de},children:hm(Fe)}),o.jsx("button",{type:"button",className:"finance-history__delete",onClick:()=>Ct(Se.id),"aria-label":`Supprimer ${Se.label}`,children:""})]}),o.jsxs("div",{className:"finance-history__meta",children:[o.jsx("span",{className:"finance-history__category-chip",style:{color:de},children:ye}),o.jsx("span",{className:"finance-history__direction",children:Ze}),o.jsx("span",{className:"finance-history__date",children:je})]})]})]},Se.id)})})]},_e.monthKey))})]})]}),o.jsx("aside",{className:"finance-dashboard__aside",children:o.jsxs("section",{className:"finance-balance dashboard-panel",children:[o.jsxs("div",{className:"finance-section-chip",children:[o.jsx("span",{className:"finance-section-chip__title",children:"Balance du mois"}),o.jsx("div",{className:"finance-section-chip__divider","aria-hidden":"true"})]}),o.jsxs("header",{className:"finance-section-header finance-section-header--vertical",children:[o.jsx("span",{className:"finance-section-header__eyebrow",children:"Suivi du mois"}),o.jsx("p",{children:"Dfinis ton solde de dpart pour un suivi prcis"})]}),o.jsxs("form",{className:"finance-balance__form",onSubmit:pt,children:[o.jsxs("label",{className:"finance-balance__field",children:[o.jsx("span",{children:"Argent au dbut du mois"}),o.jsx("input",{type:"text",value:me,onChange:_e=>Ye(_e.target.value),placeholder:"Ex : 1200"})]}),o.jsx("button",{type:"submit",className:"finance-balance__action",children:"Enregistrer"})]}),o.jsxs("div",{className:"finance-balance__stats",children:[o.jsxs("article",{className:"finance-balance__stat",children:[o.jsx("span",{children:"Argent au dbut"}),o.jsx("strong",{children:Us.format(vt)})]}),o.jsxs("article",{className:"finance-balance__stat",children:[o.jsx("span",{children:"Revenus"}),o.jsx("strong",{children:hm(Re)})]}),o.jsxs("article",{className:"finance-balance__stat",children:[o.jsx("span",{children:"Dpenses"}),o.jsx("strong",{children:hm(-ut)})]}),o.jsxs("article",{className:"finance-balance__stat",children:[o.jsx("span",{children:"Argent  la fin"}),o.jsx("strong",{children:Us.format(ht)})]})]}),o.jsxs("div",{className:"finance-balance__chart-card",children:[o.jsx("h3",{children:"Diagramme en fromage"}),ae?o.jsxs("div",{className:"finance-pie",children:[o.jsx("div",{className:"finance-pie__figure",style:{backgroundImage:be}}),o.jsx("ul",{className:"finance-pie__legend",children:st.map(_e=>o.jsxs("li",{children:[o.jsx("span",{className:"finance-pie__swatch",style:{backgroundColor:_e.color}}),o.jsx("span",{className:"finance-pie__label",children:_e.label}),o.jsx("span",{className:"finance-pie__value",children:Us.format(_e.value)})]},_e.label))})]}):o.jsx("p",{className:"finance-balance__empty",children:"Ajoute une dpense pour visualiser la rpartition."})]})]})})]}),ke?o.jsxs("section",{className:"finance-trend dashboard-panel",children:[o.jsxs("header",{className:"finance-section-header",children:[o.jsxs("div",{className:"finance-history__title",children:[o.jsx("span",{className:"finance-section-header__eyebrow",children:"Perspective"}),o.jsx("h2",{children:"volution du solde"})]}),o.jsxs("div",{className:"finance-trend__legend",children:[o.jsxs("span",{children:[o.jsx("span",{className:"finance-trend__dot finance-trend__dot--current"}),"Mois en cours"]}),ke.previous?o.jsxs("span",{children:[o.jsx("span",{className:"finance-trend__dot finance-trend__dot--previous"}),"Mois prcdent"]}):null]})]}),o.jsx(C$,{series:ke})]}):null,U?o.jsxs("div",{className:"finance-history-modal",role:"dialog","aria-modal":"true",children:[o.jsx("div",{className:"finance-history-modal__backdrop",onClick:()=>J(!1)}),o.jsxs("div",{className:"finance-history-modal__panel",children:[o.jsxs("header",{className:"finance-history-modal__header",children:[o.jsxs("div",{children:[o.jsx("span",{className:"finance-section-header__eyebrow",children:"Mmoire complte"}),o.jsx("h3",{children:ge})]}),o.jsx("button",{type:"button",className:"modal__close",onClick:()=>J(!1),"aria-label":"Fermer l'historique",children:""})]}),o.jsx("div",{className:"finance-history-modal__content",children:K.length===0?o.jsxs("p",{className:"finance-history__empty",children:["Aucun mouvement enregistr pour ",ge,"."]}):we.map(_e=>o.jsxs("div",{className:"finance-history__group",children:[o.jsx("div",{className:"finance-history__month-chip",children:_e.monthLabel}),o.jsx("ul",{className:"finance-history__list",children:_e.entries.map(Se=>{const ue=Se.category?Oa[Se.category]:void 0,Fe=Se.direction==="out"?-Se.amount:Se.amount,de=Se.direction==="in"?"#db2777":(ue==null?void 0:ue.color)??"#1e1b4b",ye=Se.direction==="in"?"Revenus":(ue==null?void 0:ue.label)??"Dpense",je=oS(Se.date),Ze=Se.direction==="in"?"Entre":"Sortie";return o.jsxs("li",{className:"finance-history__item",children:[o.jsx("div",{className:"finance-history__indicator",style:{backgroundColor:de},children:o.jsx("span",{"aria-hidden":"true",children:Se.direction==="in"?"+":"-"})}),o.jsxs("div",{className:"finance-history__details",children:[o.jsxs("div",{className:"finance-history__row",children:[o.jsx("span",{className:"finance-history__label",children:Se.label}),o.jsx("span",{className:"finance-history__amount",style:{color:de},children:hm(Fe)}),o.jsx("button",{type:"button",className:"finance-history__delete",onClick:()=>Ct(Se.id),"aria-label":`Supprimer ${Se.label}`,children:""})]}),o.jsxs("div",{className:"finance-history__meta",children:[o.jsx("span",{className:"finance-history__category-chip",style:{color:de},children:ye}),o.jsx("span",{className:"finance-history__direction",children:Ze}),o.jsx("span",{className:"finance-history__date",children:je})]})]})]},Se.id)})})]},_e.monthKey))})]})]}):null,o.jsx("div",{className:"finance-page__footer-bar","aria-hidden":"true"})]})},C$=({series:t})=>{const e=t&&t.current.length>1,n=F.useMemo(()=>{if(!t||t.current.length===0)return{};const i=t.labels.length,a=Math.max(1,Math.round(i/6)),u=[];for(let m=0;m<i;m+=a)u.push(m);return u[u.length-1]!==i-1&&u.push(i-1),{chart:{type:"areaspline",backgroundColor:"transparent",spacing:[12,12,18,12]},title:{text:void 0},credits:{enabled:!1},legend:{enabled:!1},exporting:{enabled:!1},accessibility:{enabled:!1},xAxis:{categories:t.labels,tickmarkPlacement:"on",lineColor:"rgba(15, 23, 42, 0.08)",tickPositions:u,labels:{style:{color:"rgba(15, 23, 42, 0.65)",fontSize:"0.8rem"}}},yAxis:{title:{text:void 0},gridLineColor:"rgba(15, 23, 42, 0.08)",labels:{style:{color:"rgba(15, 23, 42, 0.6)",fontSize:"0.78rem"},formatter(){const m=typeof this.value=="number"?this.value:Number(this.value);return Us.format(m)}}},tooltip:{shared:!0,useHTML:!0,borderColor:"rgba(15, 23, 42, 0.12)",backgroundColor:"#fff",borderRadius:16,formatter(){if(!this.points)return"";const m=`<strong style="display:block;margin-bottom:0.25rem;">${this.x}</strong>`,x=this.points.map(_=>{const j=_.series.name,I=Us.format(_.y??0);return`<span style="color:${_.color};font-weight:600;">${j}</span>: ${I}`}).join("<br/>");return`${m}${x}`}},plotOptions:{series:{marker:{enabled:!1},enableMouseTracking:!1,states:{hover:{enabled:!1}},lineWidth:2,animation:{duration:600}},areaspline:{fillOpacity:.2}},series:[{type:"areaspline",name:"Mois en cours",data:t.current,color:"#f472b6",fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"rgba(244, 114, 182, 0.32)"],[1,"rgba(244, 114, 182, 0.02)"]]}},...t.previous?[{type:"spline",name:"Mois prcdent",data:t.previous,color:"rgba(248, 196, 220, 0.85)",dashStyle:"ShortDash",lineWidth:1.8}]:[]]}},[t]);return e?o.jsx("div",{className:"finance-trend-chart finance-trend-chart--highcharts",children:o.jsx(Jq,{highcharts:d0,options:n})}):o.jsx("p",{className:"finance-history__empty",children:"Ajoute quelques mouvements pour visualiser la tendance."})},Xl=67,S$="planner.routines.completed",A$="planner.routines.morning",N$="planner.routines.evening",j$=(t,e=Xl)=>t.length>e?`${t.slice(0,e-3).trimEnd()}...`:t,cS=({items:t,completedSet:e,toggleRoutine:n,onRemoveItem:i})=>o.jsx("ul",{className:"routine-note__list",children:t.map((s,a)=>o.jsx("li",{className:"routine-note__item",children:o.jsxs("div",{className:"routine-note__row",children:[o.jsxs("label",{className:"routine-note__label",children:[o.jsx("span",{className:"routine-note__index",children:String(a+1).padStart(2,"0")}),o.jsx("input",{className:"routine-note__checkbox",type:"checkbox",checked:e.has(s.id),onChange:()=>n(s.id)}),o.jsxs("span",{className:"routine-note__text",children:[o.jsx("span",{className:"routine-note__item-title",children:j$(s.title)}),s.detail&&o.jsx("span",{className:"routine-note__item-detail",children:s.detail})]})]}),i?o.jsx("div",{className:"routine-note__actions",children:o.jsx("button",{type:"button",className:"routine-note__remove",onClick:()=>i(s.id),"aria-label":`Supprimer ${s.title}`,children:""})}):null]})},s.id))}),uS=({draft:t,onDraftChange:e,onSubmit:n,buttonLabel:i,placeholderTitle:s,placeholderDetail:a})=>o.jsxs("form",{className:"routine-note__composer",onSubmit:n,children:[o.jsxs("label",{children:[o.jsx("span",{children:"Nouvelle action"}),o.jsx("input",{type:"text",value:t.title,onChange:u=>e("title",u.target.value.slice(0,Xl)),placeholder:s,required:!0,maxLength:Xl}),t.title.length>=Xl?o.jsx("span",{className:"routine-note__composer-hint",children:"Limite de 67 caractres atteinte."}):null]}),o.jsxs("label",{children:[o.jsx("span",{children:"Dtail (optionnel)"}),o.jsx("textarea",{value:t.detail,onChange:u=>e("detail",u.target.value.slice(0,Xl)),placeholder:a,rows:2,maxLength:Xl}),t.detail.length>=Xl?o.jsx("span",{className:"routine-note__composer-hint",children:"Limite de 67 caractres atteinte."}):null]}),o.jsx("button",{type:"submit",className:"routine-note__composer-submit",children:i})]}),I$=()=>{const[t,e]=Si(S$,()=>[]),[n,i]=Si(A$,()=>Uq),[s,a]=Si(N$,()=>zq),[u,m]=F.useState({morning:{title:"",detail:""},evening:{title:"",detail:""}}),x=F.useMemo(()=>new Set(t),[t]);F.useEffect(()=>(document.body.classList.add("planner-page--white"),()=>{document.body.classList.remove("planner-page--white")}),[]);const _=(J,ne,le)=>{m(oe=>({...oe,[J]:{...oe[J],[ne]:le}}))},j=J=>ne=>{ne.preventDefault();const le=u[J],oe=le.title.trim();if(oe.length===0)return;const X=le.detail.trim(),O={id:`${J}-${Date.now()}`,title:oe,...X.length>0?{detail:X}:{}};J==="morning"?i(H=>[...H,O]):a(H=>[...H,O]),m(H=>({...H,[J]:{title:"",detail:""}}))},I=(J,ne)=>{J==="morning"?i(le=>le.filter(oe=>oe.id!==ne)):a(le=>le.filter(oe=>oe.id!==ne)),e(le=>le.filter(oe=>oe!==ne))},U=J=>{e(ne=>ne.includes(J)?ne.filter(le=>le!==J):[...ne,J])};return o.jsxs("div",{className:"routine-page aesthetic-page",children:[o.jsx(yi,{eyebrow:"Routine",title:"Mes Routines"}),o.jsxs("div",{className:"routine-notes",children:[o.jsxs("section",{className:"routine-note routine-note--morning",children:[o.jsx("div",{className:"routine-note__top",children:o.jsx("div",{className:"routine-note__title-band",children:o.jsx("h2",{children:"Routine du matin"})})}),o.jsxs("div",{className:"routine-note__body",children:[o.jsxs("div",{className:"routine-note__pins",children:[o.jsx("span",{className:"routine-note__pin routine-note__pin--left"}),o.jsx("span",{className:"routine-note__pin routine-note__pin--right"})]}),o.jsx(cS,{items:n,completedSet:x,toggleRoutine:U,onRemoveItem:J=>I("morning",J)}),o.jsx(uS,{draft:u.morning,onDraftChange:(J,ne)=>_("morning",J,ne),onSubmit:j("morning"),buttonLabel:"Ajouter  ma routine du matin",placeholderTitle:"Ex : Boire un verre deau tide citronn",placeholderDetail:"Ex : Dure, intention..."})]})]}),o.jsxs("section",{className:"routine-note routine-note--evening",children:[o.jsx("div",{className:"routine-note__top",children:o.jsx("div",{className:"routine-note__title-band",children:o.jsx("h2",{children:"Routine du soir"})})}),o.jsxs("div",{className:"routine-note__body",children:[o.jsxs("div",{className:"routine-note__pins",children:[o.jsx("span",{className:"routine-note__pin routine-note__pin--left"}),o.jsx("span",{className:"routine-note__pin routine-note__pin--right"})]}),o.jsx(cS,{items:s,completedSet:x,toggleRoutine:U,onRemoveItem:J=>I("evening",J)}),o.jsx(uS,{draft:u.evening,onDraftChange:(J,ne)=>_("evening",J,ne),onSubmit:j("evening"),buttonLabel:"Ajouter  ma routine du soir",placeholderTitle:"Ex : Prparer mes vtements pour demain",placeholderDetail:"Ex : Dure, intention..."})]})]})]}),o.jsx("div",{className:"routine-page__footer-bar","aria-hidden":"true"})]})},dm=["Workout","5k+ steps","Drinking 2 Litres of Water","Healthy meals","No junk/ sugar","1 Fruit","8 Hours of Sleep"],vu=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],P$=["lundi","mardi","mercredi","jeudi","vendredi","samedi","dimanche"],M$="planner.sportHabits.rows.v1",R$="planner.sportHabits.checks.v1",D$=t=>{const e=new Date(t),n=e.getDay(),i=n===0?-6:1-n;return e.setDate(e.getDate()+i),e.setHours(0,0,0,0),e},hS=t=>Array.from({length:t},()=>vu.map(()=>!1)),Ax=t=>D$(t).toISOString().split("T")[0],O$=t=>{if(!t)return"";const e=new Date(t);if(Number.isNaN(e.getTime()))return"";const n=new Date(e);n.setDate(e.getDate()+6);const i=new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"short"});return`${i.format(e)} - ${i.format(n)}`},L$=()=>{const[t,e]=Si(M$,()=>dm),[n,i]=Si(R$,()=>({weekKey:Ax(new Date),checks:hS(dm.length)})),[s,a]=F.useState(!1),[u,m]=F.useState(""),[x,_]=F.useState(()=>Ax(new Date)),j=n.checks,I=O$(x),U=vu.map((M,G)=>t.length>0&&j.every(z=>z[G]));F.useEffect(()=>{if(typeof window>"u")return;const M=()=>{const z=Ax(new Date);_(K=>K===z?K:z)};M();const G=window.setInterval(M,1e3*60*60);return()=>window.clearInterval(G)},[]),F.useEffect(()=>{i(M=>{let G=!1,z=M.weekKey,K=M.checks;return M.weekKey!==x?(z=x,K=hS(t.length),G=!0):M.checks.length!==t.length&&(K=t.map((se,ie)=>M.checks[ie]??vu.map(()=>!1)),G=!0),G?{weekKey:z,checks:K}:M})},[x,t,i]);const[J,ne]=F.useState(null),[le,oe]=F.useState(!1),X=F.useRef(U);F.useEffect(()=>{const M=U;let G=null;M.forEach((z,K)=>{z&&!X.current[K]&&(G=K)}),X.current=M,G!==null&&(ne(G),oe(!0))},[U]);const O=(M,G)=>{i(z=>({...z,checks:z.checks.map((K,se)=>K.map((ie,dt)=>se===M&&dt===G?!ie:ie))}))},H=M=>{var G;return((G=j[M])==null?void 0:G.reduce((z,K)=>z+(K?1:0),0))??0},te=(M,G)=>{e(z=>z.map((K,se)=>se===M?G:K))},Te=M=>{e(G=>G.map((z,K)=>{if(K!==M)return z;const se=z.trim();return se||(dm[M%dm.length]??"Objectif")}))},ge=M=>{e(G=>G.length<=1?G:G.filter((z,K)=>K!==M)),i(G=>({...G,checks:G.checks.filter((z,K)=>K!==M)}))},Y=()=>{const M=u.trim();M&&(e(G=>[...G,M]),i(G=>({...G,checks:[...G.checks,vu.map(()=>!1)]})),m(""))};return o.jsxs("div",{className:"sport-habits__table-wrapper",children:[o.jsxs("div",{className:"sport-habits__header",children:[o.jsxs("div",{className:"sport-habits__header-content",children:[o.jsx("h3",{children:"Daily goals"}),o.jsx("p",{className:"muted",children:"Coche tes objectifs pour chaque jour."}),I?o.jsxs("p",{className:"sport-habits__week",children:["Semaine du ",I]}):null]}),o.jsx("div",{className:"sport-habits__actions",children:o.jsx("button",{type:"button",className:"sport-habits__edit-toggle",onClick:()=>a(M=>!M),children:s?"Terminer":"Ajouter"})})]}),o.jsxs("div",{className:"sport-habits__table",role:"table","aria-label":"Suivi objectifs quotidiens",children:[o.jsxs("div",{className:"sport-habits__row sport-habits__row--head",role:"row",children:[o.jsx("div",{className:"sport-habits__cell sport-habits__cell--head",role:"columnheader",children:"Objectif"}),vu.map(M=>o.jsx("div",{className:"sport-habits__cell sport-habits__cell--head",role:"columnheader",children:M},M)),o.jsx("div",{className:"sport-habits__cell sport-habits__cell--head",role:"columnheader",children:"Total"})]}),t.map((M,G)=>o.jsxs("div",{className:"sport-habits__row",role:"row",children:[o.jsx("div",{className:"sport-habits__cell sport-habits__cell--label",role:"rowheader",children:s?o.jsxs("div",{className:"sport-habits__label-editor",children:[o.jsx("input",{type:"text",value:M,onChange:z=>te(G,z.target.value),onBlur:()=>Te(G),className:"sport-habits__label-input"}),t.length>1?o.jsx("button",{type:"button",className:"sport-habits__label-delete",onClick:()=>ge(G),"aria-label":`Supprimer ${M}`,children:"x"}):null]}):M}),vu.map((z,K)=>{var se;return o.jsx("label",{className:"sport-habits__cell sport-habits__cell--checkbox",role:"cell","aria-label":`${M} ${z}`,children:o.jsx("input",{type:"checkbox",checked:((se=j[G])==null?void 0:se[K])??!1,onChange:()=>O(G,K)})},`${M}-${z}`)}),o.jsx("div",{className:"sport-habits__cell sport-habits__cell--total",role:"cell",children:H(G)})]},`${M}-${G}`))]}),s?o.jsxs("div",{className:"sport-habits__editor",children:[o.jsx("input",{type:"text",value:u,onChange:M=>m(M.target.value),placeholder:"Ajouter un objectif quotidien",className:"sport-habits__add-input"}),o.jsx("button",{type:"button",className:"sport-habits__add-button",onClick:Y,children:"Ajouter"})]}):null,le&&typeof J=="number"?o.jsx("div",{className:"sport-habits__reward-overlay",role:"status","aria-live":"polite",onClick:()=>oe(!1),children:o.jsxs("div",{className:"sport-habits__reward-card",onClick:M=>M.stopPropagation(),children:[o.jsx("button",{type:"button",className:"modal__close sport-habits__reward-close","aria-label":"Fermer",onClick:()=>oe(!1),children:o.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M6 6 18 18M18 6 6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),o.jsx("h4",{children:"Jour valid ?"}),o.jsxs("p",{children:["Bravo, tu as tout coch pour ",P$[J],"."]})]})}):null]})},F$=()=>{const[t,e]=F.useState([null,null,null,null]),n=s=>a=>{var x;const u=(x=a.target.files)==null?void 0:x[0];if(!u)return;const m=URL.createObjectURL(u);e(_=>_.map((j,I)=>I===s?m:j))},i=s=>{e(a=>a.map((u,m)=>m===s?null:u))};return o.jsxs(o.Fragment,{children:[o.jsx(yi,{eyebrow:"Goals",title:"Mes Goals",className:"goals-page-heading"}),o.jsxs("div",{className:"content-page goals-page",children:[o.jsx("p",{className:"muted goals-page-heading__intro","aria-hidden":"true"}),o.jsx("section",{className:"goals-daily",children:o.jsx(L$,{})}),o.jsxs("section",{className:"body-goals","aria-label":"Body goals",children:[o.jsxs("header",{className:"body-goals__header",children:[o.jsx("h3",{children:"Body goals"}),o.jsx("p",{className:"muted",children:"Ajoute des rfrences visuelles pour tes objectifs corps."})]}),o.jsx("div",{className:"body-goals__grid",children:t.map((s,a)=>o.jsx("div",{className:"body-goal-slot",children:s?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:s,alt:`Body goal ${a+1}`}),o.jsx("button",{type:"button",className:"body-goal-slot__action",onClick:()=>i(a),children:"Retirer"})]}):o.jsxs("label",{className:"body-goal-slot__upload",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:n(a)}),o.jsx("span",{children:"Ajouter une photo"})]})},a))})]})]}),o.jsx("div",{className:"page-footer-bar","aria-hidden":"true"})]})};function B$({className:t,kicker:e,title:n,summary:i,sections:s,primaryCta:a={label:"Retour  l'accueil",to:"/"},secondaryCta:u}){return o.jsxs("div",{className:`content-page ${t}`,children:[o.jsx(yi,{eyebrow:e,title:n}),o.jsxs("div",{className:"page-hero",children:[o.jsx("div",{className:"hero-chip",children:e}),o.jsx("h2",{children:n}),o.jsx("p",{className:"muted",children:i}),o.jsxs("div",{className:"hero-actions",children:[o.jsx(Zo,{to:a.to,className:"pill",children:a.label}),u?o.jsx(Zo,{to:u.to,className:u.variant==="ghost"?"pill pill-ghost":"pill",children:u.label}):null]})]}),o.jsx("div",{className:"page-sections",children:s.map(m=>o.jsxs("article",{className:"section-card",children:[o.jsx("h3",{children:m.title}),o.jsx("ul",{className:"bullet-list",children:m.items.map(x=>o.jsx("li",{children:x},x))})]},m.title))}),o.jsx("div",{className:"page-footer-bar","aria-hidden":"true"})]})}const V$=[{title:"Lectures",items:["Pile  lire + en cours + termin","Notes par chapitre et citations cls","Rappel des prochaines sorties"]},{title:"crans & sorties",items:["Films / sries  voir, plateformes et dures","Expos, concerts, pices  ne pas rater","Avis rapides pour souvenir"]},{title:"Inspiration",items:["Liens, newsletters, podcasts favoris","Rituels culture (15 min/jour)","Partage : qui pourrait aimer quoi ?"]}];function U$(){return o.jsx(B$,{className:"culture-page",kicker:"Lecture & culture",title:"Nourrir ta curiosit sans tparpiller",summary:"Centralise tes lectures, crans et ides de sorties pour piocher facilement au bon moment.",sections:V$,primaryCta:{label:"Planifier un moment culture",to:"/calendrier"},secondaryCta:{label:"Voir les envies",to:"/wishlist",variant:"ghost"}})}const z$="/assets/planner-06-CjmcNQ7e.jpg",DP=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],q$=[{id:"morning",label:"Matin",hint:"Petit dejeuner"},{id:"midday",label:"Midi",hint:"Dejeuner"},{id:"evening",label:"Soir",hint:"Diner"}],$$="planner.diet.weeklyPlanRecipes",H$=()=>{const t={};return DP.forEach(e=>{t[e]={morning:"",midday:"",evening:""}}),t};function W$(){const{userEmail:t}=or(),e=F.useMemo(()=>di(t,$$),[t]),[n,i]=F.useState(null),[s,a]=Si("planner.diet.weeklyPlan",H$),[u,m]=Si("planner.diet.groceriesNotes",""),x=F.useMemo(()=>{const I=new Date,J=(I.getDay()+6)%7,ne=new Date(I);ne.setDate(I.getDate()-J);const le=new Date(ne);le.setDate(ne.getDate()+6);const oe=X=>X.toLocaleDateString("fr-FR",{day:"numeric",month:"short"}).replace(".","").trim();return`Semaine du ${oe(ne)} - ${oe(le)}`},[]),_=(I,U,J)=>{a(ne=>({...ne,[I]:{...ne[I],[U]:J}}))},j=(I,U)=>{var J;try{const ne=localStorage.getItem(e);if(!ne)return null;const le=JSON.parse(ne);return((J=le==null?void 0:le[I])==null?void 0:J[U])??null}catch{return null}};return o.jsxs(o.Fragment,{children:[o.jsx(yi,{eyebrow:"Alimentation",title:"Cuisine"}),o.jsxs("main",{className:"content-page diet-page",children:[o.jsxs("section",{className:"page-section diet-crosslink",children:[o.jsxs("div",{children:[o.jsx("p",{className:"diet-crosslink__label",children:"Besoin d'ides ?"}),o.jsx("p",{className:"diet-crosslink__text",children:"Va sur la page Diet pour dcouvrir des recettes et les utiliser dans ton planning."})]}),o.jsx(Zo,{to:"/diet",className:"pill pill--diet",children:"Voir les recettes"})]}),o.jsxs("section",{className:"page-section diet-week",children:[o.jsxs("header",{className:"diet-week__header",children:[o.jsxs("div",{children:[o.jsx("h3",{children:"Planning des repas de la semaine"}),o.jsxs("p",{children:["Ce planning a pour objectif dorganiser les repas de la semaine de manire simple et quilibre.",o.jsx("br",{}),"Il permet de gagner du temps, de mieux grer les courses et de varier les menus tout en respectant les envies et les besoins de chacun."]})]}),o.jsx("p",{className:"diet-week__range",children:x})]}),o.jsx("div",{className:"diet-week__group",children:o.jsx("div",{className:"diet-week__grid",children:DP.map(I=>o.jsxs("article",{className:"diet-week__card",children:[o.jsx("div",{className:"diet-week__card-head",children:o.jsx("span",{className:"diet-week__day",children:I})}),q$.map(U=>o.jsxs("div",{className:`diet-week__slot${j(I,U.id)?" has-recipe":""}`,children:[o.jsxs("span",{children:[U.label,j(I,U.id)?o.jsx("button",{type:"button",className:"diet-week__recipe-badge",onClick:()=>i(j(I,U.id)),children:"Voir recette"}):null]}),o.jsx("input",{type:"text",value:s[I][U.id],placeholder:`Ton plat du ${U.label.toLowerCase()}`,onChange:J=>_(I,U.id,J.target.value)})]},U.id))]},I))})})]}),o.jsxs("section",{className:"page-section diet-shopping",children:[o.jsxs("div",{className:"diet-shopping__panel",children:[o.jsx("h3",{children:"Liste de courses"}),o.jsx("textarea",{className:"diet-shopping__textarea",value:u,onChange:I=>m(I.target.value),placeholder:"cris ta liste comme dans un carnet..."})]}),o.jsxs("div",{className:"diet-ideas",children:[o.jsx("p",{className:"diet-section__intro",children:"Ides  garder sous la main"}),o.jsxs("div",{className:"diet-ideas__tips",children:[o.jsxs("article",{children:[o.jsx("h4",{children:"Batch cooking"}),o.jsx("p",{children:"Slectionne deux bases (quinoa, riz) et deux sources de protines afin de les combiner facilement tout au long de la semaine."})]}),o.jsxs("article",{children:[o.jsx("h4",{children:"Rutilise les restes"}),o.jsx("p",{children:"les lgumes rtis ou les sauces maison peuvent tre utiliss sur plusieurs repas."})]})]})]})]}),n?o.jsxs("div",{className:"diet-plan-modal",role:"dialog","aria-label":`Recette ${n.title}`,children:[o.jsx("div",{className:"diet-plan-modal__backdrop",onClick:()=>i(null)}),o.jsxs("div",{className:"diet-plan-modal__panel",children:[o.jsxs("div",{className:"diet-plan-modal__cover",children:[o.jsx("img",{src:n.image,alt:n.title}),o.jsx("button",{type:"button",className:"diet-plan-modal__close",onClick:()=>i(null),"aria-label":"Fermer",children:"x"})]}),o.jsxs("div",{className:"diet-plan-modal__content",children:[o.jsxs("header",{children:[o.jsx("h3",{children:n.title}),o.jsxs("div",{className:"diet-plan-modal__meta",children:[o.jsx("span",{children:n.flavor==="sucre"?"Sucr":"Sal"}),o.jsx("span",{children:n.prepTime}),o.jsx("span",{children:n.servings})]})]}),o.jsxs("section",{children:[o.jsx("h4",{children:"Ingrdients"}),o.jsx("ul",{children:n.ingredients.map(I=>o.jsx("li",{children:I},I))})]}),o.jsxs("section",{children:[o.jsx("h4",{children:"tapes"}),o.jsx("ol",{children:n.steps.map(I=>o.jsx("li",{children:I},I))})]}),n.toppings?o.jsxs("section",{children:[o.jsx("h4",{children:"Ides de toppings"}),o.jsx("ul",{children:n.toppings.map(I=>o.jsx("li",{children:I},I))})]}):null,n.tips?o.jsxs("section",{children:[o.jsx("h4",{children:"Astuce"}),o.jsx("ul",{children:n.tips.map(I=>o.jsx("li",{children:I},I))})]}):null]})]})]}):null]}),o.jsx("div",{className:"page-footer-bar","aria-hidden":"true"})]})}const dS="/assets/wrap-poulet-CD7kWloa.jpg",G$="/assets/Pancakes-proteine-WBIIiHNx.jpeg",K$="/assets/butter-chicken-Ck4Pz6Oh.jpeg",Y$="/assets/alfredo-pasta-ViyHyOmm.jpeg",X$="/assets/avocado-toast-wWItSvzk.jpg",Q$="/assets/curry-poischiche-DXVuWME8.jpg",J$="/assets/smoothie-banane-Ciaz2IQ6.jpeg",Z$="/assets/brownie-proteine-BJ2SVT-e.jpg",eH="/assets/overnight-oats-CtVMZ6Gp.jpeg",tH="/assets/fruitsrouges-granola-D25ZCDmN.jpeg",nH="/assets/bowl-thon-Dmv6HV3F.jpg",iH="/assets/bowl-mediteraneen-4NmEEAKR.jpg",rH="/assets/soupe-detox-GpleeScw.jpeg",sH="/assets/banana-bread-BJpXuajd.jpeg",oH="/assets/brownie-sale-GfT5ppEi.jpeg",aH="/assets/biscuits-avoine-CG5z8Wwl.jpg",lH="/assets/saumon-citron-CsLYiTG3.jpg",cH="/assets/pudding-chia-Bb8Gdz2k.jpg",uH="/assets/salade-cesar-CwP52Oy_.jpg",hH="/assets/granola-maison-BAwacv-D.jpg",dH="/assets/brochettes-DD8Er9D3.jpg",pH="/assets/smoothie-mangue-w_MdvZQT.jpeg",fH="/assets/salade-de-fruit-BFy5LZlZ.jpeg",mH="/assets/omelette-feta-DdcMjK57.jpeg",gH="/assets/steack-pommedeterre-43wTGduV.jpeg",yH="/assets/saumon-bowl-ggKFdm3A.jpg",vH="/assets/bowl-poulet-ScdoKjD3.jpeg",xH=[{id:"mass-pancakes",title:"Pancake protin",flavor:"sucre",prepTime:"10  15 min",servings:"1 pers",image:G$,ingredients:["1 uf","25 ml de lait","35 g de farine","30 g de fromage blanc","20 g de whey","1 cuillre  soupe de levure chimique","Quelques gouttes d'arme vanille"],steps:["Dans un bol, casse l'uf et fouette-le lgrement.","Ajoute le lait et le fromage blanc, puis mlange jusqu' obtenir une texture lisse.","Incorpore la farine, la whey et la levure chimique.","Mlange soigneusement pour viter les grumeaux.","Ajoute les gouttes de vanille et mlange une dernire fois. La pte doit tre paisse mais fluide.","Fais chauffer une pole antiadhsive  feu moyen (lgrement graisse si ncessaire).","Verse de petites portions de pte pour former les pancakes.","Laisse cuire 1  2 minutes, jusqu' ce que des bulles apparaissent, puis retourne.","Poursuis la cuisson 1 minute de l'autre ct."],toppings:["Fruits rouges","Beurre de cacahute","Skyr ou fromage blanc","Chocolat noir fondu","Sirop d'rable (lger)"],tips:["Astuce : si la pte est trop paisse, ajoute quelques gouttes de lait. Si elle est trop liquide, ajoute un peu de farine."]},{id:"mass-bowl-saumon",title:"Saumon marin sriracha & riz",flavor:"sale",prepTime:"35  50 min",servings:"1 pers",image:yH,ingredients:["Pour le saumon marin","500 g de saumon sans peau","1/4 de tasse de sauce soja","1 cuillre  soupe de vinaigre de riz","1 cuillre  caf dhuile de ssame","1 cuillre  caf de miel","2 gousses dail haches","1 cuillre  soupe de pte de gingembre","2 cuillres  soupe de sriracha","Pour la sauce","2 cuillres  soupe de yaourt grec","2 cuillres  caf de sriracha","2 cuillres  caf de vinaigre de riz","Pour les accompagnements","70 g de riz cru","1 mini concombre","Carottes rpes (quantit selon prfrence)","1/2 avocat"],steps:["Prparer la marinade","Dans un bol, mlange la sauce soja, le vinaigre de riz, l'huile de ssame, le miel, l'ail hach, la pte de gingembre et la sriracha jusqu' obtenir une marinade homogne.","Mariner le saumon","Coupe le saumon en pavs ou en cubes. Dpose-le dans un plat, verse la marinade, mlange dlicatement pour bien enrober le poisson. Couvre et laisse mariner 15  30 minutes au rfrigrateur.","Prparer les accompagnements","Lave le mini concombre et coupe-le en fines rondelles ou demi-lunes. Rpe les carottes. Coupe le demi-avocat en tranches ou en ds. Rserve au frais.","Prparer la sauce","Dans un petit bol, mlange le yaourt grec, la sriracha et le vinaigre de riz jusqu' obtenir une sauce lisse. Rserve au frais.","Cuire le saumon","Fais chauffer une pole  feu moyen. Dpose le saumon avec un peu de marinade et fais-le cuire 2  3 minutes par face, jusqu' ce qu'il soit bien dor et cuit  cur.","Dressage","Dispose le saumon dans l'assiette ou le bol, ajoute les carottes rpes, le concombre et l'avocat, puis nappe ou accompagne avec la sauce au yaourt pice."]},{id:"mass-wrap-poulet",title:"Wrap poulet croquant",flavor:"sale",prepTime:"30  45 min",servings:"1 pers",image:dS,ingredients:["Pour le poulet","600 g de blanc de poulet coup en lanires","3 gousses dail","1 cuillre  soupe dorigan","1 cuillre  soupe de paprika","1 cuillre  caf de poudre doignon","1 cuillre  caf de flocons de piment","1 cuillre  caf de sel et poivre","Jus de citron (selon got)","Pour la sauce","100 g de yaourt crm","20 g de sriracha","1 gousse dail mince","Persil (selon got)","Sel et poivre","Pour le montage des wraps","Tortillas faibles en calories","Laitue","Oignons rouges","Tomates coupes en ds"],steps:["  Prparer la marinade du poulet","Dans un grand bol, mlange : lail hach, lorigan, le paprika, la poudre doignon, les flocons de piment, le sel et le poivre. Ajoute le jus de citron, puis mlange. Incorpore les lanires de poulet et mlange bien pour les enrober. Laisse mariner au minimum 15 minutes (idalement 30 minutes).","Prparer la sauce","Dans un bol, mlange : le yaourt crm, la sriracha, lail minc, le persil, le sel et le poivre. Ajoute un peu de jus de citron selon ton got. Mlange jusqu' obtenir une sauce homogne. Rserve au frais.","Prparer les garnitures","Lave et coupe la laitue. mince finement loignon rouge. Coupe les tomates en petits ds. Rserve lensemble.","Cuire le poulet","Fais chauffer une pole  feu moyen. Ajoute le poulet marin (sans ajouter de matire grasse si la pole est antiadhsive). Fais cuire 5  7 minutes, en remuant rgulirement, jusqu' ce que le poulet soit bien dor et cuit  cur.","Monter les wraps","Fais lgrement chauffer les tortillas. Dpose : de la laitue, du poulet chaud, des tomates, de loignon rouge. Ajoute la sauce selon ton got. Roule les wraps bien serrs."]},{id:"mass-omelette-power",title:"Omelette power  la feta",flavor:"sale",prepTime:"15  20 min",servings:"1 pers",image:mH,ingredients:["3 ufs","50 g de feta miette","100 g dpinards frais","Huile dolive","1 gousse dail","1 petit oignon","Sel et poivre"],steps:["  Prparer les ingrdients","pluche et mince finement loignon. pluche et hache lail. Lave les pinards et goutte-les.","Cuire les lgumes","Fais chauffer un filet dhuile dolive dans une pole  feu moyen. Ajoute loignon et fais-le revenir 2  3 minutes jusqu' ce quil soit translucide. Ajoute lail et fais revenir encore 30 secondes. Incorpore les pinards et laisse-les tomber 1  2 minutes, jusqu' rduction.","Prparer les ufs","Dans un bol, bats les ufs avec le sel et le poivre.","Cuire lomelette","Verse les ufs battus dans la pole sur les lgumes. Laisse cuire  feu doux quelques minutes, jusqu' ce que les bords commencent  prendre.","Ajouter la feta","Rpartis la feta miette sur lomelette. Poursuis la cuisson doucement jusqu' ce que lomelette soit cuite  ton got.","Servir","Plie lomelette en deux et sers immdiatement."]},{id:"mass-smoothie-gain",title:"Smoothie banane beurre de cacahute",flavor:"sucre",prepTime:"5 min",servings:"1 pers",image:J$,ingredients:["1 banane","300 ml de lait vgtal","80 g de flocons davoine","1 scoop de protine whey","1 cuillre  soupe de beurre de cacahute","1 cuillre  soupe de sirop drable","Cannelle (facultatif)"],steps:["pluche la banane et coupe-la en morceaux.","Verse le lait vgtal dans un blender.","Ajoute les flocons davoine, la banane, la whey, le beurre de cacahute et le sirop drable.","Ajoute la cannelle si tu le souhaites.","Mixe pendant 30  60 secondes, jusqu' obtenir une texture lisse et homogne.","Ajuste la texture : ajoute un peu de lait si le smoothie est trop pais. Mixe davantage si ncessaire.","Verse dans un verre et consomme immdiatement."]},{id:"mass-pates-cremeuses",title:"Alfredo pasta protin",flavor:"sale",prepTime:"25  30 min",servings:"1 pers",image:Y$,ingredients:["150 g de blanc de poulet","80 g de ptes (crues, au choix)","150 g de champignons (de Paris ou autres)","100 g de fromage blanc ou yaourt grec nature","30 g de parmesan rp","1 gousse dail","1 cuillre  caf dhuile dolive","Sel et poivre","Optionnel :","Persil ou herbes sches"],steps:["  Cuire les ptes","Fais cuire les ptes dans une grande casserole deau bouillante sale selon le temps indiqu. goutte-les en conservant un peu deau de cuisson.","Prparer le poulet","Coupe le poulet en morceaux ou en lanires. Fais chauffer lhuile dolive dans une pole  feu moyen. Ajoute le poulet, sale, poivre et fais cuire 5  7 minutes jusqu' ce quil soit bien dor et cuit  cur. Rserve.","Cuire les champignons","Dans la mme pole, ajoute lail hach et fais revenir 30 secondes. Ajoute les champignons mincs et fais-les cuire 5 minutes, jusqu' ce quils rendent leur eau et dorent lgrement.","Prparer la sauce Alfredo protine","Baisse le feu. Ajoute le fromage blanc (ou yaourt grec) et mlange doucement. Incorpore le parmesan et mlange jusqu' obtenir une sauce crmeuse. Ajoute un peu deau de cuisson des ptes si ncessaire pour dtendre la sauce.","Assembler","Ajoute les ptes gouttes dans la pole. Incorpore le poulet. Mlange bien pour enrober les ptes de sauce.","Ajuster et servir","Rectifie lassaisonnement (sel, poivre). Ajoute des herbes si souhait et sers immdiatement."]},{id:"mass-quinoa-bowl",title:"Butter chicken protin, riz et brocolis",flavor:"sale",prepTime:"30  35 min",servings:"1 pers",image:K$,ingredients:["Pour le poulet","150 g de blanc de poulet","1 cuillre  caf dhuile dolive","Sel et poivre","Pour la sauce butter chicken","100 g de yaourt grec nature","1 cuillre  soupe de concentr de tomate","1 cuillre  caf de garam masala","1/2 cuillre  caf de paprika","1/2 cuillre  caf de curry","1 gousse dail","1/2 cuillre  caf de gingembre (pte ou moulu)","Sel et poivre","Pour laccompagnement","60 g de riz cru","150 g de brocolis"],steps:["  Cuire le riz","Fais cuire le riz dans une casserole deau bouillante sale selon le temps indiqu. goutte et rserve.","Cuire les brocolis","Fais cuire les brocolis  la vapeur ou dans de leau bouillante sale pendant 5  7 minutes, jusqu' ce quils soient tendres mais encore verts. goutte et rserve.","Prparer le poulet","Coupe le poulet en morceaux. Fais chauffer lhuile dolive dans une pole  feu moyen. Ajoute le poulet, sale, poivre et fais cuire 5  6 minutes jusqu' ce quil soit bien dor et cuit  cur. Rserve.","Prparer la sauce","Dans un bol, mlange : le yaourt grec, le concentr de tomate, lail hach, le gingembre, le garam masala, le paprika, le curry, le sel et le poivre.","Assembler le butter chicken","Baisse le feu. Remets le poulet dans la pole. Ajoute la sauce et mlange dlicatement. Laisse mijoter 3  5 minutes  feu doux, sans faire bouillir, jusqu' obtenir une sauce crmeuse.","Servir","Dispose le riz dans lassiette. Ajoute le butter chicken crmeux. Accompagne de brocolis."]},{id:"mass-patate-bowl",title:"Avocado toast",flavor:"sale",prepTime:"10  12 min",servings:"1 pers",image:X$,ingredients:["1 ou 2 tranches de pain (complet ou au choix)","1 avocat mr","1 uf","Sel et poivre","Un filet dhuile dolive","Jus de citron (facultatif)","Une pince de flocons de piment ou de paprika"],steps:["  Prparer lavocat","Coupe lavocat en deux, retire le noyau et rcupre la chair. crase-la  la fourchette dans un bol. Assaisonne avec le sel, le poivre et un filet de jus de citron si souhait.","Griller le pain","Fais griller les tranches de pain jusqu' ce quelles soient bien dores et croustillantes.","Cuire luf","Fais chauffer une petite pole avec un filet dhuile dolive. Casse luf et fais-le cuire selon ta prfrence : uf au plat (jaune coulant) ou uf mollet / poch. Sale et poivre lgrement.","Monter lavocado toast","tale lavocat cras sur les tranches de pain chaud. Dpose luf par-dessus.","Finaliser","Ajoute un peu de poivre, des flocons de piment ou du paprika si souhait. Sers immdiatement."]},{id:"mass-chili-boost",title:"Bowl prise de masse au steak hach",flavor:"sale",prepTime:"25  30 min",servings:"1 pers",image:dS,ingredients:["200 g de steak hach (5  10 % MG selon objectif)","80 g de riz cru","1/2 avocat","1 uf","1 cuillre  caf dhuile dolive","1 petit oignon","Sel et poivre","Optionnel :","pices (paprika, ail en poudre, cumin)"],steps:["  Cuire le riz","Fais cuire le riz dans une casserole deau bouillante sale selon le temps indiqu. goutte et rserve.","Cuire le steak hach","Fais chauffer lhuile dolive dans une pole  feu moyen. Ajoute loignon minc et fais-le revenir 2 minutes. Ajoute le steak hach, sale, poivre et miette-le  la spatule. Fais cuire 4  6 minutes, jusqu' cuisson souhaite.","Cuire luf","Dans une petite pole, fais cuire luf au plat ou mollet selon prfrence.","Prparer lavocat","Coupe le demi-avocat en tranches ou en ds.","Assembler le bowl","Dans un bol ou une assiette : dpose le riz. Ajoute le steak hach chaud. Ajoute luf. Termine par lavocat."]},{id:"mass-curry-coco",title:"Curry coco pois chiches",flavor:"sale",prepTime:"25  30 min",servings:"1 pers",image:Q$,ingredients:["150 g de pois chiches cuits (goutts)","100 ml de lait de coco","1/2 oignon","1 gousse dail","1 cuillre  soupe de concentr de tomate","1 cuillre  caf de curry en poudre","1/2 cuillre  caf de paprika","Sel et poivre","Persil frais","Pour laccompagnement","60 g de riz cru"],steps:["  Cuire le riz","Fais cuire le riz dans une casserole deau bouillante sale selon le temps indiqu. goutte et rserve.","Prparer la base du curry","mince loignon et hache lail. Fais chauffer une pole ou une casserole  feu moyen. Ajoute loignon et fais-le revenir 2  3 minutes jusqu' ce quil soit translucide. Ajoute lail et fais revenir 30 secondes.","Ajouter les pices et le concentr de tomate","Ajoute le curry, le paprika et le concentr de tomate. Mlange et laisse cuire 1 minute pour dvelopper les armes.","Ajouter les pois chiches et le lait de coco","Ajoute les pois chiches goutts et mlange. Verse le lait de coco, sale et poivre. Laisse mijoter 10 minutes  feu doux, en remuant de temps en temps.","Finaliser","Gote et rectifie lassaisonnement. Ajoute le persil cisel hors du feu.","Servir","Sers le curry coco bien chaud avec le riz."]},{id:"mass-riz-cajou",title:"Steak, pommes de terre & haricots verts",flavor:"sale",prepTime:"30  35 min",servings:"1 pers",image:gH,ingredients:["1 steak hach (150  200 g, selon besoin calorique)","300 g de pommes de terre","150 g de haricots verts","1 cuillre  soupe dhuile dolive","1 gousse dail (optionnel)","Sel et poivre","Optionnel :","Persil ou herbes de Provence"],steps:["  Prparer les pommes de terre","pluche les pommes de terre et coupe-les en morceaux. Fais-les cuire dans une casserole deau bouillante sale pendant 15  20 minutes, jusqu' ce quelles soient tendres. goutte et rserve.","Cuire les haricots verts","Fais cuire les haricots verts dans de leau bouillante sale ou  la vapeur pendant 8  10 minutes. goutte et rserve.","Cuire le steak hach","Fais chauffer lhuile dolive dans une pole  feu moyen. Ajoute lail hach si utilis, puis le steak hach. Sale et poivre. Fais cuire 3  5 minutes par face selon la cuisson souhaite.","Assembler lassiette","Dispose les pommes de terre dans lassiette. Ajoute le steak hach et les haricots verts. Parseme de persil ou dherbes si souhait."]},{id:"mass-overnight-prot",title:"Overnight oats protins",flavor:"sucre",prepTime:"5  7 min",servings:"1 pers",image:eH,ingredients:["50 g de flocons davoine","1 cuillre  soupe de graines de chia","1 scoop de protine whey","120 g de yaourt (nature)","120 ml de lait damande","50 g de framboises","1 cuillre  soupe de pte  tartiner Biscoff (sur le dessus)"],steps:["  Prparer la whey","Dans un bol ou un shaker, mlange la whey avec le lait damande jusqu' obtenir une texture bien lisse, sans grumeaux.","Prparer la base","Dans un bocal ou un bol, ajoute : les flocons davoine, les graines de chia, le yaourt. Mlange lgrement.","Ajouter la whey","Verse le mlange whey + lait damande dans le bocal. Mlange bien pour que tous les ingrdients soient homognes.","Ajouter les fruits","Ajoute les framboises et mlange dlicatement ou laisse-les sur le dessus selon ta prfrence.","Repos","Couvre et place au rfrigrateur pendant au minimum 4 heures, idalement toute la nuit.","Finaliser","Au moment de servir, ajoute la pte  tartiner Biscoff sur le dessus."]},{id:"mass-brownie-beans",title:"Brownie protin",flavor:"sucre",prepTime:"30  35 min",servings:"1 pers",image:Z$,ingredients:["60 g de whey protine isolate OVERSTIM.s","200 g de compote de pomme bio","2 blancs dufs","1 uf entier","100 g de farine de bl T65 ou T80","Sel","4 cuillres  soupe de sucre roux ou de sucre de fleur de coco","4 cuillres  soupe de chocolat en poudre ou de cacao en poudre ou 50 g de chocolat noir  ptisser (70  85% de cacao)","1 cuillre  soupe de levure chimique"],steps:["Prchauffer votre four  180C.","Dans un saladier, monter les blancs de deux ufs en neige.","Dans un autre saladier, verser la farine, la protine, le cacao en poudre (ou le chocolat pralablement fondu), le sucre, la compote et 1 uf entier. Mlanger pour obtenir une pte bien lisse et homogne. Ajouter 1 pince de sel.","Incorporer les blancs en neige avec une spatule sans les casser.","Verser la prparation dans un moule rectangulaire  brownie et faire cuire 20 minutes  180C."]},{id:"mass-salade-pates",title:"Bowl sucr fruits rouges & granola",flavor:"sucre",prepTime:"5  7 min",servings:"1 pers",image:tH,ingredients:["150  200 g de fromage blanc ou yaourt grec","50 g de myrtilles","3  4 fraises","30 g de granola","1 cuillre  soupe de sirop drable"],steps:["  Prparer les fruits","Lave les fraises et coupe-les en morceaux. Rince les myrtilles si ncessaire.","Prparer la base","Verse le fromage blanc ou le yaourt grec dans un bol. Lisse lgrement  la cuillre.","Ajouter les toppings","Ajoute les myrtilles et les fraises sur le yaourt. Parseme le granola par-dessus.","Finaliser","Verse le sirop drable sur lensemble."]}],bH=[{id:"healthy-parfait",title:"Burrito bowl healthy",flavor:"sale",prepTime:"35  40 min",servings:"1 pers",image:vH,ingredients:["Base & protines","120 g de blanc de poulet","200 g de patate douce","Lgumes","1/4 doignon rouge","80 g de tomates cerises","1/4 de poivron rouge","1/4 de poivron jaune","1/2 avocat","Sauce & assaisonnement","30 g de crme frache lgre","1 cuillre  caf dhuile dolive","Jus d1/2 citron vert","Persil frais (selon got)","1/2 cuillre  caf de paprika","1/2 cuillre  caf de poudre dail","1/2 cuillre  caf dpices cajun","Sel et poivre"],steps:["  Cuire la patate douce","Prchauffe le four  200C. pluche la patate douce et coupe-la en ds. Dpose-la sur une plaque, ajoute la moiti de lhuile dolive, le paprika, la poudre dail, un peu de sel et de poivre. Mlange et enfourne pour 25  30 minutes, jusqu' ce quelle soit tendre et dore.","Cuire le poulet","Coupe le poulet en morceaux. Fais chauffer une pole  feu moyen avec le reste de lhuile dolive. Ajoute le poulet, les pices cajun, sale et poivre. Fais cuire 5  7 minutes jusqu' ce quil soit bien dor et cuit  cur.","Prparer les lgumes frais","mince finement loignon rouge. Coupe les tomates cerises en deux. Coupe les poivrons en fines lanires. Coupe lavocat en tranches.","Prparer la sauce","Dans un petit bol, mlange la crme frache lgre avec le jus de citron vert, du sel et du poivre.","Assembler le burrito bowl","Dans un bol : Dpose la patate douce rtie. Ajoute le poulet. Dispose les poivrons, tomates cerises et loignon rouge. Ajoute lavocat.","Finaliser","Ajoute la sauce. Parseme de persil frais cisel. Ajoute un filet de jus de citron vert si souhait."]},{id:"healthy-granola",title:"Granola croustillant maison",flavor:"sucre",prepTime:"35  45 min",servings:"1 pers",image:hH,ingredients:["250 g de flocons davoine","60 g damandes","60 g de noisettes","60 g de noix","3 cuillres  soupe de miel","1 cuillre  caf de cannelle","1 pince de sel"],steps:["  Prchauffer le four","Prchauffe le four  170C.","Prparer les fruits secs","Concasse grossirement les amandes, noisettes et noix.","Mlanger les ingrdients secs","Dans un grand saladier, mlange : les flocons davoine, les fruits secs concasss, la cannelle, la pince de sel.","Ajouter le miel","Ajoute le miel et mlange bien pour enrober lensemble des ingrdients.","Enfourner","tale le mlange en une couche uniforme sur une plaque recouverte de papier cuisson.","Cuisson","Enfourne pour 20  25 minutes. Remue le granola toutes les 8  10 minutes pour une cuisson homogne.","Refroidissement","Sors le granola du four et laisse-le refroidir compltement : il deviendra croustillant en refroidissant.","Conservation","Conserve le granola dans un bocal hermtique  temprature ambiante."]},{id:"healthy-tartine-avocat",title:"Bowl au thon",flavor:"sale",prepTime:"20  25 min",servings:"1 pers",image:nH,ingredients:["120 g de thon au naturel (goutt)","60 g de riz cru","1/2 avocat","1/2 concombre","1 petite tomate","1 uf","1 cuillre  caf de graines de ssame","Pour la vinaigrette","1 cuillre  caf dhuile dolive","1 cuillre  caf de vinaigre (ou jus de citron)","Sel et poivre"],steps:["  Cuire le riz","Fais cuire le riz dans une casserole deau bouillante sale selon le temps indiqu. goutte et laisse tidir.","Cuire luf","Plonge luf dans de leau bouillante et fais-le cuire 9  10 minutes pour un uf dur. Refroidis-le sous leau froide, caille-le et coupe-le en quartiers.","Prparer les lgumes","Coupe lavocat en tranches ou en ds. Coupe le concombre en rondelles ou en ds. Coupe la tomate en morceaux.","Prparer la vinaigrette","Dans un petit bol, mlange lhuile dolive, le vinaigre (ou le jus de citron), le sel et le poivre.","Assembler le bowl","Dans un bol : Dpose le riz. Ajoute le thon miett. Dispose lavocat, le concombre et la tomate. Ajoute luf dur.","Finaliser","Verse la vinaigrette sur le bowl. Parseme de graines de ssame."]},{id:"healthy-bowl-mediterraneen",title:"Bowl mditerranen",flavor:"sale",prepTime:"20  25 min",servings:"1 pers",image:iH,ingredients:["Base","60 g de quinoa ou riz cru","100 g de pois chiches cuits (goutts)","Lgumes & garnitures","1/2 concombre","1 tomate","1/4 doignon rouge","50 g de feta miette","Olives noires (quelques-unes)","Persil ou basilic frais","Assaisonnement","1 cuillre  soupe dhuile dolive","1 cuillre  caf de jus de citron","Sel et poivre"],steps:["  Cuire la base","Fais cuire le quinoa ou le riz dans une casserole deau bouillante sale selon le temps indiqu. goutte et laisse tidir.","Prparer les lgumes","Coupe le concombre en ds. Coupe la tomate en morceaux. mince finement loignon rouge.","Prparer les pois chiches","Rince et goutte les pois chiches. Tu peux les utiliser tels quels ou les faire revenir rapidement  la pole avec un peu de sel.","Prparer lassaisonnement","Dans un petit bol, mlange lhuile dolive, le jus de citron, le sel et le poivre.","Assembler le bowl","Dans un bol : Dpose la base (quinoa ou riz). Ajoute les pois chiches. Dispose les lgumes. Ajoute la feta et les olives.","Finaliser","Verse lassaisonnement. Ajoute les herbes fraches."]},{id:"healthy-soupe-verte",title:"Soupe verte dtox",flavor:"sale",prepTime:"20  25 min",servings:"1 pers",image:rH,ingredients:["150 g de brocoli","1 petite courgette","50 g dpinards frais","500 ml de bouillon de lgumes"],steps:["  Prparer les lgumes","Lave le brocoli et coupe-le en petits bouquets. Lave la courgette et coupe-la en rondelles. Rince les pinards.","Cuisson","Verse le bouillon de lgumes dans une casserole. Ajoute le brocoli et la courgette. Porte  bullition puis laisse cuire 10  12 minutes, jusqu' ce que les lgumes soient tendres.","Ajouter les pinards","Ajoute les pinards dans la casserole et laisse cuire 1  2 minutes, juste le temps quils tombent.","Mixer","Mixe la soupe jusqu' obtenir une texture lisse et homogne.","Servir","Gote et ajuste lassaisonnement si ncessaire."]},{id:"healthy-salade-pates",title:"Banana bread",flavor:"sucre",prepTime:"55  65 min",servings:"1 pers",image:sH,ingredients:["3 bananes mres (dont 1 pour la dcoration)","2 ufs ou 100 g de compote","150 g de farine","50 g de poudre damande","80 g de sucre roux","50 g dhuile vgtale (cacahute, coco ou tournesol)","100 ml de lait damande ou de coco","1/2 sachet de levure chimique","1 cuillre  caf de bicarbonate","1 pince de sel","1 sachet de sucre vanill","1 cuillre  caf de cannelle"],steps:["  Prchauffer le four","Prchauffe le four  180C.","Prparer les bananes","pluche et mixe 2 bananes jusqu' obtenir une pure lisse. Rserve la 3 banane pour la dcoration.","Prparer lappareil","Dans un grand saladier : Bats les ufs avec le sucre roux et le sucre vanill. Ajoute la cannelle et mlange. Incorpore lhuile vgtale. Ajoute la pure de bananes. Verse le lait vgtal. Mlange jusqu' obtenir une prparation homogne.","Ajouter les ingrdients secs","Ajoute : la farine, la levure chimique, le bicarbonate, le sel, la poudre damande. Mlange dlicatement jusqu' obtenir une pte lisse.","Mise en moule","Huile lgrement un moule. Verse la prparation dans le moule. Coupe la banane rserve en deux dans la longueur et dpose-la sur le dessus.","Cuisson","Enfourne  180C pendant 40  45 minutes. Vrifie la cuisson avec la pointe dun couteau : elle doit ressortir sche.","Refroidissement","Laisse tidir avant de dmouler et de dcouper."]},{id:"healthy-overnight-oats",title:"Brochettes de poulet, salade frache & boulghour  la tomate",flavor:"sale",prepTime:"30  35 min",servings:"1 pers",image:dH,ingredients:["Pour les brochettes","150 g de blanc de poulet","1/4 doignon rouge","1 cuillre  caf dhuile dolive","Sel et poivre","Paprika ou herbes de Provence (optionnel)","Pour la salade","1/2 concombre","1 tomate","Herbes fraches (persil, menthe ou coriandre)","Sel et poivre","Pour le boulghour  la tomate","60 g de boulghour cru","1 cuillre  soupe de concentr de tomate","1 cuillre  caf dhuile dolive","Sel et poivre","Pour la sauce  la grecque","100 g de yaourt grec","1/4 de concombre rp","1 petite gousse dail","1 cuillre  caf de jus de citron","Sel et poivre","Herbes fraches (aneth ou menthe, optionnel)"],steps:["  Prparer la sauce  la grecque","Rpe le concombre et presse-le pour enlever lexcs deau. Dans un bol, mlange le yaourt grec, le concombre rp, lail finement hach, le jus de citron, le sel, le poivre et les herbes si utilises. Rserve au frais.","Prparer le boulghour  la tomate","Fais cuire le boulghour dans de leau bouillante sale selon le temps indiqu. goutte, ajoute le concentr de tomate, lhuile dolive, le sel et le poivre. Mlange et rserve.","Prparer les brochettes","Coupe le poulet en cubes et loignon rouge en morceaux. Enfile-les sur les brochettes. Badigeonne dhuile dolive, sale, poivre et ajoute les pices si souhait.","Cuire les brochettes","Fais cuire les brochettes dans une pole-grill ou sur un grill bien chaud pendant 8  10 minutes, en les retournant rgulirement, jusqu' cuisson complte.","Prparer la salade","Coupe le concombre et la tomate en morceaux. Mlange avec les herbes, le sel et le poivre.","Servir","Dispose le boulghour  la tomate dans lassiette. Ajoute les brochettes de poulet. Ajoute la salade frache. Accompagne avec la sauce  la grecque."]},{id:"healthy-smoothie-glow",title:"Smoothie glow mangue passion",flavor:"sucre",prepTime:"5 min",servings:"1 pers",image:pH,ingredients:["150 g de mangue (frache ou surgele)","1 fruit de la passion","200 ml de lait vgtal (amande, coco lger ou avoine)","100 g de yaourt nature ou yaourt grec allg","1 cuillre  caf de jus de citron (optionnel)","Quelques glaons (optionnel)"],steps:["Coupe la mangue en morceaux si elle est frache.","Rcupre la pulpe du fruit de la passion  laide dune cuillre.","Verse le lait vgtal dans le blender.","Ajoute la mangue, la pulpe de passion et le yaourt.","Ajoute le jus de citron et les glaons si souhait.","Mixe pendant 30  60 secondes, jusqu' obtenir une texture lisse et onctueuse.","Verse dans un verre et consomme immdiatement."]},{id:"healthy-wrap-legumes",title:"Brownie sal au brocoli, feta & lardons",flavor:"sale",prepTime:"60  65 min",servings:"1 pers",image:oH,ingredients:["1 brocoli","2 ufs","160 g de farine","1/2 feta","Lardons","250 ml de lait","Comt rp","Huile dolive","Sel","Poivre","Ail en poudre"],steps:["  Prparer le brocoli","Dtaille le brocoli en petits bouquets. Fais-le cuire dans de leau bouillante sale pendant 5  7 minutes, jusqu' ce quil soit tendre. goutte bien et coupe-le grossirement. Rserve.","Cuire les lardons","Fais revenir les lardons dans une pole chaude sans ajout de matire grasse jusqu' ce quils soient dors. goutte-les sur du papier absorbant et rserve.","Prchauffer le four","Prchauffe le four  180C.","Prparer lappareil","Dans un grand saladier : Bats les ufs. Ajoute le lait et mlange. Incorpore la farine progressivement en fouettant pour viter les grumeaux. Assaisonne avec le sel, le poivre et lail en poudre.","Ajouter les garnitures","Ajoute  la prparation : le brocoli, la feta miette, les lardons, une poigne de comt rp. Mlange dlicatement pour bien rpartir les ingrdients.","Enfourner","Huile lgrement un moule avec de lhuile dolive. Verse la prparation et lisse la surface. Ajoute un peu de comt rp sur le dessus. Enfourne pour 35  40 minutes, jusqu' ce que le brownie soit bien dor et pris  cur.","Repos et dcoupe","Laisse tidir quelques minutes avant de dcouper en parts."]},{id:"healthy-tofu-bowl",title:"Biscuits croustillants avoine & chocolat",flavor:"sucre",prepTime:"25  30 min",servings:"1 pers",image:aH,ingredients:["1 banane mre crase","100 g de flocons davoine","50 g de chocolat noir (en morceaux ou ppites)","8  10 noisettes entires"],steps:["  Prchauffer le four","Prchauffe le four  180C.","Prparer la pte","Dans un bol, crase la banane  la fourchette jusqu' obtenir une pure lisse. Ajoute les flocons davoine et mlange jusqu' obtenir une pte homogne.","Former les biscuits","Recouvre une plaque de papier cuisson. Dpose des petits tas de pte et aplatis-les lgrement pour former des biscuits.","Ajouter le chocolat et la noisette","Dpose quelques morceaux de chocolat sur chaque biscuit. Ajoute une noisette entire au centre de chaque biscuit.","Cuisson","Enfourne pour 15  18 minutes, jusqu' ce que les biscuits soient bien dors et croustillants sur les bords.","Refroidissement","Laisse refroidir sur une grille : ils deviendront plus croustillants en refroidissant."]},{id:"healthy-saumon-tray",title:"Saumon au four citron",flavor:"sale",prepTime:"25  30 min",servings:"1 pers",image:lH,ingredients:["120 g de saumon frais","60 g de riz cru","150 g dasperges vertes","1 gousse dail","5 g de beurre","1 cuillre  caf dhuile dolive","Persil frais (selon got)","Sel et poivre"],steps:["  Cuire le riz","Fais cuire le riz dans une casserole deau bouillante sale selon le temps indiqu. goutte et rserve.","Prparer les asperges","Lave les asperges et coupe les extrmits dures. Fais-les cuire  la vapeur ou dans de leau bouillante sale pendant 5  7 minutes, jusqu' ce quelles soient tendres mais encore lgrement croquantes. goutte et rserve.","Cuire le saumon","Sale et poivre le saumon. Fais chauffer lhuile dolive dans une pole  feu moyen. Dpose le saumon ct peau (ou ct prsentation) et fais cuire 3  4 minutes. Retourne le saumon et poursuis la cuisson 2  3 minutes.","Prparer la sauce citron-ail","Baisse le feu. Ajoute le beurre et lail hach dans la pole. Laisse fondre doucement en arrosant le saumon pendant 30  60 secondes, sans faire brler lail.","Finaliser","Retire la pole du feu. Ajoute le persil cisel et un peu de jus de citron si souhait. Rectifie lassaisonnement.","Servir","Dispose le riz dans lassiette. Ajoute le saumon au citron et les asperges."]},{id:"healthy-potage-lentilles",title:"Pudding de chia coco & fraises",flavor:"sucre",prepTime:"5  7 min",servings:"1 pers",image:cH,ingredients:["250 ml de lait vgtal","3 cuillres  soupe de graines de chia","1 cuillre  soupe de miel","100 g de yaourt  la noix de coco","30 g de granola","4  5 fraises"],steps:["  Faire gonfler les graines de chia","Dans un bol ou un bocal, verse le lait vgtal. Ajoute les graines de chia et mlange bien. Laisse reposer 10 minutes, puis remue  nouveau pour viter les grumeaux.","Repos","Couvre et place au rfrigrateur pendant au moins 2 heures, idalement toute la nuit, jusqu' ce que le pudding paississe.","Ajouter le miel","Une fois le pudding bien pris, ajoute le miel et mlange.","Prparer les fraises","Lave les fraises et coupe-les en morceaux.","Monter le pudding","Ajoute le yaourt  la noix de coco sur le pudding de chia. Ajoute les fraises. Parseme de granola sur le dessus.","Servir","Consomme immdiatement pour garder le granola croustillant."]},{id:"healthy-quinoa-menthe",title:"Salade Csar healthy",flavor:"sale",prepTime:"20  25 min",servings:"1 pers",image:uH,ingredients:["Pour la salade","100 g de blanc de poulet","1 uf","80 g de salade (romaine ou autre)","1 petite tomate","20 g de parmesan en copeaux","20 g de crotons de pain","Pour la sauce Csar maison (healthy)","40 g de yaourt grec nature","1 cuillre  caf de moutarde","1 cuillre  caf de jus de citron","1 cuillre  caf dhuile dolive","Sel et poivre"],steps:["  Cuire luf","Plonge luf dans de leau bouillante et fais-le cuire 9 minutes pour un uf dur. Refroidis-le, caille-le et coupe-le en quartiers.","Cuire le poulet","Fais chauffer une pole  feu moyen. Fais cuire le poulet 5  7 minutes, en le retournant, jusqu' ce quil soit bien dor et cuit  cur. Sale, poivre et coupe-le en tranches.","Prparer la sauce Csar","Dans un bol, mlange le yaourt grec, la moutarde, le jus de citron, lhuile dolive, le sel et le poivre jusqu' obtenir une sauce lisse.","Prparer les lgumes","Lave et essore la salade. Coupe la tomate en quartiers.","Assembler la salade","Dans un grand bol ou une assiette : Dpose la salade. Ajoute le poulet. Ajoute luf dur. Ajoute la tomate. Ajoute les crotons.","Finaliser","Verse la sauce Csar maison sur la salade. Ajoute les copeaux de parmesan et mlange lgrement."]},{id:"healthy-snack-energetique",title:"Salade de fruits frache  la menthe & citron",flavor:"sucre",prepTime:"8  10 min",servings:"1 pers",image:fH,ingredients:["80 g de myrtilles","4  5 fraises","1 kiwi","100 g de mangue","Quelques feuilles de menthe frache","Jus d1/2 citron"],steps:["  Prparer les fruits","Rince les myrtilles. Lave, queute et coupe les fraises en morceaux. pluche le kiwi et coupe-le en ds. pluche la mangue et coupe-la en morceaux.","Ciseler la menthe","Lave et cisele finement les feuilles de menthe.","Assembler la salade","Dpose tous les fruits dans un saladier ou un bol. Ajoute la menthe cisele.","Assaisonner","Verse le jus de citron sur les fruits. Mlange dlicatement pour ne pas craser les fruits.","Servir","Place au frais quelques minutes avant de servir si souhait."]}],wH={sweet:{eyebrow:"Sucr",title:"Ma Diet",description:"Toutes les ides sucres du moment."},savory:{eyebrow:"Sal",title:"Ma Diet",description:"Toutes les ides sales du moment."}},_H="planner.diet.recipeFavorites",EH="planner.diet.customRecipes",kH="planner.diet.weeklyPlan",TH="planner.diet.weeklyPlanRecipes",p0=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],CH=[{id:"morning",label:"Matin"},{id:"midday",label:"Midi"},{id:"evening",label:"Soir"}],SH=()=>{const t={};return p0.forEach(e=>{t[e]={morning:"",midday:"",evening:""}}),t},AH=()=>{const{userEmail:t}=or(),e=F.useMemo(()=>di(t,_H),[t]),n=F.useMemo(()=>di(t,kH),[t]),i=F.useMemo(()=>di(t,TH),[t]),s=F.useMemo(()=>di(t,EH),[t]),[a,u]=F.useState("sweet"),[m,x]=F.useState(()=>{if(typeof window>"u")return new Set;try{const we=window.localStorage.getItem(e);return we?new Set(JSON.parse(we)):new Set}catch{return new Set}}),[_,j]=F.useState(null),[I,U]=F.useState(p0[0]),[J,ne]=F.useState("midday"),[le,oe]=F.useState(""),[X,O]=F.useState(()=>{if(typeof window>"u")return[];try{const we=window.localStorage.getItem(s);return we?JSON.parse(we):[]}catch{return[]}}),[H,te]=F.useState(!1),[Te,ge]=F.useState(""),[Y,M]=F.useState("sale"),[G,z]=F.useState(""),[K,se]=F.useState(""),[ie,dt]=F.useState(null),[Dt,Ge]=F.useState(""),[ut,Re]=F.useState(""),[Ke,ct]=F.useState(""),[Et,wt]=F.useState(""),vt=F.useRef(null),Ot=F.useMemo(()=>[...xH,...bH],[]),ht=a==="favorites"||a==="custom"?null:wH[a],Pt=F.useMemo(()=>Ot.filter(we=>m.has(we.id)),[Ot,m]),st=F.useMemo(()=>{if(a==="favorites")return Pt;const we=a==="sweet"?"sucre":"sale";return Ot.filter(yt=>yt.flavor===we)},[Ot,Pt,a]);F.useEffect(()=>{_&&oe(_.title)},[_]),F.useEffect(()=>{if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(Array.from(m)))}catch{}},[m,e]),F.useEffect(()=>{if(!(typeof window>"u"))try{window.localStorage.setItem(s,JSON.stringify(X))}catch{}},[X,s]);const be=we=>{x(yt=>{const xt=new Set(yt);return xt.has(we)?xt.delete(we):xt.add(we),xt})},ae=()=>{if(!_)return;const we=le.trim()||_.title;if(we)try{const yt=window.localStorage.getItem(n);let xt=SH();if(yt){const ue=JSON.parse(yt);ue&&typeof ue=="object"&&(xt={...xt,...ue})}const Tt=xt[I]??{morning:"",midday:"",evening:""},Ct={...xt,[I]:{...Tt,[J]:we}};window.localStorage.setItem(n,JSON.stringify(Ct));const pt=window.localStorage.getItem(i);let De={};if(pt)try{const ue=JSON.parse(pt);ue&&typeof ue=="object"&&(De=ue)}catch{De={}}const _e=De[I]??{},Se={id:_.id,title:_.title,flavor:_.flavor,prepTime:_.prepTime,servings:_.servings,image:_.image,ingredients:_.ingredients,steps:_.steps,toppings:_.toppings,tips:_.tips};De={...De,[I]:{..._e,[J]:Se}},window.localStorage.setItem(i,JSON.stringify(De)),j(null)}catch{}},ke=we=>{if(!we||!we.type.startsWith("image/"))return;const yt=new FileReader;yt.onload=()=>{const xt=typeof yt.result=="string"?yt.result:null;xt&&dt(xt)},yt.readAsDataURL(we)},me=we=>we.split(`
`).map(yt=>yt.trim()).filter(Boolean),Ye=()=>{ge(""),M("sale"),z(""),se(""),dt(null),Ge(""),Re(""),ct(""),wt("")},Pe=()=>{const we=Te.trim();if(!we)return;const yt=me(Dt),xt=me(ut);if(yt.length===0||xt.length===0)return;const Tt={id:`custom-${Date.now()}`,title:we,flavor:Y,prepTime:G.trim()||"-",servings:K.trim()||"-",ingredients:yt,steps:xt,toppings:me(Ke),tips:me(Et)};O(Ct=>[Tt,...Ct]),j(Tt),oe(Tt.title),te(!1),Ye()},ze=we=>we?o.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#ef4444",strokeWidth:"1.5","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9999 3.94228C13.1757 2.85872 14.7069 2.25 16.3053 2.25C18.0313 2.25 19.679 2.95977 20.8854 4.21074C22.0832 5.45181 22.75 7.1248 22.75 8.86222C22.75 10.5997 22.0831 12.2728 20.8854 13.5137C20.089 14.3393 19.2938 15.1836 18.4945 16.0323C16.871 17.7562 15.2301 19.4985 13.5256 21.14L13.5216 21.1438C12.6426 21.9779 11.2505 21.9476 10.409 21.0754L3.11399 13.5136C0.62867 10.9374 0.62867 6.78707 3.11399 4.21085C5.54605 1.68984 9.46239 1.60032 11.9999 3.94228Z",fill:"#ef4444"})}):o.jsx("svg",{width:"24px",height:"24px",strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#ef4444","aria-hidden":"true",children:o.jsx("path",{d:"M22 8.86222C22 10.4087 21.4062 11.8941 20.3458 12.9929C17.9049 15.523 15.5374 18.1613 13.0053 20.5997C12.4249 21.1505 11.5042 21.1304 10.9488 20.5547L3.65376 12.9929C1.44875 10.7072 1.44875 7.01723 3.65376 4.73157C5.88044 2.42345 9.50794 2.42345 11.7346 4.73157L11.9998 5.00642L12.2648 4.73173C13.3324 3.6245 14.7864 3 16.3053 3C17.8242 3 19.2781 3.62444 20.3458 4.73157C21.4063 5.83045 22 7.31577 22 8.86222Z",stroke:"#ef4444",strokeWidth:"1.5",strokeLinejoin:"round"})});return o.jsxs(o.Fragment,{children:[o.jsxs("main",{className:"diet-gymgirl-page",children:[o.jsxs("article",{className:"diet-blog",children:[ht?o.jsxs(o.Fragment,{children:[o.jsx(yi,{eyebrow:ht.eyebrow,title:"Ma diet",className:"diet-page-heading"}),o.jsx("p",{className:"diet-heading__description",children:ht.description})]}):o.jsxs(o.Fragment,{children:[o.jsx(yi,{eyebrow:"Favoris",title:"Ma diet",className:"diet-page-heading"}),o.jsx("p",{className:"diet-heading__description",children:"Retrouve ici toutes les recettes que tu as aimes."})]}),o.jsxs("div",{className:"diet-crosslink",children:[o.jsxs("div",{children:[o.jsx("p",{className:"diet-crosslink__label",children:"Planifier ta semaine"}),o.jsx("p",{className:"diet-crosslink__text",children:"Passe sur la page Alimentation pour organiser tes repas et ta liste de courses."})]}),o.jsx(Zo,{to:"/alimentation",className:"pill",children:"Planifier les repas"})]}),o.jsxs("div",{className:"diet-toggle diet-toggle--heading",children:[o.jsx("button",{type:"button",className:a==="sweet"?"is-active":"",onClick:()=>u("sweet"),children:"Sucr"}),o.jsx("button",{type:"button",className:a==="savory"?"is-active":"",onClick:()=>u("savory"),children:"Sal"}),o.jsx("button",{type:"button",className:a==="favorites"?"is-active":"",onClick:()=>u("favorites"),children:"Favoris"}),o.jsx("button",{type:"button",className:a==="custom"?"is-active":"",onClick:()=>u("custom"),children:"Mes recettes"})]})]}),o.jsx("section",{className:"diet-blog",children:a==="favorites"?Pt.length>0?o.jsx("div",{className:"diet-recipe-grid",children:Pt.map(we=>o.jsxs("article",{className:"diet-recipe-card",style:{backgroundImage:`url(${we.image})`},onClick:()=>j(we),children:[o.jsx("div",{className:"diet-recipe-card__overlay"}),o.jsxs("div",{className:"diet-recipe-card__content",children:[o.jsx("div",{className:"diet-recipe-card__header",children:o.jsx("button",{type:"button",className:m.has(we.id)?"diet-favorite is-active":"diet-favorite",onClick:yt=>{yt.stopPropagation(),be(we.id)},"aria-label":"Ajouter aux favoris",children:ze(m.has(we.id))})}),o.jsxs("div",{className:"diet-recipe-card__body",children:[o.jsx("h3",{children:we.title}),o.jsxs("div",{className:"diet-recipe-meta",children:[o.jsx("span",{className:"diet-info-pill",children:we.flavor==="sucre"?"Sucr":"Sal"}),o.jsx("span",{className:"diet-info-pill",children:we.prepTime}),o.jsx("span",{className:"diet-info-pill",children:we.servings})]})]})]})]},we.id))}):o.jsx("p",{className:"diet-heading__description",children:"Ajoute des recettes en favoris pour les retrouver ici."}):a==="custom"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"diet-custom-header",children:[o.jsxs("div",{children:[o.jsx("h3",{children:"Mes recettes"}),o.jsx("p",{className:"diet-heading__description",children:"Cre tes propres recettes et programme-les directement."})]}),o.jsx("button",{type:"button",className:"pill pill--diet",onClick:()=>te(!0),children:"Crer une recette"})]}),X.length>0?o.jsx("div",{className:"diet-recipe-grid",children:X.map(we=>o.jsxs("article",{className:"diet-recipe-card",style:{backgroundImage:`url(${we.image})`},onClick:()=>j(we),children:[o.jsx("div",{className:"diet-recipe-card__overlay"}),o.jsxs("div",{className:"diet-recipe-card__content",children:[o.jsx("div",{className:"diet-recipe-card__header",children:o.jsx("button",{type:"button",className:m.has(we.id)?"diet-favorite is-active":"diet-favorite",onClick:yt=>{yt.stopPropagation(),be(we.id)},"aria-label":"Ajouter aux favoris",children:ze(m.has(we.id))})}),o.jsxs("div",{className:"diet-recipe-card__body",children:[o.jsx("h3",{children:we.title}),o.jsxs("div",{className:"diet-recipe-meta",children:[o.jsx("span",{className:"diet-info-pill",children:we.flavor==="sucre"?"Sucr":"Sal"}),o.jsx("span",{className:"diet-info-pill",children:we.prepTime}),o.jsx("span",{className:"diet-info-pill",children:we.servings})]})]})]})]},we.id))}):o.jsx("p",{className:"diet-heading__description",children:"Aucune recette pour le moment. Cre la premire !"})]}):o.jsx("div",{className:"diet-recipe-grid",children:st.map(we=>o.jsxs("article",{className:"diet-recipe-card",style:{backgroundImage:`url(${we.image})`},onClick:()=>j(we),children:[o.jsx("div",{className:"diet-recipe-card__overlay"}),o.jsxs("div",{className:"diet-recipe-card__content",children:[o.jsx("div",{className:"diet-recipe-card__header",children:o.jsx("button",{type:"button",className:m.has(we.id)?"diet-favorite is-active":"diet-favorite",onClick:yt=>{yt.stopPropagation(),be(we.id)},"aria-label":"Ajouter aux favoris",children:ze(m.has(we.id))})}),o.jsxs("div",{className:"diet-recipe-card__body",children:[o.jsx("h3",{children:we.title}),o.jsxs("div",{className:"diet-recipe-meta",children:[o.jsx("span",{className:"diet-info-pill",children:we.flavor==="sucre"?"Sucr":"Sal"}),o.jsx("span",{className:"diet-info-pill",children:we.prepTime}),o.jsx("span",{className:"diet-info-pill",children:we.servings})]})]})]})]},we.id))})}),H?o.jsxs("div",{className:"diet-recipe-modal",role:"dialog","aria-label":"Crer une recette",children:[o.jsx("div",{className:"diet-recipe-modal__backdrop",onClick:()=>te(!1)}),o.jsxs("div",{className:"diet-recipe-modal__panel",children:[o.jsxs("div",{className:"diet-recipe-modal__cover",children:[o.jsx("img",{alt:"Aperu recette",className:"diet-recipe-modal__image"}),o.jsx("button",{type:"button",className:"diet-recipe-close-icon diet-recipe-close-icon--cover",onClick:()=>te(!1),"aria-label":"Fermer",children:o.jsx("span",{"aria-hidden":"true"})})]}),o.jsxs("div",{className:"diet-recipe-modal__content",children:[o.jsx("header",{className:"diet-recipe-modal__header",children:o.jsx("div",{children:o.jsx("h3",{children:"Crer une recette"})})}),o.jsx("div",{className:"diet-recipe-modal__body",children:o.jsxs("div",{className:"diet-recipe-form",children:[o.jsxs("label",{children:["Titre",o.jsx("input",{type:"text",value:Te,onChange:we=>ge(we.target.value)})]}),o.jsxs("div",{className:"diet-recipe-form__row",children:[o.jsxs("label",{children:["Type",o.jsxs("select",{value:Y,onChange:we=>M(we.target.value),children:[o.jsx("option",{value:"sale",children:"Sal"}),o.jsx("option",{value:"sucre",children:"Sucr"})]})]}),o.jsxs("label",{children:["Prparation",o.jsx("input",{type:"text",value:G,onChange:we=>z(we.target.value),placeholder:"Ex : 20 min"})]}),o.jsxs("label",{children:["Portions",o.jsx("input",{type:"text",value:K,onChange:we=>se(we.target.value),placeholder:"Ex : 2 pers"})]})]}),o.jsxs("label",{className:"diet-recipe-form__file",children:["Image",o.jsx("input",{ref:vt,type:"file",accept:"image/*",className:"diet-recipe-form__file-input",onChange:we=>{var yt;ke((yt=we.target.files)==null?void 0:yt[0]),we.target.value=""}}),o.jsx("button",{type:"button",className:"diet-recipe-form__file-button",onClick:()=>{var we;return(we=vt.current)==null?void 0:we.click()},children:"Choisir une image"})]}),o.jsxs("label",{children:["Ingrdients (1 par ligne)",o.jsx("textarea",{value:Dt,onChange:we=>Ge(we.target.value),rows:5})]}),o.jsxs("label",{children:["tapes (1 par ligne)",o.jsx("textarea",{value:ut,onChange:we=>Re(we.target.value),rows:6})]}),o.jsxs("label",{children:["Toppings (optionnel)",o.jsx("textarea",{value:Ke,onChange:we=>ct(we.target.value),rows:3})]}),o.jsxs("label",{children:["Astuces (optionnel)",o.jsx("textarea",{value:Et,onChange:we=>wt(we.target.value),rows:3})]})]})})]}),o.jsxs("footer",{className:"diet-recipe-modal__actions",children:[o.jsx("button",{type:"button",onClick:()=>te(!1),children:"Annuler"}),o.jsx("button",{type:"button",onClick:Pe,children:"Enregistrer"})]})]})]}):null,_?o.jsxs("div",{className:"diet-recipe-modal",role:"dialog","aria-label":`Recette ${_.title}`,children:[o.jsx("div",{className:"diet-recipe-modal__backdrop",onClick:()=>j(null)}),o.jsxs("div",{className:"diet-recipe-modal__panel",children:[o.jsxs("div",{className:"diet-recipe-modal__cover",children:[o.jsx("img",{src:_.image,alt:_.title,className:"diet-recipe-modal__image"}),o.jsx("button",{type:"button",className:"diet-recipe-close-icon diet-recipe-close-icon--cover",onClick:()=>j(null),"aria-label":"Fermer",children:o.jsx("span",{"aria-hidden":"true"})})]}),o.jsxs("div",{className:"diet-recipe-modal__content",children:[o.jsx("header",{className:"diet-recipe-modal__header",children:o.jsx("div",{children:o.jsx("h3",{children:_.title})})}),o.jsxs("div",{className:"diet-recipe-modal__body",children:[o.jsxs("section",{className:"diet-recipe-plan",children:[o.jsx("h4",{children:"Ajouter au planning"}),o.jsxs("div",{className:"diet-recipe-plan__row",children:[o.jsxs("label",{children:["Jour",o.jsx("select",{value:I,onChange:we=>U(we.target.value),children:p0.map(we=>o.jsx("option",{value:we,children:we},we))})]}),o.jsxs("label",{children:["Moment",o.jsx("select",{value:J,onChange:we=>ne(we.target.value),children:CH.map(we=>o.jsx("option",{value:we.id,children:we.label},we.id))})]})]}),o.jsxs("label",{children:["Plat",o.jsx("input",{type:"text",value:le,onChange:we=>oe(we.target.value),placeholder:"cris ton plat"})]}),o.jsx("button",{type:"button",className:"diet-recipe-plan__add",onClick:ae,children:"Ajouter au planning"})]}),o.jsxs("section",{children:[o.jsx("h4",{children:"Ingrdients"}),o.jsx("ul",{children:_.ingredients.map(we=>o.jsx("li",{children:we},we))})]}),o.jsxs("section",{children:[o.jsx("h4",{children:"tapes"}),o.jsx("ol",{children:_.steps.map(we=>o.jsx("li",{children:we},we))})]}),_.toppings?o.jsxs("section",{children:[o.jsx("h4",{children:"Ides de toppings (optionnel)"}),o.jsx("ul",{children:_.toppings.map(we=>o.jsx("li",{children:we},we))})]}):null,_.tips?o.jsxs("section",{children:[o.jsx("h4",{children:" Astuce"}),o.jsx("ul",{children:_.tips.map(we=>o.jsx("li",{children:we},we))})]}):null]})]}),o.jsx("footer",{className:"diet-recipe-modal__actions",children:o.jsx("button",{type:"button",onClick:()=>j(null),children:"Fermer"})})]})]}):null]}),o.jsx("div",{className:"page-footer-bar","aria-hidden":"true"})]})},NH="/assets/planner-09-BIYPiwu2.jpg",jH="/assets/planner-12-BBxx_fHQ.jpg",IH={booked:"Reserve",ideation:"A planifier",packing:"Check-in"},pS=[{id:"lisbon-weekend",title:"City break Lisbonne",location:"Portugal",dates:"20 - 23 mars",focus:"Cafs, librairies, balade  Belm",budget:"450 EUR",status:"booked",cover:NH},{id:"crete-ete",title:"Crte en t",location:"Chania",dates:"5 - 12 juillet",focus:"Plages, sunset boat, marche local",budget:"980 EUR",status:"packing",cover:jH},{id:"alpines",title:"Cabane en montagne",location:"Haute-Savoie",dates:"11 - 13 octobre",focus:"Randos faciles + spa nordique",budget:"320 EUR",status:"ideation",cover:z$}],PH=["Passeport + billets","Trousse sante / assurances","Chargeurs + adaptateur","Tenues jour et soir","Maillot, lunettes, creme SPF","Kindle + playlist offline","Mini kit photo / video"],MH=["Verifier les check-in en ligne la veille","Screenshot des confirmations (airbnb, vols, transferts)","Preparer 2 resto coup de coeur sur place","Partager l'itineraire avec le +1"],RH=()=>(F.useEffect(()=>(document.body.classList.add("planner-page--white"),()=>{document.body.classList.remove("planner-page--white")}),[]),o.jsxs("div",{className:"content-page voyage-page",children:[o.jsx(yi,{eyebrow:"Voyage",title:"Planifier les escapades"}),o.jsxs("div",{className:"page-hero",children:[o.jsx("div",{className:"hero-chip",children:"Voyage"}),o.jsx("h2",{children:"Planifier les prochaines escapades"}),o.jsx("p",{className:"muted",children:"Dossiers voyages, budget et checklist cabine regroupes au meme endroit."}),o.jsxs("div",{className:"hero-actions",children:[o.jsx("button",{type:"button",className:"pill",children:"Ajouter une ide"}),o.jsx("button",{type:"button",className:"pill pill-ghost",children:"Exporter en PDF"})]})]}),o.jsxs("div",{className:"voyage-layout",children:[o.jsxs("section",{className:"voyage-trips",children:[o.jsxs("header",{className:"voyage-section-header",children:[o.jsxs("div",{children:[o.jsx("p",{className:"eyebrow",children:"Prochains departs"}),o.jsx("h2",{children:"Itineraires"})]}),o.jsxs("span",{className:"voyage-tag",children:[pS.length," voyages"]})]}),o.jsx("div",{className:"voyage-grid",children:pS.map(t=>o.jsxs("article",{className:"voyage-card",children:[o.jsxs("div",{className:"voyage-card__media",children:[o.jsx("img",{src:t.cover,alt:t.title}),o.jsx("span",{className:`voyage-status voyage-status--${t.status}`,children:IH[t.status]})]}),o.jsxs("div",{className:"voyage-card__body",children:[o.jsxs("div",{className:"voyage-card__meta",children:[o.jsx("span",{className:"voyage-location",children:t.location}),o.jsx("span",{className:"voyage-budget",children:t.budget})]}),o.jsx("h3",{children:t.title}),o.jsx("p",{className:"voyage-focus",children:t.focus}),o.jsx("div",{className:"voyage-dates",children:t.dates})]})]},t.id))})]}),o.jsxs("aside",{className:"voyage-sidebar",children:[o.jsxs("div",{className:"voyage-panel",children:[o.jsx("p",{className:"eyebrow",children:"Checklist bagage"}),o.jsx("ul",{className:"voyage-list",children:PH.map(t=>o.jsx("li",{children:t},t))})]}),o.jsxs("div",{className:"voyage-panel",children:[o.jsx("p",{className:"eyebrow",children:"Notes rapides"}),o.jsx("ul",{className:"voyage-list",children:MH.map(t=>o.jsx("li",{children:t},t))})]})]})]})]})),DH="/assets/Backday-DkunqoVT.jpg",OH="/assets/legday-m8vlanDY.jpg",pm={exercises:"planner.workout.exercises",videos:"planner.workout.videos",series:"planner.workout.series",notes:"planner.workout.notes"},fS="planner.workout.lastReset",LH=[{id:"ex-1",title:"Backday",muscle:"Dos",category:"Renforcement musculaire",image:DH},{id:"ex-2",title:"Legday",muscle:"Jambes",category:"Renforcement musculaire",image:OH}],FH=[{id:"vid-1",title:"Exercices leg day",url:"https://youtu.be/gcIqwTuaP4o?si=WzujDHWfFJwP0WlW",thumbnail:"https://img.youtube.com/vi/gcIqwTuaP4o/hqdefault.jpg"},{id:"vid-2",title:"Entranement Pilates complet",url:"https://youtu.be/354ezj2UHdM?si=LObxLx7v79fzZ9np",thumbnail:"https://img.youtube.com/vi/354ezj2UHdM/hqdefault.jpg"}],BH={"ex-1":[{id:"serie-1",label:"3x12 incline dumbbell row",completed:!1},{id:"serie-2",label:"4x10 Lat pull downs",completed:!1},{id:"serie-3",label:"3x10 Cable rows",completed:!1},{id:"serie-4",label:"Pull up ( jusqu' puisement )",completed:!1},{id:"serie-5",label:"3x10 Seated cable rows",completed:!1},{id:"serie-6",label:"3x10 Bent over rows",completed:!1}],"ex-2":[{id:"serie-7",label:"3x10 hip/leg press",completed:!1},{id:"serie-8",label:"3x10 Hip thrust",completed:!1},{id:"serie-9",label:"3x10 Rdls",completed:!1},{id:"serie-10",label:"3x12 Leg extension",completed:!1},{id:"serie-11",label:"Leg cuurls ( jusqu' puisement )",completed:!1},{id:"serie-12",label:"3x10 Squats",completed:!1},{id:"serie-13",label:"3x12 Reverse lunges",completed:!1}]},VH=["Abdos","Avant-bras","Biceps","Bras","Dos","?paules","Fessiers","Ischios","Jambes","Lombaires","Mollets","Obliques","Pectoraux","Quadriceps","Tout le corps","Triceps"],UH="Slectionner un muscle",zH=t=>{const e=t.getFullYear(),n=`${t.getMonth()+1}`.padStart(2,"0"),i=`${t.getDate()}`.padStart(2,"0");return`${e}-${n}-${i}`},qH=async t=>null,$H=t=>{try{const e=new URL(t);if(e.hostname==="youtu.be")return e.pathname.slice(1);const n=e.searchParams.get("v");return n||(e.pathname.includes("/embed/")?e.pathname.split("/embed/")[1]:null)}catch{return null}},HH=()=>{const[t,e]=Si(pm.exercises,()=>LH),[n,i]=Si(pm.videos,()=>FH),[s,a]=F.useState({title:"",muscle:"",category:"",image:""}),[u,m]=F.useState({title:"",url:""}),[x,_]=F.useState(null),[j,I]=Si(pm.series,()=>BH),[U,J]=Si(pm.notes,()=>({})),[ne,le]=F.useState(""),[oe,X]=F.useState(""),[O,H]=F.useState(!1),[te,Te]=F.useState(null),[ge,Y]=F.useState(null),[M,G]=F.useState(!1),z=F.useRef(null);F.useEffect(()=>(document.body.classList.add("planner-page--white"),()=>{document.body.classList.remove("planner-page--white")}),[]),F.useEffect(()=>{if(!x)return;const ae=ke=>{ke.key==="Escape"&&_(null)};return window.addEventListener("keydown",ae),()=>window.removeEventListener("keydown",ae)},[x]),F.useEffect(()=>{le(""),X("")},[x]),F.useEffect(()=>{if(!O)return;const ae=me=>{z.current&&(z.current.contains(me.target)||H(!1))},ke=me=>{me.key==="Escape"&&H(!1)};return window.addEventListener("mousedown",ae),window.addEventListener("keydown",ke),()=>{window.removeEventListener("mousedown",ae),window.removeEventListener("keydown",ke)}},[O]),F.useEffect(()=>{const ae=ke=>{const me=ke.target;me!=null&&me.closest(".workout-card__menu")||me!=null&&me.closest(".workout-card__menu-panel")||(Te(null),Y(null),G(!1))};return window.addEventListener("pointerdown",ae),()=>window.removeEventListener("pointerdown",ae)},[]);const K=ae=>{ae.preventDefault();const ke=s.title.trim();if(!ke)return;const me={id:`ex-${Date.now()}`,title:ke,muscle:s.muscle.trim()||"Muscle",category:s.category.trim()||"",image:s.image.trim()||"https://images.unsplash.com/photo-1579758629938-03607ccdbaba?auto=format&fit=crop&w=800&q=80"};e(Ye=>[me,...Ye]),a({title:"",muscle:"",category:"",image:""})},se=async ae=>{ae.preventDefault();const ke=u.title.trim()||"Session vido",me=$H(u.url.trim());if(!me)return;const Ye=await qH(),Pe={id:`vid-${Date.now()}`,title:ke,url:`https://www.youtube.com/watch?v=${me}`,thumbnail:`https://img.youtube.com/vi/${me}/hqdefault.jpg`,duration:Ye??void 0};i(ze=>[Pe,...ze]),m({title:"",url:""})},ie=ae=>{e(ke=>ke.filter(me=>me.id!==ae)),I(ke=>{if(!ke[ae])return ke;const me={...ke};return delete me[ae],me}),x===ae&&_(null)},dt=ae=>{i(ke=>ke.filter(me=>me.id!==ae))},Dt=ae=>{window.open(ae,"_blank","noopener,noreferrer")},Ge=ae=>{_(ae),Te(null),Y(null),G(!1)},ut=()=>{_(null),G(!1)},Re=ae=>{const ke=ne.trim();if(!ke)return;const me=oe.trim();I(Ye=>{const Pe=Ye[ae]??[],ze={id:`srie-${Date.now()}`,label:ke,completed:!1,weight:me.length>0?me:void 0};return{...Ye,[ae]:[...Pe,ze]}}),le(""),X("")},Ke=(ae,ke)=>{I(me=>{const Ye=me[ae]??[];return{...me,[ae]:Ye.map(Pe=>Pe.id===ke?{...Pe,completed:!Pe.completed}:Pe)}})},ct=(ae,ke,me)=>{I(Ye=>{const Pe=Ye[ae]??[];return{...Ye,[ae]:Pe.map(ze=>ze.id===ke?{...ze,weight:me.trim()||void 0}:ze)}})},Et=(ae,ke)=>{I(me=>{const Ye=me[ae]??[];return{...me,[ae]:Ye.filter(Pe=>Pe.id!==ke)}})},wt=ae=>{if(!ae){a(me=>({...me,image:""}));return}const ke=new FileReader;ke.onload=()=>{const me=typeof ke.result=="string"?ke.result:"";a(Ye=>({...Ye,image:me}))},ke.readAsDataURL(ae)},vt=(ae,ke)=>{if(!ke)return;const me=new FileReader;me.onload=()=>{const Ye=typeof me.result=="string"?me.result:"";Ye&&e(Pe=>Pe.map(ze=>ze.id===ae?{...ze,image:Ye}:ze))},me.readAsDataURL(ke)},Ot=(ae,ke)=>{if(!ke)return;const me=new FileReader;me.onload=()=>{const Ye=typeof me.result=="string"?me.result:"";Ye&&i(Pe=>Pe.map(ze=>ze.id===ae?{...ze,thumbnail:Ye}:ze))},me.readAsDataURL(ke)},ht=F.useMemo(()=>t.find(ae=>ae.id===x)??null,[t,x]),Pt=F.useMemo(()=>x?j[x]??[]:[],[j,x]),st=F.useMemo(()=>Pt.filter(ae=>ae.completed).length,[Pt]),be=x?U[x]??"":"";return F.useEffect(()=>{if(typeof window>"u")return;const ae=zH(new Date);window.localStorage.getItem(fS)!==ae&&(I(me=>{const Ye={};return Object.entries(me).forEach(([Pe,ze])=>{Ye[Pe]=ze.map(we=>({...we,completed:!1}))}),Ye}),window.localStorage.setItem(fS,ae))},[I]),o.jsxs("div",{className:"workout-page",children:[o.jsx("div",{className:"workout-page__accent-bar","aria-hidden":"true"}),o.jsx(yi,{eyebrow:"Routine active",title:"Workout"}),o.jsxs("div",{className:"workout-layout",children:[o.jsxs("section",{className:"workout-exercises",children:[o.jsx("header",{className:"workout-exercises__header",children:o.jsx("div",{className:"workout-section-header",children:o.jsx("h2",{children:"Liste d'exercices"})})}),o.jsxs("form",{className:"workout-form",onSubmit:K,children:[o.jsxs("div",{className:"workout-form__fields",children:[o.jsxs("label",{children:[o.jsx("span",{children:"Nom"}),o.jsx("input",{type:"text",value:s.title,onChange:ae=>a(ke=>({...ke,title:ae.target.value})),placeholder:"Ex : Deadlift",required:!0})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Muscle cibl"}),o.jsxs("div",{className:"workout-form__select",ref:z,children:[o.jsxs("button",{type:"button",className:s.muscle?"workout-form__select-trigger":"workout-form__select-trigger is-placeholder","aria-haspopup":"listbox","aria-expanded":O,onClick:()=>H(ae=>!ae),children:[o.jsx("span",{children:s.muscle||UH}),o.jsx("svg",{className:"workout-form__select-chevron",viewBox:"0 0 20 20","aria-hidden":"true",children:o.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})]}),O?o.jsx("div",{className:"workout-form__select-menu",role:"listbox",children:VH.map(ae=>o.jsx("button",{type:"button",role:"option","aria-selected":s.muscle===ae,className:s.muscle===ae?"is-selected":void 0,onMouseDown:ke=>{ke.preventDefault(),a(me=>({...me,muscle:ae})),H(!1)},children:ae},ae))}):null]})]}),o.jsxs("label",{children:[o.jsxs("span",{children:["Type ",o.jsx("small",{children:"(optionnel)"})]}),o.jsx("input",{type:"text",value:s.category,onChange:ae=>a(ke=>({...ke,category:ae.target.value})),placeholder:"Ex : HIIT, cardio, stretching..."})]})]}),o.jsx("div",{className:"workout-form__photo-compact",children:o.jsxs("div",{className:`workout-form__photo-preview${s.image?" workout-form__photo-preview--has-image":""}`,children:[s.image?o.jsx("img",{className:"workout-form__photo-img",src:s.image,alt:"Aperu de la photo slectionne"}):o.jsx("p",{children:"Ajoute une image depuis ton ordinateur."}),o.jsxs("div",{className:"workout-form__photo-actions",children:[s.image?null:o.jsxs("label",{children:[o.jsx("input",{type:"file",accept:"image/*",onChange:ae=>{var ke;wt((ke=ae.target.files)==null?void 0:ke[0]),ae.target.value=""}}),"Choisir une photo"]}),s.image?o.jsx("button",{type:"button",onClick:()=>a(ae=>({...ae,image:""})),children:"Retirer"}):null]}),o.jsx("span",{className:"workout-form__photo-hint",children:"Formats image accepts (JPG, PNG, GIF)."})]})}),o.jsx("button",{type:"submit",children:"Ajouter la carte"})]})]}),t.length>0?o.jsx("section",{className:"workout-library workout-section--full",children:o.jsx("div",{className:"workout-cards",children:t.map(ae=>o.jsxs("article",{className:"workout-card",role:"button",tabIndex:0,onClick:()=>Ge(ae.id),onKeyDown:ke=>{(ke.key==="Enter"||ke.key===" ")&&(ke.preventDefault(),Ge(ae.id))},children:[o.jsxs("div",{className:"workout-card__menu",children:[o.jsx("button",{type:"button",className:"profile-menu","aria-label":`Options pour ${ae.title}`,onClick:ke=>{ke.stopPropagation(),Te(me=>me===ae.id?null:ae.id),Y(null)},children:o.jsx("span",{"aria-hidden":"true",children:"..."})}),te===ae.id?o.jsxs("div",{className:"workout-card__menu-panel",role:"menu",onClick:ke=>ke.stopPropagation(),children:[o.jsxs("label",{className:"workout-card__menu-item",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:ke=>{var me;vt(ae.id,(me=ke.target.files)==null?void 0:me[0]),ke.target.value="",Te(null)}}),"Modifier la photo"]}),o.jsx("button",{type:"button",className:"workout-card__menu-item workout-card__menu-item--danger",onClick:ke=>{ke.stopPropagation(),ie(ae.id),Te(null)},children:"Supprimer"})]}):null]}),o.jsx("div",{className:"workout-card__media",children:o.jsx("img",{src:ae.image,alt:ae.title})}),o.jsxs("div",{className:"workout-card__body",children:[o.jsx("h3",{children:ae.title}),o.jsxs("p",{className:"workout-card__meta",children:[o.jsx("span",{children:ae.muscle}),ae.category?o.jsx("span",{children:ae.category}):null]})]})]},ae.id))})}):null,o.jsxs("section",{className:"workout-videos workout-section--full",children:[o.jsxs("form",{className:"workout-video-form",onSubmit:se,children:[o.jsxs("label",{children:[o.jsx("span",{children:"Titre"}),o.jsx("input",{id:"workout-video-title",type:"text",value:u.title,onChange:ae=>m(ke=>({...ke,title:ae.target.value})),placeholder:"Nom de la vido"})]}),o.jsxs("label",{children:[o.jsx("span",{children:"URL YouTube"}),o.jsx("input",{type:"url",value:u.url,onChange:ae=>m(ke=>({...ke,url:ae.target.value})),placeholder:"https://www.youtube.com/watch?v=...",required:!0})]}),o.jsx("button",{type:"submit",children:"Ajouter la vido"})]}),n.length===0?o.jsx("div",{className:"workout-video-empty",children:o.jsx("p",{className:"wishlist-modal__empty",children:"Aucune vido ajoute pour le moment. Commence en ajoutant ta premire vido."})}):o.jsx("div",{className:"workout-video-grid",children:n.map(ae=>o.jsxs("article",{className:"workout-video-card",role:"link",tabIndex:0,onClick:()=>Dt(ae.url),onKeyDown:ke=>{(ke.key==="Enter"||ke.key===" ")&&(ke.preventDefault(),Dt(ae.url))},children:[o.jsxs("div",{className:"workout-card__menu",children:[o.jsx("button",{type:"button",className:"modal__close","aria-label":`Options pour ${ae.title}`,onClick:ke=>{ke.stopPropagation(),Y(me=>me===ae.id?null:ae.id),Te(null)},children:o.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M6 6 18 18M18 6 6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),ge===ae.id?o.jsxs("div",{className:"workout-card__menu-panel",role:"menu",onClick:ke=>ke.stopPropagation(),children:[o.jsxs("label",{className:"workout-card__menu-item",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:ke=>{var me;Ot(ae.id,(me=ke.target.files)==null?void 0:me[0]),ke.target.value="",Y(null)}}),"Modifier la photo"]}),o.jsx("button",{type:"button",className:"workout-card__menu-item workout-card__menu-item--danger",onClick:ke=>{ke.stopPropagation(),dt(ae.id),Y(null)},children:"Supprimer"})]}):null]}),o.jsx("div",{className:"workout-video-thumb",children:o.jsx("img",{src:ae.thumbnail,alt:ae.title})}),o.jsxs("div",{className:"workout-video-card__body",children:[o.jsxs("div",{className:"workout-video-card__title-row",children:[o.jsx("p",{children:ae.title}),ae.duration?o.jsx("span",{className:"workout-video-card__duration",children:ae.duration}):null]}),o.jsx("span",{className:"workout-video-card__source",children:"youtube.com"})]})]},ae.id))})]})]}),o.jsx("div",{className:"workout-page__footer-bar","aria-hidden":"true"}),ht&&o.jsx("div",{className:"workout-modal",role:"dialog","aria-modal":"true","aria-labelledby":"workout-modal-title",onClick:ut,children:o.jsxs("div",{className:"workout-modal__panel",onClick:ae=>ae.stopPropagation(),children:[o.jsxs("div",{className:"workout-modal__menu",children:[o.jsx("button",{type:"button",className:"modal__close","aria-label":"Fermer",onClick:ut,children:o.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M6 6 18 18M18 6 6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),M&&x?o.jsxs("div",{className:"workout-card__menu-panel",role:"menu",children:[o.jsxs("label",{className:"workout-card__menu-item",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:ae=>{var ke;vt(x,(ke=ae.target.files)==null?void 0:ke[0]),ae.target.value="",G(!1)}}),"Modifier la photo"]}),o.jsx("button",{type:"button",className:"workout-card__menu-item workout-card__menu-item--danger",onClick:()=>{ie(x),G(!1)},children:"Supprimer"})]}):null]}),o.jsx("div",{className:"workout-modal__cover",children:o.jsx("img",{src:ht.image,alt:ht.title})}),o.jsxs("div",{className:"workout-modal__body",children:[o.jsx("header",{className:"workout-modal__header",children:o.jsxs("div",{children:[o.jsx("p",{className:"workout-modal__eyebrow",children:"Ajoute tes exercices pour cette session."}),o.jsx("h3",{id:"workout-modal-title",children:ht.title})]})}),o.jsxs("div",{className:"workout-modal__content",children:[o.jsxs("form",{className:"workout-modal__series-form",onSubmit:ae=>{ae.preventDefault(),x&&Re(x)},children:[o.jsx("input",{type:"text",value:ne,onChange:ae=>le(ae.target.value),placeholder:"Ex : 4 x 12 squats, 10 min rameur..."}),o.jsx("input",{type:"text",value:oe,onChange:ae=>X(ae.target.value),placeholder:"Charge (kg)",className:"workout-modal__series-weight-input"}),o.jsx("button",{type:"submit",children:"Ajouter une srie"})]}),o.jsx("div",{className:"workout-modal__note",children:o.jsxs("label",{children:[o.jsx("span",{children:"Notes de sance"}),o.jsx("textarea",{rows:3,value:be,onChange:ae=>{if(!x)return;const ke=ae.target.value;J(me=>({...me,[x]:ke}))},placeholder:"Ressenti, charge, remarque..."})]})}),Pt.length===0?o.jsx("p",{className:"workout-modal__empty",children:'Aucun lment encore. Clique sur "Ajouter une srie" pour enregistrer tes envies dans cette catgorie.'}):o.jsx("ul",{className:"workout-modal__series-list",children:Pt.map(ae=>o.jsxs("li",{children:[o.jsxs("label",{children:[o.jsx("input",{type:"checkbox",checked:ae.completed,onChange:()=>x&&Ke(x,ae.id)}),o.jsx("span",{children:ae.label})]}),ae.weight?o.jsx("input",{type:"text",className:"workout-modal__series-weight",value:ae.weight,onChange:ke=>x&&ct(x,ae.id,ke.target.value),placeholder:"kg","aria-label":`Poids pour ${ae.label}`}):null,o.jsx("button",{type:"button","aria-label":`Supprimer ${ae.label}`,onClick:()=>x&&Et(x,ae.id),children:""})]},ae.id))})]})]}),o.jsx("footer",{className:"workout-modal__footer",children:o.jsxs("div",{className:"workout-modal__summary",children:[st,"/",Pt.length," sries coches"]})})]})})]})},WH="/assets/kalen-mcdonald-dupe-BlGUdRIL.jpeg",GH="/assets/maria-bolinder-dupe-BmyQDoDR.jpeg",KH=[{question:"Est-ce que Planner est gratuit ?",answer:"Oui, le projet est disponible librement pour taccompagner au quotidien. De nouvelles fonctionnalits arrivent rgulirement pour enrichir ton exprience."},{question:"Comment sauvegarder mes donnes ?",answer:"Tes notes restent enregistres localement sur ton appareil. Pour plus de scurit, exporte les informations cls afin den garder une copie personnelle."},{question:"Puis-je suggrer des ides ?",answer:"Bien sr ! Jadore recevoir vos retours. cris-moi via la page contact pour partager tes envies et inspirer les prochaines volutions du Planner."},{question:"Planner fonctionne-t-il hors connexion ?",answer:"Oui. Les pages restent accessibles mme sans connexion car les donnes sont gardes dans ton navigateur. Reviens en ligne rgulirement pour profiter des mises  jour."}],YH=()=>{const[t,e]=F.useState(0);return o.jsxs(o.Fragment,{children:[o.jsx("section",{className:"page-hero-banner","aria-hidden":"true",children:o.jsx("img",{src:WH,alt:"",loading:"lazy"})}),o.jsx(yi,{eyebrow:"FAQ",title:"FAQ"}),o.jsxs("div",{className:"faq-wrapper",children:[o.jsxs("div",{className:"legal-page faq-page",children:[o.jsx("p",{className:"legal-page__intro",children:"Toutes les rponses essentielles pour tirer le meilleur du Planner."}),o.jsx("div",{className:"faq-accordion",children:KH.map((n,i)=>{const s=t===i;return o.jsxs("article",{className:s?"faq-item is-open":"faq-item",children:[o.jsxs("button",{type:"button",className:"faq-item__header",onClick:()=>e(a=>a===i?null:i),"aria-expanded":s,"aria-controls":`faq-panel-${i}`,children:[o.jsx("span",{children:n.question}),o.jsx("span",{className:"faq-item__icon","aria-hidden":"true",children:s?"-":"+"})]}),o.jsx("div",{id:`faq-panel-${i}`,className:"faq-item__body",style:{maxHeight:s?"280px":"0px"},children:o.jsx("p",{children:n.answer})})]},n.question)})})]}),o.jsx("figure",{className:"faq-floating-figure","aria-hidden":"true",children:o.jsx("img",{src:GH,alt:"",loading:"lazy"})})]}),o.jsx("div",{className:"page-footer-bar","aria-hidden":"true"})]})},XH="/assets/kalina-wolf-dupe-Ckjo-S2M.jpeg",QH=()=>o.jsxs(o.Fragment,{children:[o.jsx("section",{className:"page-hero-banner","aria-hidden":"true",children:o.jsx("img",{src:XH,alt:"",loading:"lazy"})}),o.jsx(yi,{eyebrow:"Confidentialit",title:"Politique de confidentialit"}),o.jsxs("div",{className:"legal-page",children:[o.jsx("p",{className:"legal-page__intro",children:"La prsente politique de confidentialit a pour objectif dinformer les utilisateurs du site sur la manire dont leurs donnes personnelles sont collectes, utilises et protges."}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Responsable du traitement"}),o.jsx("p",{className:"legal-section__text",children:"Le responsable du traitement des donnes est [Ton nom / Prnom], ditrice du site [Nom du site]. Pour toute question relative aux donnes personnelles, vous pouvez contacter : [email de contact]."})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Donnes collectes"}),o.jsx("p",{className:"legal-section__text",children:"Selon lutilisation du site, les donnes suivantes peuvent tre collectes :"}),o.jsxs("ul",{className:"legal-list",children:[o.jsx("li",{children:"prnom"}),o.jsx("li",{children:"adresse email"}),o.jsx("li",{children:"messages envoys via les formulaires"}),o.jsx("li",{children:"donnes de navigation (cookies)"}),o.jsx("li",{children:"informations ncessaires  laccs aux services"})]}),o.jsx("p",{className:"legal-section__text",children:"Dans le cadre de lachat de produits (ebooks ou autres contenus payants), certaines donnes peuvent tre collectes  des fins de gestion de commande. Les donnes bancaires ne sont jamais stockes par le site et sont traites exclusivement par des prestataires de paiement scuriss."})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Finalit de la collecte"}),o.jsx("p",{className:"legal-section__text",children:"Les donnes personnelles sont collectes pour :"}),o.jsxs("ul",{className:"legal-list",children:[o.jsx("li",{children:"permettre laccs et lutilisation du site"}),o.jsx("li",{children:"rpondre aux messages et demandes"}),o.jsx("li",{children:"envoyer des contenus ou informations lies au projet"}),o.jsx("li",{children:"grer les commandes et la facturation"}),o.jsx("li",{children:"amliorer le fonctionnement du site"})]})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Base lgale"}),o.jsx("p",{className:"legal-section__text",children:"La collecte des donnes repose sur :"}),o.jsxs("ul",{className:"legal-list",children:[o.jsx("li",{children:"le consentement de lutilisateur"}),o.jsx("li",{children:"lexcution dun contrat (achat de produits)"}),o.jsx("li",{children:"le respect dobligations lgales"})]})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Dure de conservation"}),o.jsx("p",{className:"legal-section__text",children:"Les donnes sont conserves uniquement pendant la dure ncessaire aux finalits pour lesquelles elles sont collectes, et conformment aux obligations lgales en vigueur."})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Partage des donnes"}),o.jsx("p",{className:"legal-section__text",children:"Les donnes peuvent tre transmises  des prestataires techniques (hbergement, outils demailing, paiement, statistiques) uniquement dans le cadre du fonctionnement du site."}),o.jsx("p",{className:"legal-section__text",children:"Aucune donne personnelle nest vendue ou cde  des tiers."})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Scurit"}),o.jsx("p",{className:"legal-section__text",children:"Le site met en uvre des mesures de scurit pour protger les donnes personnelles contre tout accs non autoris, perte ou divulgation."})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Droits des utilisateurs"}),o.jsx("p",{className:"legal-section__text",children:"Conformment  la rglementation en vigueur, vous disposez des droits suivants :"}),o.jsxs("ul",{className:"legal-list",children:[o.jsx("li",{children:"droit daccs"}),o.jsx("li",{children:"droit de rectification"}),o.jsx("li",{children:"droit de suppression"}),o.jsx("li",{children:"droit dopposition"}),o.jsx("li",{children:"droit  la limitation du traitement"})]}),o.jsx("p",{className:"legal-section__text",children:"Pour exercer ces droits, il suffit denvoyer un email  : contact@meandrituals.com"})]})]}),o.jsx("div",{className:"page-footer-bar","aria-hidden":"true"})]}),JH="/assets/jenna-van%20der%20heide-dupe-Be8Aglcf.jpeg",ZH=()=>o.jsxs(o.Fragment,{children:[o.jsx("section",{className:"page-hero-banner","aria-hidden":"true",children:o.jsx("img",{src:JH,alt:"",loading:"lazy"})}),o.jsx(yi,{eyebrow:"Contact",title:"Contacte-moi"}),o.jsxs("div",{className:"legal-page contact-page",children:[o.jsx("p",{className:"legal-page__intro",children:"Une ide, une question ou envie de collaborer ? Laisse-moi un message et je te rpondrai avec grand plaisir."}),o.jsx("section",{className:"legal-section contact-form",children:o.jsxs("form",{className:"contact-form__body",onSubmit:t=>{t.preventDefault(),window.alert("Merci pour ton message ! Je te repondrai tres vite.")},children:[o.jsxs("label",{children:[o.jsx("span",{children:"Prenom"}),o.jsx("input",{type:"text",name:"firstName",placeholder:"Ex. Sofia",required:!0})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Nom"}),o.jsx("input",{type:"text",name:"lastName",placeholder:"Ex. Martin",required:!0})]}),o.jsxs("label",{className:"contact-form__field--full",children:[o.jsx("span",{children:"Email"}),o.jsx("input",{type:"email",name:"email",placeholder:"toi@exemple.com",required:!0})]}),o.jsxs("label",{className:"contact-form__field--full",children:[o.jsx("span",{children:"Sujet"}),o.jsx("input",{type:"text",name:"subject",placeholder:"De quoi souhaites-tu parler ?",required:!0})]}),o.jsxs("label",{className:"contact-form__field--full",children:[o.jsx("span",{children:"Message"}),o.jsx("textarea",{name:"message",placeholder:"Ecris ton message ici...",rows:5,required:!0})]}),o.jsx("button",{type:"submit",className:"contact-form__submit",children:"Envoyer"})]})})]}),o.jsx("div",{className:"page-footer-bar","aria-hidden":"true"})]}),eW="/assets/lindsay-piotter-dupe-BBjXlpJn.jpeg",tW=()=>{const{acceptAll:t,rejectAll:e,openPreferences:n}=vh();return o.jsxs(o.Fragment,{children:[o.jsx("section",{className:"page-hero-banner","aria-hidden":"true",children:o.jsx("img",{src:eW,alt:"",loading:"lazy"})}),o.jsx(yi,{eyebrow:"Cookies",title:"Gestion des cookies"}),o.jsxs("div",{className:"legal-page",children:[o.jsx("p",{className:"legal-page__intro",children:"Lors de la consultation de ce site, des cookies peuvent etre deposes sur votre appareil (ordinateur, mobile ou tablette)."}),o.jsx("h2",{className:"legal-section__title",children:"Qu'est-ce qu'un cookie ?"}),o.jsx("p",{className:"legal-section__text",children:"Un cookie est un petit fichier texte qui permet au site de fonctionner correctement, d ameliorer votre experience et, si vous l acceptez, de mesurer la frequentation."}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Cookies utilises"}),o.jsx("p",{className:"legal-section__text",children:"Ce site utilise les types de cookies suivants :"}),o.jsxs("ul",{className:"legal-list",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Cookies necessaires"}),"  indispensables au fonctionnement du site. Ils ne peuvent pas etre desactives."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Cookies de mesure d audience (optionnels)"}),"  permettent de comprendre l usage du site afin d ameliorer son contenu et ses performances."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Cookies de personnalisation (optionnels)"}),"  retiennent vos choix (ex. langue, preferences) pour personnaliser l experience."]})]}),o.jsx("p",{className:"legal-section__text",children:"Aucun cookie non essentiel n est depose sans votre consentement. Certains cookies peuvent etre emis par des services tiers (ex. outils de mesure d audience) uniquement si vous les acceptez."})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Consentement"}),o.jsx("p",{className:"legal-section__text",children:"Lors de votre premiere visite, un bandeau vous permet d accepter, de refuser ou de personnaliser votre choix. Vous pouvez modifier ou retirer votre consentement  tout moment."})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Duree de conservation"}),o.jsx("p",{className:"legal-section__text",children:"Les cookies sont conserves pour une duree maximale de 13 mois, conformement a la reglementation en vigueur."})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Gestion des cookies"}),o.jsx("p",{className:"legal-section__text",children:'Pour modifier vos choix, utilisez le bouton "Personnaliser" du bandeau cookies ou cliquez sur " Personnaliser" present en bas de page. Vos preferences sont appliquees immediatement.'})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Comment desactiver les cookies ?"}),o.jsx("p",{className:"legal-section__text",children:"Vous pouvez aussi grer les cookies depuis votre navigateur (paramtres \\u003e confidentialit \\u003e cookies). Vous pouvez refuser ou supprimer les cookies dj enregistrs. Le chemin exact dpend de votre navigateur."}),o.jsx("p",{className:"legal-section__text",children:"Attention : dsactiver les cookies essentiels bloque l'accs  l'espace scuris (connexion, sauvegarde)."})]}),o.jsxs("div",{className:"cookie-actions",children:[o.jsx("button",{type:"button",className:"cookie-banner__action cookie-banner__action--ghost",onClick:e,children:"Refuser"}),o.jsx("button",{type:"button",className:"cookie-banner__action cookie-banner__action--outline",onClick:n,children:"Personnaliser"}),o.jsx("button",{type:"button",className:"cookie-banner__action cookie-banner__action--primary",onClick:t,children:"Accepter"})]})]}),o.jsx("div",{className:"page-footer-bar","aria-hidden":"true"})]})},nW="/assets/victoria-harder-dupe-eA-NlosZ.jpeg",iW=()=>o.jsxs(o.Fragment,{children:[o.jsx("section",{className:"page-hero-banner","aria-hidden":"true",children:o.jsx("img",{src:nW,alt:"",loading:"lazy"})}),o.jsx(yi,{eyebrow:"Mentions lgales",title:"Mentions lgales"}),o.jsxs("div",{className:"legal-page",children:[o.jsx("p",{className:"legal-page__intro",children:"Mentions lgales compltes, incluant l'diteur, l'hbergeur, la proprit intellectuelle et les rgles d'utilisation du site Planner."}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"diteur du site"}),o.jsxs("p",{className:"legal-section__text",children:["Nom : Vasseur Iloudia",o.jsx("br",{}),"Statut : Auto-entrepreneur",o.jsx("br",{}),"Email : cantact@meandrituals.com"]})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Directeur de la publication"}),o.jsx("p",{className:"legal-section__text",children:"Vasseur Iloudia"})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Hbergement"}),o.jsxs("p",{className:"legal-section__text",children:["Le site est hberg par :",o.jsx("br",{}),"[Nom de l'hbergeur]",o.jsx("br",{}),"[Adresse de l'hbergeur]",o.jsx("br",{}),"[Tlphone de l'hbergeur]"]})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Proprit intellectuelle"}),o.jsx("p",{className:"legal-section__text",children:"L'ensemble du contenu prsent sur ce site (textes, images, graphismes, logo, structure) est la proprit exclusive de l'diteur, sauf mention contraire. Toute reproduction, reprsentation, modification ou adaptation, totale ou partielle, est interdite sans autorisation pralable."})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Responsabilit"}),o.jsx("p",{className:"legal-section__text",children:"L'diteur s'efforce de fournir des informations aussi prcises que possible. Il ne saurait toutefois tre tenu responsable des omissions, inexactitudes ou carences dans la mise  jour du contenu."})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Donnes personnelles"}),o.jsx("p",{className:"legal-section__text",children:"Les informations relatives  la collecte et au traitement des donnes personnelles sont dtailles dans la page Politique de confidentialit. L'utilisation des cookies est explique dans la page Gestion des cookies."})]})]}),o.jsx("div",{className:"page-footer-bar","aria-hidden":"true"})]}),rW=()=>{const{shouldShowBanner:t,acceptAll:e,rejectAll:n,openPreferences:i}=vh();return t?o.jsxs("section",{className:"cookie-banner",role:"region","aria-label":"Consentement aux cookies",children:[o.jsxs("div",{className:"cookie-banner__content",children:[o.jsx("h2",{children:"Cookies & confidentialite"}),o.jsx("p",{children:"Nous utilisons des cookies essentiels pour faire fonctionner Planner. Nous aimerions egalement activer les cookies de preferences (pour garder tes choix visuels) et de statistiques anonymes (pour comprendre l usage du site). Rien n est depose sans ton accord."}),o.jsxs("ul",{className:"cookie-banner__list",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Essentiels :"})," connexion securisee, sauvegarde, navigation."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Statistiques :"})," mesures anonymes afin d ameliorer Planner."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Preferences :"})," garder ton theme, ta langue, tes vues favorites."]})]})]}),o.jsxs("div",{className:"cookie-banner__actions",children:[o.jsx("button",{type:"button",className:"cookie-banner__action cookie-banner__action--ghost",onClick:n,children:"Refuser"}),o.jsx("button",{type:"button",className:"cookie-banner__action cookie-banner__action--outline",onClick:i,children:"Personnaliser"}),o.jsx("button",{type:"button",className:"cookie-banner__action cookie-banner__action--primary",onClick:e,children:"Accepter"})]})]}):null},sW=()=>{const{isPreferenceCenterOpen:t,closePreferences:e,preferences:n,saveCustomPreferences:i,acceptAll:s,rejectAll:a}=vh(),[u,m]=F.useState(n.analytics),[x,_]=F.useState(n.preferences);if(F.useEffect(()=>{t&&(m(n.analytics),_(n.preferences))},[t,n.analytics,n.preferences]),F.useEffect(()=>{if(!t)return;const I=U=>{U.key==="Escape"&&e()};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[t,e]),!t)return null;const j=()=>{i({analytics:u,preferences:x})};return o.jsxs("div",{className:"cookie-modal",role:"dialog","aria-modal":"true","aria-labelledby":"cookie-modal-title",children:[o.jsx("div",{className:"cookie-modal__backdrop",onClick:e,"aria-hidden":"true"}),o.jsxs("div",{className:"cookie-modal__panel",children:[o.jsxs("header",{className:"cookie-modal__header",children:[o.jsxs("div",{children:[o.jsx("p",{className:"cookie-modal__eyebrow",children:"Centre de preferences"}),o.jsx("h2",{id:"cookie-modal-title",children:"Choisis les cookies que tu acceptes"}),o.jsx("p",{children:"Les cookies essentiels sont toujours actifs pour des raisons de securite."})]}),o.jsx("button",{type:"button",className:"modal__close","aria-label":"Fermer",onClick:e,children:""})]}),o.jsxs("div",{className:"cookie-modal__groups",children:[o.jsxs("article",{className:"cookie-modal__group",children:[o.jsxs("div",{children:[o.jsx("p",{className:"cookie-modal__group-title",children:"Essentiels (toujours actifs)"}),o.jsx("p",{className:"cookie-modal__group-text",children:"Accs scuris, authentification, conservation de tes paramtres systme. Impossible de les dsactiver."})]}),o.jsx("div",{className:"cookie-modal__switch cookie-modal__switch--locked",children:o.jsx("span",{children:"Active"})})]}),o.jsxs("article",{className:"cookie-modal__group",children:[o.jsxs("div",{children:[o.jsx("p",{className:"cookie-modal__group-title",children:"Statistiques anonymes"}),o.jsx("p",{className:"cookie-modal__group-text",children:"Aide  comprendre comment Planner est utilis pour amliorer les fonctionnalits."})]}),o.jsxs("label",{className:"cookie-modal__switch",children:[o.jsx("input",{type:"checkbox",checked:u,onChange:I=>m(I.target.checked)}),o.jsx("span",{children:u?"Active":"Desactive"})]})]}),o.jsxs("article",{className:"cookie-modal__group",children:[o.jsxs("div",{children:[o.jsx("p",{className:"cookie-modal__group-title",children:"Preferences"}),o.jsx("p",{className:"cookie-modal__group-text",children:"Retient tes themes, ta langue, les dernieres vues consultees pour personnaliser ton espace."})]}),o.jsxs("label",{className:"cookie-modal__switch",children:[o.jsx("input",{type:"checkbox",checked:x,onChange:I=>_(I.target.checked)}),o.jsx("span",{children:x?"Active":"Desactive"})]})]})]}),o.jsxs("div",{className:"cookie-modal__actions",children:[o.jsx("button",{type:"button",className:"cookie-banner__action cookie-banner__action--ghost",onClick:a,children:"Refuser tout"}),o.jsx("button",{type:"button",className:"cookie-banner__action cookie-banner__action--outline",onClick:s,children:"Accepter tout"}),o.jsx("button",{type:"button",className:"cookie-banner__action cookie-banner__action--primary",onClick:j,children:"Enregistrer mes choix"})]})]})]})},oW="planner.profile.preferences.v1",aW="planner.onboarding.answers.v1",Nx=t=>{if(!t)return"Date inconnue";const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleDateString("fr-FR",{day:"2-digit",month:"long",year:"numeric"})},mS=t=>{try{const e=localStorage.getItem(t);return e?JSON.parse(e):null}catch{return null}},by=t=>typeof t=="string"?t.trim():t==null?"":String(t).trim(),jx=t=>Array.isArray(t)?t.map(e=>by(e)).filter(Boolean):[],La=(t,e)=>{const n=by(e)||"non renseign";t[n]=(t[n]??0)+1},lW=t=>{const e=by(t).toLowerCase();return e==="homme"||e==="h"?"homme":e==="femme"||e==="f"?"femme":"non precise"},xd=t=>Object.entries(t).sort((e,n)=>n[1]-e[1]||e[0].localeCompare(n[0])),Ix=["#fbcfe8","#bfdbfe","#bbf7d0","#fde68a","#ddd6fe","#fed7aa","#fecaca","#bae6fd"],gS=(t,e,n,i)=>({x:t+n*Math.cos(i-Math.PI/2),y:e+n*Math.sin(i-Math.PI/2)}),cW=(t,e,n,i,s)=>{const a=gS(t,e,n,s),u=gS(t,e,n,i),m=s-i<=Math.PI?"0":"1";return`M ${t} ${e} L ${a.x} ${a.y} A ${n} ${n} 0 ${m} 0 ${u.x} ${u.y} Z`},bd=({entries:t})=>{const e=t.reduce((s,[,a])=>s+a,0);if(e<=0)return o.jsx("p",{className:"admin-stat-empty",children:"Aucune donnee."});if(t.length===1){const[s,a]=t[0];return o.jsx("div",{className:"admin-stat-chart",children:o.jsx("div",{className:"admin-stat-figure",children:o.jsxs("svg",{viewBox:"0 0 120 120",role:"img","aria-label":"Statistiques",children:[o.jsx("circle",{cx:"60",cy:"60",r:"50",fill:Ix[0]}),o.jsx("title",{children:`${s}: ${a}`})]})})})}let n=0;const i=t.map(([s,a],u)=>{const m=a/e,x=n+m*Math.PI*2,_=cW(60,60,50,n,x),j=Ix[u%Ix.length];return n=x,{label:s,count:a,path:_,color:j}});return o.jsxs("div",{className:"admin-stat-chart",children:[o.jsx("div",{className:"admin-stat-figure",children:o.jsx("svg",{viewBox:"0 0 120 120",role:"img","aria-label":"Statistiques",children:i.map(s=>o.jsx("path",{d:s.path,fill:s.color,children:o.jsx("title",{children:`${s.label}: ${s.count}`})},s.label))})}),o.jsx("ul",{className:"admin-stat-legend",children:i.map(s=>o.jsxs("li",{children:[o.jsx("span",{className:"admin-stat-dot",style:{background:s.color}}),o.jsx("span",{children:s.label})]},s.label))})]})},uW=()=>{const{userEmail:t,adminListUsers:e,adminUpdateStatus:n,adminDeleteUser:i}=or(),[s,a]=F.useState([]),[u,m]=F.useState(""),[x,_]=F.useState(null),[j,I]=F.useState(null),[U,J]=F.useState(!1);F.useEffect(()=>{let ge=!0;return(async()=>{try{const M=await e();ge&&a(Array.isArray(M)?M:[])}catch(M){console.error("Admin users load failed",M),ge&&a([])}})(),()=>{ge=!1}},[e]),F.useEffect(()=>{if(s.length===0){_(null);return}(!x||!s.some(ge=>ge.email===x))&&_(s[0].email)},[s,x]);const ne=F.useMemo(()=>{const ge=u.trim().toLowerCase();return ge?s.filter(Y=>Y.email.toLowerCase().includes(ge)):s},[s,u]),le=F.useMemo(()=>({total:s.length,active:s.filter(ge=>ge.status==="actif").length,disabled:s.filter(ge=>ge.status==="desactive").length}),[s]),oe=F.useMemo(()=>{const ge={},Y={},M={},G={},z={};return s.forEach(K=>{var Et;const se=di(K.email,oW),ie=mS(se),dt=lW(((Et=ie==null?void 0:ie.identityInfo)==null?void 0:Et.gender)??"");La(ge,dt);const Dt=di(K.email,aW),Ge=mS(Dt),ut=by(Ge==null?void 0:Ge.source)||"non renseign";La(Y,ut);const Re=jx(Ge==null?void 0:Ge.reasons);Re.length===0?La(M,"non renseign"):Re.forEach(wt=>La(M,wt));const Ke=jx(Ge==null?void 0:Ge.categories);Ke.length===0?La(G,"non renseign"):Ke.forEach(wt=>La(G,wt));const ct=jx(Ge==null?void 0:Ge.priority);ct.length===0?La(z,"non renseign"):ct.forEach(wt=>La(z,wt))}),{gender:xd(ge),source:xd(Y),reasons:xd(M),categories:xd(G),priority:xd(z)}},[s]),X=x?s.find(ge=>ge.email===x)??null:null,O=async()=>{try{const ge=await e();a(Array.isArray(ge)?ge:[])}catch(ge){console.error("Admin users refresh failed",ge),a([])}},H=async ge=>{const Y=ge.status==="actif"?"desactive":"actif",M=await n(ge.email,Y);if(!M.success){I({type:"error",message:M.error??"Action impossible pour ce compte."});return}I({type:Y==="desactive"?"info":"success",message:Y==="desactive"?"Compte desactive et sessions coupees.":"Compte reactive."}),await O()},te=async ge=>{if(!window.confirm(`Supprimer le compte ${ge} ? Cette action supprime les donnees locales associees et coupe toutes les sessions.`))return;const M=await i(ge);if(!M.success){I({type:"error",message:M.error??"Impossible de supprimer ce compte."});return}I({type:"success",message:"Compte supprim et donnes nettoyes."}),await O()},Te=(ge,Y)=>{(ge.key==="Enter"||ge.key===" ")&&(ge.preventDefault(),_(Y))};return o.jsxs("div",{className:"admin-page",children:[o.jsx("div",{className:"admin-page__accent","aria-hidden":"true"}),o.jsxs("header",{className:"admin-header",children:[o.jsxs("div",{children:[o.jsx("p",{className:"admin-eyebrow",children:"Back-office"}),o.jsx("h1",{children:"Administration des comptes"}),o.jsx("p",{children:"Connectez-vous en tant quadmin@planner.local."}),o.jsx("p",{children:"Accs rserv aux administrateurs vrifis."})]}),o.jsxs("div",{className:"admin-hero",children:[o.jsxs("article",{children:[o.jsx("span",{children:"Total"}),o.jsx("strong",{children:le.total})]}),o.jsxs("article",{children:[o.jsx("span",{children:"Actifs"}),o.jsx("strong",{children:le.active})]}),o.jsxs("article",{children:[o.jsx("span",{children:"Dsactivs"}),o.jsx("strong",{children:le.disabled})]})]})]}),o.jsxs("div",{className:"admin-grid",children:[o.jsxs("section",{className:"admin-panel",children:[o.jsxs("header",{className:"admin-panel__header",children:[o.jsxs("div",{children:[o.jsx("p",{className:"admin-eyebrow",children:"Utilisateurs"}),o.jsx("h2",{children:"Comptes inscrits"})]}),o.jsxs("div",{className:"admin-panel__controls",children:[o.jsx("input",{type:"search",placeholder:"Rechercher par e-mail",value:u,onChange:ge=>m(ge.target.value)}),o.jsx("button",{type:"button",className:"admin-action",onClick:()=>J(!0),children:"Voir tous"})]})]}),o.jsxs("div",{className:"admin-table",role:"table","aria-label":"Utilisateurs inscrits",children:[o.jsxs("div",{className:"admin-table__row admin-table__row--head",role:"row",children:[o.jsx("div",{role:"columnheader",children:"E-mail"}),o.jsx("div",{role:"columnheader",children:"Inscription"}),o.jsx("div",{role:"columnheader",children:"Statut"}),o.jsx("div",{role:"columnheader",children:"Actions"})]}),o.jsx("div",{className:"admin-table__body admin-table__body--scroll",children:ne.length===0?o.jsx("p",{className:"admin-table__empty",children:"Aucun compte ne correspond  cette adresse e-mail."}):ne.map(ge=>o.jsxs("div",{className:ge.email===x?"admin-table__row is-selected":"admin-table__row",role:"row",tabIndex:0,onClick:()=>_(ge.email),onKeyDown:Y=>Te(Y,ge.email),children:[o.jsx("div",{className:"admin-table__cell",children:o.jsx("strong",{children:ge.email})}),o.jsx("div",{className:"admin-table__cell",children:Nx(ge.createdAt)}),o.jsx("div",{className:"admin-table__cell",children:o.jsx("span",{className:`badge badge--${ge.status}`,children:ge.status==="actif"?"Actif":"Desactive"})}),o.jsxs("div",{className:"admin-table__cell admin-table__cell--actions",children:[o.jsx("button",{type:"button",className:"admin-action",onClick:()=>H(ge),children:ge.status==="actif"?"Desactiver":"Re-activer"}),o.jsx("button",{type:"button",className:"admin-delete",onClick:()=>te(ge.email),children:"Supprimer"})]})]},ge.email))})]})]}),o.jsxs("section",{className:"admin-panel admin-panel--form",children:[o.jsxs("header",{className:"admin-panel__header",children:[o.jsxs("div",{children:[o.jsx("p",{className:"admin-eyebrow",children:"Details"}),o.jsx("h2",{children:"Profil slectionn"})]}),o.jsx("p",{className:"admin-helper",children:"Recherche, slection, dsactivation ou suppression en un clic."})]}),j?o.jsx("div",{className:`admin-alert admin-alert--${j.type}`,children:j.message}):null,X?o.jsxs("div",{className:"admin-detail",children:[o.jsxs("dl",{className:"admin-detail__grid",children:[o.jsxs("div",{children:[o.jsx("dt",{children:"E-mail"}),o.jsx("dd",{children:X.email})]}),o.jsxs("div",{children:[o.jsx("dt",{children:"Date d inscription"}),o.jsx("dd",{children:Nx(X.createdAt)})]}),o.jsxs("div",{children:[o.jsx("dt",{children:"Statut"}),o.jsx("dd",{children:o.jsx("span",{className:`badge badge--${X.status}`,children:X.status==="actif"?"Actif":"Desactive"})})]}),X.deletionPlannedAt?o.jsxs("div",{children:[o.jsx("dt",{children:"Suppression programmee"}),o.jsx("dd",{children:Nx(X.deletionPlannedAt)})]}):null]}),o.jsxs("div",{className:"admin-form__actions",children:[o.jsx("button",{type:"button",onClick:()=>H(X),children:X.status==="actif"?"Dsactiver le compte":"Re-activer le compte"}),o.jsx("button",{type:"button",className:"admin-delete admin-delete--wide",onClick:()=>te(X.email),children:"Supprimer dfinitivement"})]})]}):o.jsx("p",{className:"admin-empty-state",children:"Aucun utilisateur  afficher pour le moment."})]})]}),o.jsxs("section",{className:"admin-panel admin-panel--stats",children:[o.jsxs("header",{className:"admin-panel__header",children:[o.jsxs("div",{children:[o.jsx("p",{className:"admin-eyebrow",children:"Statistiques"}),o.jsx("h2",{children:"Questions d inscription"})]}),o.jsx("p",{className:"admin-helper",children:"Synthese des reponses collectees lors de l inscription."})]}),o.jsxs("div",{className:"admin-stats-grid",children:[o.jsxs("article",{className:"admin-stat-card",children:[o.jsx("h3",{children:"Genre"}),o.jsx(bd,{entries:oe.gender})]}),o.jsxs("article",{className:"admin-stat-card",children:[o.jsx("h3",{children:"Source"}),o.jsx(bd,{entries:oe.source})]}),o.jsxs("article",{className:"admin-stat-card",children:[o.jsx("h3",{children:"Raisons"}),o.jsx(bd,{entries:oe.reasons})]}),o.jsxs("article",{className:"admin-stat-card",children:[o.jsx("h3",{children:"Catgories"}),o.jsx(bd,{entries:oe.categories})]}),o.jsxs("article",{className:"admin-stat-card",children:[o.jsx("h3",{children:"Priorite"}),o.jsx(bd,{entries:oe.priority})]})]})]}),o.jsxs("section",{className:"admin-safe",children:[o.jsx("h2",{children:"Conformit et scurit"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Accs limit aux administrateurs authentifis via une route protge."}),o.jsx("li",{children:"Les dsactivations coupent les sessions actives et empchent les nouvelles connexions."}),o.jsx("li",{children:"Les suppressions nettoient les donnes locales (identifiants, mtadonnes) afin de respecter le droit  leffacement."})]})]}),U?o.jsx("div",{className:"admin-modal",role:"dialog","aria-modal":"true",children:o.jsxs("div",{className:"admin-modal__card",children:[o.jsxs("header",{className:"admin-modal__header",children:[o.jsx("h3",{children:"Tous les e-mails"}),o.jsx("button",{type:"button",className:"admin-delete",onClick:()=>J(!1),children:"Fermer"})]}),o.jsx("div",{className:"admin-modal__body",children:s.length===0?o.jsx("p",{className:"admin-table__empty",children:"Aucun compte  afficher."}):o.jsx("ul",{className:"admin-modal__list",children:s.map(ge=>o.jsx("li",{children:ge.email},ge.email))})})]})}):null,o.jsx("div",{className:"home-footer-bar","aria-hidden":"true"})]})},hW=()=>{const{isAuthenticated:t,isAdmin:e,isAuthReady:n}=or();return n?t?e?o.jsx(hw,{}):o.jsx(jb,{to:"/home",replace:!0}):o.jsx(jb,{to:"/login",replace:!0}):null},dW=[{id:"account",label:"Votre compte",path:"/parametres"},{id:"display",label:"Affichage",path:"/parametres/affichage"},{id:"languages",label:"Langues",path:"/parametres/langues"}],pW=()=>o.jsxs(o.Fragment,{children:[o.jsx(yi,{eyebrow:"Paramtres",title:"Personnalise ton exprience"}),o.jsx("div",{className:"content-page settings-page",children:o.jsxs("div",{className:"settings-layout",children:[o.jsx("nav",{className:"settings-nav",children:o.jsx("ul",{children:dW.map(t=>o.jsx("li",{children:o.jsx(zL,{to:t.path,end:!0,className:({isActive:e})=>e?"is-active":"",children:t.label})},t.id))})}),o.jsx("section",{className:"settings-panel",children:o.jsx(hw,{})})]})}),o.jsx("div",{className:"page-footer-bar","aria-hidden":"true"})]}),fW="planner.profile.preferences.v1",mW=[{id:"info",label:"Informations sur le compte",description:"Consultez les informations de votre compte, comme votre numero de telephone et votre adresse e-mail."},{id:"password",label:"Changez votre mot de passe",description:"Changez votre mot de passe  tout moment."},{id:"deactivate",label:"Desactiver ou supprimer le compte",description:"Planifiez une desactivation de 30 jours ou supprimez-le immediatement."}],gW={"fr-FR":"Francais","en-US":"Anglais","es-ES":"Espagnol"},Px=({open:t})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:t?o.jsxs(o.Fragment,{children:[o.jsx("path",{d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),o.jsx("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor",strokeWidth:"1.6",fill:"none"})]}):o.jsxs(o.Fragment,{children:[o.jsx("path",{d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.21 16.058 7 19 11.478 19c1.805 0 3.508-.43 5.02-1.196",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),o.jsx("path",{d:"M6.228 6.228A10.45 10.45 0 0111.478 5c4.477 0 8.268 2.943 9.543 7a10.523 10.523 0 01-4.03 5.56",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),o.jsx("path",{d:"M15 12a3 3 0 00-3-3",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),o.jsx("path",{d:"M3 3l18 18",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})}),yW=t=>{if(!t)return"Non renseign";const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleDateString("fr-FR",{day:"2-digit",month:"long",year:"numeric"})},Mx=t=>{if(!t)return"Non renseign";const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleString("fr-FR",{dateStyle:"medium",timeStyle:"short"})},vW=t=>{if(!t)return null;const e=new Date(t);if(Number.isNaN(e.getTime()))return null;const n=new Date;let i=n.getFullYear()-e.getFullYear();const s=n.getMonth()-e.getMonth();return(s<0||s===0&&n.getDate()<e.getDate())&&(i-=1),i},xW=()=>{const{userEmail:t,createdAt:e,verifyPassword:n,changePassword:i,deactivateAccount:s,deleteAccount:a,scheduledDeletionDate:u}=or(),m=F.useMemo(()=>di(t,fW),[t]),[x,_]=F.useState("list"),[j,I]=F.useState(""),[U,J]=F.useState(null),[ne,le]=F.useState({}),[oe,X]=F.useState({current:"",next:"",confirm:""}),[O,H]=F.useState(null),[te,Te]=F.useState(null),[ge,Y]=F.useState({current:!1,next:!1,confirm:!1}),[M,G]=F.useState(null),[z,K]=F.useState(null),se=ze=>{Y(we=>({...we,[ze]:!we[ze]}))},ie=ze=>ge[ze]?"text":"password";F.useEffect(()=>{try{const ze=localStorage.getItem(m);if(!ze)return;const we=JSON.parse(ze);le({personal:we.personalInfo??{},identity:we.identityInfo??{}})}catch{le({})}},[m]);const dt=ne.personal??{},Dt=ne.identity??{},Ge=Dt.username??(t==null?void 0:t.split("@")[0])??"Non renseign",ut=dt.phone??"Non renseign",Re=dt.email??t??"Non renseign",Ke=Dt.country??"Non renseign",ct=Dt.language??"",Et=gW[ct]??(ct||"Non renseign"),wt=Dt.gender||"Non precise",vt=Dt.birthday??"",Ot=vW(vt),ht=yW(vt),Pt=Mx(e??void 0),st=F.useMemo(()=>[{label:"Nom d'utilisateur",value:Ge},{label:"Telephone",value:ut},{label:"E-mail",value:Re},{label:"Cration de compte",value:Pt},{label:"Pays",value:Ke},{label:"Langue",value:Et},{label:"Genre",value:wt},{label:"Date de naissance",value:ht},{label:"Age",value:Ot!==null?`${Ot}`:"Non renseign"}],[Ge,ut,Re,Pt,Ke,Et,wt,ht,Ot]),be=async()=>{if(!await n(j)){J("Mot de passe incorrect.");return}J(null),_("details")},ae=()=>{I(""),J(null),_("list")},ke=()=>{X({current:"",next:"",confirm:""}),H(null),Te(null),Y({current:!1,next:!1,confirm:!1}),_("list")},me=async ze=>{if(ze.preventDefault(),Te(null),!oe.current||!oe.next||!oe.confirm){H("Merci de remplir tous les champs.");return}if(oe.next!==oe.confirm){H("Les nouveaux mots de passe ne correspondent pas.");return}const we=await i(oe.current,oe.next);if(!we.success){H(we.error??"Impossible de changer le mot de passe.");return}H(null),X({current:"",next:"",confirm:""}),Te("Votre mot de passe a t mis  jour.")},Ye=async()=>{G(null);const ze=await s();if(!ze.success){K(null),G(ze.error??"Impossible de desactiver le compte.");return}const we=ze.deleteAt??u,yt=we?Mx(we):"30 jours";K(`Votre compte restera actif jusqu'au ${yt} avant suppression definitive.`)},Pe=async()=>{G(null);const ze=await a();if(!ze.success){G(ze.error??"Impossible de supprimer le compte."),K(null);return}K("Votre compte a t supprim.")};if(x==="password")return o.jsxs("div",{className:"settings-section",children:[o.jsx("h2",{children:"Confirmez votre mot de passe"}),o.jsx("p",{className:"settings-section__intro",children:"Veuillez saisir votre mot de passe pour obtenir ceci."}),o.jsxs("div",{className:"settings-password",children:[o.jsxs("label",{children:[o.jsx("span",{children:"Mot de passe du compte"}),o.jsx("input",{type:"password",className:U?"settings-password__input is-error":"settings-password__input",value:j,onChange:ze=>I(ze.target.value),"aria-invalid":!!U,onKeyDown:ze=>{(ze.key==="Enter"||ze.key===" ")&&(ze.preventDefault(),be())}})]}),U?o.jsx("p",{className:"settings-error",children:U}):null,o.jsx("button",{type:"button",className:"settings-password__forgot",children:"Mot de passe oublie ?"}),o.jsxs("div",{className:"settings-password__actions",children:[o.jsx("button",{type:"button",onClick:ae,children:"Retour"}),o.jsx("button",{type:"button",className:"settings-password__confirm",onClick:be,children:"Confirmer"})]})]})]});if(x==="details")return o.jsxs("div",{className:"settings-section",children:[o.jsx("h2",{children:"Informations sur le compte"}),o.jsx("dl",{className:"settings-details",children:st.map(ze=>o.jsxs("div",{children:[o.jsx("dt",{children:ze.label}),o.jsx("dd",{children:ze.value})]},ze.label))}),o.jsx("p",{className:"settings-note",children:"Modifiez votre date de naissance sur votre profil."}),o.jsx("button",{type:"button",className:"settings-link",onClick:ae,children:"Retour aux options"})]});if(x==="change-password")return o.jsxs("div",{className:"settings-section",children:[o.jsx("h2",{children:"Changez votre mot de passe"}),o.jsx("p",{className:"settings-section__intro",children:"Renforcez la securite de votre compte Planner."}),o.jsx("p",{className:"settings-note",children:"mot de passe oubli"}),o.jsxs("form",{className:"settings-password-change",onSubmit:me,children:[o.jsxs("label",{children:[o.jsx("span",{children:"Mot de passe actuel"}),o.jsxs("div",{className:"settings-password-field",children:[o.jsx("input",{type:ie("current"),value:oe.current,onChange:ze=>X(we=>({...we,current:ze.target.value})),required:!0}),o.jsx("button",{type:"button",className:"settings-password-toggle",onClick:()=>se("current"),"aria-label":ge.current?"Masquer le mot de passe actuel":"Afficher le mot de passe actuel","aria-pressed":ge.current,children:o.jsx(Px,{open:ge.current})})]})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Nouveau mot de passe"}),o.jsxs("div",{className:"settings-password-field",children:[o.jsx("input",{type:ie("next"),value:oe.next,onChange:ze=>X(we=>({...we,next:ze.target.value})),minLength:6,required:!0}),o.jsx("button",{type:"button",className:"settings-password-toggle",onClick:()=>se("next"),"aria-label":ge.next?"Masquer le nouveau mot de passe":"Afficher le nouveau mot de passe","aria-pressed":ge.next,children:o.jsx(Px,{open:ge.next})})]})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Confirmer le mot de passe"}),o.jsxs("div",{className:"settings-password-field",children:[o.jsx("input",{type:ie("confirm"),value:oe.confirm,onChange:ze=>X(we=>({...we,confirm:ze.target.value})),minLength:6,required:!0}),o.jsx("button",{type:"button",className:"settings-password-toggle",onClick:()=>se("confirm"),"aria-label":ge.confirm?"Masquer la confirmation du mot de passe":"Afficher la confirmation du mot de passe","aria-pressed":ge.confirm,children:o.jsx(Px,{open:ge.confirm})})]})]}),O?o.jsx("p",{className:"settings-error",children:O}):null,te?o.jsx("p",{className:"settings-success",children:te}):null,o.jsx("p",{className:"settings-note",children:"Modifier votre mot de passe vous deconnectera de toutes vos sessions actives sauf celle que vous utilisez actuellement."}),o.jsxs("div",{className:"settings-password__actions",children:[o.jsx("button",{type:"button",onClick:ke,children:"Annuler"}),o.jsx("button",{type:"submit",className:"settings-password__confirm",children:"Sauvegarder"})]})]})]});if(x==="deactivate"){const ze=u?Mx(u):null;return o.jsxs("div",{className:"settings-section",children:[o.jsx("h2",{children:"Desactiver ou supprimer le compte"}),o.jsx("p",{className:"settings-section__intro",children:"Desactivez votre compte pour planifier sa suppression sous 30 jours ou supprimez-le immediatement si vous etes sur de votre choix."}),M?o.jsx("p",{className:"settings-error",children:M}):null,z?o.jsx("p",{className:"settings-success",children:z}):null,ze?o.jsxs("p",{className:"settings-note",children:["Suppression programmee le ",ze,"."]}):null,o.jsxs("div",{className:"settings-dual-actions",children:[o.jsxs("article",{className:"settings-action-card",children:[o.jsx("h3",{children:"Desactiver le compte"}),o.jsx("p",{children:"Le compte restera accessible pendant 30 jours, puis il sera supprime automatiquement."}),o.jsx("button",{type:"button",onClick:Ye,children:"Desactiver mon compte"})]}),o.jsxs("article",{className:"settings-action-card settings-action-card--danger",children:[o.jsx("h3",{children:"Supprimer le compte"}),o.jsx("p",{children:"Supprime immediatement et definitivement vos donnees et sessions."}),o.jsx("button",{type:"button",onClick:Pe,children:"Supprimer definitivement"})]})]}),o.jsx("button",{type:"button",className:"settings-link",onClick:()=>_("list"),children:"Retour aux options"})]})}return o.jsxs("div",{className:"settings-section",children:[o.jsx("h2",{children:"Votre compte"}),o.jsx("p",{className:"settings-section__intro",children:"Gardez le controle de vos informations personnelles."}),o.jsx("div",{className:"settings-options",children:mW.map(ze=>o.jsxs("button",{type:"button",className:"settings-option",onClick:()=>{ze.id==="info"?_("password"):ze.id==="password"?(X({current:"",next:"",confirm:""}),H(null),Te(null),_("change-password")):ze.id==="deactivate"&&(G(null),K(null),_("deactivate"))},children:[o.jsx("span",{className:"settings-option__label",children:ze.label}),o.jsx("span",{className:"settings-option__description",children:ze.description})]},ze.id))})]})},bW="planner.display.preferences",yS=[{id:"xs",label:"XS",value:.9,sample:"Aa"},{id:"sm",label:"S",value:.97,sample:"Aa"},{id:"md",label:"M",value:1,sample:"Aa"},{id:"lg",label:"L",value:1.08,sample:"Aa"},{id:"xl",label:"XL",value:1.18,sample:"Aa"}],wW=[{id:"light",label:"Clair",description:"Fond lumineux et aere"},{id:"dark",label:"Sombre",description:"Fond doux et contraste"}],_W=()=>{const{userEmail:t}=or(),e=F.useMemo(()=>di(t,bW),[t]),[n,i]=F.useState(()=>({fontScale:1,backgroundTone:"light"}));F.useEffect(()=>{try{const a=localStorage.getItem(e);if(!a)return;const u=JSON.parse(a);i(m=>({fontScale:typeof u.fontScale=="number"?u.fontScale:m.fontScale,backgroundTone:u.backgroundTone==="dark"?"dark":m.backgroundTone}))}catch{}},[e]),F.useEffect(()=>{try{localStorage.setItem(e,JSON.stringify(n))}catch{}},[n,e]),F.useEffect(()=>{document.documentElement.style.setProperty("--user-font-scale",n.fontScale.toString()),document.documentElement.dataset.backgroundTone=n.backgroundTone},[n]);const s=F.useMemo(()=>{const a=yS.find(u=>u.value===n.fontScale);return(a==null?void 0:a.label)??"M"},[n.fontScale]);return o.jsxs("div",{className:"settings-section",children:[o.jsx("h2",{children:"Affichage"}),o.jsx("p",{className:"settings-section__intro",children:"Adapte la lecture et l ambiance visuelle de Planner."}),o.jsxs("section",{className:"settings-display-group",children:[o.jsxs("header",{className:"settings-display-group__header",children:[o.jsxs("div",{children:[o.jsx("h3",{children:"Taille de la police"}),o.jsx("p",{children:"Ajuste la taille globale du texte pour tout le site."})]}),o.jsx("span",{className:"settings-display-group__value",children:s})]}),o.jsx("div",{className:"font-scale-selector",role:"group","aria-label":"Choisir la taille de police",children:yS.map(a=>o.jsxs("button",{type:"button",className:n.fontScale===a.value?"font-scale-option is-active":"font-scale-option",onClick:()=>i(u=>({...u,fontScale:a.value})),"aria-pressed":n.fontScale===a.value,children:[o.jsx("span",{className:"font-scale-option__sample","aria-hidden":"true",style:{transform:`scale(${a.value+.1})`},children:a.sample}),o.jsx("span",{children:a.label})]},a.id))})]}),o.jsxs("section",{className:"settings-display-group",children:[o.jsx("header",{className:"settings-display-group__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Couleur"}),o.jsx("p",{children:"Le choix fin des couleurs arrivera tres vite."})]})}),o.jsx("div",{className:"color-placeholder",children:o.jsx("span",{children:"Disponible prochainement"})})]}),o.jsxs("section",{className:"settings-display-group",children:[o.jsx("header",{className:"settings-display-group__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Arriere-plan"}),o.jsx("p",{children:"Opte pour une ambiance claire ou plus sombre."})]})}),o.jsx("div",{className:"background-tone-selector",role:"group","aria-label":"Choisir le ton de l arriere-plan",children:wW.map(a=>o.jsxs("button",{type:"button",className:n.backgroundTone===a.id?"tone-option is-active":"tone-option",onClick:()=>i(u=>({...u,backgroundTone:a.id})),"aria-pressed":n.backgroundTone===a.id,children:[o.jsx("span",{className:"tone-option__label",children:a.label}),o.jsx("span",{className:"tone-option__description",children:a.description})]},a.id))})]})]})},EW="planner.language.preference",vS="googtrans",xS="google-translate-script",kW={"fr-FR":"fr","en-US":"en","en-GB":"en","es-ES":"es","de-DE":"de","it-IT":"it","pt-BR":"pt","nl-NL":"nl","sv-SE":"sv","hi-IN":"hi","ja-JP":"ja","zh-CN":"zh-CN","ar-SA":"ar"},bS=[{code:"fr-FR",label:"Francais",native:"Franais"},{code:"en-US",label:"Anglais (Etats-Unis)",native:"English"},{code:"en-GB",label:"Anglais (Royaume-Uni)",native:"English (UK)"},{code:"es-ES",label:"Espagnol",native:"Espaol"},{code:"de-DE",label:"Allemand",native:"Deutsch"},{code:"it-IT",label:"Italien",native:"Italiano"},{code:"pt-BR",label:"Portugais (Bresil)",native:"Portugus"},{code:"nl-NL",label:"Neerlandais",native:"Nederlands"},{code:"sv-SE",label:"Suedois",native:"Svenska"},{code:"hi-IN",label:"Hindi",native:""},{code:"ja-JP",label:"Japonais",native:""},{code:"zh-CN",label:"Chinois (simplifie)",native:""},{code:"ar-SA",label:"Arabe",native:""}],TW=()=>{const{preferences:t,openPreferences:e}=vh(),{userEmail:n}=or(),i=F.useMemo(()=>di(n,EW),[n]),[s,a]=F.useState("fr-FR"),[u,m]=F.useState("fr-FR"),[x,_]=F.useState("");F.useEffect(()=>{try{const le=localStorage.getItem(i);le&&(a(le),m(le))}catch{}},[i]);const j=F.useMemo(()=>{const le=x.trim().toLowerCase();return le?bS.filter(oe=>oe.label.toLowerCase().startsWith(le)||oe.native.toLowerCase().startsWith(le)):bS},[x]),I=()=>{if(document.getElementById(xS))return;window.googleTranslateElementInit||(window.googleTranslateElementInit=()=>{var oe,X;if(!document.getElementById("google_translate_element")){const O=document.createElement("div");O.id="google_translate_element",O.className="google-translate-element",document.body.appendChild(O)}(X=(oe=window.google)==null?void 0:oe.translate)!=null&&X.TranslateElement&&new window.google.translate.TranslateElement({pageLanguage:"fr",autoDisplay:!1},"google_translate_element")});const le=document.createElement("script");le.id=xS,le.src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit",document.body.appendChild(le)},U=le=>{var O;const X=`/fr/${kW[le]??((O=le.split("-")[0])==null?void 0:O.toLowerCase())??"fr"}`;document.cookie=`${vS}=${X}; path=/;`},J=()=>{document.cookie=`${vS}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;`},ne=le=>{if(le.preventDefault(),!!u){if(!t.preferences&&u!=="fr-FR"){e();return}a(u);try{t.preferences?localStorage.setItem(i,u):localStorage.removeItem(i)}catch{}if(u!=="fr-FR"){I(),U(u),window.location.reload();return}J(),window.location.reload()}};return o.jsxs("div",{className:"settings-section",children:[o.jsx("h2",{children:"Langues"}),o.jsx("p",{className:"settings-section__intro",children:"Selectionnez la langue"}),o.jsx("p",{className:"settings-section__text",children:"Choisissez la ou les langues que vous souhaitez utiliser pour personnaliser votre experience."}),o.jsxs("form",{className:"language-form",onSubmit:ne,children:[o.jsx("div",{className:"language-search",children:o.jsx("input",{type:"search",placeholder:"Rechercher une langue","aria-label":"Rechercher une langue",value:x,onChange:le=>_(le.target.value)})}),o.jsxs("div",{className:"language-results",role:"listbox","aria-label":"Resultats des langues disponibles",children:[j.length===0?o.jsx("p",{className:"language-empty",children:"Aucune langue ne correspond  votre recherche."}):null,j.map(le=>{const oe=u===le.code;return o.jsxs("button",{type:"button",className:oe?"language-row is-selected":"language-row",role:"option","aria-selected":oe,onClick:()=>m(X=>X===le.code?"":le.code),children:[o.jsxs("div",{className:"language-row__info",children:[o.jsx("strong",{children:le.label}),o.jsx("span",{children:le.native})]}),o.jsx("span",{className:oe?"language-row__check is-checked":"language-row__check","aria-hidden":"true",children:oe?"":""})]},le.code)})]}),o.jsx("div",{className:"language-actions",children:o.jsx("button",{type:"submit",className:"language-actions__confirm",disabled:!u||u===s,children:"Confirmer"})})]})]})},CW=()=>o.jsx("section",{className:"settings-cookies",children:o.jsx("button",{type:"button",className:"cookie-actions__outline",onClick:()=>{window.location.href="/cookies"},children:"Gestion des cookies"})}),SW="/assets/natalia-grabarczyk-dupe-BEqqLMi4.jpeg",AW="/assets/madison-hart-dupe-B1OKQePt.jpeg",NW=["Au bout d'un moment, j'ai voulu mieux organiser mes journes. J'ai donc install plusieurs applications, et je me suis vite rendu compte qu'il fallait payer pour des choses assez simples, comme programmer des vnements sur plusieurs jours ou encore changer la couleur des vnements.","J'ai alors dcid de coder mon propre planner.  la base, cela ne devait me prendre que deux jours, tout au plus. Puis je me suis dit que je pourrais ajouter une page, puis une autre, et ainsi de suite. En cours de route, j'ai ralis que je pourrais en faire profiter tout le monde.","C'est pour cette raison que j'ai dcid de crer un vritable site web, et pas seulement quelque chose que je garderais pour moi. C'est ainsi que PLANNER est n.","Ce site est n d'une envie d'aider les autres  mieux organiser leurs journes,  penser un peu plus positivement et  essayer de se rconcilier avec soi-mme grce  quelques exercices simples.","Aimez-vous tel que vous tes, prenez du temps pour sculpter votre corps, prenez du temps pour faire du journaling et poser toutes vos penses, ngatives comme positives, et vous pourrez observer un grand changement dans votre vie.","Dans ma vie, je me suis longtemps cherche. Mais s'il y a une chose que je sais avec certitude aujourd'hui, c'est que j'aime aider les gens, et j'espre que ce site en sera la preuve."],jW=[{title:"Bien-tre",description:["Crer un espace o l'on peut ralentir, respirer et retrouver un quilibre intrieur.","Un lieu pour apaiser le mental, allger la charge motionnelle et cultiver un mieux-tre durable."]},{title:"Bienveillance",description:["Apprendre  se parler avec douceur, sans jugement ni auto-critique.","Avancer en se respectant, en s'accueillant pleinement, mme dans les moments de doute."]},{title:"Persvrance",description:["Rappeler que chaque petit pas compte.","Continuer d'avancer, mme lentement, avec confiance et constance, un jour  la fois."]}],IW=()=>o.jsxs(o.Fragment,{children:[o.jsx("section",{className:"page-hero-banner","aria-hidden":"true",children:o.jsx("img",{src:SW,alt:"",loading:"lazy"})}),o.jsxs("div",{className:"about-page",children:[o.jsx(yi,{eyebrow:"A propos",title:"A propos de moi"}),o.jsxs("div",{className:"about-shell",children:[o.jsx("article",{className:"about-article","aria-label":"A propos",children:NW.map(t=>o.jsx("p",{children:t},t))}),o.jsx("figure",{className:"about-figure","aria-hidden":"true",children:o.jsx("img",{src:AW,alt:"",loading:"lazy"})})]}),o.jsxs("section",{className:"about-values","aria-label":"Valeurs du site",children:[o.jsx("p",{className:"values-intro",children:"Les valeurs du site sont :"}),o.jsx("div",{className:"values-stack",children:jW.map(t=>o.jsxs("article",{className:"value-block",children:[o.jsx("h3",{children:t.title}),t.description.map(e=>o.jsx("p",{children:e},e))]},t.title))})]})]}),o.jsx("div",{className:"page-footer-bar","aria-hidden":"true"})]}),PW="planner.profile.preferences.v1",MW="planner.onboarding.answers.v1",RW="profile-photo",DW="planner.profile.lastLogin",Rx=t=>{if(!t)return"Non renseign";const e=new Date(t);return Number.isNaN(e.getTime())?"Non renseign":e.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})},wS=t=>{if(!t)return"Non renseign";const e=new Date(t);return Number.isNaN(e.getTime())?"Non renseign":e.toLocaleString("fr-FR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},OW=t=>{if(!t)return"Non renseign";const e=t.split("-").map(u=>Number(u));if(e.length!==3)return"Non renseign";const[n,i,s]=e;if(!n||!i||!s)return"Non renseign";const a=i*100+s;return a>=321&&a<=419?"Belier":a>=420&&a<=520?"Taureau":a>=521&&a<=620?"Gemeaux":a>=621&&a<=722?"Cancer":a>=723&&a<=822?"Lion":a>=823&&a<=922?"Vierge":a>=923&&a<=1022?"Balance":a>=1023&&a<=1121?"Scorpion":a>=1122&&a<=1221?"Sagittaire":a>=1222||a<=119?"Capricorne":a>=120&&a<=218?"Verseau":a>=219&&a<=320?"Poissons":"Non renseign"};async function LW(t,e){const n=e==null?void 0:e.size,i=e==null?void 0:e.quality,s=await new Promise((le,oe)=>{const X=new FileReader;X.onerror=()=>oe(new Error("Lecture du fichier impossible.")),X.onload=()=>{const O=typeof X.result=="string"?X.result:null;O?le(O):oe(new Error("Fichier invalide."))},X.readAsDataURL(t)}),a=await new Promise((le,oe)=>{const X=new Image;X.onload=()=>le(X),X.onerror=()=>oe(new Error("Image non valide.")),X.src=s}),u=document.createElement("canvas");u.width=n,u.height=n;const m=u.getContext("2d");if(!m)throw new Error("Canvas indisponible.");const x=a.width,_=a.height,j=Math.min(x,_),I=Math.floor((x-j)/2),U=Math.floor((_-j)/2);m.drawImage(a,I,U,j,j,0,0,n,n);const J=u.toDataURL("image/webp",i);return J.startsWith("data:image/webp")?J:u.toDataURL("image/jpeg",i)}function FW(){const{userEmail:t,createdAt:e}=or(),{tasks:n}=g_(),i=t??"anonymous",s=F.useMemo(()=>di(i,RW),[i]),a=F.useMemo(()=>di(ll(i),PW),[i]),u=F.useMemo(()=>di(ll(i),MW),[i]),m=F.useMemo(()=>di(ll(i),DW),[i]),[x,_]=F.useState(()=>localStorage.getItem(s)??localStorage.getItem("profile-photo")??cl),[j,I]=F.useState(null),[U,J]=F.useState({}),[ne,le]=F.useState({}),[oe,X]=F.useState(""),O=F.useRef(null);F.useEffect(()=>{try{const Et=localStorage.getItem(a);if(!Et){J({});return}J(JSON.parse(Et))}catch{J({})}},[a]),F.useEffect(()=>{try{const Et=localStorage.getItem(u);if(!Et){le({});return}le(JSON.parse(Et))}catch{le({})}},[u]),F.useEffect(()=>{const Et=localStorage.getItem(m)??"";X(Et);try{localStorage.setItem(m,new Date().toISOString())}catch{}},[m]),F.useEffect(()=>{const Et=()=>{_(localStorage.getItem(s)??localStorage.getItem("profile-photo")??cl)};return window.addEventListener("storage",Et),()=>window.removeEventListener("storage",Et)},[s]);const H=async Et=>{var vt;I(null);const wt=(vt=Et.target.files)==null?void 0:vt[0];if(wt){if(!wt.type.startsWith("image/")){I("Format non supporte."),Et.target.value="";return}try{const Ot=await LW(wt,{size:320,quality:.82});_(Ot);try{localStorage.setItem(s,Ot),localStorage.setItem("profile-photo",Ot)}catch{}}catch(Ot){I(Ot instanceof Error?Ot.message:"Erreur lors du traitement de l image.")}finally{Et.target.value=""}}},te=U.personalInfo??{},Te=U.identityInfo??{},ge=Te.username??(t?t.split("@")[0]:"Utilisateur"),Y=te.firstName??"",M=te.lastName??"",z=[Y,M].filter(Boolean).join(" ").trim()||ge,K=te.email??t??"Non renseign",se=Te.birthday??"",ie=Te.gender??"Non renseign",dt=Te.language??(typeof navigator<"u"?navigator.language:"Non renseign"),Dt=Intl.DateTimeFormat().resolvedOptions().timeZone||"Non renseign",Ge=OW(se),ut=wS(e??null),Re=Array.isArray(ne.categories)&&ne.categories.length>0?ne.categories:[],Ke=ne.priority??"Non renseign",ct=F.useMemo(()=>{const Et=Date.now();return n.map(wt=>{const vt=new Date(`${wt.date}T00:00`).getTime(),Ot=new Date(`${wt.date}T${wt.start??"00:00"}`),ht=Number.isFinite(Ot.getTime())?Ot.getTime():vt;return{...wt,startTs:ht,dateTs:vt}}).filter(wt=>wt.startTs>=Et||wt.dateTs>=Et).sort((wt,vt)=>wt.startTs-vt.startTs).slice(0,3)},[n]);return o.jsxs("div",{className:"content-page profile-page",children:[o.jsxs("div",{className:"profile-top",children:[o.jsxs("section",{className:"section-card profile-card profile-card--identity",children:[o.jsxs("div",{className:"profile-identity",children:[o.jsxs("div",{className:"profile-identity__photo",children:[o.jsx("img",{src:x,alt:"Profil"}),o.jsx("button",{type:"button",className:"profile-identity__edit",onClick:()=>{var Et;return(Et=O.current)==null?void 0:Et.click()},children:"Modifier la photo"}),o.jsx("input",{ref:O,type:"file",accept:"image/*",className:"profile-identity__file",onChange:H})]}),o.jsxs("div",{className:"profile-identity__info",children:[o.jsxs("div",{className:"profile-identity__names",children:[o.jsx("div",{className:"profile-identity__line",children:M||"Non renseign"}),o.jsx("div",{className:"profile-identity__line",children:Y||"Non renseign"})]}),o.jsxs("div",{className:"profile-identity__meta",children:[o.jsxs("div",{className:"profile-identity__row",children:[o.jsx("span",{className:"profile-identity__label",children:"Email"}),o.jsx("span",{children:K})]}),o.jsxs("div",{className:"profile-identity__row",children:[o.jsx("span",{className:"profile-identity__label",children:"Signe astrologique"}),o.jsx("span",{children:Ge})]}),o.jsxs("div",{className:"profile-identity__row",children:[o.jsx("span",{className:"profile-identity__label",children:"Anniversaire"}),o.jsx("span",{children:Rx(se)})]}),o.jsxs("div",{className:"profile-identity__row",children:[o.jsx("span",{className:"profile-identity__label",children:"Genre"}),o.jsx("span",{children:ie})]})]})]})]}),j?o.jsx("p",{className:"profile-error",children:j}):null]}),o.jsxs("section",{className:"section-card profile-card profile-card--resume",children:[o.jsx("h3",{children:"Resume"}),o.jsxs("div",{className:"profile-list",children:[o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Pseudo"}),o.jsx("span",{children:ge})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Email"}),o.jsx("span",{children:K})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Photo"}),o.jsx("span",{children:x===cl?"Par defaut":"Personnalisee"})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Cration du compte"}),o.jsx("span",{children:ut})]})]})]})]}),o.jsxs("div",{className:"profile-sections",children:[o.jsxs("section",{className:"section-card profile-card profile-card--personal",children:[o.jsx("h3",{children:"Informations personnelles"}),o.jsxs("div",{className:"profile-list",children:[o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Prenom / Nom"}),o.jsx("span",{children:z||"Non renseign"})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Signe astrologique"}),o.jsx("span",{children:Ge})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Anniversaire"}),o.jsx("span",{children:Rx(se)})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Genre"}),o.jsx("span",{children:ie})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Fuseau horaire"}),o.jsx("span",{children:Dt})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Langue"}),o.jsx("span",{children:dt})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Email (non public)"}),o.jsx("span",{children:K})]})]}),o.jsx("p",{className:"profile-note",children:"Visible uniquement par vous."})]}),o.jsxs("section",{className:"section-card profile-card profile-card--preferences",children:[o.jsx("h3",{children:"Preferences"}),o.jsxs("div",{className:"profile-list",children:[o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Catgories favorites"}),o.jsx("span",{children:Re.length>0?Re.join(", "):"Non renseign"})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Objectif"}),o.jsx("span",{children:Ke||"Non renseign"})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Confidentialite"}),o.jsx("span",{children:"Non renseign"})]})]})]}),o.jsxs("section",{className:"section-card profile-card profile-card--security",children:[o.jsx("h3",{children:"Securite"}),o.jsxs("div",{className:"profile-list",children:[o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Dernier changement mot de passe"}),o.jsx("span",{children:"Non disponible"})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Appareils connectes"}),o.jsx("span",{children:"Non disponible"})]})]})]}),o.jsxs("section",{className:"section-card profile-card profile-card--activity",children:[o.jsx("h3",{children:"Rsum d'activit"}),o.jsxs("div",{className:"profile-list",children:[o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Derniere connexion"}),o.jsx("span",{children:wS(oe||null)})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Dernieres actions"}),o.jsx("span",{children:"Non disponible"})]})]}),ct.length>0?o.jsx("ul",{className:"profile-activity-list",children:ct.map(Et=>o.jsxs("li",{children:[o.jsx("span",{className:"profile-activity-title",children:Et.title}),o.jsx("span",{className:"profile-activity-meta",children:Rx(Et.date)})]},Et.id))}):null]})]})]})}const BW="planner.journal.entries",VW="planner.selfLove",UW=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],zW=t=>{const[e,n,i]=t.split("-").map(Number);return!e||!n||!i?Date.now():new Date(e,n-1,i).getTime()},_S=t=>{const[e,n]=t.split("-").map(Number);if(!e||!n)return t;const i=new Date(e,n-1,1).toLocaleDateString("fr-FR",{month:"long",year:"numeric"});return i.charAt(0).toUpperCase()+i.slice(1)},fm=t=>{const[e,n,i]=t.split("-").map(Number);if(!e||!n||!i)return t;const s=new Date(e,n-1,i).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"});return s.charAt(0).toUpperCase()+s.slice(1)},qW=(t,e)=>{const n=new Date(t,e,1),i=new Date(t,e+1,0).getDate(),s=(n.getDay()+6)%7,a=Math.ceil((s+i)/7)*7;return Array.from({length:a},(u,m)=>{const x=m-s+1;if(x<1||x>i)return{key:`${t}-${e}-${m}`,day:null,dateKey:null};const _=`${t}-${String(e+1).padStart(2,"0")}-${String(x).padStart(2,"0")}`;return{key:_,day:x,dateKey:_}})},$W=t=>t.entryType==="innerChild"?"Exercice  L'enfant intrieur":t.entryType==="bestFriend"?"Exercice  Jeu des rles":t.template==="classic"?"Lettre romantique":"Lettre petit chat",HW=t=>{var e,n,i,s,a;return t.entryType==="innerChild"?((e=t.innerChild)==null?void 0:e.message)||((n=t.innerChild)==null?void 0:n.reassurance)||((i=t.innerChild)==null?void 0:i.neededWords)||t.body:t.entryType==="bestFriend"&&(((s=t.bestFriend)==null?void 0:s.advice)||((a=t.bestFriend)==null?void 0:a.selfTalk))||t.body},WW=()=>{const[t]=Si(BW,()=>[]),[e]=Si(VW,()=>({savedLetters:[]})),[n,i]=F.useState("all"),[s,a]=F.useState(""),[u,m]=F.useState(null),[x,_]=F.useState(null),[j,I]=F.useState(null),[U,J]=F.useState("newest"),[ne,le]=F.useState(null),oe=F.useMemo(()=>t.filter(z=>z.date).map(z=>{const K=z.keyword?`Mot-cl : ${z.keyword}`:z.question?"Question guide":"Journal",se=z.content||z.questionAnswer||z.positiveAnchor||"",ie=z.createdAt??zW(z.date),dt=["Journaling"];z.keyword&&dt.push(z.keyword);const Dt=[];return z.keyword&&Dt.push({label:"Mot-cle",value:z.keyword}),z.question&&Dt.push({label:"Question du jour",value:z.question}),z.questionAnswer&&Dt.push({label:"Rponse",value:z.questionAnswer}),z.content&&Dt.push({label:"Journal",value:z.content}),z.positiveAnchor&&Dt.push({label:"Ancrage",value:z.positiveAnchor}),{id:z.id,dateKey:z.date,createdAt:ie,title:K,excerpt:se,details:Dt,section:"journaling",sectionLabel:"Journaling",tags:dt}}),[t]),X=F.useMemo(()=>(e.savedLetters??[]).map(K=>{var Re,Ke,ct,Et,wt;const se=K.createdAt.slice(0,10),ie=new Date(K.createdAt).getTime(),dt=$W(K),Dt=HW(K),Ge=["Self Love",dt],ut=[];return K.to&&ut.push({label:"Pour",value:K.to}),K.from&&ut.push({label:"De",value:K.from}),K.body&&ut.push({label:"Lettre",value:K.body}),(Re=K.innerChild)!=null&&Re.message&&ut.push({label:"Enfant interieur - Message",value:K.innerChild.message}),(Ke=K.innerChild)!=null&&Ke.reassurance&&ut.push({label:"Enfant interieur - Reassurance",value:K.innerChild.reassurance}),(ct=K.innerChild)!=null&&ct.neededWords&&ut.push({label:"Enfant interieur - Mots utiles",value:K.innerChild.neededWords}),(Et=K.bestFriend)!=null&&Et.advice&&ut.push({label:"Jeu des roles - Conseil",value:K.bestFriend.advice}),(wt=K.bestFriend)!=null&&wt.selfTalk&&ut.push({label:"Jeu des roles - Auto-discours",value:K.bestFriend.selfTalk}),{id:K.id,dateKey:se,createdAt:ie,title:dt,excerpt:Dt,details:ut,section:"self-love",sectionLabel:"Self Love",tags:Ge}}),[e.savedLetters]),O=F.useMemo(()=>{const z=s.trim().toLowerCase(),K=n==="all"?[...oe,...X]:n==="journaling"?oe:X;return z?K.filter(se=>[se.title,se.excerpt,se.sectionLabel,se.tags.join(" ")].join(" ").toLowerCase().includes(z)):K},[oe,X,n,s]),H=F.useMemo(()=>{const z=new Map;return O.forEach(K=>{if(!K.dateKey)return;const se=z.get(K.dateKey)??[];se.push(K),z.set(K.dateKey,se)}),z},[O]),te=F.useMemo(()=>{const z=new Map;return H.forEach((K,se)=>{const ie=se.slice(0,4);z.set(ie,(z.get(ie)??0)+K.length)}),Array.from(z.entries()).map(([K,se])=>({year:K,total:se})).sort((K,se)=>K.year>se.year?-1:1)},[H]),Te=F.useMemo(()=>{const z=new Map;return H.forEach((K,se)=>{const ie=se.slice(0,4),dt=se.slice(0,7),Dt=z.get(ie)??new Map;Dt.set(dt,(Dt.get(dt)??0)+K.length),z.set(ie,Dt)}),z},[H]),ge=F.useMemo(()=>{if(!u)return[];const z=Te.get(u)??new Map;return Array.from({length:12},(K,se)=>{const ie=se+1,dt=`${u}-${String(ie).padStart(2,"0")}`;return{monthKey:dt,label:_S(dt),total:z.get(dt)??0}})},[u,Te]),Y=F.useMemo(()=>{if(!x)return[];const[z,K]=x.split("-").map(Number);if(!z||!K)return[];const se=new Date().toISOString().slice(0,10);return qW(z,K-1).map(ie=>{var Dt;if(!ie.dateKey)return{...ie,count:0,isToday:!1};const dt=((Dt=H.get(ie.dateKey))==null?void 0:Dt.length)??0;return{...ie,count:dt,isToday:ie.dateKey===se}})},[x,H]),M=F.useMemo(()=>{if(!x)return[];const z=[];return H.forEach((K,se)=>{se.startsWith(x)&&z.push({dateKey:se,label:fm(se),total:K.length})}),z.sort((K,se)=>K.dateKey>se.dateKey?-1:1)},[H,x]),G=F.useMemo(()=>j?[...H.get(j)??[]].sort((K,se)=>U==="newest"?se.createdAt-K.createdAt:K.createdAt-se.createdAt):[],[H,j,U]);return F.useEffect(()=>{u&&!te.some(z=>z.year===u)&&(m(null),_(null),I(null))},[te,u]),F.useEffect(()=>{x&&(!u||!ge.some(z=>z.monthKey===x))&&(_(null),I(null))},[x,u,ge]),F.useEffect(()=>{j&&!H.has(j)&&I(null)},[H,j]),F.useEffect(()=>{const z=K=>{K.key==="Escape"&&le(null)};return ne&&document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[ne]),o.jsxs("div",{className:"archives-page aesthetic-page",children:[o.jsx(yi,{eyebrow:"Archives",title:"Archives"}),o.jsxs("header",{className:"archives-header",children:[o.jsx("div",{className:"archives-intro",children:o.jsx("p",{children:"Retrouvez vos crits par date."})}),o.jsxs("div",{className:"archives-controls",children:[o.jsxs("label",{className:"archives-control",children:[o.jsx("span",{children:"Rechercher"}),o.jsx("input",{type:"search",placeholder:"Rechercher dans les archives",value:s,onChange:z=>a(z.target.value)})]}),o.jsxs("label",{className:"archives-control",children:[o.jsx("span",{children:"Section"}),o.jsxs("select",{value:n,onChange:z=>i(z.target.value),children:[o.jsx("option",{value:"all",children:"Toutes les sections"}),o.jsx("option",{value:"journaling",children:"Journaling"}),o.jsx("option",{value:"self-love",children:"Self Love"})]})]})]})]}),te.length===0?o.jsx("p",{className:"archives-empty",children:"Aucun crit pour le moment."}):o.jsxs("div",{className:"archives-layout",children:[o.jsxs("div",{className:"archives-nav",children:[o.jsx("div",{className:"archives-years",children:te.map(z=>o.jsxs("button",{type:"button",className:`archives-year-card${u===z.year?" is-active":""}`,onClick:()=>{m(z.year),_(null),I(null)},children:[o.jsx("span",{className:"archives-year",children:z.year}),o.jsxs("span",{className:"archives-count",children:[z.total," crits"]})]},z.year))}),u?o.jsx("div",{className:"archives-months",children:ge.map(z=>o.jsxs("button",{type:"button",className:`archives-month-card${x===z.monthKey?" is-active":""}${z.total===0?" is-empty":""}`,onClick:()=>{_(z.monthKey),I(null)},children:[o.jsx("span",{className:"archives-month",children:z.label}),o.jsx("span",{className:"archives-count",children:z.total})]},z.monthKey))}):o.jsx("p",{className:"archives-hint",children:"Choisis une anne pour voir les mois."}),x?o.jsxs("div",{className:"archives-calendar",children:[o.jsxs("div",{className:"archives-calendar-header",children:[o.jsx("h3",{children:_S(x)}),o.jsx("span",{children:u})]}),o.jsxs("div",{className:"archives-calendar-grid",role:"grid",children:[UW.map(z=>o.jsx("div",{className:"archives-weekday",role:"columnheader",children:z},z)),Y.map(z=>{if(!z.dateKey||z.day===null)return o.jsx("div",{className:"archives-day archives-day--outside"},z.key);if(z.count===0)return o.jsx("div",{className:"archives-day archives-day--empty",children:o.jsx("span",{children:z.day})},z.key);const se=(H.get(z.dateKey)??[]).slice(0,2).map(dt=>dt.title).join("  "),ie=`${z.count} crit(s)${se?`  ${se}`:""}`;return o.jsxs("button",{type:"button",className:`archives-day archives-day-button${j===z.dateKey?" is-active":""}${z.isToday?" is-today":""}`,onClick:()=>I(z.dateKey),title:ie,"aria-label":`Voir les crits du ${fm(z.dateKey)} (${z.count})`,children:[o.jsx("span",{className:"archives-day-number",children:z.day}),o.jsxs("span",{className:"archives-day-badge",children:[" ",z.count]})]},z.key)})]})]}):null,x?o.jsx("div",{className:"archives-days-list",children:M.length>0?M.map(z=>o.jsxs("button",{type:"button",className:`archives-day-list-item${j===z.dateKey?" is-active":""}`,onClick:()=>I(z.dateKey),children:[o.jsx("span",{children:z.label}),o.jsxs("span",{className:"archives-day-badge",children:[" ",z.total]})]},z.dateKey)):o.jsx("p",{className:"archives-empty",children:"Aucun crit sur ce mois."})}):null]}),o.jsx("aside",{className:"archives-detail",children:j?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"archives-detail-header",children:[o.jsxs("div",{children:[o.jsx("span",{className:"archives-detail-eyebrow",children:"Dtails du jour"}),o.jsx("h3",{children:fm(j)})]}),o.jsxs("label",{className:"archives-control",children:[o.jsx("span",{children:"Tri"}),o.jsxs("select",{value:U,onChange:z=>J(z.target.value),children:[o.jsx("option",{value:"newest",children:"Plus rcent"}),o.jsx("option",{value:"oldest",children:"Plus ancien"})]})]})]}),G.length>0?o.jsx("ul",{className:"archives-entries",children:G.map(z=>o.jsx("li",{className:"archives-entry",children:o.jsxs("button",{type:"button",className:"archives-entry-button",onClick:()=>le(z),children:[o.jsxs("div",{className:"archives-entry-head",children:[o.jsx("span",{className:"archives-entry-title",children:z.title}),o.jsxs("div",{className:"archives-tags",children:[o.jsx("span",{className:"archives-tag",children:z.sectionLabel}),z.tags.slice(1,3).map(K=>o.jsx("span",{className:"archives-tag archives-tag--muted",children:K},K))]})]}),o.jsx("p",{className:"archives-entry-excerpt",children:z.excerpt||"Aucun texte disponible."})]})},z.id))}):o.jsx("p",{className:"archives-empty",children:"Aucun crit pour ce jour."})]}):o.jsx("div",{className:"archives-empty",children:"Choisis un jour pour voir tes crits."})})]}),ne?o.jsxs("div",{className:"archives-modal",role:"dialog","aria-modal":"true",children:[o.jsx("button",{type:"button",className:"archives-modal__backdrop",onClick:()=>le(null),"aria-label":"Fermer"}),o.jsxs("div",{className:"archives-modal__content",children:[o.jsxs("header",{className:"archives-modal__header",children:[o.jsxs("div",{children:[o.jsx("p",{children:ne.sectionLabel}),o.jsx("h3",{children:fm(ne.dateKey)})]}),o.jsx("button",{type:"button",className:"archives-modal__close",onClick:()=>le(null),children:"Fermer"})]}),o.jsxs("div",{className:"archives-modal__body",children:[o.jsx("h4",{children:ne.title}),ne.details.length>0?o.jsx("div",{className:"archives-modal__details",children:ne.details.map(z=>o.jsxs("div",{className:"archives-modal__detail",children:[o.jsx("span",{children:z.label}),o.jsx("p",{children:z.value})]},`${ne.id}-${z.label}`))}):o.jsx("p",{children:"Aucun detail disponible."})]})]})]}):null]})};function GW(){return o.jsxs("div",{className:"content-page notfound-page",children:[o.jsxs("div",{className:"page-hero",children:[o.jsx("div",{className:"hero-chip",children:"Oups"}),o.jsx("h1",{children:"Page introuvable"}),o.jsx("p",{className:"muted",children:"Le lien est cass ou la page a t dplace."}),o.jsx("div",{className:"hero-actions",children:o.jsx(Zo,{to:"/",className:"pill",children:"Retour  l'accueil"})})]}),o.jsx("div",{className:"page-footer-bar","aria-hidden":"true"})]})}function KW(){const{preferences:t}=vh();return F.useEffect(()=>{const e="google-translate-script",n="google_translate_element";if(!t.preferences){const s=document.getElementById(e);s&&s.remove();const a=document.getElementById(n);a&&a.remove();return}if(document.getElementById(e))return;window.googleTranslateElementInit=()=>{var a;if(!document.getElementById(n)){const u=document.createElement("div");u.id=n,u.className="google-translate-element",document.body.appendChild(u)}const s=window.google;(a=s==null?void 0:s.translate)!=null&&a.TranslateElement&&new s.translate.TranslateElement({pageLanguage:"fr",autoDisplay:!1},n)};const i=document.createElement("script");i.id=e,i.src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit",document.body.appendChild(i)},[t.preferences]),o.jsxs("div",{className:"app-shell",children:[t.preferences?o.jsx("div",{id:"google_translate_element",className:"google-translate-element","aria-hidden":"true"}):null,o.jsx(D9,{}),o.jsx("main",{className:"main-area",children:o.jsxs(IL,{children:[o.jsx(Sn,{path:"/login",element:o.jsx(UC,{mode:"login"})}),o.jsx(Sn,{path:"/register",element:o.jsx(UC,{mode:"register"})}),o.jsx(Sn,{path:"/",element:o.jsx(Y9,{})}),o.jsx(Sn,{path:"/faq",element:o.jsx(YH,{})}),o.jsx(Sn,{path:"/a-propos",element:o.jsx(IW,{})}),o.jsx(Sn,{path:"/confidentialite",element:o.jsx(QH,{})}),o.jsx(Sn,{path:"/contact",element:o.jsx(ZH,{})}),o.jsx(Sn,{path:"/cookies",element:o.jsx(tW,{})}),o.jsx(Sn,{path:"/mentions-legales",element:o.jsx(iW,{})}),o.jsxs(Sn,{element:o.jsx(F9,{}),children:[o.jsx(Sn,{path:"/bienvenue",element:o.jsx(G9,{})}),o.jsx(Sn,{path:"/home",element:o.jsx(hq,{})}),o.jsx(Sn,{path:"/sport",element:o.jsx(bq,{})}),o.jsx(Sn,{path:"/sport/workout/*",element:o.jsx(HH,{})}),o.jsx(Sn,{path:"/journaling",element:o.jsx(Nq,{})}),o.jsx(Sn,{path:"/self-love",element:o.jsx(Rq,{})}),o.jsx(Sn,{path:"/wishlist",element:o.jsx(Vq,{})}),o.jsx(Sn,{path:"/calendrier",element:o.jsx(Yq,{})}),o.jsx(Sn,{path:"/finances",element:o.jsx(T$,{})}),o.jsx(Sn,{path:"/routine",element:o.jsx(I$,{})}),o.jsx(Sn,{path:"/goals",element:o.jsx(F$,{})}),o.jsx(Sn,{path:"/culture",element:o.jsx(U$,{})}),o.jsx(Sn,{path:"/diet",element:o.jsx(AH,{})}),o.jsx(Sn,{path:"/alimentation",element:o.jsx(W$,{})}),o.jsx(Sn,{path:"/voyage",element:o.jsx(RH,{})}),o.jsx(Sn,{path:"/profil",element:o.jsx(FW,{})}),o.jsx(Sn,{path:"/archives",element:o.jsx(WW,{})}),o.jsxs(Sn,{path:"/parametres",element:o.jsx(pW,{}),children:[o.jsx(Sn,{index:!0,element:o.jsx(xW,{})}),o.jsx(Sn,{path:"affichage",element:o.jsx(_W,{})}),o.jsx(Sn,{path:"langues",element:o.jsx(TW,{})}),o.jsx(Sn,{path:"cookies",element:o.jsx(CW,{})})]})]}),o.jsx(Sn,{element:o.jsx(hW,{}),children:o.jsx(Sn,{path:"/admin",element:o.jsx(uW,{})})}),o.jsx(Sn,{path:"*",element:o.jsx(GW,{})})]})}),o.jsx(L9,{}),o.jsx(rW,{}),o.jsx(sW,{})]})}const OP=document.getElementById("root");if(!OP)throw new Error("lment racine introuvable");Dx.createRoot(OP).render(o.jsx(MS.StrictMode,{children:o.jsx(BL,{children:o.jsx(C9,{children:o.jsx(N9,{children:o.jsx(P9,{children:o.jsx(V9,{children:o.jsx(KW,{})})})})})})}));
