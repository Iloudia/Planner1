function dD(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(i,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kS={exports:{}},Mg={},TS={exports:{}},kn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp=Symbol.for("react.element"),pD=Symbol.for("react.portal"),fD=Symbol.for("react.fragment"),mD=Symbol.for("react.strict_mode"),gD=Symbol.for("react.profiler"),yD=Symbol.for("react.provider"),vD=Symbol.for("react.context"),xD=Symbol.for("react.forward_ref"),bD=Symbol.for("react.suspense"),wD=Symbol.for("react.memo"),_D=Symbol.for("react.lazy"),DE=Symbol.iterator;function ED(t){return t===null||typeof t!="object"?null:(t=DE&&t[DE]||t["@@iterator"],typeof t=="function"?t:null)}var CS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SS=Object.assign,AS={};function lh(t,e,n){this.props=t,this.context=e,this.refs=AS,this.updater=n||CS}lh.prototype.isReactComponent={};lh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};lh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function NS(){}NS.prototype=lh.prototype;function f0(t,e,n){this.props=t,this.context=e,this.refs=AS,this.updater=n||CS}var m0=f0.prototype=new NS;m0.constructor=f0;SS(m0,lh.prototype);m0.isPureReactComponent=!0;var OE=Array.isArray,jS=Object.prototype.hasOwnProperty,g0={current:null},IS={key:!0,ref:!0,__self:!0,__source:!0};function PS(t,e,n){var i,s={},a=null,u=null;if(e!=null)for(i in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(a=""+e.key),e)jS.call(e,i)&&!IS.hasOwnProperty(i)&&(s[i]=e[i]);var m=arguments.length-2;if(m===1)s.children=n;else if(1<m){for(var x=Array(m),_=0;_<m;_++)x[_]=arguments[_+2];s.children=x}if(t&&t.defaultProps)for(i in m=t.defaultProps,m)s[i]===void 0&&(s[i]=m[i]);return{$$typeof:kp,type:t,key:a,ref:u,props:s,_owner:g0.current}}function kD(t,e){return{$$typeof:kp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function y0(t){return typeof t=="object"&&t!==null&&t.$$typeof===kp}function TD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var LE=/\/+/g;function Iv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TD(""+t.key):e.toString(36)}function fm(t,e,n,i,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case kp:case pD:u=!0}}if(u)return u=t,s=s(u),t=i===""?"."+Iv(u,0):i,OE(s)?(n="",t!=null&&(n=t.replace(LE,"$&/")+"/"),fm(s,e,n,"",function(_){return _})):s!=null&&(y0(s)&&(s=kD(s,n+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(LE,"$&/")+"/")+t)),e.push(s)),1;if(u=0,i=i===""?".":i+":",OE(t))for(var m=0;m<t.length;m++){a=t[m];var x=i+Iv(a,m);u+=fm(a,e,n,x,s)}else if(x=ED(t),typeof x=="function")for(t=x.call(t),m=0;!(a=t.next()).done;)a=a.value,x=i+Iv(a,m++),u+=fm(a,e,n,x,s);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function Of(t,e,n){if(t==null)return t;var i=[],s=0;return fm(t,i,"","",function(a){return e.call(n,a,s++)}),i}function CD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Cr={current:null},mm={transition:null},SD={ReactCurrentDispatcher:Cr,ReactCurrentBatchConfig:mm,ReactCurrentOwner:g0};function MS(){throw Error("act(...) is not supported in production builds of React.")}kn.Children={map:Of,forEach:function(t,e,n){Of(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Of(t,function(){e++}),e},toArray:function(t){return Of(t,function(e){return e})||[]},only:function(t){if(!y0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};kn.Component=lh;kn.Fragment=fD;kn.Profiler=gD;kn.PureComponent=f0;kn.StrictMode=mD;kn.Suspense=bD;kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SD;kn.act=MS;kn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=SS({},t.props),s=t.key,a=t.ref,u=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,u=g0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var m=t.type.defaultProps;for(x in e)jS.call(e,x)&&!IS.hasOwnProperty(x)&&(i[x]=e[x]===void 0&&m!==void 0?m[x]:e[x])}var x=arguments.length-2;if(x===1)i.children=n;else if(1<x){m=Array(x);for(var _=0;_<x;_++)m[_]=arguments[_+2];i.children=m}return{$$typeof:kp,type:t.type,key:s,ref:a,props:i,_owner:u}};kn.createContext=function(t){return t={$$typeof:vD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yD,_context:t},t.Consumer=t};kn.createElement=PS;kn.createFactory=function(t){var e=PS.bind(null,t);return e.type=t,e};kn.createRef=function(){return{current:null}};kn.forwardRef=function(t){return{$$typeof:xD,render:t}};kn.isValidElement=y0;kn.lazy=function(t){return{$$typeof:_D,_payload:{_status:-1,_result:t},_init:CD}};kn.memo=function(t,e){return{$$typeof:wD,type:t,compare:e===void 0?null:e}};kn.startTransition=function(t){var e=mm.transition;mm.transition={};try{t()}finally{mm.transition=e}};kn.unstable_act=MS;kn.useCallback=function(t,e){return Cr.current.useCallback(t,e)};kn.useContext=function(t){return Cr.current.useContext(t)};kn.useDebugValue=function(){};kn.useDeferredValue=function(t){return Cr.current.useDeferredValue(t)};kn.useEffect=function(t,e){return Cr.current.useEffect(t,e)};kn.useId=function(){return Cr.current.useId()};kn.useImperativeHandle=function(t,e,n){return Cr.current.useImperativeHandle(t,e,n)};kn.useInsertionEffect=function(t,e){return Cr.current.useInsertionEffect(t,e)};kn.useLayoutEffect=function(t,e){return Cr.current.useLayoutEffect(t,e)};kn.useMemo=function(t,e){return Cr.current.useMemo(t,e)};kn.useReducer=function(t,e,n){return Cr.current.useReducer(t,e,n)};kn.useRef=function(t){return Cr.current.useRef(t)};kn.useState=function(t){return Cr.current.useState(t)};kn.useSyncExternalStore=function(t,e,n){return Cr.current.useSyncExternalStore(t,e,n)};kn.useTransition=function(){return Cr.current.useTransition()};kn.version="18.3.1";TS.exports=kn;var D=TS.exports;const RS=gl(D),AD=dD({__proto__:null,default:RS},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ND=D,jD=Symbol.for("react.element"),ID=Symbol.for("react.fragment"),PD=Object.prototype.hasOwnProperty,MD=ND.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RD={key:!0,ref:!0,__self:!0,__source:!0};function DS(t,e,n){var i,s={},a=null,u=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(u=e.ref);for(i in e)PD.call(e,i)&&!RD.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:jD,type:t,key:a,ref:u,props:s,_owner:MD.current}}Mg.Fragment=ID;Mg.jsx=DS;Mg.jsxs=DS;kS.exports=Mg;var o=kS.exports,Dx={},OS={exports:{}},rs={},LS={exports:{}},FS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Re,$e){var ut=Re.length;Re.push($e);e:for(;0<ut;){var _t=ut-1>>>1,jt=Re[_t];if(0<s(jt,$e))Re[_t]=$e,Re[ut]=jt,ut=_t;else break e}}function n(Re){return Re.length===0?null:Re[0]}function i(Re){if(Re.length===0)return null;var $e=Re[0],ut=Re.pop();if(ut!==$e){Re[0]=ut;e:for(var _t=0,jt=Re.length,kt=jt>>>1;_t<kt;){var Ot=2*(_t+1)-1,mt=Re[Ot],Rt=Ot+1,ot=Re[Rt];if(0>s(mt,ut))Rt<jt&&0>s(ot,mt)?(Re[_t]=ot,Re[Rt]=ut,_t=Rt):(Re[_t]=mt,Re[Ot]=ut,_t=Ot);else if(Rt<jt&&0>s(ot,ut))Re[_t]=ot,Re[Rt]=ut,_t=Rt;else break e}}return $e}function s(Re,$e){var ut=Re.sortIndex-$e.sortIndex;return ut!==0?ut:Re.id-$e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,m=u.now();t.unstable_now=function(){return u.now()-m}}var x=[],_=[],I=1,j=null,z=3,J=!1,te=!1,oe=!1,se=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(Re){for(var $e=n(_);$e!==null;){if($e.callback===null)i(_);else if($e.startTime<=Re)i(_),$e.sortIndex=$e.expirationTime,e(x,$e);else break;$e=n(_)}}function ne(Re){if(oe=!1,G(Re),!te)if(n(x)!==null)te=!0,Ke(ke);else{var $e=n(_);$e!==null&&ft(ne,$e.startTime-Re)}}function ke(Re,$e){te=!1,oe&&(oe=!1,X(M),M=-1),J=!0;var ut=z;try{for(G($e),j=n(x);j!==null&&(!(j.expirationTime>$e)||Re&&!Y());){var _t=j.callback;if(typeof _t=="function"){j.callback=null,z=j.priorityLevel;var jt=_t(j.expirationTime<=$e);$e=t.unstable_now(),typeof jt=="function"?j.callback=jt:j===n(x)&&i(x),G($e)}else i(x);j=n(x)}if(j!==null)var kt=!0;else{var Ot=n(_);Ot!==null&&ft(ne,Ot.startTime-$e),kt=!1}return kt}finally{j=null,z=ut,J=!1}}var ge=!1,K=null,M=-1,H=5,U=-1;function Y(){return!(t.unstable_now()-U<H)}function ae(){if(K!==null){var Re=t.unstable_now();U=Re;var $e=!0;try{$e=K(!0,Re)}finally{$e?ie():(ge=!1,K=null)}}else ge=!1}var ie;if(typeof L=="function")ie=function(){L(ae)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,Mt=pt.port2;pt.port1.onmessage=ae,ie=function(){Mt.postMessage(null)}}else ie=function(){se(ae,0)};function Ke(Re){K=Re,ge||(ge=!0,ie())}function ft(Re,$e){M=se(function(){Re(t.unstable_now())},$e)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Re){Re.callback=null},t.unstable_continueExecution=function(){te||J||(te=!0,Ke(ke))},t.unstable_forceFrameRate=function(Re){0>Re||125<Re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<Re?Math.floor(1e3/Re):5},t.unstable_getCurrentPriorityLevel=function(){return z},t.unstable_getFirstCallbackNode=function(){return n(x)},t.unstable_next=function(Re){switch(z){case 1:case 2:case 3:var $e=3;break;default:$e=z}var ut=z;z=$e;try{return Re()}finally{z=ut}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Re,$e){switch(Re){case 1:case 2:case 3:case 4:case 5:break;default:Re=3}var ut=z;z=Re;try{return $e()}finally{z=ut}},t.unstable_scheduleCallback=function(Re,$e,ut){var _t=t.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?_t+ut:_t):ut=_t,Re){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=ut+jt,Re={id:I++,callback:$e,priorityLevel:Re,startTime:ut,expirationTime:jt,sortIndex:-1},ut>_t?(Re.sortIndex=ut,e(_,Re),n(x)===null&&Re===n(_)&&(oe?(X(M),M=-1):oe=!0,ft(ne,ut-_t))):(Re.sortIndex=jt,e(x,Re),te||J||(te=!0,Ke(ke))),Re},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(Re){var $e=z;return function(){var ut=z;z=$e;try{return Re.apply(this,arguments)}finally{z=ut}}}})(FS);LS.exports=FS;var DD=LS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OD=D,is=DD;function St(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BS=new Set,Kd={};function _c(t,e){Hu(t,e),Hu(t+"Capture",e)}function Hu(t,e){for(Kd[t]=e,t=0;t<e.length;t++)BS.add(e[t])}var Yo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ox=Object.prototype.hasOwnProperty,LD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,FE={},BE={};function FD(t){return Ox.call(BE,t)?!0:Ox.call(FE,t)?!1:LD.test(t)?BE[t]=!0:(FE[t]=!0,!1)}function BD(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VD(t,e,n,i){if(e===null||typeof e>"u"||BD(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sr(t,e,n,i,s,a,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=u}var rr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rr[t]=new Sr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rr[e]=new Sr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rr[t]=new Sr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rr[t]=new Sr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rr[t]=new Sr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rr[t]=new Sr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rr[t]=new Sr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rr[t]=new Sr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rr[t]=new Sr(t,5,!1,t.toLowerCase(),null,!1,!1)});var v0=/[\-:]([a-z])/g;function x0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(v0,x0);rr[e]=new Sr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(v0,x0);rr[e]=new Sr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(v0,x0);rr[e]=new Sr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rr[t]=new Sr(t,1,!1,t.toLowerCase(),null,!1,!1)});rr.xlinkHref=new Sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rr[t]=new Sr(t,1,!1,t.toLowerCase(),null,!0,!0)});function b0(t,e,n,i){var s=rr.hasOwnProperty(e)?rr[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VD(e,n,s,i)&&(n=null),i||s===null?FD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var ra=OD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lf=Symbol.for("react.element"),xu=Symbol.for("react.portal"),bu=Symbol.for("react.fragment"),w0=Symbol.for("react.strict_mode"),Lx=Symbol.for("react.profiler"),VS=Symbol.for("react.provider"),US=Symbol.for("react.context"),_0=Symbol.for("react.forward_ref"),Fx=Symbol.for("react.suspense"),Bx=Symbol.for("react.suspense_list"),E0=Symbol.for("react.memo"),Fa=Symbol.for("react.lazy"),zS=Symbol.for("react.offscreen"),VE=Symbol.iterator;function ad(t){return t===null||typeof t!="object"?null:(t=VE&&t[VE]||t["@@iterator"],typeof t=="function"?t:null)}var mi=Object.assign,Pv;function wd(t){if(Pv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pv=e&&e[1]||""}return`
`+Pv+t}var Mv=!1;function Rv(t,e){if(!t||Mv)return"";Mv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(_){var i=_}Reflect.construct(t,[],e)}else{try{e.call()}catch(_){i=_}t.call(e.prototype)}else{try{throw Error()}catch(_){i=_}t()}}catch(_){if(_&&i&&typeof _.stack=="string"){for(var s=_.stack.split(`
`),a=i.stack.split(`
`),u=s.length-1,m=a.length-1;1<=u&&0<=m&&s[u]!==a[m];)m--;for(;1<=u&&0<=m;u--,m--)if(s[u]!==a[m]){if(u!==1||m!==1)do if(u--,m--,0>m||s[u]!==a[m]){var x=`
`+s[u].replace(" at new "," at ");return t.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",t.displayName)),x}while(1<=u&&0<=m);break}}}finally{Mv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?wd(t):""}function UD(t){switch(t.tag){case 5:return wd(t.type);case 16:return wd("Lazy");case 13:return wd("Suspense");case 19:return wd("SuspenseList");case 0:case 2:case 15:return t=Rv(t.type,!1),t;case 11:return t=Rv(t.type.render,!1),t;case 1:return t=Rv(t.type,!0),t;default:return""}}function Vx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bu:return"Fragment";case xu:return"Portal";case Lx:return"Profiler";case w0:return"StrictMode";case Fx:return"Suspense";case Bx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case US:return(t.displayName||"Context")+".Consumer";case VS:return(t._context.displayName||"Context")+".Provider";case _0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case E0:return e=t.displayName||null,e!==null?e:Vx(t.type)||"Memo";case Fa:e=t._payload,t=t._init;try{return Vx(t(e))}catch{}}return null}function zD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vx(e);case 8:return e===w0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ul(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qD(t){var e=qS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(u){i=""+u,a.call(this,u)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(u){i=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ff(t){t._valueTracker||(t._valueTracker=qD(t))}function $S(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=qS(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Bm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ux(t,e){var n=e.checked;return mi({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function UE(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=ul(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function HS(t,e){e=e.checked,e!=null&&b0(t,"checked",e,!1)}function zx(t,e){HS(t,e);var n=ul(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qx(t,e.type,n):e.hasOwnProperty("defaultValue")&&qx(t,e.type,ul(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qx(t,e,n){(e!=="number"||Bm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _d=Array.isArray;function Ru(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+ul(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function $x(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(St(91));return mi({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(St(92));if(_d(n)){if(1<n.length)throw Error(St(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ul(n)}}function WS(t,e){var n=ul(e.value),i=ul(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function $E(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function GS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?GS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bf,KS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bf=Bf||document.createElement("div"),Bf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$D=["Webkit","ms","Moz","O"];Object.keys(Pd).forEach(function(t){$D.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pd[e]=Pd[t]})});function YS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pd.hasOwnProperty(t)&&Pd[t]?(""+e).trim():e+"px"}function XS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=YS(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var HD=mi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wx(t,e){if(e){if(HD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(St(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(St(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(St(61))}if(e.style!=null&&typeof e.style!="object")throw Error(St(62))}}function Gx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kx=null;function k0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yx=null,Du=null,Ou=null;function HE(t){if(t=Sp(t)){if(typeof Yx!="function")throw Error(St(280));var e=t.stateNode;e&&(e=Fg(e),Yx(t.stateNode,t.type,e))}}function QS(t){Du?Ou?Ou.push(t):Ou=[t]:Du=t}function JS(){if(Du){var t=Du,e=Ou;if(Ou=Du=null,HE(t),e)for(t=0;t<e.length;t++)HE(e[t])}}function ZS(t,e){return t(e)}function e1(){}var Dv=!1;function t1(t,e,n){if(Dv)return t(e,n);Dv=!0;try{return ZS(t,e,n)}finally{Dv=!1,(Du!==null||Ou!==null)&&(e1(),JS())}}function Xd(t,e){var n=t.stateNode;if(n===null)return null;var i=Fg(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(St(231,e,typeof n));return n}var Xx=!1;if(Yo)try{var ld={};Object.defineProperty(ld,"passive",{get:function(){Xx=!0}}),window.addEventListener("test",ld,ld),window.removeEventListener("test",ld,ld)}catch{Xx=!1}function WD(t,e,n,i,s,a,u,m,x){var _=Array.prototype.slice.call(arguments,3);try{e.apply(n,_)}catch(I){this.onError(I)}}var Md=!1,Vm=null,Um=!1,Qx=null,GD={onError:function(t){Md=!0,Vm=t}};function KD(t,e,n,i,s,a,u,m,x){Md=!1,Vm=null,WD.apply(GD,arguments)}function YD(t,e,n,i,s,a,u,m,x){if(KD.apply(this,arguments),Md){if(Md){var _=Vm;Md=!1,Vm=null}else throw Error(St(198));Um||(Um=!0,Qx=_)}}function Ec(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function n1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function WE(t){if(Ec(t)!==t)throw Error(St(188))}function XD(t){var e=t.alternate;if(!e){if(e=Ec(t),e===null)throw Error(St(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return WE(s),t;if(a===i)return WE(s),e;a=a.sibling}throw Error(St(188))}if(n.return!==i.return)n=s,i=a;else{for(var u=!1,m=s.child;m;){if(m===n){u=!0,n=s,i=a;break}if(m===i){u=!0,i=s,n=a;break}m=m.sibling}if(!u){for(m=a.child;m;){if(m===n){u=!0,n=a,i=s;break}if(m===i){u=!0,i=a,n=s;break}m=m.sibling}if(!u)throw Error(St(189))}}if(n.alternate!==i)throw Error(St(190))}if(n.tag!==3)throw Error(St(188));return n.stateNode.current===n?t:e}function i1(t){return t=XD(t),t!==null?r1(t):null}function r1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=r1(t);if(e!==null)return e;t=t.sibling}return null}var s1=is.unstable_scheduleCallback,GE=is.unstable_cancelCallback,QD=is.unstable_shouldYield,JD=is.unstable_requestPaint,Ci=is.unstable_now,ZD=is.unstable_getCurrentPriorityLevel,T0=is.unstable_ImmediatePriority,o1=is.unstable_UserBlockingPriority,zm=is.unstable_NormalPriority,eO=is.unstable_LowPriority,a1=is.unstable_IdlePriority,Rg=null,go=null;function tO(t){if(go&&typeof go.onCommitFiberRoot=="function")try{go.onCommitFiberRoot(Rg,t,void 0,(t.current.flags&128)===128)}catch{}}var qs=Math.clz32?Math.clz32:rO,nO=Math.log,iO=Math.LN2;function rO(t){return t>>>=0,t===0?32:31-(nO(t)/iO|0)|0}var Vf=64,Uf=4194304;function Ed(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qm(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,a=t.pingedLanes,u=n&268435455;if(u!==0){var m=u&~s;m!==0?i=Ed(m):(a&=u,a!==0&&(i=Ed(a)))}else u=n&~s,u!==0?i=Ed(u):a!==0&&(i=Ed(a));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,a=e&-e,s>=a||s===16&&(a&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-qs(e),s=1<<n,i|=t[n],e&=~s;return i}function sO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oO(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var u=31-qs(a),m=1<<u,x=s[u];x===-1?(!(m&n)||m&i)&&(s[u]=sO(m,e)):x<=e&&(t.expiredLanes|=m),a&=~m}}function Jx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function l1(){var t=Vf;return Vf<<=1,!(Vf&4194240)&&(Vf=64),t}function Ov(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Tp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qs(e),t[e]=n}function aO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-qs(n),a=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~a}}function C0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-qs(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var zn=0;function c1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var u1,S0,h1,d1,p1,Zx=!1,zf=[],Xa=null,Qa=null,Ja=null,Qd=new Map,Jd=new Map,Va=[],lO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KE(t,e){switch(t){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Ja=null;break;case"pointerover":case"pointerout":Qd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jd.delete(e.pointerId)}}function cd(t,e,n,i,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},e!==null&&(e=Sp(e),e!==null&&S0(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function cO(t,e,n,i,s){switch(e){case"focusin":return Xa=cd(Xa,t,e,n,i,s),!0;case"dragenter":return Qa=cd(Qa,t,e,n,i,s),!0;case"mouseover":return Ja=cd(Ja,t,e,n,i,s),!0;case"pointerover":var a=s.pointerId;return Qd.set(a,cd(Qd.get(a)||null,t,e,n,i,s)),!0;case"gotpointercapture":return a=s.pointerId,Jd.set(a,cd(Jd.get(a)||null,t,e,n,i,s)),!0}return!1}function f1(t){var e=Jl(t.target);if(e!==null){var n=Ec(e);if(n!==null){if(e=n.tag,e===13){if(e=n1(n),e!==null){t.blockedOn=e,p1(t.priority,function(){h1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=eb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Kx=i,n.target.dispatchEvent(i),Kx=null}else return e=Sp(n),e!==null&&S0(e),t.blockedOn=n,!1;e.shift()}return!0}function YE(t,e,n){gm(t)&&n.delete(e)}function uO(){Zx=!1,Xa!==null&&gm(Xa)&&(Xa=null),Qa!==null&&gm(Qa)&&(Qa=null),Ja!==null&&gm(Ja)&&(Ja=null),Qd.forEach(YE),Jd.forEach(YE)}function ud(t,e){t.blockedOn===e&&(t.blockedOn=null,Zx||(Zx=!0,is.unstable_scheduleCallback(is.unstable_NormalPriority,uO)))}function Zd(t){function e(s){return ud(s,t)}if(0<zf.length){ud(zf[0],t);for(var n=1;n<zf.length;n++){var i=zf[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Xa!==null&&ud(Xa,t),Qa!==null&&ud(Qa,t),Ja!==null&&ud(Ja,t),Qd.forEach(e),Jd.forEach(e),n=0;n<Va.length;n++)i=Va[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Va.length&&(n=Va[0],n.blockedOn===null);)f1(n),n.blockedOn===null&&Va.shift()}var Lu=ra.ReactCurrentBatchConfig,$m=!0;function hO(t,e,n,i){var s=zn,a=Lu.transition;Lu.transition=null;try{zn=1,A0(t,e,n,i)}finally{zn=s,Lu.transition=a}}function dO(t,e,n,i){var s=zn,a=Lu.transition;Lu.transition=null;try{zn=4,A0(t,e,n,i)}finally{zn=s,Lu.transition=a}}function A0(t,e,n,i){if($m){var s=eb(t,e,n,i);if(s===null)Wv(t,e,i,Hm,n),KE(t,i);else if(cO(s,t,e,n,i))i.stopPropagation();else if(KE(t,i),e&4&&-1<lO.indexOf(t)){for(;s!==null;){var a=Sp(s);if(a!==null&&u1(a),a=eb(t,e,n,i),a===null&&Wv(t,e,i,Hm,n),a===s)break;s=a}s!==null&&i.stopPropagation()}else Wv(t,e,i,null,n)}}var Hm=null;function eb(t,e,n,i){if(Hm=null,t=k0(i),t=Jl(t),t!==null)if(e=Ec(t),e===null)t=null;else if(n=e.tag,n===13){if(t=n1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hm=t,null}function m1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZD()){case T0:return 1;case o1:return 4;case zm:case eO:return 16;case a1:return 536870912;default:return 16}default:return 16}}var Wa=null,N0=null,ym=null;function g1(){if(ym)return ym;var t,e=N0,n=e.length,i,s="value"in Wa?Wa.value:Wa.textContent,a=s.length;for(t=0;t<n&&e[t]===s[t];t++);var u=n-t;for(i=1;i<=u&&e[n-i]===s[a-i];i++);return ym=s.slice(t,1<i?1-i:void 0)}function vm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qf(){return!0}function XE(){return!1}function ss(t){function e(n,i,s,a,u){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var m in t)t.hasOwnProperty(m)&&(n=t[m],this[m]=n?n(a):a[m]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?qf:XE,this.isPropagationStopped=XE,this}return mi(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qf)},persist:function(){},isPersistent:qf}),e}var ch={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},j0=ss(ch),Cp=mi({},ch,{view:0,detail:0}),pO=ss(Cp),Lv,Fv,hd,Dg=mi({},Cp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:I0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hd&&(hd&&t.type==="mousemove"?(Lv=t.screenX-hd.screenX,Fv=t.screenY-hd.screenY):Fv=Lv=0,hd=t),Lv)},movementY:function(t){return"movementY"in t?t.movementY:Fv}}),QE=ss(Dg),fO=mi({},Dg,{dataTransfer:0}),mO=ss(fO),gO=mi({},Cp,{relatedTarget:0}),Bv=ss(gO),yO=mi({},ch,{animationName:0,elapsedTime:0,pseudoElement:0}),vO=ss(yO),xO=mi({},ch,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bO=ss(xO),wO=mi({},ch,{data:0}),JE=ss(wO),_O={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kO[t])?!!e[t]:!1}function I0(){return TO}var CO=mi({},Cp,{key:function(t){if(t.key){var e=_O[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?EO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:I0,charCode:function(t){return t.type==="keypress"?vm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SO=ss(CO),AO=mi({},Dg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZE=ss(AO),NO=mi({},Cp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:I0}),jO=ss(NO),IO=mi({},ch,{propertyName:0,elapsedTime:0,pseudoElement:0}),PO=ss(IO),MO=mi({},Dg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RO=ss(MO),DO=[9,13,27,32],P0=Yo&&"CompositionEvent"in window,Rd=null;Yo&&"documentMode"in document&&(Rd=document.documentMode);var OO=Yo&&"TextEvent"in window&&!Rd,y1=Yo&&(!P0||Rd&&8<Rd&&11>=Rd),ek=" ",tk=!1;function v1(t,e){switch(t){case"keyup":return DO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wu=!1;function LO(t,e){switch(t){case"compositionend":return x1(e);case"keypress":return e.which!==32?null:(tk=!0,ek);case"textInput":return t=e.data,t===ek&&tk?null:t;default:return null}}function FO(t,e){if(wu)return t==="compositionend"||!P0&&v1(t,e)?(t=g1(),ym=N0=Wa=null,wu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return y1&&e.locale!=="ko"?null:e.data;default:return null}}var BO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BO[t.type]:e==="textarea"}function b1(t,e,n,i){QS(i),e=Wm(e,"onChange"),0<e.length&&(n=new j0("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Dd=null,ep=null;function VO(t){I1(t,0)}function Og(t){var e=ku(t);if($S(e))return t}function UO(t,e){if(t==="change")return e}var w1=!1;if(Yo){var Vv;if(Yo){var Uv="oninput"in document;if(!Uv){var ik=document.createElement("div");ik.setAttribute("oninput","return;"),Uv=typeof ik.oninput=="function"}Vv=Uv}else Vv=!1;w1=Vv&&(!document.documentMode||9<document.documentMode)}function rk(){Dd&&(Dd.detachEvent("onpropertychange",_1),ep=Dd=null)}function _1(t){if(t.propertyName==="value"&&Og(ep)){var e=[];b1(e,ep,t,k0(t)),t1(VO,e)}}function zO(t,e,n){t==="focusin"?(rk(),Dd=e,ep=n,Dd.attachEvent("onpropertychange",_1)):t==="focusout"&&rk()}function qO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Og(ep)}function $O(t,e){if(t==="click")return Og(e)}function HO(t,e){if(t==="input"||t==="change")return Og(e)}function WO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ws=typeof Object.is=="function"?Object.is:WO;function tp(t,e){if(Ws(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Ox.call(e,s)||!Ws(t[s],e[s]))return!1}return!0}function sk(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ok(t,e){var n=sk(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sk(n)}}function E1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?E1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function k1(){for(var t=window,e=Bm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bm(t.document)}return e}function M0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function GO(t){var e=k1(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&E1(n.ownerDocument.documentElement,n)){if(i!==null&&M0(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,a=Math.min(i.start,s);i=i.end===void 0?a:Math.min(i.end,s),!t.extend&&a>i&&(s=i,i=a,a=s),s=ok(n,a);var u=ok(n,i);s&&u&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==u.node||t.focusOffset!==u.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),a>i?(t.addRange(e),t.extend(u.node,u.offset)):(e.setEnd(u.node,u.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var KO=Yo&&"documentMode"in document&&11>=document.documentMode,_u=null,tb=null,Od=null,nb=!1;function ak(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nb||_u==null||_u!==Bm(i)||(i=_u,"selectionStart"in i&&M0(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Od&&tp(Od,i)||(Od=i,i=Wm(tb,"onSelect"),0<i.length&&(e=new j0("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=_u)))}function $f(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Eu={animationend:$f("Animation","AnimationEnd"),animationiteration:$f("Animation","AnimationIteration"),animationstart:$f("Animation","AnimationStart"),transitionend:$f("Transition","TransitionEnd")},zv={},T1={};Yo&&(T1=document.createElement("div").style,"AnimationEvent"in window||(delete Eu.animationend.animation,delete Eu.animationiteration.animation,delete Eu.animationstart.animation),"TransitionEvent"in window||delete Eu.transitionend.transition);function Lg(t){if(zv[t])return zv[t];if(!Eu[t])return t;var e=Eu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in T1)return zv[t]=e[n];return t}var C1=Lg("animationend"),S1=Lg("animationiteration"),A1=Lg("animationstart"),N1=Lg("transitionend"),j1=new Map,lk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yl(t,e){j1.set(t,e),_c(e,[t])}for(var qv=0;qv<lk.length;qv++){var $v=lk[qv],YO=$v.toLowerCase(),XO=$v[0].toUpperCase()+$v.slice(1);yl(YO,"on"+XO)}yl(C1,"onAnimationEnd");yl(S1,"onAnimationIteration");yl(A1,"onAnimationStart");yl("dblclick","onDoubleClick");yl("focusin","onFocus");yl("focusout","onBlur");yl(N1,"onTransitionEnd");Hu("onMouseEnter",["mouseout","mouseover"]);Hu("onMouseLeave",["mouseout","mouseover"]);Hu("onPointerEnter",["pointerout","pointerover"]);Hu("onPointerLeave",["pointerout","pointerover"]);_c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_c("onBeforeInput",["compositionend","keypress","textInput","paste"]);_c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QO=new Set("cancel close invalid load scroll toggle".split(" ").concat(kd));function ck(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,YD(i,e,void 0,t),t.currentTarget=null}function I1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var u=i.length-1;0<=u;u--){var m=i[u],x=m.instance,_=m.currentTarget;if(m=m.listener,x!==a&&s.isPropagationStopped())break e;ck(s,m,_),a=x}else for(u=0;u<i.length;u++){if(m=i[u],x=m.instance,_=m.currentTarget,m=m.listener,x!==a&&s.isPropagationStopped())break e;ck(s,m,_),a=x}}}if(Um)throw t=Qx,Um=!1,Qx=null,t}function ei(t,e){var n=e[ab];n===void 0&&(n=e[ab]=new Set);var i=t+"__bubble";n.has(i)||(P1(e,t,2,!1),n.add(i))}function Hv(t,e,n){var i=0;e&&(i|=4),P1(n,t,i,e)}var Hf="_reactListening"+Math.random().toString(36).slice(2);function np(t){if(!t[Hf]){t[Hf]=!0,BS.forEach(function(n){n!=="selectionchange"&&(QO.has(n)||Hv(n,!1,t),Hv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Hf]||(e[Hf]=!0,Hv("selectionchange",!1,e))}}function P1(t,e,n,i){switch(m1(e)){case 1:var s=hO;break;case 4:s=dO;break;default:s=A0}n=s.bind(null,e,n,t),s=void 0,!Xx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Wv(t,e,n,i,s){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var u=i.tag;if(u===3||u===4){var m=i.stateNode.containerInfo;if(m===s||m.nodeType===8&&m.parentNode===s)break;if(u===4)for(u=i.return;u!==null;){var x=u.tag;if((x===3||x===4)&&(x=u.stateNode.containerInfo,x===s||x.nodeType===8&&x.parentNode===s))return;u=u.return}for(;m!==null;){if(u=Jl(m),u===null)return;if(x=u.tag,x===5||x===6){i=a=u;continue e}m=m.parentNode}}i=i.return}t1(function(){var _=a,I=k0(n),j=[];e:{var z=j1.get(t);if(z!==void 0){var J=j0,te=t;switch(t){case"keypress":if(vm(n)===0)break e;case"keydown":case"keyup":J=SO;break;case"focusin":te="focus",J=Bv;break;case"focusout":te="blur",J=Bv;break;case"beforeblur":case"afterblur":J=Bv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=QE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=mO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=jO;break;case C1:case S1:case A1:J=vO;break;case N1:J=PO;break;case"scroll":J=pO;break;case"wheel":J=RO;break;case"copy":case"cut":case"paste":J=bO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=ZE}var oe=(e&4)!==0,se=!oe&&t==="scroll",X=oe?z!==null?z+"Capture":null:z;oe=[];for(var L=_,G;L!==null;){G=L;var ne=G.stateNode;if(G.tag===5&&ne!==null&&(G=ne,X!==null&&(ne=Xd(L,X),ne!=null&&oe.push(ip(L,ne,G)))),se)break;L=L.return}0<oe.length&&(z=new J(z,te,null,n,I),j.push({event:z,listeners:oe}))}}if(!(e&7)){e:{if(z=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",z&&n!==Kx&&(te=n.relatedTarget||n.fromElement)&&(Jl(te)||te[Xo]))break e;if((J||z)&&(z=I.window===I?I:(z=I.ownerDocument)?z.defaultView||z.parentWindow:window,J?(te=n.relatedTarget||n.toElement,J=_,te=te?Jl(te):null,te!==null&&(se=Ec(te),te!==se||te.tag!==5&&te.tag!==6)&&(te=null)):(J=null,te=_),J!==te)){if(oe=QE,ne="onMouseLeave",X="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(oe=ZE,ne="onPointerLeave",X="onPointerEnter",L="pointer"),se=J==null?z:ku(J),G=te==null?z:ku(te),z=new oe(ne,L+"leave",J,n,I),z.target=se,z.relatedTarget=G,ne=null,Jl(I)===_&&(oe=new oe(X,L+"enter",te,n,I),oe.target=G,oe.relatedTarget=se,ne=oe),se=ne,J&&te)t:{for(oe=J,X=te,L=0,G=oe;G;G=lu(G))L++;for(G=0,ne=X;ne;ne=lu(ne))G++;for(;0<L-G;)oe=lu(oe),L--;for(;0<G-L;)X=lu(X),G--;for(;L--;){if(oe===X||X!==null&&oe===X.alternate)break t;oe=lu(oe),X=lu(X)}oe=null}else oe=null;J!==null&&uk(j,z,J,oe,!1),te!==null&&se!==null&&uk(j,se,te,oe,!0)}}e:{if(z=_?ku(_):window,J=z.nodeName&&z.nodeName.toLowerCase(),J==="select"||J==="input"&&z.type==="file")var ke=UO;else if(nk(z))if(w1)ke=HO;else{ke=qO;var ge=zO}else(J=z.nodeName)&&J.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(ke=$O);if(ke&&(ke=ke(t,_))){b1(j,ke,n,I);break e}ge&&ge(t,z,_),t==="focusout"&&(ge=z._wrapperState)&&ge.controlled&&z.type==="number"&&qx(z,"number",z.value)}switch(ge=_?ku(_):window,t){case"focusin":(nk(ge)||ge.contentEditable==="true")&&(_u=ge,tb=_,Od=null);break;case"focusout":Od=tb=_u=null;break;case"mousedown":nb=!0;break;case"contextmenu":case"mouseup":case"dragend":nb=!1,ak(j,n,I);break;case"selectionchange":if(KO)break;case"keydown":case"keyup":ak(j,n,I)}var K;if(P0)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else wu?v1(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(y1&&n.locale!=="ko"&&(wu||M!=="onCompositionStart"?M==="onCompositionEnd"&&wu&&(K=g1()):(Wa=I,N0="value"in Wa?Wa.value:Wa.textContent,wu=!0)),ge=Wm(_,M),0<ge.length&&(M=new JE(M,t,null,n,I),j.push({event:M,listeners:ge}),K?M.data=K:(K=x1(n),K!==null&&(M.data=K)))),(K=OO?LO(t,n):FO(t,n))&&(_=Wm(_,"onBeforeInput"),0<_.length&&(I=new JE("onBeforeInput","beforeinput",null,n,I),j.push({event:I,listeners:_}),I.data=K))}I1(j,e)})}function ip(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wm(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Xd(t,n),a!=null&&i.unshift(ip(t,a,s)),a=Xd(t,e),a!=null&&i.push(ip(t,a,s))),t=t.return}return i}function lu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uk(t,e,n,i,s){for(var a=e._reactName,u=[];n!==null&&n!==i;){var m=n,x=m.alternate,_=m.stateNode;if(x!==null&&x===i)break;m.tag===5&&_!==null&&(m=_,s?(x=Xd(n,a),x!=null&&u.unshift(ip(n,x,m))):s||(x=Xd(n,a),x!=null&&u.push(ip(n,x,m)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var JO=/\r\n?/g,ZO=/\u0000|\uFFFD/g;function hk(t){return(typeof t=="string"?t:""+t).replace(JO,`
`).replace(ZO,"")}function Wf(t,e,n){if(e=hk(e),hk(t)!==e&&n)throw Error(St(425))}function Gm(){}var ib=null,rb=null;function sb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ob=typeof setTimeout=="function"?setTimeout:void 0,eL=typeof clearTimeout=="function"?clearTimeout:void 0,dk=typeof Promise=="function"?Promise:void 0,tL=typeof queueMicrotask=="function"?queueMicrotask:typeof dk<"u"?function(t){return dk.resolve(null).then(t).catch(nL)}:ob;function nL(t){setTimeout(function(){throw t})}function Gv(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),Zd(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);Zd(e)}function Za(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function pk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var uh=Math.random().toString(36).slice(2),po="__reactFiber$"+uh,rp="__reactProps$"+uh,Xo="__reactContainer$"+uh,ab="__reactEvents$"+uh,iL="__reactListeners$"+uh,rL="__reactHandles$"+uh;function Jl(t){var e=t[po];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xo]||n[po]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=pk(t);t!==null;){if(n=t[po])return n;t=pk(t)}return e}t=n,n=t.parentNode}return null}function Sp(t){return t=t[po]||t[Xo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ku(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(St(33))}function Fg(t){return t[rp]||null}var lb=[],Tu=-1;function vl(t){return{current:t}}function ni(t){0>Tu||(t.current=lb[Tu],lb[Tu]=null,Tu--)}function Jn(t,e){Tu++,lb[Tu]=t.current,t.current=e}var hl={},xr=vl(hl),Lr=vl(!1),ac=hl;function Wu(t,e){var n=t.type.contextTypes;if(!n)return hl;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=e[a];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Fr(t){return t=t.childContextTypes,t!=null}function Km(){ni(Lr),ni(xr)}function fk(t,e,n){if(xr.current!==hl)throw Error(St(168));Jn(xr,e),Jn(Lr,n)}function M1(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(St(108,zD(t)||"Unknown",s));return mi({},n,i)}function Ym(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hl,ac=xr.current,Jn(xr,t),Jn(Lr,Lr.current),!0}function mk(t,e,n){var i=t.stateNode;if(!i)throw Error(St(169));n?(t=M1(t,e,ac),i.__reactInternalMemoizedMergedChildContext=t,ni(Lr),ni(xr),Jn(xr,t)):ni(Lr),Jn(Lr,n)}var Bo=null,Bg=!1,Kv=!1;function R1(t){Bo===null?Bo=[t]:Bo.push(t)}function sL(t){Bg=!0,R1(t)}function xl(){if(!Kv&&Bo!==null){Kv=!0;var t=0,e=zn;try{var n=Bo;for(zn=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Bo=null,Bg=!1}catch(s){throw Bo!==null&&(Bo=Bo.slice(t+1)),s1(T0,xl),s}finally{zn=e,Kv=!1}}return null}var Cu=[],Su=0,Xm=null,Qm=0,ys=[],vs=0,lc=null,Uo=1,zo="";function Gl(t,e){Cu[Su++]=Qm,Cu[Su++]=Xm,Xm=t,Qm=e}function D1(t,e,n){ys[vs++]=Uo,ys[vs++]=zo,ys[vs++]=lc,lc=t;var i=Uo;t=zo;var s=32-qs(i)-1;i&=~(1<<s),n+=1;var a=32-qs(e)+s;if(30<a){var u=s-s%5;a=(i&(1<<u)-1).toString(32),i>>=u,s-=u,Uo=1<<32-qs(e)+s|n<<s|i,zo=a+t}else Uo=1<<a|n<<s|i,zo=t}function R0(t){t.return!==null&&(Gl(t,1),D1(t,1,0))}function D0(t){for(;t===Xm;)Xm=Cu[--Su],Cu[Su]=null,Qm=Cu[--Su],Cu[Su]=null;for(;t===lc;)lc=ys[--vs],ys[vs]=null,zo=ys[--vs],ys[vs]=null,Uo=ys[--vs],ys[vs]=null}var ts=null,Jr=null,oi=!1,zs=null;function O1(t,e){var n=xs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function gk(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ts=t,Jr=Za(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ts=t,Jr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=lc!==null?{id:Uo,overflow:zo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ts=t,Jr=null,!0):!1;default:return!1}}function cb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ub(t){if(oi){var e=Jr;if(e){var n=e;if(!gk(t,e)){if(cb(t))throw Error(St(418));e=Za(n.nextSibling);var i=ts;e&&gk(t,e)?O1(i,n):(t.flags=t.flags&-4097|2,oi=!1,ts=t)}}else{if(cb(t))throw Error(St(418));t.flags=t.flags&-4097|2,oi=!1,ts=t}}}function yk(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ts=t}function Gf(t){if(t!==ts)return!1;if(!oi)return yk(t),oi=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sb(t.type,t.memoizedProps)),e&&(e=Jr)){if(cb(t))throw L1(),Error(St(418));for(;e;)O1(t,e),e=Za(e.nextSibling)}if(yk(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(St(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jr=Za(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jr=null}}else Jr=ts?Za(t.stateNode.nextSibling):null;return!0}function L1(){for(var t=Jr;t;)t=Za(t.nextSibling)}function Gu(){Jr=ts=null,oi=!1}function O0(t){zs===null?zs=[t]:zs.push(t)}var oL=ra.ReactCurrentBatchConfig;function dd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(St(309));var i=n.stateNode}if(!i)throw Error(St(147,t));var s=i,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(u){var m=s.refs;u===null?delete m[a]:m[a]=u},e._stringRef=a,e)}if(typeof t!="string")throw Error(St(284));if(!n._owner)throw Error(St(290,t))}return t}function Kf(t,e){throw t=Object.prototype.toString.call(e),Error(St(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vk(t){var e=t._init;return e(t._payload)}function F1(t){function e(X,L){if(t){var G=X.deletions;G===null?(X.deletions=[L],X.flags|=16):G.push(L)}}function n(X,L){if(!t)return null;for(;L!==null;)e(X,L),L=L.sibling;return null}function i(X,L){for(X=new Map;L!==null;)L.key!==null?X.set(L.key,L):X.set(L.index,L),L=L.sibling;return X}function s(X,L){return X=il(X,L),X.index=0,X.sibling=null,X}function a(X,L,G){return X.index=G,t?(G=X.alternate,G!==null?(G=G.index,G<L?(X.flags|=2,L):G):(X.flags|=2,L)):(X.flags|=1048576,L)}function u(X){return t&&X.alternate===null&&(X.flags|=2),X}function m(X,L,G,ne){return L===null||L.tag!==6?(L=tx(G,X.mode,ne),L.return=X,L):(L=s(L,G),L.return=X,L)}function x(X,L,G,ne){var ke=G.type;return ke===bu?I(X,L,G.props.children,ne,G.key):L!==null&&(L.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===Fa&&vk(ke)===L.type)?(ne=s(L,G.props),ne.ref=dd(X,L,G),ne.return=X,ne):(ne=Tm(G.type,G.key,G.props,null,X.mode,ne),ne.ref=dd(X,L,G),ne.return=X,ne)}function _(X,L,G,ne){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=nx(G,X.mode,ne),L.return=X,L):(L=s(L,G.children||[]),L.return=X,L)}function I(X,L,G,ne,ke){return L===null||L.tag!==7?(L=rc(G,X.mode,ne,ke),L.return=X,L):(L=s(L,G),L.return=X,L)}function j(X,L,G){if(typeof L=="string"&&L!==""||typeof L=="number")return L=tx(""+L,X.mode,G),L.return=X,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Lf:return G=Tm(L.type,L.key,L.props,null,X.mode,G),G.ref=dd(X,null,L),G.return=X,G;case xu:return L=nx(L,X.mode,G),L.return=X,L;case Fa:var ne=L._init;return j(X,ne(L._payload),G)}if(_d(L)||ad(L))return L=rc(L,X.mode,G,null),L.return=X,L;Kf(X,L)}return null}function z(X,L,G,ne){var ke=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return ke!==null?null:m(X,L,""+G,ne);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Lf:return G.key===ke?x(X,L,G,ne):null;case xu:return G.key===ke?_(X,L,G,ne):null;case Fa:return ke=G._init,z(X,L,ke(G._payload),ne)}if(_d(G)||ad(G))return ke!==null?null:I(X,L,G,ne,null);Kf(X,G)}return null}function J(X,L,G,ne,ke){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return X=X.get(G)||null,m(L,X,""+ne,ke);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case Lf:return X=X.get(ne.key===null?G:ne.key)||null,x(L,X,ne,ke);case xu:return X=X.get(ne.key===null?G:ne.key)||null,_(L,X,ne,ke);case Fa:var ge=ne._init;return J(X,L,G,ge(ne._payload),ke)}if(_d(ne)||ad(ne))return X=X.get(G)||null,I(L,X,ne,ke,null);Kf(L,ne)}return null}function te(X,L,G,ne){for(var ke=null,ge=null,K=L,M=L=0,H=null;K!==null&&M<G.length;M++){K.index>M?(H=K,K=null):H=K.sibling;var U=z(X,K,G[M],ne);if(U===null){K===null&&(K=H);break}t&&K&&U.alternate===null&&e(X,K),L=a(U,L,M),ge===null?ke=U:ge.sibling=U,ge=U,K=H}if(M===G.length)return n(X,K),oi&&Gl(X,M),ke;if(K===null){for(;M<G.length;M++)K=j(X,G[M],ne),K!==null&&(L=a(K,L,M),ge===null?ke=K:ge.sibling=K,ge=K);return oi&&Gl(X,M),ke}for(K=i(X,K);M<G.length;M++)H=J(K,X,M,G[M],ne),H!==null&&(t&&H.alternate!==null&&K.delete(H.key===null?M:H.key),L=a(H,L,M),ge===null?ke=H:ge.sibling=H,ge=H);return t&&K.forEach(function(Y){return e(X,Y)}),oi&&Gl(X,M),ke}function oe(X,L,G,ne){var ke=ad(G);if(typeof ke!="function")throw Error(St(150));if(G=ke.call(G),G==null)throw Error(St(151));for(var ge=ke=null,K=L,M=L=0,H=null,U=G.next();K!==null&&!U.done;M++,U=G.next()){K.index>M?(H=K,K=null):H=K.sibling;var Y=z(X,K,U.value,ne);if(Y===null){K===null&&(K=H);break}t&&K&&Y.alternate===null&&e(X,K),L=a(Y,L,M),ge===null?ke=Y:ge.sibling=Y,ge=Y,K=H}if(U.done)return n(X,K),oi&&Gl(X,M),ke;if(K===null){for(;!U.done;M++,U=G.next())U=j(X,U.value,ne),U!==null&&(L=a(U,L,M),ge===null?ke=U:ge.sibling=U,ge=U);return oi&&Gl(X,M),ke}for(K=i(X,K);!U.done;M++,U=G.next())U=J(K,X,M,U.value,ne),U!==null&&(t&&U.alternate!==null&&K.delete(U.key===null?M:U.key),L=a(U,L,M),ge===null?ke=U:ge.sibling=U,ge=U);return t&&K.forEach(function(ae){return e(X,ae)}),oi&&Gl(X,M),ke}function se(X,L,G,ne){if(typeof G=="object"&&G!==null&&G.type===bu&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case Lf:e:{for(var ke=G.key,ge=L;ge!==null;){if(ge.key===ke){if(ke=G.type,ke===bu){if(ge.tag===7){n(X,ge.sibling),L=s(ge,G.props.children),L.return=X,X=L;break e}}else if(ge.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===Fa&&vk(ke)===ge.type){n(X,ge.sibling),L=s(ge,G.props),L.ref=dd(X,ge,G),L.return=X,X=L;break e}n(X,ge);break}else e(X,ge);ge=ge.sibling}G.type===bu?(L=rc(G.props.children,X.mode,ne,G.key),L.return=X,X=L):(ne=Tm(G.type,G.key,G.props,null,X.mode,ne),ne.ref=dd(X,L,G),ne.return=X,X=ne)}return u(X);case xu:e:{for(ge=G.key;L!==null;){if(L.key===ge)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){n(X,L.sibling),L=s(L,G.children||[]),L.return=X,X=L;break e}else{n(X,L);break}else e(X,L);L=L.sibling}L=nx(G,X.mode,ne),L.return=X,X=L}return u(X);case Fa:return ge=G._init,se(X,L,ge(G._payload),ne)}if(_d(G))return te(X,L,G,ne);if(ad(G))return oe(X,L,G,ne);Kf(X,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,L!==null&&L.tag===6?(n(X,L.sibling),L=s(L,G),L.return=X,X=L):(n(X,L),L=tx(G,X.mode,ne),L.return=X,X=L),u(X)):n(X,L)}return se}var Ku=F1(!0),B1=F1(!1),Jm=vl(null),Zm=null,Au=null,L0=null;function F0(){L0=Au=Zm=null}function B0(t){var e=Jm.current;ni(Jm),t._currentValue=e}function hb(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Fu(t,e){Zm=t,L0=Au=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Or=!0),t.firstContext=null)}function ws(t){var e=t._currentValue;if(L0!==t)if(t={context:t,memoizedValue:e,next:null},Au===null){if(Zm===null)throw Error(St(308));Au=t,Zm.dependencies={lanes:0,firstContext:t}}else Au=Au.next=t;return e}var Zl=null;function V0(t){Zl===null?Zl=[t]:Zl.push(t)}function V1(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,V0(e)):(n.next=s.next,s.next=n),e.interleaved=n,Qo(t,i)}function Qo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ba=!1;function U0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function U1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function el(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Mn&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,Qo(t,n)}return s=i.interleaved,s===null?(e.next=e,V0(i)):(e.next=s.next,s.next=e),i.interleaved=e,Qo(t,n)}function xm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,C0(t,n)}}function xk(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?s=a=e:a=a.next=e}else s=a=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function eg(t,e,n,i){var s=t.updateQueue;Ba=!1;var a=s.firstBaseUpdate,u=s.lastBaseUpdate,m=s.shared.pending;if(m!==null){s.shared.pending=null;var x=m,_=x.next;x.next=null,u===null?a=_:u.next=_,u=x;var I=t.alternate;I!==null&&(I=I.updateQueue,m=I.lastBaseUpdate,m!==u&&(m===null?I.firstBaseUpdate=_:m.next=_,I.lastBaseUpdate=x))}if(a!==null){var j=s.baseState;u=0,I=_=x=null,m=a;do{var z=m.lane,J=m.eventTime;if((i&z)===z){I!==null&&(I=I.next={eventTime:J,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var te=t,oe=m;switch(z=e,J=n,oe.tag){case 1:if(te=oe.payload,typeof te=="function"){j=te.call(J,j,z);break e}j=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=oe.payload,z=typeof te=="function"?te.call(J,j,z):te,z==null)break e;j=mi({},j,z);break e;case 2:Ba=!0}}m.callback!==null&&m.lane!==0&&(t.flags|=64,z=s.effects,z===null?s.effects=[m]:z.push(m))}else J={eventTime:J,lane:z,tag:m.tag,payload:m.payload,callback:m.callback,next:null},I===null?(_=I=J,x=j):I=I.next=J,u|=z;if(m=m.next,m===null){if(m=s.shared.pending,m===null)break;z=m,m=z.next,z.next=null,s.lastBaseUpdate=z,s.shared.pending=null}}while(!0);if(I===null&&(x=j),s.baseState=x,s.firstBaseUpdate=_,s.lastBaseUpdate=I,e=s.shared.interleaved,e!==null){s=e;do u|=s.lane,s=s.next;while(s!==e)}else a===null&&(s.shared.lanes=0);uc|=u,t.lanes=u,t.memoizedState=j}}function bk(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(St(191,s));s.call(i)}}}var Ap={},yo=vl(Ap),sp=vl(Ap),op=vl(Ap);function ec(t){if(t===Ap)throw Error(St(174));return t}function z0(t,e){switch(Jn(op,e),Jn(sp,t),Jn(yo,Ap),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hx(e,t)}ni(yo),Jn(yo,e)}function Yu(){ni(yo),ni(sp),ni(op)}function z1(t){ec(op.current);var e=ec(yo.current),n=Hx(e,t.type);e!==n&&(Jn(sp,t),Jn(yo,n))}function q0(t){sp.current===t&&(ni(yo),ni(sp))}var hi=vl(0);function tg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yv=[];function $0(){for(var t=0;t<Yv.length;t++)Yv[t]._workInProgressVersionPrimary=null;Yv.length=0}var bm=ra.ReactCurrentDispatcher,Xv=ra.ReactCurrentBatchConfig,cc=0,pi=null,Vi=null,Hi=null,ng=!1,Ld=!1,ap=0,aL=0;function pr(){throw Error(St(321))}function H0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ws(t[n],e[n]))return!1;return!0}function W0(t,e,n,i,s,a){if(cc=a,pi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bm.current=t===null||t.memoizedState===null?hL:dL,t=n(i,s),Ld){a=0;do{if(Ld=!1,ap=0,25<=a)throw Error(St(301));a+=1,Hi=Vi=null,e.updateQueue=null,bm.current=pL,t=n(i,s)}while(Ld)}if(bm.current=ig,e=Vi!==null&&Vi.next!==null,cc=0,Hi=Vi=pi=null,ng=!1,e)throw Error(St(300));return t}function G0(){var t=ap!==0;return ap=0,t}function ho(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hi===null?pi.memoizedState=Hi=t:Hi=Hi.next=t,Hi}function _s(){if(Vi===null){var t=pi.alternate;t=t!==null?t.memoizedState:null}else t=Vi.next;var e=Hi===null?pi.memoizedState:Hi.next;if(e!==null)Hi=e,Vi=t;else{if(t===null)throw Error(St(310));Vi=t,t={memoizedState:Vi.memoizedState,baseState:Vi.baseState,baseQueue:Vi.baseQueue,queue:Vi.queue,next:null},Hi===null?pi.memoizedState=Hi=t:Hi=Hi.next=t}return Hi}function lp(t,e){return typeof e=="function"?e(t):e}function Qv(t){var e=_s(),n=e.queue;if(n===null)throw Error(St(311));n.lastRenderedReducer=t;var i=Vi,s=i.baseQueue,a=n.pending;if(a!==null){if(s!==null){var u=s.next;s.next=a.next,a.next=u}i.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,i=i.baseState;var m=u=null,x=null,_=a;do{var I=_.lane;if((cc&I)===I)x!==null&&(x=x.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),i=_.hasEagerState?_.eagerState:t(i,_.action);else{var j={lane:I,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};x===null?(m=x=j,u=i):x=x.next=j,pi.lanes|=I,uc|=I}_=_.next}while(_!==null&&_!==a);x===null?u=i:x.next=m,Ws(i,e.memoizedState)||(Or=!0),e.memoizedState=i,e.baseState=u,e.baseQueue=x,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do a=s.lane,pi.lanes|=a,uc|=a,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jv(t){var e=_s(),n=e.queue;if(n===null)throw Error(St(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,a=e.memoizedState;if(s!==null){n.pending=null;var u=s=s.next;do a=t(a,u.action),u=u.next;while(u!==s);Ws(a,e.memoizedState)||(Or=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function q1(){}function $1(t,e){var n=pi,i=_s(),s=e(),a=!Ws(i.memoizedState,s);if(a&&(i.memoizedState=s,Or=!0),i=i.queue,K0(G1.bind(null,n,i,t),[t]),i.getSnapshot!==e||a||Hi!==null&&Hi.memoizedState.tag&1){if(n.flags|=2048,cp(9,W1.bind(null,n,i,s,e),void 0,null),Wi===null)throw Error(St(349));cc&30||H1(n,e,s)}return s}function H1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pi.updateQueue,e===null?(e={lastEffect:null,stores:null},pi.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function W1(t,e,n,i){e.value=n,e.getSnapshot=i,K1(e)&&Y1(t)}function G1(t,e,n){return n(function(){K1(e)&&Y1(t)})}function K1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ws(t,n)}catch{return!0}}function Y1(t){var e=Qo(t,1);e!==null&&$s(e,t,1,-1)}function wk(t){var e=ho();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lp,lastRenderedState:t},e.queue=t,t=t.dispatch=uL.bind(null,pi,t),[e.memoizedState,t]}function cp(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=pi.updateQueue,e===null?(e={lastEffect:null,stores:null},pi.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function X1(){return _s().memoizedState}function wm(t,e,n,i){var s=ho();pi.flags|=t,s.memoizedState=cp(1|e,n,void 0,i===void 0?null:i)}function Vg(t,e,n,i){var s=_s();i=i===void 0?null:i;var a=void 0;if(Vi!==null){var u=Vi.memoizedState;if(a=u.destroy,i!==null&&H0(i,u.deps)){s.memoizedState=cp(e,n,a,i);return}}pi.flags|=t,s.memoizedState=cp(1|e,n,a,i)}function _k(t,e){return wm(8390656,8,t,e)}function K0(t,e){return Vg(2048,8,t,e)}function Q1(t,e){return Vg(4,2,t,e)}function J1(t,e){return Vg(4,4,t,e)}function Z1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eA(t,e,n){return n=n!=null?n.concat([t]):null,Vg(4,4,Z1.bind(null,e,t),n)}function Y0(){}function tA(t,e){var n=_s();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&H0(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function nA(t,e){var n=_s();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&H0(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function iA(t,e,n){return cc&21?(Ws(n,e)||(n=l1(),pi.lanes|=n,uc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Or=!0),t.memoizedState=n)}function lL(t,e){var n=zn;zn=n!==0&&4>n?n:4,t(!0);var i=Xv.transition;Xv.transition={};try{t(!1),e()}finally{zn=n,Xv.transition=i}}function rA(){return _s().memoizedState}function cL(t,e,n){var i=nl(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},sA(t))oA(e,n);else if(n=V1(t,e,n,i),n!==null){var s=kr();$s(n,t,i,s),aA(n,e,i)}}function uL(t,e,n){var i=nl(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(sA(t))oA(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var u=e.lastRenderedState,m=a(u,n);if(s.hasEagerState=!0,s.eagerState=m,Ws(m,u)){var x=e.interleaved;x===null?(s.next=s,V0(e)):(s.next=x.next,x.next=s),e.interleaved=s;return}}catch{}finally{}n=V1(t,e,s,i),n!==null&&(s=kr(),$s(n,t,i,s),aA(n,e,i))}}function sA(t){var e=t.alternate;return t===pi||e!==null&&e===pi}function oA(t,e){Ld=ng=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function aA(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,C0(t,n)}}var ig={readContext:ws,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},hL={readContext:ws,useCallback:function(t,e){return ho().memoizedState=[t,e===void 0?null:e],t},useContext:ws,useEffect:_k,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wm(4194308,4,Z1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wm(4194308,4,t,e)},useInsertionEffect:function(t,e){return wm(4,2,t,e)},useMemo:function(t,e){var n=ho();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=ho();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=cL.bind(null,pi,t),[i.memoizedState,t]},useRef:function(t){var e=ho();return t={current:t},e.memoizedState=t},useState:wk,useDebugValue:Y0,useDeferredValue:function(t){return ho().memoizedState=t},useTransition:function(){var t=wk(!1),e=t[0];return t=lL.bind(null,t[1]),ho().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=pi,s=ho();if(oi){if(n===void 0)throw Error(St(407));n=n()}else{if(n=e(),Wi===null)throw Error(St(349));cc&30||H1(i,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,_k(G1.bind(null,i,a,t),[t]),i.flags|=2048,cp(9,W1.bind(null,i,a,n,e),void 0,null),n},useId:function(){var t=ho(),e=Wi.identifierPrefix;if(oi){var n=zo,i=Uo;n=(i&~(1<<32-qs(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=ap++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=aL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dL={readContext:ws,useCallback:tA,useContext:ws,useEffect:K0,useImperativeHandle:eA,useInsertionEffect:Q1,useLayoutEffect:J1,useMemo:nA,useReducer:Qv,useRef:X1,useState:function(){return Qv(lp)},useDebugValue:Y0,useDeferredValue:function(t){var e=_s();return iA(e,Vi.memoizedState,t)},useTransition:function(){var t=Qv(lp)[0],e=_s().memoizedState;return[t,e]},useMutableSource:q1,useSyncExternalStore:$1,useId:rA,unstable_isNewReconciler:!1},pL={readContext:ws,useCallback:tA,useContext:ws,useEffect:K0,useImperativeHandle:eA,useInsertionEffect:Q1,useLayoutEffect:J1,useMemo:nA,useReducer:Jv,useRef:X1,useState:function(){return Jv(lp)},useDebugValue:Y0,useDeferredValue:function(t){var e=_s();return Vi===null?e.memoizedState=t:iA(e,Vi.memoizedState,t)},useTransition:function(){var t=Jv(lp)[0],e=_s().memoizedState;return[t,e]},useMutableSource:q1,useSyncExternalStore:$1,useId:rA,unstable_isNewReconciler:!1};function Bs(t,e){if(t&&t.defaultProps){e=mi({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function db(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:mi({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ug={isMounted:function(t){return(t=t._reactInternals)?Ec(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=kr(),s=nl(t),a=Wo(i,s);a.payload=e,n!=null&&(a.callback=n),e=el(t,a,s),e!==null&&($s(e,t,s,i),xm(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=kr(),s=nl(t),a=Wo(i,s);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=el(t,a,s),e!==null&&($s(e,t,s,i),xm(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kr(),i=nl(t),s=Wo(n,i);s.tag=2,e!=null&&(s.callback=e),e=el(t,s,i),e!==null&&($s(e,t,i,n),xm(e,t,i))}};function Ek(t,e,n,i,s,a,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,u):e.prototype&&e.prototype.isPureReactComponent?!tp(n,i)||!tp(s,a):!0}function lA(t,e,n){var i=!1,s=hl,a=e.contextType;return typeof a=="object"&&a!==null?a=ws(a):(s=Fr(e)?ac:xr.current,i=e.contextTypes,a=(i=i!=null)?Wu(t,s):hl),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ug,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),e}function kk(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Ug.enqueueReplaceState(e,e.state,null)}function pb(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},U0(t);var a=e.contextType;typeof a=="object"&&a!==null?s.context=ws(a):(a=Fr(e)?ac:xr.current,s.context=Wu(t,a)),s.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(db(t,e,a,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ug.enqueueReplaceState(s,s.state,null),eg(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Xu(t,e){try{var n="",i=e;do n+=UD(i),i=i.return;while(i);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:s,digest:null}}function Zv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function fb(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var fL=typeof WeakMap=="function"?WeakMap:Map;function cA(t,e,n){n=Wo(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){sg||(sg=!0,kb=i),fb(t,e)},n}function uA(t,e,n){n=Wo(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){fb(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){fb(t,e),typeof i!="function"&&(tl===null?tl=new Set([this]):tl.add(this));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),n}function Tk(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new fL;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=AL.bind(null,t,e,n),e.then(t,t))}function Ck(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sk(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wo(-1,1),e.tag=2,el(n,e,1))),n.lanes|=1),t)}var mL=ra.ReactCurrentOwner,Or=!1;function Er(t,e,n,i){e.child=t===null?B1(e,null,n,i):Ku(e,t.child,n,i)}function Ak(t,e,n,i,s){n=n.render;var a=e.ref;return Fu(e,s),i=W0(t,e,n,i,a,s),n=G0(),t!==null&&!Or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jo(t,e,s)):(oi&&n&&R0(e),e.flags|=1,Er(t,e,i,s),e.child)}function Nk(t,e,n,i,s){if(t===null){var a=n.type;return typeof a=="function"&&!iw(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,hA(t,e,a,i,s)):(t=Tm(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&s)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:tp,n(u,i)&&t.ref===e.ref)return Jo(t,e,s)}return e.flags|=1,t=il(a,i),t.ref=e.ref,t.return=e,e.child=t}function hA(t,e,n,i,s){if(t!==null){var a=t.memoizedProps;if(tp(a,i)&&t.ref===e.ref)if(Or=!1,e.pendingProps=i=a,(t.lanes&s)!==0)t.flags&131072&&(Or=!0);else return e.lanes=t.lanes,Jo(t,e,s)}return mb(t,e,n,i,s)}function dA(t,e,n){var i=e.pendingProps,s=i.children,a=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jn(ju,Qr),Qr|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Jn(ju,Qr),Qr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:n,Jn(ju,Qr),Qr|=i}else a!==null?(i=a.baseLanes|n,e.memoizedState=null):i=n,Jn(ju,Qr),Qr|=i;return Er(t,e,s,n),e.child}function pA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mb(t,e,n,i,s){var a=Fr(n)?ac:xr.current;return a=Wu(e,a),Fu(e,s),n=W0(t,e,n,i,a,s),i=G0(),t!==null&&!Or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jo(t,e,s)):(oi&&i&&R0(e),e.flags|=1,Er(t,e,n,s),e.child)}function jk(t,e,n,i,s){if(Fr(n)){var a=!0;Ym(e)}else a=!1;if(Fu(e,s),e.stateNode===null)_m(t,e),lA(e,n,i),pb(e,n,i,s),i=!0;else if(t===null){var u=e.stateNode,m=e.memoizedProps;u.props=m;var x=u.context,_=n.contextType;typeof _=="object"&&_!==null?_=ws(_):(_=Fr(n)?ac:xr.current,_=Wu(e,_));var I=n.getDerivedStateFromProps,j=typeof I=="function"||typeof u.getSnapshotBeforeUpdate=="function";j||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==i||x!==_)&&kk(e,u,i,_),Ba=!1;var z=e.memoizedState;u.state=z,eg(e,i,u,s),x=e.memoizedState,m!==i||z!==x||Lr.current||Ba?(typeof I=="function"&&(db(e,n,I,i),x=e.memoizedState),(m=Ba||Ek(e,n,m,i,z,x,_))?(j||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=x),u.props=i,u.state=x,u.context=_,i=m):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{u=e.stateNode,U1(t,e),m=e.memoizedProps,_=e.type===e.elementType?m:Bs(e.type,m),u.props=_,j=e.pendingProps,z=u.context,x=n.contextType,typeof x=="object"&&x!==null?x=ws(x):(x=Fr(n)?ac:xr.current,x=Wu(e,x));var J=n.getDerivedStateFromProps;(I=typeof J=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==j||z!==x)&&kk(e,u,i,x),Ba=!1,z=e.memoizedState,u.state=z,eg(e,i,u,s);var te=e.memoizedState;m!==j||z!==te||Lr.current||Ba?(typeof J=="function"&&(db(e,n,J,i),te=e.memoizedState),(_=Ba||Ek(e,n,_,i,z,te,x)||!1)?(I||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,te,x),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,te,x)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===t.memoizedProps&&z===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&z===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=te),u.props=i,u.state=te,u.context=x,i=_):(typeof u.componentDidUpdate!="function"||m===t.memoizedProps&&z===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&z===t.memoizedState||(e.flags|=1024),i=!1)}return gb(t,e,n,i,a,s)}function gb(t,e,n,i,s,a){pA(t,e);var u=(e.flags&128)!==0;if(!i&&!u)return s&&mk(e,n,!1),Jo(t,e,a);i=e.stateNode,mL.current=e;var m=u&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&u?(e.child=Ku(e,t.child,null,a),e.child=Ku(e,null,m,a)):Er(t,e,m,a),e.memoizedState=i.state,s&&mk(e,n,!0),e.child}function fA(t){var e=t.stateNode;e.pendingContext?fk(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fk(t,e.context,!1),z0(t,e.containerInfo)}function Ik(t,e,n,i,s){return Gu(),O0(s),e.flags|=256,Er(t,e,n,i),e.child}var yb={dehydrated:null,treeContext:null,retryLane:0};function vb(t){return{baseLanes:t,cachePool:null,transitions:null}}function mA(t,e,n){var i=e.pendingProps,s=hi.current,a=!1,u=(e.flags&128)!==0,m;if((m=u)||(m=t!==null&&t.memoizedState===null?!1:(s&2)!==0),m?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Jn(hi,s&1),t===null)return ub(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(u=i.children,t=i.fallback,a?(i=e.mode,a=e.child,u={mode:"hidden",children:u},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=$g(u,i,0,null),t=rc(t,i,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=vb(n),e.memoizedState=yb,t):X0(e,u));if(s=t.memoizedState,s!==null&&(m=s.dehydrated,m!==null))return gL(t,e,u,i,m,s,n);if(a){a=i.fallback,u=e.mode,s=t.child,m=s.sibling;var x={mode:"hidden",children:i.children};return!(u&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=x,e.deletions=null):(i=il(s,x),i.subtreeFlags=s.subtreeFlags&14680064),m!==null?a=il(m,a):(a=rc(a,u,n,null),a.flags|=2),a.return=e,i.return=e,i.sibling=a,e.child=i,i=a,a=e.child,u=t.child.memoizedState,u=u===null?vb(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=t.childLanes&~n,e.memoizedState=yb,i}return a=t.child,t=a.sibling,i=il(a,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function X0(t,e){return e=$g({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Yf(t,e,n,i){return i!==null&&O0(i),Ku(e,t.child,null,n),t=X0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gL(t,e,n,i,s,a,u){if(n)return e.flags&256?(e.flags&=-257,i=Zv(Error(St(422))),Yf(t,e,u,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=i.fallback,s=e.mode,i=$g({mode:"visible",children:i.children},s,0,null),a=rc(a,s,u,null),a.flags|=2,i.return=e,a.return=e,i.sibling=a,e.child=i,e.mode&1&&Ku(e,t.child,null,u),e.child.memoizedState=vb(u),e.memoizedState=yb,a);if(!(e.mode&1))return Yf(t,e,u,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var m=i.dgst;return i=m,a=Error(St(419)),i=Zv(a,i,void 0),Yf(t,e,u,i)}if(m=(u&t.childLanes)!==0,Or||m){if(i=Wi,i!==null){switch(u&-u){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|u)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Qo(t,s),$s(i,t,s,-1))}return nw(),i=Zv(Error(St(421))),Yf(t,e,u,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=NL.bind(null,t),s._reactRetry=e,null):(t=a.treeContext,Jr=Za(s.nextSibling),ts=e,oi=!0,zs=null,t!==null&&(ys[vs++]=Uo,ys[vs++]=zo,ys[vs++]=lc,Uo=t.id,zo=t.overflow,lc=e),e=X0(e,i.children),e.flags|=4096,e)}function Pk(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),hb(t.return,e,n)}function ex(t,e,n,i,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s)}function gA(t,e,n){var i=e.pendingProps,s=i.revealOrder,a=i.tail;if(Er(t,e,i.children,n),i=hi.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pk(t,n,e);else if(t.tag===19)Pk(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Jn(hi,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&tg(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ex(e,!1,s,n,a);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&tg(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ex(e,!0,n,null,a);break;case"together":ex(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _m(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),uc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(St(153));if(e.child!==null){for(t=e.child,n=il(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=il(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function yL(t,e,n){switch(e.tag){case 3:fA(e),Gu();break;case 5:z1(e);break;case 1:Fr(e.type)&&Ym(e);break;case 4:z0(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;Jn(Jm,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Jn(hi,hi.current&1),e.flags|=128,null):n&e.child.childLanes?mA(t,e,n):(Jn(hi,hi.current&1),t=Jo(t,e,n),t!==null?t.sibling:null);Jn(hi,hi.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return gA(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Jn(hi,hi.current),i)break;return null;case 22:case 23:return e.lanes=0,dA(t,e,n)}return Jo(t,e,n)}var yA,xb,vA,xA;yA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xb=function(){};vA=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,ec(yo.current);var a=null;switch(n){case"input":s=Ux(t,s),i=Ux(t,i),a=[];break;case"select":s=mi({},s,{value:void 0}),i=mi({},i,{value:void 0}),a=[];break;case"textarea":s=$x(t,s),i=$x(t,i),a=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Gm)}Wx(n,i);var u;n=null;for(_ in s)if(!i.hasOwnProperty(_)&&s.hasOwnProperty(_)&&s[_]!=null)if(_==="style"){var m=s[_];for(u in m)m.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(Kd.hasOwnProperty(_)?a||(a=[]):(a=a||[]).push(_,null));for(_ in i){var x=i[_];if(m=s!=null?s[_]:void 0,i.hasOwnProperty(_)&&x!==m&&(x!=null||m!=null))if(_==="style")if(m){for(u in m)!m.hasOwnProperty(u)||x&&x.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in x)x.hasOwnProperty(u)&&m[u]!==x[u]&&(n||(n={}),n[u]=x[u])}else n||(a||(a=[]),a.push(_,n)),n=x;else _==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,m=m?m.__html:void 0,x!=null&&m!==x&&(a=a||[]).push(_,x)):_==="children"?typeof x!="string"&&typeof x!="number"||(a=a||[]).push(_,""+x):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(Kd.hasOwnProperty(_)?(x!=null&&_==="onScroll"&&ei("scroll",t),a||m===x||(a=[])):(a=a||[]).push(_,x))}n&&(a=a||[]).push("style",n);var _=a;(e.updateQueue=_)&&(e.flags|=4)}};xA=function(t,e,n,i){n!==i&&(e.flags|=4)};function pd(t,e){if(!oi)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function fr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function vL(t,e,n){var i=e.pendingProps;switch(D0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(e),null;case 1:return Fr(e.type)&&Km(),fr(e),null;case 3:return i=e.stateNode,Yu(),ni(Lr),ni(xr),$0(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Gf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zs!==null&&(Sb(zs),zs=null))),xb(t,e),fr(e),null;case 5:q0(e);var s=ec(op.current);if(n=e.type,t!==null&&e.stateNode!=null)vA(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(St(166));return fr(e),null}if(t=ec(yo.current),Gf(e)){i=e.stateNode,n=e.type;var a=e.memoizedProps;switch(i[po]=e,i[rp]=a,t=(e.mode&1)!==0,n){case"dialog":ei("cancel",i),ei("close",i);break;case"iframe":case"object":case"embed":ei("load",i);break;case"video":case"audio":for(s=0;s<kd.length;s++)ei(kd[s],i);break;case"source":ei("error",i);break;case"img":case"image":case"link":ei("error",i),ei("load",i);break;case"details":ei("toggle",i);break;case"input":UE(i,a),ei("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},ei("invalid",i);break;case"textarea":qE(i,a),ei("invalid",i)}Wx(n,a),s=null;for(var u in a)if(a.hasOwnProperty(u)){var m=a[u];u==="children"?typeof m=="string"?i.textContent!==m&&(a.suppressHydrationWarning!==!0&&Wf(i.textContent,m,t),s=["children",m]):typeof m=="number"&&i.textContent!==""+m&&(a.suppressHydrationWarning!==!0&&Wf(i.textContent,m,t),s=["children",""+m]):Kd.hasOwnProperty(u)&&m!=null&&u==="onScroll"&&ei("scroll",i)}switch(n){case"input":Ff(i),zE(i,a,!0);break;case"textarea":Ff(i),$E(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=Gm)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{u=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=GS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=u.createElement(n,{is:i.is}):(t=u.createElement(n),n==="select"&&(u=t,i.multiple?u.multiple=!0:i.size&&(u.size=i.size))):t=u.createElementNS(t,n),t[po]=e,t[rp]=i,yA(t,e,!1,!1),e.stateNode=t;e:{switch(u=Gx(n,i),n){case"dialog":ei("cancel",t),ei("close",t),s=i;break;case"iframe":case"object":case"embed":ei("load",t),s=i;break;case"video":case"audio":for(s=0;s<kd.length;s++)ei(kd[s],t);s=i;break;case"source":ei("error",t),s=i;break;case"img":case"image":case"link":ei("error",t),ei("load",t),s=i;break;case"details":ei("toggle",t),s=i;break;case"input":UE(t,i),s=Ux(t,i),ei("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=mi({},i,{value:void 0}),ei("invalid",t);break;case"textarea":qE(t,i),s=$x(t,i),ei("invalid",t);break;default:s=i}Wx(n,s),m=s;for(a in m)if(m.hasOwnProperty(a)){var x=m[a];a==="style"?XS(t,x):a==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&KS(t,x)):a==="children"?typeof x=="string"?(n!=="textarea"||x!=="")&&Yd(t,x):typeof x=="number"&&Yd(t,""+x):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Kd.hasOwnProperty(a)?x!=null&&a==="onScroll"&&ei("scroll",t):x!=null&&b0(t,a,x,u))}switch(n){case"input":Ff(t),zE(t,i,!1);break;case"textarea":Ff(t),$E(t);break;case"option":i.value!=null&&t.setAttribute("value",""+ul(i.value));break;case"select":t.multiple=!!i.multiple,a=i.value,a!=null?Ru(t,!!i.multiple,a,!1):i.defaultValue!=null&&Ru(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Gm)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fr(e),null;case 6:if(t&&e.stateNode!=null)xA(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(St(166));if(n=ec(op.current),ec(yo.current),Gf(e)){if(i=e.stateNode,n=e.memoizedProps,i[po]=e,(a=i.nodeValue!==n)&&(t=ts,t!==null))switch(t.tag){case 3:Wf(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wf(i.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[po]=e,e.stateNode=i}return fr(e),null;case 13:if(ni(hi),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(oi&&Jr!==null&&e.mode&1&&!(e.flags&128))L1(),Gu(),e.flags|=98560,a=!1;else if(a=Gf(e),i!==null&&i.dehydrated!==null){if(t===null){if(!a)throw Error(St(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(St(317));a[po]=e}else Gu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fr(e),a=!1}else zs!==null&&(Sb(zs),zs=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||hi.current&1?Ui===0&&(Ui=3):nw())),e.updateQueue!==null&&(e.flags|=4),fr(e),null);case 4:return Yu(),xb(t,e),t===null&&np(e.stateNode.containerInfo),fr(e),null;case 10:return B0(e.type._context),fr(e),null;case 17:return Fr(e.type)&&Km(),fr(e),null;case 19:if(ni(hi),a=e.memoizedState,a===null)return fr(e),null;if(i=(e.flags&128)!==0,u=a.rendering,u===null)if(i)pd(a,!1);else{if(Ui!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(u=tg(t),u!==null){for(e.flags|=128,pd(a,!1),i=u.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)a=n,t=i,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Jn(hi,hi.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ci()>Qu&&(e.flags|=128,i=!0,pd(a,!1),e.lanes=4194304)}else{if(!i)if(t=tg(u),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!oi)return fr(e),null}else 2*Ci()-a.renderingStartTime>Qu&&n!==1073741824&&(e.flags|=128,i=!0,pd(a,!1),e.lanes=4194304);a.isBackwards?(u.sibling=e.child,e.child=u):(n=a.last,n!==null?n.sibling=u:e.child=u,a.last=u)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ci(),e.sibling=null,n=hi.current,Jn(hi,i?n&1|2:n&1),e):(fr(e),null);case 22:case 23:return tw(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Qr&1073741824&&(fr(e),e.subtreeFlags&6&&(e.flags|=8192)):fr(e),null;case 24:return null;case 25:return null}throw Error(St(156,e.tag))}function xL(t,e){switch(D0(e),e.tag){case 1:return Fr(e.type)&&Km(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yu(),ni(Lr),ni(xr),$0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return q0(e),null;case 13:if(ni(hi),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(St(340));Gu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ni(hi),null;case 4:return Yu(),null;case 10:return B0(e.type._context),null;case 22:case 23:return tw(),null;case 24:return null;default:return null}}var Xf=!1,yr=!1,bL=typeof WeakSet=="function"?WeakSet:Set,$t=null;function Nu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){xi(t,e,i)}else n.current=null}function bb(t,e,n){try{n()}catch(i){xi(t,e,i)}}var Mk=!1;function wL(t,e){if(ib=$m,t=k1(),M0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,m=-1,x=-1,_=0,I=0,j=t,z=null;t:for(;;){for(var J;j!==n||s!==0&&j.nodeType!==3||(m=u+s),j!==a||i!==0&&j.nodeType!==3||(x=u+i),j.nodeType===3&&(u+=j.nodeValue.length),(J=j.firstChild)!==null;)z=j,j=J;for(;;){if(j===t)break t;if(z===n&&++_===s&&(m=u),z===a&&++I===i&&(x=u),(J=j.nextSibling)!==null)break;j=z,z=j.parentNode}j=J}n=m===-1||x===-1?null:{start:m,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(rb={focusedElem:t,selectionRange:n},$m=!1,$t=e;$t!==null;)if(e=$t,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$t=t;else for(;$t!==null;){e=$t;try{var te=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(te!==null){var oe=te.memoizedProps,se=te.memoizedState,X=e.stateNode,L=X.getSnapshotBeforeUpdate(e.elementType===e.type?oe:Bs(e.type,oe),se);X.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var G=e.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(St(163))}}catch(ne){xi(e,e.return,ne)}if(t=e.sibling,t!==null){t.return=e.return,$t=t;break}$t=e.return}return te=Mk,Mk=!1,te}function Fd(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var a=s.destroy;s.destroy=void 0,a!==void 0&&bb(e,n,a)}s=s.next}while(s!==i)}}function zg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function wb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bA(t){var e=t.alternate;e!==null&&(t.alternate=null,bA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[po],delete e[rp],delete e[ab],delete e[iL],delete e[rL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wA(t){return t.tag===5||t.tag===3||t.tag===4}function Rk(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _b(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gm));else if(i!==4&&(t=t.child,t!==null))for(_b(t,e,n),t=t.sibling;t!==null;)_b(t,e,n),t=t.sibling}function Eb(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Eb(t,e,n),t=t.sibling;t!==null;)Eb(t,e,n),t=t.sibling}var Zi=null,Vs=!1;function Ma(t,e,n){for(n=n.child;n!==null;)_A(t,e,n),n=n.sibling}function _A(t,e,n){if(go&&typeof go.onCommitFiberUnmount=="function")try{go.onCommitFiberUnmount(Rg,n)}catch{}switch(n.tag){case 5:yr||Nu(n,e);case 6:var i=Zi,s=Vs;Zi=null,Ma(t,e,n),Zi=i,Vs=s,Zi!==null&&(Vs?(t=Zi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Zi.removeChild(n.stateNode));break;case 18:Zi!==null&&(Vs?(t=Zi,n=n.stateNode,t.nodeType===8?Gv(t.parentNode,n):t.nodeType===1&&Gv(t,n),Zd(t)):Gv(Zi,n.stateNode));break;case 4:i=Zi,s=Vs,Zi=n.stateNode.containerInfo,Vs=!0,Ma(t,e,n),Zi=i,Vs=s;break;case 0:case 11:case 14:case 15:if(!yr&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var a=s,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&bb(n,e,u),s=s.next}while(s!==i)}Ma(t,e,n);break;case 1:if(!yr&&(Nu(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(m){xi(n,e,m)}Ma(t,e,n);break;case 21:Ma(t,e,n);break;case 22:n.mode&1?(yr=(i=yr)||n.memoizedState!==null,Ma(t,e,n),yr=i):Ma(t,e,n);break;default:Ma(t,e,n)}}function Dk(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new bL),e.forEach(function(i){var s=jL.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function Fs(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var a=t,u=e,m=u;e:for(;m!==null;){switch(m.tag){case 5:Zi=m.stateNode,Vs=!1;break e;case 3:Zi=m.stateNode.containerInfo,Vs=!0;break e;case 4:Zi=m.stateNode.containerInfo,Vs=!0;break e}m=m.return}if(Zi===null)throw Error(St(160));_A(a,u,s),Zi=null,Vs=!1;var x=s.alternate;x!==null&&(x.return=null),s.return=null}catch(_){xi(s,e,_)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)EA(e,t),e=e.sibling}function EA(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fs(e,t),co(t),i&4){try{Fd(3,t,t.return),zg(3,t)}catch(oe){xi(t,t.return,oe)}try{Fd(5,t,t.return)}catch(oe){xi(t,t.return,oe)}}break;case 1:Fs(e,t),co(t),i&512&&n!==null&&Nu(n,n.return);break;case 5:if(Fs(e,t),co(t),i&512&&n!==null&&Nu(n,n.return),t.flags&32){var s=t.stateNode;try{Yd(s,"")}catch(oe){xi(t,t.return,oe)}}if(i&4&&(s=t.stateNode,s!=null)){var a=t.memoizedProps,u=n!==null?n.memoizedProps:a,m=t.type,x=t.updateQueue;if(t.updateQueue=null,x!==null)try{m==="input"&&a.type==="radio"&&a.name!=null&&HS(s,a),Gx(m,u);var _=Gx(m,a);for(u=0;u<x.length;u+=2){var I=x[u],j=x[u+1];I==="style"?XS(s,j):I==="dangerouslySetInnerHTML"?KS(s,j):I==="children"?Yd(s,j):b0(s,I,j,_)}switch(m){case"input":zx(s,a);break;case"textarea":WS(s,a);break;case"select":var z=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var J=a.value;J!=null?Ru(s,!!a.multiple,J,!1):z!==!!a.multiple&&(a.defaultValue!=null?Ru(s,!!a.multiple,a.defaultValue,!0):Ru(s,!!a.multiple,a.multiple?[]:"",!1))}s[rp]=a}catch(oe){xi(t,t.return,oe)}}break;case 6:if(Fs(e,t),co(t),i&4){if(t.stateNode===null)throw Error(St(162));s=t.stateNode,a=t.memoizedProps;try{s.nodeValue=a}catch(oe){xi(t,t.return,oe)}}break;case 3:if(Fs(e,t),co(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Zd(e.containerInfo)}catch(oe){xi(t,t.return,oe)}break;case 4:Fs(e,t),co(t);break;case 13:Fs(e,t),co(t),s=t.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Z0=Ci())),i&4&&Dk(t);break;case 22:if(I=n!==null&&n.memoizedState!==null,t.mode&1?(yr=(_=yr)||I,Fs(e,t),yr=_):Fs(e,t),co(t),i&8192){if(_=t.memoizedState!==null,(t.stateNode.isHidden=_)&&!I&&t.mode&1)for($t=t,I=t.child;I!==null;){for(j=$t=I;$t!==null;){switch(z=$t,J=z.child,z.tag){case 0:case 11:case 14:case 15:Fd(4,z,z.return);break;case 1:Nu(z,z.return);var te=z.stateNode;if(typeof te.componentWillUnmount=="function"){i=z,n=z.return;try{e=i,te.props=e.memoizedProps,te.state=e.memoizedState,te.componentWillUnmount()}catch(oe){xi(i,n,oe)}}break;case 5:Nu(z,z.return);break;case 22:if(z.memoizedState!==null){Lk(j);continue}}J!==null?(J.return=z,$t=J):Lk(j)}I=I.sibling}e:for(I=null,j=t;;){if(j.tag===5){if(I===null){I=j;try{s=j.stateNode,_?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(m=j.stateNode,x=j.memoizedProps.style,u=x!=null&&x.hasOwnProperty("display")?x.display:null,m.style.display=YS("display",u))}catch(oe){xi(t,t.return,oe)}}}else if(j.tag===6){if(I===null)try{j.stateNode.nodeValue=_?"":j.memoizedProps}catch(oe){xi(t,t.return,oe)}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===t)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===t)break e;for(;j.sibling===null;){if(j.return===null||j.return===t)break e;I===j&&(I=null),j=j.return}I===j&&(I=null),j.sibling.return=j.return,j=j.sibling}}break;case 19:Fs(e,t),co(t),i&4&&Dk(t);break;case 21:break;default:Fs(e,t),co(t)}}function co(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wA(n)){var i=n;break e}n=n.return}throw Error(St(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Yd(s,""),i.flags&=-33);var a=Rk(t);Eb(t,a,s);break;case 3:case 4:var u=i.stateNode.containerInfo,m=Rk(t);_b(t,m,u);break;default:throw Error(St(161))}}catch(x){xi(t,t.return,x)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _L(t,e,n){$t=t,kA(t)}function kA(t,e,n){for(var i=(t.mode&1)!==0;$t!==null;){var s=$t,a=s.child;if(s.tag===22&&i){var u=s.memoizedState!==null||Xf;if(!u){var m=s.alternate,x=m!==null&&m.memoizedState!==null||yr;m=Xf;var _=yr;if(Xf=u,(yr=x)&&!_)for($t=s;$t!==null;)u=$t,x=u.child,u.tag===22&&u.memoizedState!==null?Fk(s):x!==null?(x.return=u,$t=x):Fk(s);for(;a!==null;)$t=a,kA(a),a=a.sibling;$t=s,Xf=m,yr=_}Ok(t)}else s.subtreeFlags&8772&&a!==null?(a.return=s,$t=a):Ok(t)}}function Ok(t){for(;$t!==null;){var e=$t;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yr||zg(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!yr)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Bs(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&bk(e,a,i);break;case 3:var u=e.updateQueue;if(u!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bk(e,u,n)}break;case 5:var m=e.stateNode;if(n===null&&e.flags&4){n=m;var x=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&n.focus();break;case"img":x.src&&(n.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var _=e.alternate;if(_!==null){var I=_.memoizedState;if(I!==null){var j=I.dehydrated;j!==null&&Zd(j)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(St(163))}yr||e.flags&512&&wb(e)}catch(z){xi(e,e.return,z)}}if(e===t){$t=null;break}if(n=e.sibling,n!==null){n.return=e.return,$t=n;break}$t=e.return}}function Lk(t){for(;$t!==null;){var e=$t;if(e===t){$t=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$t=n;break}$t=e.return}}function Fk(t){for(;$t!==null;){var e=$t;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zg(4,e)}catch(x){xi(e,n,x)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(x){xi(e,s,x)}}var a=e.return;try{wb(e)}catch(x){xi(e,a,x)}break;case 5:var u=e.return;try{wb(e)}catch(x){xi(e,u,x)}}}catch(x){xi(e,e.return,x)}if(e===t){$t=null;break}var m=e.sibling;if(m!==null){m.return=e.return,$t=m;break}$t=e.return}}var EL=Math.ceil,rg=ra.ReactCurrentDispatcher,Q0=ra.ReactCurrentOwner,bs=ra.ReactCurrentBatchConfig,Mn=0,Wi=null,Di=null,nr=0,Qr=0,ju=vl(0),Ui=0,up=null,uc=0,qg=0,J0=0,Bd=null,Rr=null,Z0=0,Qu=1/0,Lo=null,sg=!1,kb=null,tl=null,Qf=!1,Ga=null,og=0,Vd=0,Tb=null,Em=-1,km=0;function kr(){return Mn&6?Ci():Em!==-1?Em:Em=Ci()}function nl(t){return t.mode&1?Mn&2&&nr!==0?nr&-nr:oL.transition!==null?(km===0&&(km=l1()),km):(t=zn,t!==0||(t=window.event,t=t===void 0?16:m1(t.type)),t):1}function $s(t,e,n,i){if(50<Vd)throw Vd=0,Tb=null,Error(St(185));Tp(t,n,i),(!(Mn&2)||t!==Wi)&&(t===Wi&&(!(Mn&2)&&(qg|=n),Ui===4&&Ua(t,nr)),Br(t,i),n===1&&Mn===0&&!(e.mode&1)&&(Qu=Ci()+500,Bg&&xl()))}function Br(t,e){var n=t.callbackNode;oO(t,e);var i=qm(t,t===Wi?nr:0);if(i===0)n!==null&&GE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&GE(n),e===1)t.tag===0?sL(Bk.bind(null,t)):R1(Bk.bind(null,t)),tL(function(){!(Mn&6)&&xl()}),n=null;else{switch(c1(i)){case 1:n=T0;break;case 4:n=o1;break;case 16:n=zm;break;case 536870912:n=a1;break;default:n=zm}n=PA(n,TA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function TA(t,e){if(Em=-1,km=0,Mn&6)throw Error(St(327));var n=t.callbackNode;if(Bu()&&t.callbackNode!==n)return null;var i=qm(t,t===Wi?nr:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=ag(t,i);else{e=i;var s=Mn;Mn|=2;var a=SA();(Wi!==t||nr!==e)&&(Lo=null,Qu=Ci()+500,ic(t,e));do try{CL();break}catch(m){CA(t,m)}while(!0);F0(),rg.current=a,Mn=s,Di!==null?e=0:(Wi=null,nr=0,e=Ui)}if(e!==0){if(e===2&&(s=Jx(t),s!==0&&(i=s,e=Cb(t,s))),e===1)throw n=up,ic(t,0),Ua(t,i),Br(t,Ci()),n;if(e===6)Ua(t,i);else{if(s=t.current.alternate,!(i&30)&&!kL(s)&&(e=ag(t,i),e===2&&(a=Jx(t),a!==0&&(i=a,e=Cb(t,a))),e===1))throw n=up,ic(t,0),Ua(t,i),Br(t,Ci()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(St(345));case 2:Kl(t,Rr,Lo);break;case 3:if(Ua(t,i),(i&130023424)===i&&(e=Z0+500-Ci(),10<e)){if(qm(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){kr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ob(Kl.bind(null,t,Rr,Lo),e);break}Kl(t,Rr,Lo);break;case 4:if(Ua(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var u=31-qs(i);a=1<<u,u=e[u],u>s&&(s=u),i&=~a}if(i=s,i=Ci()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*EL(i/1960))-i,10<i){t.timeoutHandle=ob(Kl.bind(null,t,Rr,Lo),i);break}Kl(t,Rr,Lo);break;case 5:Kl(t,Rr,Lo);break;default:throw Error(St(329))}}}return Br(t,Ci()),t.callbackNode===n?TA.bind(null,t):null}function Cb(t,e){var n=Bd;return t.current.memoizedState.isDehydrated&&(ic(t,e).flags|=256),t=ag(t,e),t!==2&&(e=Rr,Rr=n,e!==null&&Sb(e)),t}function Sb(t){Rr===null?Rr=t:Rr.push.apply(Rr,t)}function kL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],a=s.getSnapshot;s=s.value;try{if(!Ws(a(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ua(t,e){for(e&=~J0,e&=~qg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qs(e),i=1<<n;t[n]=-1,e&=~i}}function Bk(t){if(Mn&6)throw Error(St(327));Bu();var e=qm(t,0);if(!(e&1))return Br(t,Ci()),null;var n=ag(t,e);if(t.tag!==0&&n===2){var i=Jx(t);i!==0&&(e=i,n=Cb(t,i))}if(n===1)throw n=up,ic(t,0),Ua(t,e),Br(t,Ci()),n;if(n===6)throw Error(St(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Kl(t,Rr,Lo),Br(t,Ci()),null}function ew(t,e){var n=Mn;Mn|=1;try{return t(e)}finally{Mn=n,Mn===0&&(Qu=Ci()+500,Bg&&xl())}}function hc(t){Ga!==null&&Ga.tag===0&&!(Mn&6)&&Bu();var e=Mn;Mn|=1;var n=bs.transition,i=zn;try{if(bs.transition=null,zn=1,t)return t()}finally{zn=i,bs.transition=n,Mn=e,!(Mn&6)&&xl()}}function tw(){Qr=ju.current,ni(ju)}function ic(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,eL(n)),Di!==null)for(n=Di.return;n!==null;){var i=n;switch(D0(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Km();break;case 3:Yu(),ni(Lr),ni(xr),$0();break;case 5:q0(i);break;case 4:Yu();break;case 13:ni(hi);break;case 19:ni(hi);break;case 10:B0(i.type._context);break;case 22:case 23:tw()}n=n.return}if(Wi=t,Di=t=il(t.current,null),nr=Qr=e,Ui=0,up=null,J0=qg=uc=0,Rr=Bd=null,Zl!==null){for(e=0;e<Zl.length;e++)if(n=Zl[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,a=n.pending;if(a!==null){var u=a.next;a.next=s,i.next=u}n.pending=i}Zl=null}return t}function CA(t,e){do{var n=Di;try{if(F0(),bm.current=ig,ng){for(var i=pi.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ng=!1}if(cc=0,Hi=Vi=pi=null,Ld=!1,ap=0,Q0.current=null,n===null||n.return===null){Ui=1,up=e,Di=null;break}e:{var a=t,u=n.return,m=n,x=e;if(e=nr,m.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var _=x,I=m,j=I.tag;if(!(I.mode&1)&&(j===0||j===11||j===15)){var z=I.alternate;z?(I.updateQueue=z.updateQueue,I.memoizedState=z.memoizedState,I.lanes=z.lanes):(I.updateQueue=null,I.memoizedState=null)}var J=Ck(u);if(J!==null){J.flags&=-257,Sk(J,u,m,a,e),J.mode&1&&Tk(a,_,e),e=J,x=_;var te=e.updateQueue;if(te===null){var oe=new Set;oe.add(x),e.updateQueue=oe}else te.add(x);break e}else{if(!(e&1)){Tk(a,_,e),nw();break e}x=Error(St(426))}}else if(oi&&m.mode&1){var se=Ck(u);if(se!==null){!(se.flags&65536)&&(se.flags|=256),Sk(se,u,m,a,e),O0(Xu(x,m));break e}}a=x=Xu(x,m),Ui!==4&&(Ui=2),Bd===null?Bd=[a]:Bd.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var X=cA(a,x,e);xk(a,X);break e;case 1:m=x;var L=a.type,G=a.stateNode;if(!(a.flags&128)&&(typeof L.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(tl===null||!tl.has(G)))){a.flags|=65536,e&=-e,a.lanes|=e;var ne=uA(a,m,e);xk(a,ne);break e}}a=a.return}while(a!==null)}NA(n)}catch(ke){e=ke,Di===n&&n!==null&&(Di=n=n.return);continue}break}while(!0)}function SA(){var t=rg.current;return rg.current=ig,t===null?ig:t}function nw(){(Ui===0||Ui===3||Ui===2)&&(Ui=4),Wi===null||!(uc&268435455)&&!(qg&268435455)||Ua(Wi,nr)}function ag(t,e){var n=Mn;Mn|=2;var i=SA();(Wi!==t||nr!==e)&&(Lo=null,ic(t,e));do try{TL();break}catch(s){CA(t,s)}while(!0);if(F0(),Mn=n,rg.current=i,Di!==null)throw Error(St(261));return Wi=null,nr=0,Ui}function TL(){for(;Di!==null;)AA(Di)}function CL(){for(;Di!==null&&!QD();)AA(Di)}function AA(t){var e=IA(t.alternate,t,Qr);t.memoizedProps=t.pendingProps,e===null?NA(t):Di=e,Q0.current=null}function NA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xL(n,e),n!==null){n.flags&=32767,Di=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ui=6,Di=null;return}}else if(n=vL(n,e,Qr),n!==null){Di=n;return}if(e=e.sibling,e!==null){Di=e;return}Di=e=t}while(e!==null);Ui===0&&(Ui=5)}function Kl(t,e,n){var i=zn,s=bs.transition;try{bs.transition=null,zn=1,SL(t,e,n,i)}finally{bs.transition=s,zn=i}return null}function SL(t,e,n,i){do Bu();while(Ga!==null);if(Mn&6)throw Error(St(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(St(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(aO(t,a),t===Wi&&(Di=Wi=null,nr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qf||(Qf=!0,PA(zm,function(){return Bu(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=bs.transition,bs.transition=null;var u=zn;zn=1;var m=Mn;Mn|=4,Q0.current=null,wL(t,n),EA(n,t),GO(rb),$m=!!ib,rb=ib=null,t.current=n,_L(n),JD(),Mn=m,zn=u,bs.transition=a}else t.current=n;if(Qf&&(Qf=!1,Ga=t,og=s),a=t.pendingLanes,a===0&&(tl=null),tO(n.stateNode),Br(t,Ci()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(sg)throw sg=!1,t=kb,kb=null,t;return og&1&&t.tag!==0&&Bu(),a=t.pendingLanes,a&1?t===Tb?Vd++:(Vd=0,Tb=t):Vd=0,xl(),null}function Bu(){if(Ga!==null){var t=c1(og),e=bs.transition,n=zn;try{if(bs.transition=null,zn=16>t?16:t,Ga===null)var i=!1;else{if(t=Ga,Ga=null,og=0,Mn&6)throw Error(St(331));var s=Mn;for(Mn|=4,$t=t.current;$t!==null;){var a=$t,u=a.child;if($t.flags&16){var m=a.deletions;if(m!==null){for(var x=0;x<m.length;x++){var _=m[x];for($t=_;$t!==null;){var I=$t;switch(I.tag){case 0:case 11:case 15:Fd(8,I,a)}var j=I.child;if(j!==null)j.return=I,$t=j;else for(;$t!==null;){I=$t;var z=I.sibling,J=I.return;if(bA(I),I===_){$t=null;break}if(z!==null){z.return=J,$t=z;break}$t=J}}}var te=a.alternate;if(te!==null){var oe=te.child;if(oe!==null){te.child=null;do{var se=oe.sibling;oe.sibling=null,oe=se}while(oe!==null)}}$t=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,$t=u;else e:for(;$t!==null;){if(a=$t,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Fd(9,a,a.return)}var X=a.sibling;if(X!==null){X.return=a.return,$t=X;break e}$t=a.return}}var L=t.current;for($t=L;$t!==null;){u=$t;var G=u.child;if(u.subtreeFlags&2064&&G!==null)G.return=u,$t=G;else e:for(u=L;$t!==null;){if(m=$t,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:zg(9,m)}}catch(ke){xi(m,m.return,ke)}if(m===u){$t=null;break e}var ne=m.sibling;if(ne!==null){ne.return=m.return,$t=ne;break e}$t=m.return}}if(Mn=s,xl(),go&&typeof go.onPostCommitFiberRoot=="function")try{go.onPostCommitFiberRoot(Rg,t)}catch{}i=!0}return i}finally{zn=n,bs.transition=e}}return!1}function Vk(t,e,n){e=Xu(n,e),e=cA(t,e,1),t=el(t,e,1),e=kr(),t!==null&&(Tp(t,1,e),Br(t,e))}function xi(t,e,n){if(t.tag===3)Vk(t,t,n);else for(;e!==null;){if(e.tag===3){Vk(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(tl===null||!tl.has(i))){t=Xu(n,t),t=uA(e,t,1),e=el(e,t,1),t=kr(),e!==null&&(Tp(e,1,t),Br(e,t));break}}e=e.return}}function AL(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=kr(),t.pingedLanes|=t.suspendedLanes&n,Wi===t&&(nr&n)===n&&(Ui===4||Ui===3&&(nr&130023424)===nr&&500>Ci()-Z0?ic(t,0):J0|=n),Br(t,e)}function jA(t,e){e===0&&(t.mode&1?(e=Uf,Uf<<=1,!(Uf&130023424)&&(Uf=4194304)):e=1);var n=kr();t=Qo(t,e),t!==null&&(Tp(t,e,n),Br(t,n))}function NL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jA(t,n)}function jL(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(St(314))}i!==null&&i.delete(e),jA(t,n)}var IA;IA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Lr.current)Or=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Or=!1,yL(t,e,n);Or=!!(t.flags&131072)}else Or=!1,oi&&e.flags&1048576&&D1(e,Qm,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;_m(t,e),t=e.pendingProps;var s=Wu(e,xr.current);Fu(e,n),s=W0(null,e,i,t,s,n);var a=G0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fr(i)?(a=!0,Ym(e)):a=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,U0(e),s.updater=Ug,e.stateNode=s,s._reactInternals=e,pb(e,i,t,n),e=gb(null,e,i,!0,a,n)):(e.tag=0,oi&&a&&R0(e),Er(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(_m(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=PL(i),t=Bs(i,t),s){case 0:e=mb(null,e,i,t,n);break e;case 1:e=jk(null,e,i,t,n);break e;case 11:e=Ak(null,e,i,t,n);break e;case 14:e=Nk(null,e,i,Bs(i.type,t),n);break e}throw Error(St(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Bs(i,s),mb(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Bs(i,s),jk(t,e,i,s,n);case 3:e:{if(fA(e),t===null)throw Error(St(387));i=e.pendingProps,a=e.memoizedState,s=a.element,U1(t,e),eg(e,i,null,n);var u=e.memoizedState;if(i=u.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){s=Xu(Error(St(423)),e),e=Ik(t,e,i,n,s);break e}else if(i!==s){s=Xu(Error(St(424)),e),e=Ik(t,e,i,n,s);break e}else for(Jr=Za(e.stateNode.containerInfo.firstChild),ts=e,oi=!0,zs=null,n=B1(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gu(),i===s){e=Jo(t,e,n);break e}Er(t,e,i,n)}e=e.child}return e;case 5:return z1(e),t===null&&ub(e),i=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,u=s.children,sb(i,s)?u=null:a!==null&&sb(i,a)&&(e.flags|=32),pA(t,e),Er(t,e,u,n),e.child;case 6:return t===null&&ub(e),null;case 13:return mA(t,e,n);case 4:return z0(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ku(e,null,i,n):Er(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Bs(i,s),Ak(t,e,i,s,n);case 7:return Er(t,e,e.pendingProps,n),e.child;case 8:return Er(t,e,e.pendingProps.children,n),e.child;case 12:return Er(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,a=e.memoizedProps,u=s.value,Jn(Jm,i._currentValue),i._currentValue=u,a!==null)if(Ws(a.value,u)){if(a.children===s.children&&!Lr.current){e=Jo(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var m=a.dependencies;if(m!==null){u=a.child;for(var x=m.firstContext;x!==null;){if(x.context===i){if(a.tag===1){x=Wo(-1,n&-n),x.tag=2;var _=a.updateQueue;if(_!==null){_=_.shared;var I=_.pending;I===null?x.next=x:(x.next=I.next,I.next=x),_.pending=x}}a.lanes|=n,x=a.alternate,x!==null&&(x.lanes|=n),hb(a.return,n,e),m.lanes|=n;break}x=x.next}}else if(a.tag===10)u=a.type===e.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(St(341));u.lanes|=n,m=u.alternate,m!==null&&(m.lanes|=n),hb(u,n,e),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===e){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}Er(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Fu(e,n),s=ws(s),i=i(s),e.flags|=1,Er(t,e,i,n),e.child;case 14:return i=e.type,s=Bs(i,e.pendingProps),s=Bs(i.type,s),Nk(t,e,i,s,n);case 15:return hA(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Bs(i,s),_m(t,e),e.tag=1,Fr(i)?(t=!0,Ym(e)):t=!1,Fu(e,n),lA(e,i,s),pb(e,i,s,n),gb(null,e,i,!0,t,n);case 19:return gA(t,e,n);case 22:return dA(t,e,n)}throw Error(St(156,e.tag))};function PA(t,e){return s1(t,e)}function IL(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xs(t,e,n,i){return new IL(t,e,n,i)}function iw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PL(t){if(typeof t=="function")return iw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_0)return 11;if(t===E0)return 14}return 2}function il(t,e){var n=t.alternate;return n===null?(n=xs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tm(t,e,n,i,s,a){var u=2;if(i=t,typeof t=="function")iw(t)&&(u=1);else if(typeof t=="string")u=5;else e:switch(t){case bu:return rc(n.children,s,a,e);case w0:u=8,s|=8;break;case Lx:return t=xs(12,n,e,s|2),t.elementType=Lx,t.lanes=a,t;case Fx:return t=xs(13,n,e,s),t.elementType=Fx,t.lanes=a,t;case Bx:return t=xs(19,n,e,s),t.elementType=Bx,t.lanes=a,t;case zS:return $g(n,s,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case VS:u=10;break e;case US:u=9;break e;case _0:u=11;break e;case E0:u=14;break e;case Fa:u=16,i=null;break e}throw Error(St(130,t==null?t:typeof t,""))}return e=xs(u,n,e,s),e.elementType=t,e.type=i,e.lanes=a,e}function rc(t,e,n,i){return t=xs(7,t,i,e),t.lanes=n,t}function $g(t,e,n,i){return t=xs(22,t,i,e),t.elementType=zS,t.lanes=n,t.stateNode={isHidden:!1},t}function tx(t,e,n){return t=xs(6,t,null,e),t.lanes=n,t}function nx(t,e,n){return e=xs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ML(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ov(0),this.expirationTimes=Ov(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ov(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rw(t,e,n,i,s,a,u,m,x){return t=new ML(t,e,n,m,x),e===1?(e=1,a===!0&&(e|=8)):e=0,a=xs(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},U0(a),t}function RL(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xu,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function MA(t){if(!t)return hl;t=t._reactInternals;e:{if(Ec(t)!==t||t.tag!==1)throw Error(St(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(St(171))}if(t.tag===1){var n=t.type;if(Fr(n))return M1(t,n,e)}return e}function RA(t,e,n,i,s,a,u,m,x){return t=rw(n,i,!0,t,s,a,u,m,x),t.context=MA(null),n=t.current,i=kr(),s=nl(n),a=Wo(i,s),a.callback=e??null,el(n,a,s),t.current.lanes=s,Tp(t,s,i),Br(t,i),t}function Hg(t,e,n,i){var s=e.current,a=kr(),u=nl(s);return n=MA(n),e.context===null?e.context=n:e.pendingContext=n,e=Wo(a,u),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=el(s,e,u),t!==null&&($s(t,s,u,a),xm(t,s,u)),u}function lg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Uk(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sw(t,e){Uk(t,e),(t=t.alternate)&&Uk(t,e)}function DL(){return null}var DA=typeof reportError=="function"?reportError:function(t){console.error(t)};function ow(t){this._internalRoot=t}Wg.prototype.render=ow.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(St(409));Hg(t,e,null,null)};Wg.prototype.unmount=ow.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hc(function(){Hg(null,t,null,null)}),e[Xo]=null}};function Wg(t){this._internalRoot=t}Wg.prototype.unstable_scheduleHydration=function(t){if(t){var e=d1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Va.length&&e!==0&&e<Va[n].priority;n++);Va.splice(n,0,t),n===0&&f1(t)}};function aw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zk(){}function OL(t,e,n,i,s){if(s){if(typeof i=="function"){var a=i;i=function(){var _=lg(u);a.call(_)}}var u=RA(e,i,t,0,null,!1,!1,"",zk);return t._reactRootContainer=u,t[Xo]=u.current,np(t.nodeType===8?t.parentNode:t),hc(),u}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var m=i;i=function(){var _=lg(x);m.call(_)}}var x=rw(t,0,!1,null,null,!1,!1,"",zk);return t._reactRootContainer=x,t[Xo]=x.current,np(t.nodeType===8?t.parentNode:t),hc(function(){Hg(e,x,n,i)}),x}function Kg(t,e,n,i,s){var a=n._reactRootContainer;if(a){var u=a;if(typeof s=="function"){var m=s;s=function(){var x=lg(u);m.call(x)}}Hg(e,u,t,s)}else u=OL(n,e,t,s,i);return lg(u)}u1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ed(e.pendingLanes);n!==0&&(C0(e,n|1),Br(e,Ci()),!(Mn&6)&&(Qu=Ci()+500,xl()))}break;case 13:hc(function(){var i=Qo(t,1);if(i!==null){var s=kr();$s(i,t,1,s)}}),sw(t,1)}};S0=function(t){if(t.tag===13){var e=Qo(t,134217728);if(e!==null){var n=kr();$s(e,t,134217728,n)}sw(t,134217728)}};h1=function(t){if(t.tag===13){var e=nl(t),n=Qo(t,e);if(n!==null){var i=kr();$s(n,t,e,i)}sw(t,e)}};d1=function(){return zn};p1=function(t,e){var n=zn;try{return zn=t,e()}finally{zn=n}};Yx=function(t,e,n){switch(e){case"input":if(zx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=Fg(i);if(!s)throw Error(St(90));$S(i),zx(i,s)}}}break;case"textarea":WS(t,n);break;case"select":e=n.value,e!=null&&Ru(t,!!n.multiple,e,!1)}};ZS=ew;e1=hc;var LL={usingClientEntryPoint:!1,Events:[Sp,ku,Fg,QS,JS,ew]},fd={findFiberByHostInstance:Jl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FL={bundleType:fd.bundleType,version:fd.version,rendererPackageName:fd.rendererPackageName,rendererConfig:fd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=i1(t),t===null?null:t.stateNode},findFiberByHostInstance:fd.findFiberByHostInstance||DL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jf.isDisabled&&Jf.supportsFiber)try{Rg=Jf.inject(FL),go=Jf}catch{}}rs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LL;rs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aw(e))throw Error(St(200));return RL(t,e,null,n)};rs.createRoot=function(t,e){if(!aw(t))throw Error(St(299));var n=!1,i="",s=DA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=rw(t,1,!1,null,null,n,!1,i,s),t[Xo]=e.current,np(t.nodeType===8?t.parentNode:t),new ow(e)};rs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(St(188)):(t=Object.keys(t).join(","),Error(St(268,t)));return t=i1(e),t=t===null?null:t.stateNode,t};rs.flushSync=function(t){return hc(t)};rs.hydrate=function(t,e,n){if(!Gg(e))throw Error(St(200));return Kg(null,t,e,!0,n)};rs.hydrateRoot=function(t,e,n){if(!aw(t))throw Error(St(405));var i=n!=null&&n.hydratedSources||null,s=!1,a="",u=DA;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),e=RA(e,null,t,1,n??null,s,!1,a,u),t[Xo]=e.current,np(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Wg(e)};rs.render=function(t,e,n){if(!Gg(e))throw Error(St(200));return Kg(null,t,e,!1,n)};rs.unmountComponentAtNode=function(t){if(!Gg(t))throw Error(St(40));return t._reactRootContainer?(hc(function(){Kg(null,null,t,!1,function(){t._reactRootContainer=null,t[Xo]=null})}),!0):!1};rs.unstable_batchedUpdates=ew;rs.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Gg(n))throw Error(St(200));if(t==null||t._reactInternals===void 0)throw Error(St(38));return Kg(t,e,n,!1,i)};rs.version="18.3.1-next-f1338f8080-20240426";function OA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OA)}catch(t){console.error(t)}}OA(),OS.exports=rs;var BL=OS.exports,qk=BL;Dx.createRoot=qk.createRoot,Dx.hydrateRoot=qk.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},hp.apply(this,arguments)}var Ka;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ka||(Ka={}));const $k="popstate";function VL(t){t===void 0&&(t={});function e(i,s){let{pathname:a,search:u,hash:m}=i.location;return Ab("",{pathname:a,search:u,hash:m},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:cg(s)}return zL(e,n,null,t)}function fi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UL(){return Math.random().toString(36).substr(2,8)}function Hk(t,e){return{usr:t.state,key:t.key,idx:e}}function Ab(t,e,n,i){return n===void 0&&(n=null),hp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?hh(e):e,{state:n,key:e&&e.key||i||UL()})}function cg(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function hh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function zL(t,e,n,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,u=s.history,m=Ka.Pop,x=null,_=I();_==null&&(_=0,u.replaceState(hp({},u.state,{idx:_}),""));function I(){return(u.state||{idx:null}).idx}function j(){m=Ka.Pop;let se=I(),X=se==null?null:se-_;_=se,x&&x({action:m,location:oe.location,delta:X})}function z(se,X){m=Ka.Push;let L=Ab(oe.location,se,X);_=I()+1;let G=Hk(L,_),ne=oe.createHref(L);try{u.pushState(G,"",ne)}catch(ke){if(ke instanceof DOMException&&ke.name==="DataCloneError")throw ke;s.location.assign(ne)}a&&x&&x({action:m,location:oe.location,delta:1})}function J(se,X){m=Ka.Replace;let L=Ab(oe.location,se,X);_=I();let G=Hk(L,_),ne=oe.createHref(L);u.replaceState(G,"",ne),a&&x&&x({action:m,location:oe.location,delta:0})}function te(se){let X=s.location.origin!=="null"?s.location.origin:s.location.href,L=typeof se=="string"?se:cg(se);return L=L.replace(/ $/,"%20"),fi(X,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,X)}let oe={get action(){return m},get location(){return t(s,u)},listen(se){if(x)throw new Error("A history only accepts one active listener");return s.addEventListener($k,j),x=se,()=>{s.removeEventListener($k,j),x=null}},createHref(se){return e(s,se)},createURL:te,encodeLocation(se){let X=te(se);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:z,replace:J,go(se){return u.go(se)}};return oe}var Wk;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Wk||(Wk={}));function qL(t,e,n){return n===void 0&&(n="/"),$L(t,e,n)}function $L(t,e,n,i){let s=typeof e=="string"?hh(e):e,a=Ju(s.pathname||"/",n);if(a==null)return null;let u=LA(t);HL(u);let m=null;for(let x=0;m==null&&x<u.length;++x){let _=n2(a);m=e2(u[x],_)}return m}function LA(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let s=(a,u,m)=>{let x={relativePath:m===void 0?a.path||"":m,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};x.relativePath.startsWith("/")&&(fi(x.relativePath.startsWith(i),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(i.length));let _=rl([i,x.relativePath]),I=n.concat(x);a.children&&a.children.length>0&&(fi(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),LA(a.children,e,I,_)),!(a.path==null&&!a.index)&&e.push({path:_,score:JL(_,a.index),routesMeta:I})};return t.forEach((a,u)=>{var m;if(a.path===""||!((m=a.path)!=null&&m.includes("?")))s(a,u);else for(let x of FA(a.path))s(a,u,x)}),e}function FA(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let u=FA(i.join("/")),m=[];return m.push(...u.map(x=>x===""?a:[a,x].join("/"))),s&&m.push(...u),m.map(x=>t.startsWith("/")&&x===""?"/":x)}function HL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZL(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const WL=/^:[\w-]+$/,GL=3,KL=2,YL=1,XL=10,QL=-2,Gk=t=>t==="*";function JL(t,e){let n=t.split("/"),i=n.length;return n.some(Gk)&&(i+=QL),e&&(i+=KL),n.filter(s=>!Gk(s)).reduce((s,a)=>s+(WL.test(a)?GL:a===""?YL:XL),i)}function ZL(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function e2(t,e,n){let{routesMeta:i}=t,s={},a="/",u=[];for(let m=0;m<i.length;++m){let x=i[m],_=m===i.length-1,I=a==="/"?e:e.slice(a.length)||"/",j=Nb({path:x.relativePath,caseSensitive:x.caseSensitive,end:_},I),z=x.route;if(!j)return null;Object.assign(s,j.params),u.push({params:s,pathname:rl([a,j.pathname]),pathnameBase:a2(rl([a,j.pathnameBase])),route:z}),j.pathnameBase!=="/"&&(a=rl([a,j.pathnameBase]))}return u}function Nb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=t2(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),m=s.slice(1);return{params:i.reduce((_,I,j)=>{let{paramName:z,isOptional:J}=I;if(z==="*"){let oe=m[j]||"";u=a.slice(0,a.length-oe.length).replace(/(.)\/+$/,"$1")}const te=m[j];return J&&!te?_[z]=void 0:_[z]=(te||"").replace(/%2F/g,"/"),_},{}),pathname:a,pathnameBase:u,pattern:t}}function t2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),lw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,x)=>(i.push({paramName:m,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function n2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ju(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}const i2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,r2=t=>i2.test(t);function s2(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?hh(t):t,a;if(n)if(r2(n))a=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),lw(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+n))}n.startsWith("/")?a=Kk(n.substring(1),"/"):a=Kk(n,e)}else a=e;return{pathname:a,search:l2(i),hash:c2(s)}}function Kk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ix(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function o2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cw(t,e){let n=o2(t);return e?n.map((i,s)=>s===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function uw(t,e,n,i){i===void 0&&(i=!1);let s;typeof t=="string"?s=hh(t):(s=hp({},t),fi(!s.pathname||!s.pathname.includes("?"),ix("?","pathname","search",s)),fi(!s.pathname||!s.pathname.includes("#"),ix("#","pathname","hash",s)),fi(!s.search||!s.search.includes("#"),ix("#","search","hash",s)));let a=t===""||s.pathname==="",u=a?"/":s.pathname,m;if(u==null)m=n;else{let j=e.length-1;if(!i&&u.startsWith("..")){let z=u.split("/");for(;z[0]==="..";)z.shift(),j-=1;s.pathname=z.join("/")}m=j>=0?e[j]:"/"}let x=s2(s,m),_=u&&u!=="/"&&u.endsWith("/"),I=(a||u===".")&&n.endsWith("/");return!x.pathname.endsWith("/")&&(_||I)&&(x.pathname+="/"),x}const rl=t=>t.join("/").replace(/\/\/+/g,"/"),a2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),l2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,c2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function u2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const BA=["post","put","patch","delete"];new Set(BA);const h2=["get",...BA];new Set(h2);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dp(){return dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},dp.apply(this,arguments)}const Yg=D.createContext(null),VA=D.createContext(null),sa=D.createContext(null),Xg=D.createContext(null),oa=D.createContext({outlet:null,matches:[],isDataRoute:!1}),UA=D.createContext(null);function d2(t,e){let{relative:n}=e===void 0?{}:e;dh()||fi(!1);let{basename:i,navigator:s}=D.useContext(sa),{hash:a,pathname:u,search:m}=Qg(t,{relative:n}),x=u;return i!=="/"&&(x=u==="/"?i:rl([i,u])),s.createHref({pathname:x,search:m,hash:a})}function dh(){return D.useContext(Xg)!=null}function ko(){return dh()||fi(!1),D.useContext(Xg).location}function zA(t){D.useContext(sa).static||D.useLayoutEffect(t)}function kc(){let{isDataRoute:t}=D.useContext(oa);return t?S2():p2()}function p2(){dh()||fi(!1);let t=D.useContext(Yg),{basename:e,future:n,navigator:i}=D.useContext(sa),{matches:s}=D.useContext(oa),{pathname:a}=ko(),u=JSON.stringify(cw(s,n.v7_relativeSplatPath)),m=D.useRef(!1);return zA(()=>{m.current=!0}),D.useCallback(function(_,I){if(I===void 0&&(I={}),!m.current)return;if(typeof _=="number"){i.go(_);return}let j=uw(_,JSON.parse(u),a,I.relative==="path");t==null&&e!=="/"&&(j.pathname=j.pathname==="/"?e:rl([e,j.pathname])),(I.replace?i.replace:i.push)(j,I.state,I)},[e,i,u,a,t])}const f2=D.createContext(null);function m2(t){let e=D.useContext(oa).outlet;return e&&D.createElement(f2.Provider,{value:t},e)}function Qg(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=D.useContext(sa),{matches:s}=D.useContext(oa),{pathname:a}=ko(),u=JSON.stringify(cw(s,i.v7_relativeSplatPath));return D.useMemo(()=>uw(t,JSON.parse(u),a,n==="path"),[t,u,a,n])}function g2(t,e){return y2(t,e)}function y2(t,e,n,i){dh()||fi(!1);let{navigator:s}=D.useContext(sa),{matches:a}=D.useContext(oa),u=a[a.length-1],m=u?u.params:{};u&&u.pathname;let x=u?u.pathnameBase:"/";u&&u.route;let _=ko(),I;if(e){var j;let se=typeof e=="string"?hh(e):e;x==="/"||(j=se.pathname)!=null&&j.startsWith(x)||fi(!1),I=se}else I=_;let z=I.pathname||"/",J=z;if(x!=="/"){let se=x.replace(/^\//,"").split("/");J="/"+z.replace(/^\//,"").split("/").slice(se.length).join("/")}let te=qL(t,{pathname:J}),oe=_2(te&&te.map(se=>Object.assign({},se,{params:Object.assign({},m,se.params),pathname:rl([x,s.encodeLocation?s.encodeLocation(se.pathname).pathname:se.pathname]),pathnameBase:se.pathnameBase==="/"?x:rl([x,s.encodeLocation?s.encodeLocation(se.pathnameBase).pathname:se.pathnameBase])})),a,n,i);return e&&oe?D.createElement(Xg.Provider,{value:{location:dp({pathname:"/",search:"",hash:"",state:null,key:"default"},I),navigationType:Ka.Pop}},oe):oe}function v2(){let t=C2(),e=u2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:s},n):null,null)}const x2=D.createElement(v2,null);class b2 extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(oa.Provider,{value:this.props.routeContext},D.createElement(UA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function w2(t){let{routeContext:e,match:n,children:i}=t,s=D.useContext(Yg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(oa.Provider,{value:e},i)}function _2(t,e,n,i){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=i)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,m=(s=n)==null?void 0:s.errors;if(m!=null){let I=u.findIndex(j=>j.route.id&&(m==null?void 0:m[j.route.id])!==void 0);I>=0||fi(!1),u=u.slice(0,Math.min(u.length,I+1))}let x=!1,_=-1;if(n&&i&&i.v7_partialHydration)for(let I=0;I<u.length;I++){let j=u[I];if((j.route.HydrateFallback||j.route.hydrateFallbackElement)&&(_=I),j.route.id){let{loaderData:z,errors:J}=n,te=j.route.loader&&z[j.route.id]===void 0&&(!J||J[j.route.id]===void 0);if(j.route.lazy||te){x=!0,_>=0?u=u.slice(0,_+1):u=[u[0]];break}}}return u.reduceRight((I,j,z)=>{let J,te=!1,oe=null,se=null;n&&(J=m&&j.route.id?m[j.route.id]:void 0,oe=j.route.errorElement||x2,x&&(_<0&&z===0?(A2("route-fallback"),te=!0,se=null):_===z&&(te=!0,se=j.route.hydrateFallbackElement||null)));let X=e.concat(u.slice(0,z+1)),L=()=>{let G;return J?G=oe:te?G=se:j.route.Component?G=D.createElement(j.route.Component,null):j.route.element?G=j.route.element:G=I,D.createElement(w2,{match:j,routeContext:{outlet:I,matches:X,isDataRoute:n!=null},children:G})};return n&&(j.route.ErrorBoundary||j.route.errorElement||z===0)?D.createElement(b2,{location:n.location,revalidation:n.revalidation,component:oe,error:J,children:L(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):L()},null)}var qA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(qA||{}),$A=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}($A||{});function E2(t){let e=D.useContext(Yg);return e||fi(!1),e}function k2(t){let e=D.useContext(VA);return e||fi(!1),e}function T2(t){let e=D.useContext(oa);return e||fi(!1),e}function HA(t){let e=T2(),n=e.matches[e.matches.length-1];return n.route.id||fi(!1),n.route.id}function C2(){var t;let e=D.useContext(UA),n=k2(),i=HA();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function S2(){let{router:t}=E2(qA.UseNavigateStable),e=HA($A.UseNavigateStable),n=D.useRef(!1);return zA(()=>{n.current=!0}),D.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,dp({fromRouteId:e},a)))},[t,e])}const Yk={};function A2(t,e,n){Yk[t]||(Yk[t]=!0)}function N2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function jb(t){let{to:e,replace:n,state:i,relative:s}=t;dh()||fi(!1);let{future:a,static:u}=D.useContext(sa),{matches:m}=D.useContext(oa),{pathname:x}=ko(),_=kc(),I=uw(e,cw(m,a.v7_relativeSplatPath),x,s==="path"),j=JSON.stringify(I);return D.useEffect(()=>_(JSON.parse(j),{replace:n,state:i,relative:s}),[_,j,s,n,i]),null}function hw(t){return m2(t.context)}function Sn(t){fi(!1)}function j2(t){let{basename:e="/",children:n=null,location:i,navigationType:s=Ka.Pop,navigator:a,static:u=!1,future:m}=t;dh()&&fi(!1);let x=e.replace(/^\/*/,"/"),_=D.useMemo(()=>({basename:x,navigator:a,static:u,future:dp({v7_relativeSplatPath:!1},m)}),[x,m,a,u]);typeof i=="string"&&(i=hh(i));let{pathname:I="/",search:j="",hash:z="",state:J=null,key:te="default"}=i,oe=D.useMemo(()=>{let se=Ju(I,x);return se==null?null:{location:{pathname:se,search:j,hash:z,state:J,key:te},navigationType:s}},[x,I,j,z,J,te,s]);return oe==null?null:D.createElement(sa.Provider,{value:_},D.createElement(Xg.Provider,{children:n,value:oe}))}function I2(t){let{children:e,location:n}=t;return g2(Ib(e),n)}new Promise(()=>{});function Ib(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(i,s)=>{if(!D.isValidElement(i))return;let a=[...e,s];if(i.type===D.Fragment){n.push.apply(n,Ib(i.props.children,a));return}i.type!==Sn&&fi(!1),!i.props.index||!i.props.children||fi(!1);let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Ib(i.props.children,a)),n.push(u)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ug(){return ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ug.apply(this,arguments)}function WA(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,a;for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function P2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function M2(t,e){return t.button===0&&(!e||e==="_self")&&!P2(t)}const R2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],D2=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],O2="6";try{window.__reactRouterVersion=O2}catch{}const L2=D.createContext({isTransitioning:!1}),F2="startTransition",Xk=AD[F2];function B2(t){let{basename:e,children:n,future:i,window:s}=t,a=D.useRef();a.current==null&&(a.current=VL({window:s,v5Compat:!0}));let u=a.current,[m,x]=D.useState({action:u.action,location:u.location}),{v7_startTransition:_}=i||{},I=D.useCallback(j=>{_&&Xk?Xk(()=>x(j)):x(j)},[x,_]);return D.useLayoutEffect(()=>u.listen(I),[u,I]),D.useEffect(()=>N2(i),[i]),D.createElement(j2,{basename:e,children:n,location:m.location,navigationType:m.action,navigator:u,future:i})}const V2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",U2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zo=D.forwardRef(function(e,n){let{onClick:i,relative:s,reloadDocument:a,replace:u,state:m,target:x,to:_,preventScrollReset:I,viewTransition:j}=e,z=WA(e,R2),{basename:J}=D.useContext(sa),te,oe=!1;if(typeof _=="string"&&U2.test(_)&&(te=_,V2))try{let G=new URL(window.location.href),ne=_.startsWith("//")?new URL(G.protocol+_):new URL(_),ke=Ju(ne.pathname,J);ne.origin===G.origin&&ke!=null?_=ke+ne.search+ne.hash:oe=!0}catch{}let se=d2(_,{relative:s}),X=$2(_,{replace:u,state:m,target:x,preventScrollReset:I,relative:s,viewTransition:j});function L(G){i&&i(G),G.defaultPrevented||X(G)}return D.createElement("a",ug({},z,{href:te||se,onClick:oe||a?i:L,ref:n,target:x}))}),z2=D.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:s=!1,className:a="",end:u=!1,style:m,to:x,viewTransition:_,children:I}=e,j=WA(e,D2),z=Qg(x,{relative:j.relative}),J=ko(),te=D.useContext(VA),{navigator:oe,basename:se}=D.useContext(sa),X=te!=null&&H2(z)&&_===!0,L=oe.encodeLocation?oe.encodeLocation(z).pathname:z.pathname,G=J.pathname,ne=te&&te.navigation&&te.navigation.location?te.navigation.location.pathname:null;s||(G=G.toLowerCase(),ne=ne?ne.toLowerCase():null,L=L.toLowerCase()),ne&&se&&(ne=Ju(ne,se)||ne);const ke=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let ge=G===L||!u&&G.startsWith(L)&&G.charAt(ke)==="/",K=ne!=null&&(ne===L||!u&&ne.startsWith(L)&&ne.charAt(L.length)==="/"),M={isActive:ge,isPending:K,isTransitioning:X},H=ge?i:void 0,U;typeof a=="function"?U=a(M):U=[a,ge?"active":null,K?"pending":null,X?"transitioning":null].filter(Boolean).join(" ");let Y=typeof m=="function"?m(M):m;return D.createElement(Zo,ug({},j,{"aria-current":H,className:U,ref:n,style:Y,to:x,viewTransition:_}),typeof I=="function"?I(M):I)});var Pb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Pb||(Pb={}));var Qk;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Qk||(Qk={}));function q2(t){let e=D.useContext(Yg);return e||fi(!1),e}function $2(t,e){let{target:n,replace:i,state:s,preventScrollReset:a,relative:u,viewTransition:m}=e===void 0?{}:e,x=kc(),_=ko(),I=Qg(t,{relative:u});return D.useCallback(j=>{if(M2(j,n)){j.preventDefault();let z=i!==void 0?i:cg(_)===cg(I);x(t,{replace:z,state:s,preventScrollReset:a,relative:u,viewTransition:m})}},[_,x,I,i,s,n,t,a,u,m])}function H2(t,e){e===void 0&&(e={});let n=D.useContext(L2);n==null&&fi(!1);let{basename:i}=q2(Pb.useViewTransitionState),s=Qg(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Ju(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Ju(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Nb(s.pathname,u)!=null||Nb(s.pathname,a)!=null}var Jk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},W2=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],u=t[n++],m=t[n++],x=((s&7)<<18|(a&63)<<12|(u&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(x>>10)),e[i++]=String.fromCharCode(56320+(x&1023))}else{const a=t[n++],u=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},KA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const a=t[s],u=s+1<t.length,m=u?t[s+1]:0,x=s+2<t.length,_=x?t[s+2]:0,I=a>>2,j=(a&3)<<4|m>>4;let z=(m&15)<<2|_>>6,J=_&63;x||(J=64,u||(z=64)),i.push(n[I],n[j],n[z],n[J])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(GA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):W2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],m=s<t.length?n[t.charAt(s)]:0;++s;const _=s<t.length?n[t.charAt(s)]:64;++s;const j=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||m==null||_==null||j==null)throw new G2;const z=a<<2|m>>4;if(i.push(z),_!==64){const J=m<<4&240|_>>2;if(i.push(J),j!==64){const te=_<<6&192|j;i.push(te)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class G2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K2=function(t){const e=GA(t);return KA.encodeByteArray(e,!0)},hg=function(t){return K2(t).replace(/\./g,"")},YA=function(t){try{return KA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=()=>Y2().__FIREBASE_DEFAULTS__,Q2=()=>{if(typeof process>"u"||typeof Jk>"u")return;const t=Jk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},J2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&YA(t[1]);return e&&JSON.parse(e)},Jg=()=>{try{return X2()||Q2()||J2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},XA=t=>{var e,n;return(n=(e=Jg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},QA=t=>{const e=XA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},JA=()=>{var t;return(t=Jg())===null||t===void 0?void 0:t.config},ZA=t=>{var e;return(e=Jg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[hg(JSON.stringify(n)),hg(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(br())}function tF(){var t;const e=(t=Jg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rF(){const t=br();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sF(){return!tF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pw(){try{return typeof indexedDB=="object"}catch{return!1}}function fw(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function tN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF="FirebaseError";class ks extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=oF,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tc.prototype.create)}}class Tc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?aF(a,i):"Error",m=`${this.serviceName}: ${u} (${s}).`;return new ks(s,m,i)}}function aF(t,e){return t.replace(lF,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const lF=/\{\$([^}]+)}/g;function cF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pp(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const a=t[s],u=e[s];if(Zk(a)&&Zk(u)){if(!pp(a,u))return!1}else if(a!==u)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function Zk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Td(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,a]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Cd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function uF(t,e){const n=new hF(t,e);return n.subscribe.bind(n)}class hF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");dF(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=rx),s.error===void 0&&(s.error=rx),s.complete===void 0&&(s.complete=rx);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rx(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=1e3,fF=2,mF=4*60*60*1e3,gF=.5;function eT(t,e=pF,n=fF){const i=e*Math.pow(n,t),s=Math.round(gF*i*(Math.random()-.5)*2);return Math.min(mF,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(t){return t&&t._delegate?t._delegate:t}class Es{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Z2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xF(e))try{this.getOrInitializeService({instanceIdentifier:Yl})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(e=Yl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yl){return this.instances.has(e)}getOptions(e=Yl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(a);i===m&&u.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:vF(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Yl){return this.component?this.component.multipleInstances?e:Yl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vF(t){return t===Yl?void 0:t}function xF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Nn||(Nn={}));const wF={debug:Nn.DEBUG,verbose:Nn.VERBOSE,info:Nn.INFO,warn:Nn.WARN,error:Nn.ERROR,silent:Nn.SILENT},_F=Nn.INFO,EF={[Nn.DEBUG]:"log",[Nn.VERBOSE]:"log",[Nn.INFO]:"info",[Nn.WARN]:"warn",[Nn.ERROR]:"error"},kF=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=EF[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zg{constructor(e){this.name=e,this._logLevel=_F,this._logHandler=kF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nn.DEBUG,...e),this._logHandler(this,Nn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nn.VERBOSE,...e),this._logHandler(this,Nn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nn.INFO,...e),this._logHandler(this,Nn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nn.WARN,...e),this._logHandler(this,Nn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nn.ERROR,...e),this._logHandler(this,Nn.ERROR,...e)}}const TF=(t,e)=>e.some(n=>t instanceof n);let tT,nT;function CF(){return tT||(tT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SF(){return nT||(nT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nN=new WeakMap,Mb=new WeakMap,iN=new WeakMap,sx=new WeakMap,mw=new WeakMap;function AF(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(sl(t.result)),s()},u=()=>{i(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&nN.set(n,t)}).catch(()=>{}),mw.set(e,t),e}function NF(t){if(Mb.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),s()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Mb.set(t,e)}let Rb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jF(t){Rb=t(Rb)}function IF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(ox(this),e,...n);return iN.set(i,e.sort?e.sort():[e]),sl(i)}:SF().includes(t)?function(...e){return t.apply(ox(this),e),sl(nN.get(this))}:function(...e){return sl(t.apply(ox(this),e))}}function PF(t){return typeof t=="function"?IF(t):(t instanceof IDBTransaction&&NF(t),TF(t,CF())?new Proxy(t,Rb):t)}function sl(t){if(t instanceof IDBRequest)return AF(t);if(sx.has(t))return sx.get(t);const e=PF(t);return e!==t&&(sx.set(t,e),mw.set(e,t)),e}const ox=t=>mw.get(t);function rN(t,e,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const u=indexedDB.open(t,e),m=sl(u);return i&&u.addEventListener("upgradeneeded",x=>{i(sl(u.result),x.oldVersion,x.newVersion,sl(u.transaction),x)}),n&&u.addEventListener("blocked",x=>n(x.oldVersion,x.newVersion,x)),m.then(x=>{a&&x.addEventListener("close",()=>a()),s&&x.addEventListener("versionchange",_=>s(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const MF=["get","getKey","getAll","getAllKeys","count"],RF=["put","add","delete","clear"],ax=new Map;function iT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ax.get(e))return ax.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=RF.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||MF.includes(n)))return;const a=async function(u,...m){const x=this.transaction(u,s?"readwrite":"readonly");let _=x.store;return i&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),s&&x.done]))[0]};return ax.set(e,a),a}jF(t=>({...t,get:(e,n,i)=>iT(e,n)||t.get(e,n,i),has:(e,n)=>!!iT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OF(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function OF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Db="@firebase/app",rT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new Zg("@firebase/app"),LF="@firebase/app-compat",FF="@firebase/analytics-compat",BF="@firebase/analytics",VF="@firebase/app-check-compat",UF="@firebase/app-check",zF="@firebase/auth",qF="@firebase/auth-compat",$F="@firebase/database",HF="@firebase/data-connect",WF="@firebase/database-compat",GF="@firebase/functions",KF="@firebase/functions-compat",YF="@firebase/installations",XF="@firebase/installations-compat",QF="@firebase/messaging",JF="@firebase/messaging-compat",ZF="@firebase/performance",eB="@firebase/performance-compat",tB="@firebase/remote-config",nB="@firebase/remote-config-compat",iB="@firebase/storage",rB="@firebase/storage-compat",sB="@firebase/firestore",oB="@firebase/vertexai-preview",aB="@firebase/firestore-compat",lB="firebase",cB="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="[DEFAULT]",uB={[Db]:"fire-core",[LF]:"fire-core-compat",[BF]:"fire-analytics",[FF]:"fire-analytics-compat",[UF]:"fire-app-check",[VF]:"fire-app-check-compat",[zF]:"fire-auth",[qF]:"fire-auth-compat",[$F]:"fire-rtdb",[HF]:"fire-data-connect",[WF]:"fire-rtdb-compat",[GF]:"fire-fn",[KF]:"fire-fn-compat",[YF]:"fire-iid",[XF]:"fire-iid-compat",[QF]:"fire-fcm",[JF]:"fire-fcm-compat",[ZF]:"fire-perf",[eB]:"fire-perf-compat",[tB]:"fire-rc",[nB]:"fire-rc-compat",[iB]:"fire-gcs",[rB]:"fire-gcs-compat",[sB]:"fire-fst",[aB]:"fire-fst-compat",[oB]:"fire-vertex","fire-js":"fire-js",[lB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp=new Map,hB=new Map,Lb=new Map;function sT(t,e){try{t.container.addComponent(e)}catch(n){ea.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gs(t){const e=t.name;if(Lb.has(e))return ea.debug(`There were multiple attempts to register component ${e}.`),!1;Lb.set(e,t);for(const n of fp.values())sT(n,t);for(const n of hB.values())sT(n,t);return!0}function bl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fo(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ol=new Tc("app","Firebase",dB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ol.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=cB;function sN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ob,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw ol.create("bad-app-name",{appName:String(s)});if(n||(n=JA()),!n)throw ol.create("no-options");const a=fp.get(s);if(a){if(pp(n,a.options)&&pp(i,a.config))return a;throw ol.create("duplicate-app",{appName:s})}const u=new bF(s);for(const x of Lb.values())u.addComponent(x);const m=new pB(n,i,u);return fp.set(s,m),m}function jp(t=Ob){const e=fp.get(t);if(!e&&t===Ob&&JA())return sN();if(!e)throw ol.create("no-app",{appName:t});return e}function fB(){return Array.from(fp.values())}function Vr(t,e,n){var i;let s=(i=uB[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const m=[`Unable to register library "${s}" with version "${e}":`];a&&m.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&m.push("and"),u&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ea.warn(m.join(" "));return}Gs(new Es(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB="firebase-heartbeat-database",gB=1,mp="firebase-heartbeat-store";let lx=null;function oN(){return lx||(lx=rN(mB,gB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mp)}catch(n){console.warn(n)}}}}).catch(t=>{throw ol.create("idb-open",{originalErrorMessage:t.message})})),lx}async function yB(t){try{const n=(await oN()).transaction(mp),i=await n.objectStore(mp).get(aN(t));return await n.done,i}catch(e){if(e instanceof ks)ea.warn(e.message);else{const n=ol.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ea.warn(n.message)}}}async function oT(t,e){try{const i=(await oN()).transaction(mp,"readwrite");await i.objectStore(mp).put(e,aN(t)),await i.done}catch(n){if(n instanceof ks)ea.warn(n.message);else{const i=ol.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ea.warn(i.message)}}}function aN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB=1024,xB=30*24*60*60*1e3;class bB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _B(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=aT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const m=new Date(u.date).valueOf();return Date.now()-m<=xB}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ea.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=aT(),{heartbeatsToSend:i,unsentEntries:s}=wB(this._heartbeatsCache.heartbeats),a=hg(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ea.warn(n),""}}}function aT(){return new Date().toISOString().substring(0,10)}function wB(t,e=vB){const n=[];let i=t.slice();for(const s of t){const a=n.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),lT(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),lT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class _B{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pw()?fw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return oT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return oT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function lT(t){return hg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EB(t){Gs(new Es("platform-logger",e=>new DF(e),"PRIVATE")),Gs(new Es("heartbeat",e=>new bB(e),"PRIVATE")),Vr(Db,rT,t),Vr(Db,rT,"esm2017"),Vr("fire-js","")}EB("");function gw(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function lN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kB=lN,cN=new Tc("auth","Firebase",lN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=new Zg("@firebase/auth");function TB(t,...e){dg.logLevel<=Nn.WARN&&dg.warn(`Auth (${Cc}): ${t}`,...e)}function Cm(t,...e){dg.logLevel<=Nn.ERROR&&dg.error(`Auth (${Cc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(t,...e){throw yw(t,...e)}function vo(t,...e){return yw(t,...e)}function uN(t,e,n){const i=Object.assign(Object.assign({},kB()),{[e]:n});return new Tc("auth","Firebase",i).create(e,{appName:t.name})}function Go(t){return uN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yw(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return cN.create(t,...e)}function cn(t,e,...n){if(!t)throw yw(e,...n)}function qo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cm(e),new Error(e)}function ta(t,e){t||qo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function CB(){return cT()==="http:"||cT()==="https:"}function cT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CB()||dw()||"connection"in navigator)?navigator.onLine:!0}function AB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n){this.shortDelay=e,this.longDelay=n,ta(n>e,"Short delay should be less than long delay!"),this.isMobile=eF()||iF()}get(){return SB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t,e){ta(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB=new Ip(3e4,6e4);function wl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function To(t,e,n,i,s={}){return dN(t,s,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const m=Np(Object.assign({key:t.config.apiKey},u)).slice(1),x=await t._getAdditionalHeaders();x["Content-Type"]="application/json",t.languageCode&&(x["X-Firebase-Locale"]=t.languageCode);const _=Object.assign({method:e,headers:x},a);return nF()||(_.referrerPolicy="no-referrer"),hN.fetch()(pN(t,t.config.apiHost,n,m),_)})}async function dN(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},NB),e);try{const s=new PB(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Zf(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const m=a.ok?u.errorMessage:u.error.message,[x,_]=m.split(" : ");if(x==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zf(t,"credential-already-in-use",u);if(x==="EMAIL_EXISTS")throw Zf(t,"email-already-in-use",u);if(x==="USER_DISABLED")throw Zf(t,"user-disabled",u);const I=i[x]||x.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw uN(t,I,_);Ks(t,I)}}catch(s){if(s instanceof ks)throw s;Ks(t,"network-request-failed",{message:String(s)})}}async function Pp(t,e,n,i,s={}){const a=await To(t,e,n,i,s);return"mfaPendingCredential"in a&&Ks(t,"multi-factor-auth-required",{_serverResponse:a}),a}function pN(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?vw(t.config,s):`${t.config.apiScheme}://${s}`}function IB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PB{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(vo(this.auth,"network-request-failed")),jB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=vo(t,e,i);return s.customData._tokenResponse=n,s}function uT(t){return t!==void 0&&t.enterprise!==void 0}class MB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function RB(t,e){return To(t,"GET","/v2/recaptchaConfig",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DB(t,e){return To(t,"POST","/v1/accounts:delete",e)}async function fN(t,e){return To(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OB(t,e=!1){const n=$n(t),i=await n.getIdToken(e),s=xw(i);cn(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:i,authTime:Ud(cx(s.auth_time)),issuedAtTime:Ud(cx(s.iat)),expirationTime:Ud(cx(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function cx(t){return Number(t)*1e3}function xw(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Cm("JWT malformed, contained fewer than 3 sections"),null;try{const s=YA(n);return s?JSON.parse(s):(Cm("Failed to decode base64 JWT payload"),null)}catch(s){return Cm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function hT(t){const e=xw(t);return cn(e,"internal-error"),cn(typeof e.exp<"u","internal-error"),cn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ks&&LB(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function LB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ud(this.lastLoginAt),this.creationTime=Ud(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pg(t){var e;const n=t.auth,i=await t.getIdToken(),s=await dc(t,fN(n,{idToken:i}));cn(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?mN(a.providerUserInfo):[],m=VB(t.providerData,u),x=t.isAnonymous,_=!(t.email&&a.passwordHash)&&!(m!=null&&m.length),I=x?_:!1,j={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:m,metadata:new Bb(a.createdAt,a.lastLoginAt),isAnonymous:I};Object.assign(t,j)}async function BB(t){const e=$n(t);await pg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VB(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function mN(t){return t.map(e=>{var{providerId:n}=e,i=gw(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UB(t,e){const n=await dN(t,{},async()=>{const i=Np({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,u=pN(t,s,"/v1/token",`key=${a}`),m=await t._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",hN.fetch()(u,{method:"POST",headers:m,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zB(t,e){return To(t,"POST","/v2/accounts:revokeToken",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){cn(e.idToken,"internal-error"),cn(typeof e.idToken<"u","internal-error"),cn(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){cn(e.length!==0,"internal-error");const n=hT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(cn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await UB(e,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,u=new Vu;return i&&(cn(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),s&&(cn(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(cn(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vu,this.toJSON())}_performRefresh(){return qo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(t,e){cn(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $o{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,a=gw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Bb(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await dc(this,this.stsTokenManager.getToken(this.auth,e));return cn(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OB(this,e)}reload(){return BB(this)}_assign(e){this!==e&&(cn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $o(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){cn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await pg(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fo(this.auth.app))return Promise.reject(Go(this.auth));const e=await this.getIdToken();return await dc(this,DB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,a,u,m,x,_,I;const j=(i=n.displayName)!==null&&i!==void 0?i:void 0,z=(s=n.email)!==null&&s!==void 0?s:void 0,J=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,te=(u=n.photoURL)!==null&&u!==void 0?u:void 0,oe=(m=n.tenantId)!==null&&m!==void 0?m:void 0,se=(x=n._redirectEventId)!==null&&x!==void 0?x:void 0,X=(_=n.createdAt)!==null&&_!==void 0?_:void 0,L=(I=n.lastLoginAt)!==null&&I!==void 0?I:void 0,{uid:G,emailVerified:ne,isAnonymous:ke,providerData:ge,stsTokenManager:K}=n;cn(G&&K,e,"internal-error");const M=Vu.fromJSON(this.name,K);cn(typeof G=="string",e,"internal-error"),Ra(j,e.name),Ra(z,e.name),cn(typeof ne=="boolean",e,"internal-error"),cn(typeof ke=="boolean",e,"internal-error"),Ra(J,e.name),Ra(te,e.name),Ra(oe,e.name),Ra(se,e.name),Ra(X,e.name),Ra(L,e.name);const H=new $o({uid:G,auth:e,email:z,emailVerified:ne,displayName:j,isAnonymous:ke,photoURL:te,phoneNumber:J,tenantId:oe,stsTokenManager:M,createdAt:X,lastLoginAt:L});return ge&&Array.isArray(ge)&&(H.providerData=ge.map(U=>Object.assign({},U))),se&&(H._redirectEventId=se),H}static async _fromIdTokenResponse(e,n,i=!1){const s=new Vu;s.updateFromServerResponse(n);const a=new $o({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await pg(a),a}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];cn(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?mN(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),m=new Vu;m.updateFromIdToken(i);const x=new $o({uid:s.localId,auth:e,stsTokenManager:m,isAnonymous:u}),_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Bb(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(x,_),x}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=new Map;function Ho(t){ta(t instanceof Function,"Expected a class definition");let e=dT.get(t);return e?(ta(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,dT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gN.type="NONE";const pT=gN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(t,e,n){return`firebase:${t}:${e}:${n}`}class Uu{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=Sm(this.userKey,s.apiKey,a),this.fullPersistenceKey=Sm("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$o._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Uu(Ho(pT),e,i);const s=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let a=s[0]||Ho(pT);const u=Sm(i,e.config.apiKey,e.name);let m=null;for(const _ of n)try{const I=await _._get(u);if(I){const j=$o._fromJSON(e,I);_!==a&&(m=j),a=_;break}}catch{}const x=s.filter(_=>_._shouldAllowMigration);return!a._shouldAllowMigration||!x.length?new Uu(a,e,i):(a=x[0],m&&await a._set(u,m.toJSON()),await Promise.all(n.map(async _=>{if(_!==a)try{await _._remove(u)}catch{}})),new Uu(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_N(e))return"Blackberry";if(EN(e))return"Webos";if(vN(e))return"Safari";if((e.includes("chrome/")||xN(e))&&!e.includes("edge/"))return"Chrome";if(wN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function yN(t=br()){return/firefox\//i.test(t)}function vN(t=br()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xN(t=br()){return/crios\//i.test(t)}function bN(t=br()){return/iemobile/i.test(t)}function wN(t=br()){return/android/i.test(t)}function _N(t=br()){return/blackberry/i.test(t)}function EN(t=br()){return/webos/i.test(t)}function bw(t=br()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qB(t=br()){var e;return bw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $B(){return rF()&&document.documentMode===10}function kN(t=br()){return bw(t)||wN(t)||EN(t)||_N(t)||/windows phone/i.test(t)||bN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t,e=[]){let n;switch(t){case"Browser":n=fT(br());break;case"Worker":n=`${fT(br())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((u,m)=>{try{const x=e(a);u(x)}catch(x){m(x)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WB(t,e={}){return To(t,"GET","/v2/passwordPolicy",wl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB=6;class KB{constructor(e){var n,i,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:GB,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,a,u,m;const x={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,x),this.validatePasswordCharacterOptions(e,x),x.isValid&&(x.isValid=(n=x.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),x.isValid&&(x.isValid=(i=x.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),x.isValid&&(x.isValid=(s=x.containsLowercaseLetter)!==null&&s!==void 0?s:!0),x.isValid&&(x.isValid=(a=x.containsUppercaseLetter)!==null&&a!==void 0?a:!0),x.isValid&&(x.isValid=(u=x.containsNumericCharacter)!==null&&u!==void 0?u:!0),x.isValid&&(x.isValid=(m=x.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),x}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mT(this),this.idTokenSubscription=new mT(this),this.beforeStateQueue=new HB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ho(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Uu.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fN(this,{idToken:e}),i=await $o._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fo(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(m,m))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=s==null?void 0:s._redirectEventId,x=await this.tryRedirectSignIn(e);(!u||u===m)&&(x!=null&&x.user)&&(s=x.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return cn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fo(this.app))return Promise.reject(Go(this));const n=e?$n(e):null;return n&&cn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&cn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fo(this.app)?Promise.reject(Go(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fo(this.app)?Promise.reject(Go(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ho(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WB(this),n=new KB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await zB(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ho(e)||this._popupRedirectResolver;cn(n,this,"argument-error"),this.redirectPersistenceManager=await Uu.create(this,[Ho(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(cn(m,this,"internal-error"),m.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const x=e.addObserver(n,i,s);return()=>{u=!0,x()}}else{const x=e.addObserver(n);return()=>{u=!0,x()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return cn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&TB(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Sc(t){return $n(t)}class mT{constructor(e){this.auth=e,this.observer=null,this.addObserver=uF(n=>this.observer=n)}get next(){return cn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ey={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XB(t){ey=t}function CN(t){return ey.loadJS(t)}function QB(){return ey.recaptchaEnterpriseScript}function JB(){return ey.gapiScript}function ZB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const eV="recaptcha-enterprise",tV="NO_RECAPTCHA";class nV{constructor(e){this.type=eV,this.auth=Sc(e)}async verify(e="verify",n=!1){async function i(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,m)=>{RB(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(x=>{if(x.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new MB(x);return a.tenantId==null?a._agentRecaptchaConfig=_:a._tenantRecaptchaConfigs[a.tenantId]=_,u(_.siteKey)}}).catch(x=>{m(x)})})}function s(a,u,m){const x=window.grecaptcha;uT(x)?x.enterprise.ready(()=>{x.enterprise.execute(a,{action:e}).then(_=>{u(_)}).catch(()=>{u(tV)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{i(this.auth).then(m=>{if(!n&&uT(window.grecaptcha))s(m,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let x=QB();x.length!==0&&(x+=m),CN(x).then(()=>{s(m,a,u)}).catch(_=>{u(_)})}}).catch(m=>{u(m)})})}}async function gT(t,e,n,i=!1){const s=new nV(t);let a;try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const u=Object.assign({},e);return i?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Vb(t,e,n,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await gT(t,e,n,n==="getOobCode");return i(t,a)}else return i(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await gT(t,e,n,n==="getOobCode");return i(t,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(t,e){const n=bl(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(pp(a,e??{}))return s;Ks(s,"already-initialized")}return n.initialize({options:e})}function rV(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ho);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function sV(t,e,n){const i=Sc(t);cn(i._canInitEmulator,i,"emulator-config-failed"),cn(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,a=SN(e),{host:u,port:m}=oV(e),x=m===null?"":`:${m}`;i.config.emulator={url:`${a}//${u}${x}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:m,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),aV()}function SN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oV(t){const e=SN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:yT(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:yT(u)}}}function yT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qo("not implemented")}_getIdTokenResponse(e){return qo("not implemented")}_linkToIdToken(e,n){return qo("not implemented")}_getReauthenticationResolver(e){return qo("not implemented")}}async function lV(t,e){return To(t,"POST","/v1/accounts:update",e)}async function cV(t,e){return To(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uV(t,e){return Pp(t,"POST","/v1/accounts:signInWithPassword",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hV(t,e){return Pp(t,"POST","/v1/accounts:signInWithEmailLink",wl(t,e))}async function dV(t,e){return Pp(t,"POST","/v1/accounts:signInWithEmailLink",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp extends ww{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new gp(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new gp(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vb(e,n,"signInWithPassword",uV);case"emailLink":return hV(e,{email:this._email,oobCode:this._password});default:Ks(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vb(e,i,"signUpPassword",cV);case"emailLink":return dV(e,{idToken:n,email:this._email,oobCode:this._password});default:Ks(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(t,e){return Pp(t,"POST","/v1/accounts:signInWithIdp",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV="http://localhost";class pc extends ww{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ks("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,a=gw(n,["providerId","signInMethod"]);if(!i||!s)return null;const u=new pc(i,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return zu(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,zu(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zu(e,n)}buildRequest(){const e={requestUri:pV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Np(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mV(t){const e=Td(Cd(t)).link,n=e?Td(Cd(e)).deep_link_id:null,i=Td(Cd(t)).deep_link_id;return(i?Td(Cd(i)).link:null)||i||n||e||t}class _w{constructor(e){var n,i,s,a,u,m;const x=Td(Cd(e)),_=(n=x.apiKey)!==null&&n!==void 0?n:null,I=(i=x.oobCode)!==null&&i!==void 0?i:null,j=fV((s=x.mode)!==null&&s!==void 0?s:null);cn(_&&I&&j,"argument-error"),this.apiKey=_,this.operation=j,this.code=I,this.continueUrl=(a=x.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=x.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(m=x.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=mV(e);try{return new _w(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.providerId=dl.PROVIDER_ID}static credential(e,n){return gp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=_w.parseLink(n);return cn(i,"argument-error"),gp._fromEmailAndCode(e,i.code,i.tenantId)}}dl.PROVIDER_ID="password";dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp extends AN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends Mp{constructor(){super("facebook.com")}static credential(e){return pc._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return za.credentialFromTaggedObject(e)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return za.credential(e.oauthAccessToken)}catch{return null}}}za.FACEBOOK_SIGN_IN_METHOD="facebook.com";za.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends Mp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pc._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Vo.credential(n,i)}catch{return null}}}Vo.GOOGLE_SIGN_IN_METHOD="google.com";Vo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends Mp{constructor(){super("github.com")}static credential(e){return pc._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qa.credential(e.oauthAccessToken)}catch{return null}}}qa.GITHUB_SIGN_IN_METHOD="github.com";qa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends Mp{constructor(){super("twitter.com")}static credential(e,n){return pc._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $a.credentialFromTaggedObject(e)}static credentialFromError(e){return $a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return $a.credential(n,i)}catch{return null}}}$a.TWITTER_SIGN_IN_METHOD="twitter.com";$a.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(t,e){return Pp(t,"POST","/v1/accounts:signUp",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const a=await $o._fromIdTokenResponse(e,i,s),u=vT(i);return new fc({user:a,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=vT(i);return new fc({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function vT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg extends ks{constructor(e,n,i,s){var a;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,fg.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new fg(e,n,i,s)}}function NN(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?fg._fromErrorAndOperation(t,a,e,i):a})}async function yV(t,e,n=!1){const i=await dc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fc._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(t,e,n=!1){const{auth:i}=t;if(fo(i.app))return Promise.reject(Go(i));const s="reauthenticate";try{const a=await dc(t,NN(i,s,e,t),n);cn(a.idToken,i,"internal-error");const u=xw(a.idToken);cn(u,i,"internal-error");const{sub:m}=u;return cn(t.uid===m,i,"user-mismatch"),fc._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ks(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(t,e,n=!1){if(fo(t.app))return Promise.reject(Go(t));const i="signIn",s=await NN(t,i,e),a=await fc._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(a.user),a}async function PN(t,e){return IN(Sc(t),e)}async function xT(t,e){return jN($n(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(t){const e=Sc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vV(t,e,n){if(fo(t.app))return Promise.reject(Go(t));const i=Sc(t),u=await Vb(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gV).catch(x=>{throw x.code==="auth/password-does-not-meet-requirements"&&MN(t),x}),m=await fc._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(m.user),m}function xV(t,e,n){return fo(t.app)?Promise.reject(Go(t)):PN($n(t),dl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&MN(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(t,e){return To(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=$n(t),a={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await dc(i,bV(i.auth,a));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const m=i.providerData.find(({providerId:x})=>x==="password");m&&(m.displayName=i.displayName,m.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function _V(t,e){return EV($n(t),null,e)}async function EV(t,e,n){const{auth:i}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const u=await dc(t,lV(i,a));await t._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t,e){return $n(t).setPersistence(e)}function TV(t,e,n,i){return $n(t).onIdTokenChanged(e,n,i)}function CV(t,e,n){return $n(t).beforeAuthStateChanged(e,n)}function SV(t,e,n,i){return $n(t).onAuthStateChanged(e,n,i)}function cu(t){return $n(t).signOut()}async function AV(t){return $n(t).delete()}const mg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mg,"1"),this.storage.removeItem(mg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=1e3,jV=10;class DN extends RN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,m,x)=>{this.notifyListeners(u,x)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);$B()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,jV):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},NV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}DN.type="LOCAL";const ON=DN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN extends RN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LN.type="SESSION";const Ew=LN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new ty(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:a}=n.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const m=Array.from(u).map(async _=>_(n.origin,a)),x=await IV(m);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:x})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ty.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((m,x)=>{const _=kw("",20);s.port1.start();const I=setTimeout(()=>{x(new Error("unsupported_event"))},i);u={messageChannel:s,onMessage(j){const z=j;if(z.data.eventId===_)switch(z.data.status){case"ack":clearTimeout(I),a=setTimeout(()=>{x(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),m(z.data.response);break;default:clearTimeout(I),clearTimeout(a),x(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(){return window}function MV(t){xo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(){return typeof xo().WorkerGlobalScope<"u"&&typeof xo().importScripts=="function"}async function RV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function OV(){return FN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="firebaseLocalStorageDb",LV=1,gg="firebaseLocalStorage",VN="fbase_key";class Rp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ny(t,e){return t.transaction([gg],e?"readwrite":"readonly").objectStore(gg)}function FV(){const t=indexedDB.deleteDatabase(BN);return new Rp(t).toPromise()}function Ub(){const t=indexedDB.open(BN,LV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(gg,{keyPath:VN})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(gg)?e(i):(i.close(),await FV(),e(await Ub()))})})}async function bT(t,e,n){const i=ny(t,!0).put({[VN]:e,value:n});return new Rp(i).toPromise()}async function BV(t,e){const n=ny(t,!1).get(e),i=await new Rp(n).toPromise();return i===void 0?null:i.value}function wT(t,e){const n=ny(t,!0).delete(e);return new Rp(n).toPromise()}const VV=800,UV=3;class UN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ub(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>UV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ty._getInstance(OV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await RV(),!this.activeServiceWorker)return;this.sender=new PV(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ub();return await bT(e,mg,"1"),await wT(e,mg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>bT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>BV(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=ny(s,!1).getAll();return new Rp(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UN.type="LOCAL";const zV=UN;new Ip(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t,e){return e?Ho(e):(cn(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw extends ww{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $V(t){return IN(t.auth,new Tw(t),t.bypassAuthState)}function HV(t){const{auth:e,user:n}=t;return cn(n,e,"internal-error"),jN(n,new Tw(t),t.bypassAuthState)}async function WV(t){const{auth:e,user:n}=t;return cn(n,e,"internal-error"),yV(n,new Tw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n,i,s,a=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:u,type:m}=e;if(u){this.reject(u);return}const x={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(x))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $V;case"linkViaPopup":case"linkViaRedirect":return WV;case"reauthViaPopup":case"reauthViaRedirect":return HV;default:Ks(this.auth,"internal-error")}}resolve(e){ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=new Ip(2e3,1e4);class Iu extends zN{constructor(e,n,i,s,a){super(e,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,Iu.currentPopupAction&&Iu.currentPopupAction.cancel(),Iu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return cn(e,this.auth,"internal-error"),e}async onExecution(){ta(this.filter.length===1,"Popup operations only handle one event");const e=kw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Iu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GV.get())};e()}}Iu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="pendingRedirect",Am=new Map;class YV extends zN{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Am.get(this.auth._key());if(!e){try{const i=await XV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Am.set(this.auth._key(),e)}return this.bypassAuthState||Am.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XV(t,e){const n=ZV(e),i=JV(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function QV(t,e){Am.set(t._key(),e)}function JV(t){return Ho(t._redirectPersistence)}function ZV(t){return Sm(KV,t.config.apiKey,t.name)}async function e3(t,e,n=!1){if(fo(t.app))return Promise.reject(Go(t));const i=Sc(t),s=qV(i,e),u=await new YV(i,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=10*60*1e3;class n3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!qN(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(vo(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t3&&this.cachedEventUids.clear(),this.cachedEventUids.has(_T(e))}saveEventToCache(e){this.cachedEventUids.add(_T(e)),this.lastProcessedEventTime=Date.now()}}function _T(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function i3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r3(t,e={}){return To(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o3=/^https?/;async function a3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await r3(t);for(const n of e)try{if(l3(n))return}catch{}Ks(t,"unauthorized-domain")}function l3(t){const e=Fb(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!o3.test(n))return!1;if(s3.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=new Ip(3e4,6e4);function ET(){const t=xo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function u3(t){return new Promise((e,n)=>{var i,s,a;function u(){ET(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ET(),n(vo(t,"network-request-failed"))},timeout:c3.get()})}if(!((s=(i=xo().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=xo().gapi)===null||a===void 0)&&a.load)u();else{const m=ZB("iframefcb");return xo()[m]=()=>{gapi.load?u():n(vo(t,"network-request-failed"))},CN(`${JB()}?onload=${m}`).catch(x=>n(x))}}).catch(e=>{throw Nm=null,e})}let Nm=null;function h3(t){return Nm=Nm||u3(t),Nm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=new Ip(5e3,15e3),p3="__/auth/iframe",f3="emulator/auth/iframe",m3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y3(t){const e=t.config;cn(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vw(e,f3):`https://${t.config.authDomain}/${p3}`,i={apiKey:e.apiKey,appName:t.name,v:Cc},s=g3.get(t.config.apiHost);s&&(i.eid=s);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${Np(i).slice(1)}`}async function v3(t){const e=await h3(t),n=xo().gapi;return cn(n,t,"internal-error"),e.open({where:document.body,url:y3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m3,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const u=vo(t,"network-request-failed"),m=xo().setTimeout(()=>{a(u)},d3.get());function x(){xo().clearTimeout(m),s(i)}i.ping(x).then(x,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b3=500,w3=600,_3="_blank",E3="http://localhost";class kT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k3(t,e,n,i=b3,s=w3){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const x=Object.assign(Object.assign({},x3),{width:i.toString(),height:s.toString(),top:a,left:u}),_=br().toLowerCase();n&&(m=xN(_)?_3:n),yN(_)&&(e=e||E3,x.scrollbars="yes");const I=Object.entries(x).reduce((z,[J,te])=>`${z}${J}=${te},`,"");if(qB(_)&&m!=="_self")return T3(e||"",m),new kT(null);const j=window.open(e||"",m,I);cn(j,t,"popup-blocked");try{j.focus()}catch{}return new kT(j)}function T3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="__/auth/handler",S3="emulator/auth/handler",A3=encodeURIComponent("fac");async function TT(t,e,n,i,s,a){cn(t.config.authDomain,t,"auth-domain-config-required"),cn(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Cc,eventId:s};if(e instanceof AN){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",cF(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[I,j]of Object.entries({}))u[I]=j}if(e instanceof Mp){const I=e.getScopes().filter(j=>j!=="");I.length>0&&(u.scopes=I.join(","))}t.tenantId&&(u.tid=t.tenantId);const m=u;for(const I of Object.keys(m))m[I]===void 0&&delete m[I];const x=await t._getAppCheckToken(),_=x?`#${A3}=${encodeURIComponent(x)}`:"";return`${N3(t)}?${Np(m).slice(1)}${_}`}function N3({config:t}){return t.emulator?vw(t,S3):`https://${t.authDomain}/${C3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="webStorageSupport";class j3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ew,this._completeRedirectFn=e3,this._overrideRedirectResult=QV}async _openPopup(e,n,i,s){var a;ta((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await TT(e,n,i,Fb(),s);return k3(e,u,kw())}async _openRedirect(e,n,i,s){await this._originValidation(e);const a=await TT(e,n,i,Fb(),s);return MV(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(ta(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await v3(e),i=new n3(e);return n.register("authEvent",s=>(cn(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ux,{type:ux},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[ux];u!==void 0&&n(!!u),Ks(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kN()||vN()||bw()}}const I3=j3;var CT="@firebase/auth",ST="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){cn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R3(t){Gs(new Es("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=i.options;cn(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const x={apiKey:u,authDomain:m,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TN(t)},_=new YB(i,s,a,x);return rV(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Gs(new Es("auth-internal",e=>{const n=Sc(e.getProvider("auth").getImmediate());return(i=>new P3(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(CT,ST,M3(t)),Vr(CT,ST,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=5*60,O3=ZA("authIdTokenMaxAge")||D3;let AT=null;const L3=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>O3)return;const s=n==null?void 0:n.token;AT!==s&&(AT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function F3(t=jp()){const e=bl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=iV(t,{popupRedirectResolver:I3,persistence:[zV,ON,Ew]}),i=ZA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=L3(a.toString());CV(n,u,()=>u(n.currentUser)),TV(n,m=>u(m))}}const s=XA("auth");return s&&sV(n,`http://${s}`),n}function B3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}XB({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const a=vo("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",B3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R3("Browser");var NT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sc,$N;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(K,M){function H(){}H.prototype=M.prototype,K.D=M.prototype,K.prototype=new H,K.prototype.constructor=K,K.C=function(U,Y,ae){for(var ie=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)ie[pt-2]=arguments[pt];return M.prototype[Y].apply(U,ie)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(K,M,H){H||(H=0);var U=Array(16);if(typeof M=="string")for(var Y=0;16>Y;++Y)U[Y]=M.charCodeAt(H++)|M.charCodeAt(H++)<<8|M.charCodeAt(H++)<<16|M.charCodeAt(H++)<<24;else for(Y=0;16>Y;++Y)U[Y]=M[H++]|M[H++]<<8|M[H++]<<16|M[H++]<<24;M=K.g[0],H=K.g[1],Y=K.g[2];var ae=K.g[3],ie=M+(ae^H&(Y^ae))+U[0]+3614090360&4294967295;M=H+(ie<<7&4294967295|ie>>>25),ie=ae+(Y^M&(H^Y))+U[1]+3905402710&4294967295,ae=M+(ie<<12&4294967295|ie>>>20),ie=Y+(H^ae&(M^H))+U[2]+606105819&4294967295,Y=ae+(ie<<17&4294967295|ie>>>15),ie=H+(M^Y&(ae^M))+U[3]+3250441966&4294967295,H=Y+(ie<<22&4294967295|ie>>>10),ie=M+(ae^H&(Y^ae))+U[4]+4118548399&4294967295,M=H+(ie<<7&4294967295|ie>>>25),ie=ae+(Y^M&(H^Y))+U[5]+1200080426&4294967295,ae=M+(ie<<12&4294967295|ie>>>20),ie=Y+(H^ae&(M^H))+U[6]+2821735955&4294967295,Y=ae+(ie<<17&4294967295|ie>>>15),ie=H+(M^Y&(ae^M))+U[7]+4249261313&4294967295,H=Y+(ie<<22&4294967295|ie>>>10),ie=M+(ae^H&(Y^ae))+U[8]+1770035416&4294967295,M=H+(ie<<7&4294967295|ie>>>25),ie=ae+(Y^M&(H^Y))+U[9]+2336552879&4294967295,ae=M+(ie<<12&4294967295|ie>>>20),ie=Y+(H^ae&(M^H))+U[10]+4294925233&4294967295,Y=ae+(ie<<17&4294967295|ie>>>15),ie=H+(M^Y&(ae^M))+U[11]+2304563134&4294967295,H=Y+(ie<<22&4294967295|ie>>>10),ie=M+(ae^H&(Y^ae))+U[12]+1804603682&4294967295,M=H+(ie<<7&4294967295|ie>>>25),ie=ae+(Y^M&(H^Y))+U[13]+4254626195&4294967295,ae=M+(ie<<12&4294967295|ie>>>20),ie=Y+(H^ae&(M^H))+U[14]+2792965006&4294967295,Y=ae+(ie<<17&4294967295|ie>>>15),ie=H+(M^Y&(ae^M))+U[15]+1236535329&4294967295,H=Y+(ie<<22&4294967295|ie>>>10),ie=M+(Y^ae&(H^Y))+U[1]+4129170786&4294967295,M=H+(ie<<5&4294967295|ie>>>27),ie=ae+(H^Y&(M^H))+U[6]+3225465664&4294967295,ae=M+(ie<<9&4294967295|ie>>>23),ie=Y+(M^H&(ae^M))+U[11]+643717713&4294967295,Y=ae+(ie<<14&4294967295|ie>>>18),ie=H+(ae^M&(Y^ae))+U[0]+3921069994&4294967295,H=Y+(ie<<20&4294967295|ie>>>12),ie=M+(Y^ae&(H^Y))+U[5]+3593408605&4294967295,M=H+(ie<<5&4294967295|ie>>>27),ie=ae+(H^Y&(M^H))+U[10]+38016083&4294967295,ae=M+(ie<<9&4294967295|ie>>>23),ie=Y+(M^H&(ae^M))+U[15]+3634488961&4294967295,Y=ae+(ie<<14&4294967295|ie>>>18),ie=H+(ae^M&(Y^ae))+U[4]+3889429448&4294967295,H=Y+(ie<<20&4294967295|ie>>>12),ie=M+(Y^ae&(H^Y))+U[9]+568446438&4294967295,M=H+(ie<<5&4294967295|ie>>>27),ie=ae+(H^Y&(M^H))+U[14]+3275163606&4294967295,ae=M+(ie<<9&4294967295|ie>>>23),ie=Y+(M^H&(ae^M))+U[3]+4107603335&4294967295,Y=ae+(ie<<14&4294967295|ie>>>18),ie=H+(ae^M&(Y^ae))+U[8]+1163531501&4294967295,H=Y+(ie<<20&4294967295|ie>>>12),ie=M+(Y^ae&(H^Y))+U[13]+2850285829&4294967295,M=H+(ie<<5&4294967295|ie>>>27),ie=ae+(H^Y&(M^H))+U[2]+4243563512&4294967295,ae=M+(ie<<9&4294967295|ie>>>23),ie=Y+(M^H&(ae^M))+U[7]+1735328473&4294967295,Y=ae+(ie<<14&4294967295|ie>>>18),ie=H+(ae^M&(Y^ae))+U[12]+2368359562&4294967295,H=Y+(ie<<20&4294967295|ie>>>12),ie=M+(H^Y^ae)+U[5]+4294588738&4294967295,M=H+(ie<<4&4294967295|ie>>>28),ie=ae+(M^H^Y)+U[8]+2272392833&4294967295,ae=M+(ie<<11&4294967295|ie>>>21),ie=Y+(ae^M^H)+U[11]+1839030562&4294967295,Y=ae+(ie<<16&4294967295|ie>>>16),ie=H+(Y^ae^M)+U[14]+4259657740&4294967295,H=Y+(ie<<23&4294967295|ie>>>9),ie=M+(H^Y^ae)+U[1]+2763975236&4294967295,M=H+(ie<<4&4294967295|ie>>>28),ie=ae+(M^H^Y)+U[4]+1272893353&4294967295,ae=M+(ie<<11&4294967295|ie>>>21),ie=Y+(ae^M^H)+U[7]+4139469664&4294967295,Y=ae+(ie<<16&4294967295|ie>>>16),ie=H+(Y^ae^M)+U[10]+3200236656&4294967295,H=Y+(ie<<23&4294967295|ie>>>9),ie=M+(H^Y^ae)+U[13]+681279174&4294967295,M=H+(ie<<4&4294967295|ie>>>28),ie=ae+(M^H^Y)+U[0]+3936430074&4294967295,ae=M+(ie<<11&4294967295|ie>>>21),ie=Y+(ae^M^H)+U[3]+3572445317&4294967295,Y=ae+(ie<<16&4294967295|ie>>>16),ie=H+(Y^ae^M)+U[6]+76029189&4294967295,H=Y+(ie<<23&4294967295|ie>>>9),ie=M+(H^Y^ae)+U[9]+3654602809&4294967295,M=H+(ie<<4&4294967295|ie>>>28),ie=ae+(M^H^Y)+U[12]+3873151461&4294967295,ae=M+(ie<<11&4294967295|ie>>>21),ie=Y+(ae^M^H)+U[15]+530742520&4294967295,Y=ae+(ie<<16&4294967295|ie>>>16),ie=H+(Y^ae^M)+U[2]+3299628645&4294967295,H=Y+(ie<<23&4294967295|ie>>>9),ie=M+(Y^(H|~ae))+U[0]+4096336452&4294967295,M=H+(ie<<6&4294967295|ie>>>26),ie=ae+(H^(M|~Y))+U[7]+1126891415&4294967295,ae=M+(ie<<10&4294967295|ie>>>22),ie=Y+(M^(ae|~H))+U[14]+2878612391&4294967295,Y=ae+(ie<<15&4294967295|ie>>>17),ie=H+(ae^(Y|~M))+U[5]+4237533241&4294967295,H=Y+(ie<<21&4294967295|ie>>>11),ie=M+(Y^(H|~ae))+U[12]+1700485571&4294967295,M=H+(ie<<6&4294967295|ie>>>26),ie=ae+(H^(M|~Y))+U[3]+2399980690&4294967295,ae=M+(ie<<10&4294967295|ie>>>22),ie=Y+(M^(ae|~H))+U[10]+4293915773&4294967295,Y=ae+(ie<<15&4294967295|ie>>>17),ie=H+(ae^(Y|~M))+U[1]+2240044497&4294967295,H=Y+(ie<<21&4294967295|ie>>>11),ie=M+(Y^(H|~ae))+U[8]+1873313359&4294967295,M=H+(ie<<6&4294967295|ie>>>26),ie=ae+(H^(M|~Y))+U[15]+4264355552&4294967295,ae=M+(ie<<10&4294967295|ie>>>22),ie=Y+(M^(ae|~H))+U[6]+2734768916&4294967295,Y=ae+(ie<<15&4294967295|ie>>>17),ie=H+(ae^(Y|~M))+U[13]+1309151649&4294967295,H=Y+(ie<<21&4294967295|ie>>>11),ie=M+(Y^(H|~ae))+U[4]+4149444226&4294967295,M=H+(ie<<6&4294967295|ie>>>26),ie=ae+(H^(M|~Y))+U[11]+3174756917&4294967295,ae=M+(ie<<10&4294967295|ie>>>22),ie=Y+(M^(ae|~H))+U[2]+718787259&4294967295,Y=ae+(ie<<15&4294967295|ie>>>17),ie=H+(ae^(Y|~M))+U[9]+3951481745&4294967295,K.g[0]=K.g[0]+M&4294967295,K.g[1]=K.g[1]+(Y+(ie<<21&4294967295|ie>>>11))&4294967295,K.g[2]=K.g[2]+Y&4294967295,K.g[3]=K.g[3]+ae&4294967295}i.prototype.u=function(K,M){M===void 0&&(M=K.length);for(var H=M-this.blockSize,U=this.B,Y=this.h,ae=0;ae<M;){if(Y==0)for(;ae<=H;)s(this,K,ae),ae+=this.blockSize;if(typeof K=="string"){for(;ae<M;)if(U[Y++]=K.charCodeAt(ae++),Y==this.blockSize){s(this,U),Y=0;break}}else for(;ae<M;)if(U[Y++]=K[ae++],Y==this.blockSize){s(this,U),Y=0;break}}this.h=Y,this.o+=M},i.prototype.v=function(){var K=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);K[0]=128;for(var M=1;M<K.length-8;++M)K[M]=0;var H=8*this.o;for(M=K.length-8;M<K.length;++M)K[M]=H&255,H/=256;for(this.u(K),K=Array(16),M=H=0;4>M;++M)for(var U=0;32>U;U+=8)K[H++]=this.g[M]>>>U&255;return K};function a(K,M){var H=m;return Object.prototype.hasOwnProperty.call(H,K)?H[K]:H[K]=M(K)}function u(K,M){this.h=M;for(var H=[],U=!0,Y=K.length-1;0<=Y;Y--){var ae=K[Y]|0;U&&ae==M||(H[Y]=ae,U=!1)}this.g=H}var m={};function x(K){return-128<=K&&128>K?a(K,function(M){return new u([M|0],0>M?-1:0)}):new u([K|0],0>K?-1:0)}function _(K){if(isNaN(K)||!isFinite(K))return j;if(0>K)return se(_(-K));for(var M=[],H=1,U=0;K>=H;U++)M[U]=K/H|0,H*=4294967296;return new u(M,0)}function I(K,M){if(K.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(K.charAt(0)=="-")return se(I(K.substring(1),M));if(0<=K.indexOf("-"))throw Error('number format error: interior "-" character');for(var H=_(Math.pow(M,8)),U=j,Y=0;Y<K.length;Y+=8){var ae=Math.min(8,K.length-Y),ie=parseInt(K.substring(Y,Y+ae),M);8>ae?(ae=_(Math.pow(M,ae)),U=U.j(ae).add(_(ie))):(U=U.j(H),U=U.add(_(ie)))}return U}var j=x(0),z=x(1),J=x(16777216);t=u.prototype,t.m=function(){if(oe(this))return-se(this).m();for(var K=0,M=1,H=0;H<this.g.length;H++){var U=this.i(H);K+=(0<=U?U:4294967296+U)*M,M*=4294967296}return K},t.toString=function(K){if(K=K||10,2>K||36<K)throw Error("radix out of range: "+K);if(te(this))return"0";if(oe(this))return"-"+se(this).toString(K);for(var M=_(Math.pow(K,6)),H=this,U="";;){var Y=ne(H,M).g;H=X(H,Y.j(M));var ae=((0<H.g.length?H.g[0]:H.h)>>>0).toString(K);if(H=Y,te(H))return ae+U;for(;6>ae.length;)ae="0"+ae;U=ae+U}},t.i=function(K){return 0>K?0:K<this.g.length?this.g[K]:this.h};function te(K){if(K.h!=0)return!1;for(var M=0;M<K.g.length;M++)if(K.g[M]!=0)return!1;return!0}function oe(K){return K.h==-1}t.l=function(K){return K=X(this,K),oe(K)?-1:te(K)?0:1};function se(K){for(var M=K.g.length,H=[],U=0;U<M;U++)H[U]=~K.g[U];return new u(H,~K.h).add(z)}t.abs=function(){return oe(this)?se(this):this},t.add=function(K){for(var M=Math.max(this.g.length,K.g.length),H=[],U=0,Y=0;Y<=M;Y++){var ae=U+(this.i(Y)&65535)+(K.i(Y)&65535),ie=(ae>>>16)+(this.i(Y)>>>16)+(K.i(Y)>>>16);U=ie>>>16,ae&=65535,ie&=65535,H[Y]=ie<<16|ae}return new u(H,H[H.length-1]&-2147483648?-1:0)};function X(K,M){return K.add(se(M))}t.j=function(K){if(te(this)||te(K))return j;if(oe(this))return oe(K)?se(this).j(se(K)):se(se(this).j(K));if(oe(K))return se(this.j(se(K)));if(0>this.l(J)&&0>K.l(J))return _(this.m()*K.m());for(var M=this.g.length+K.g.length,H=[],U=0;U<2*M;U++)H[U]=0;for(U=0;U<this.g.length;U++)for(var Y=0;Y<K.g.length;Y++){var ae=this.i(U)>>>16,ie=this.i(U)&65535,pt=K.i(Y)>>>16,Mt=K.i(Y)&65535;H[2*U+2*Y]+=ie*Mt,L(H,2*U+2*Y),H[2*U+2*Y+1]+=ae*Mt,L(H,2*U+2*Y+1),H[2*U+2*Y+1]+=ie*pt,L(H,2*U+2*Y+1),H[2*U+2*Y+2]+=ae*pt,L(H,2*U+2*Y+2)}for(U=0;U<M;U++)H[U]=H[2*U+1]<<16|H[2*U];for(U=M;U<2*M;U++)H[U]=0;return new u(H,0)};function L(K,M){for(;(K[M]&65535)!=K[M];)K[M+1]+=K[M]>>>16,K[M]&=65535,M++}function G(K,M){this.g=K,this.h=M}function ne(K,M){if(te(M))throw Error("division by zero");if(te(K))return new G(j,j);if(oe(K))return M=ne(se(K),M),new G(se(M.g),se(M.h));if(oe(M))return M=ne(K,se(M)),new G(se(M.g),M.h);if(30<K.g.length){if(oe(K)||oe(M))throw Error("slowDivide_ only works with positive integers.");for(var H=z,U=M;0>=U.l(K);)H=ke(H),U=ke(U);var Y=ge(H,1),ae=ge(U,1);for(U=ge(U,2),H=ge(H,2);!te(U);){var ie=ae.add(U);0>=ie.l(K)&&(Y=Y.add(H),ae=ie),U=ge(U,1),H=ge(H,1)}return M=X(K,Y.j(M)),new G(Y,M)}for(Y=j;0<=K.l(M);){for(H=Math.max(1,Math.floor(K.m()/M.m())),U=Math.ceil(Math.log(H)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),ae=_(H),ie=ae.j(M);oe(ie)||0<ie.l(K);)H-=U,ae=_(H),ie=ae.j(M);te(ae)&&(ae=z),Y=Y.add(ae),K=X(K,ie)}return new G(Y,K)}t.A=function(K){return ne(this,K).h},t.and=function(K){for(var M=Math.max(this.g.length,K.g.length),H=[],U=0;U<M;U++)H[U]=this.i(U)&K.i(U);return new u(H,this.h&K.h)},t.or=function(K){for(var M=Math.max(this.g.length,K.g.length),H=[],U=0;U<M;U++)H[U]=this.i(U)|K.i(U);return new u(H,this.h|K.h)},t.xor=function(K){for(var M=Math.max(this.g.length,K.g.length),H=[],U=0;U<M;U++)H[U]=this.i(U)^K.i(U);return new u(H,this.h^K.h)};function ke(K){for(var M=K.g.length+1,H=[],U=0;U<M;U++)H[U]=K.i(U)<<1|K.i(U-1)>>>31;return new u(H,K.h)}function ge(K,M){var H=M>>5;M%=32;for(var U=K.g.length-H,Y=[],ae=0;ae<U;ae++)Y[ae]=0<M?K.i(ae+H)>>>M|K.i(ae+H+1)<<32-M:K.i(ae+H);return new u(Y,K.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,$N=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=_,u.fromString=I,sc=u}).apply(typeof NT<"u"?NT:typeof self<"u"?self:typeof window<"u"?window:{});var em=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HN,Sd,WN,jm,zb,GN,KN,YN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,N,B){return g==Array.prototype||g==Object.prototype||(g[N]=B.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof em=="object"&&em];for(var N=0;N<g.length;++N){var B=g[N];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var i=n(this);function s(g,N){if(N)e:{var B=i;g=g.split(".");for(var re=0;re<g.length-1;re++){var Oe=g[re];if(!(Oe in B))break e;B=B[Oe]}g=g[g.length-1],re=B[g],N=N(re),N!=re&&N!=null&&e(B,g,{configurable:!0,writable:!0,value:N})}}function a(g,N){g instanceof String&&(g+="");var B=0,re=!1,Oe={next:function(){if(!re&&B<g.length){var Ge=B++;return{value:N(Ge,g[Ge]),done:!1}}return re=!0,{done:!0,value:void 0}}};return Oe[Symbol.iterator]=function(){return Oe},Oe}s("Array.prototype.values",function(g){return g||function(){return a(this,function(N,B){return B})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},m=this||self;function x(g){var N=typeof g;return N=N!="object"?N:g?Array.isArray(g)?"array":N:"null",N=="array"||N=="object"&&typeof g.length=="number"}function _(g){var N=typeof g;return N=="object"&&g!=null||N=="function"}function I(g,N,B){return g.call.apply(g.bind,arguments)}function j(g,N,B){if(!g)throw Error();if(2<arguments.length){var re=Array.prototype.slice.call(arguments,2);return function(){var Oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Oe,re),g.apply(N,Oe)}}return function(){return g.apply(N,arguments)}}function z(g,N,B){return z=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?I:j,z.apply(null,arguments)}function J(g,N){var B=Array.prototype.slice.call(arguments,1);return function(){var re=B.slice();return re.push.apply(re,arguments),g.apply(this,re)}}function te(g,N){function B(){}B.prototype=N.prototype,g.aa=N.prototype,g.prototype=new B,g.prototype.constructor=g,g.Qb=function(re,Oe,Ge){for(var It=Array(arguments.length-2),jn=2;jn<arguments.length;jn++)It[jn-2]=arguments[jn];return N.prototype[Oe].apply(re,It)}}function oe(g){const N=g.length;if(0<N){const B=Array(N);for(let re=0;re<N;re++)B[re]=g[re];return B}return[]}function se(g,N){for(let B=1;B<arguments.length;B++){const re=arguments[B];if(x(re)){const Oe=g.length||0,Ge=re.length||0;g.length=Oe+Ge;for(let It=0;It<Ge;It++)g[Oe+It]=re[It]}else g.push(re)}}class X{constructor(N,B){this.i=N,this.j=B,this.h=0,this.g=null}get(){let N;return 0<this.h?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function L(g){return/^[\s\xa0]*$/.test(g)}function G(){var g=m.navigator;return g&&(g=g.userAgent)?g:""}function ne(g){return ne[" "](g),g}ne[" "]=function(){};var ke=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ge(g,N,B){for(const re in g)N.call(B,g[re],re,g)}function K(g,N){for(const B in g)N.call(void 0,g[B],B,g)}function M(g){const N={};for(const B in g)N[B]=g[B];return N}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(g,N){let B,re;for(let Oe=1;Oe<arguments.length;Oe++){re=arguments[Oe];for(B in re)g[B]=re[B];for(let Ge=0;Ge<H.length;Ge++)B=H[Ge],Object.prototype.hasOwnProperty.call(re,B)&&(g[B]=re[B])}}function Y(g){var N=1;g=g.split(":");const B=[];for(;0<N&&g.length;)B.push(g.shift()),N--;return g.length&&B.push(g.join(":")),B}function ae(g){m.setTimeout(()=>{throw g},0)}function ie(){var g=$e;let N=null;return g.g&&(N=g.g,g.g=g.g.next,g.g||(g.h=null),N.next=null),N}class pt{constructor(){this.h=this.g=null}add(N,B){const re=Mt.get();re.set(N,B),this.h?this.h.next=re:this.g=re,this.h=re}}var Mt=new X(()=>new Ke,g=>g.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(N,B){this.h=N,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,Re=!1,$e=new pt,ut=()=>{const g=m.Promise.resolve(void 0);ft=()=>{g.then(_t)}};var _t=()=>{for(var g;g=ie();){try{g.h.call(g.g)}catch(B){ae(B)}var N=Mt;N.j(g),100>N.h&&(N.h++,g.next=N.g,N.g=g)}Re=!1};function jt(){this.s=this.s,this.C=this.C}jt.prototype.s=!1,jt.prototype.ma=function(){this.s||(this.s=!0,this.N())},jt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function kt(g,N){this.type=g,this.g=this.target=N,this.defaultPrevented=!1}kt.prototype.h=function(){this.defaultPrevented=!0};var Ot=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var g=!1,N=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const B=()=>{};m.addEventListener("test",B,N),m.removeEventListener("test",B,N)}catch{}return g}();function mt(g,N){if(kt.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var B=this.type=g.type,re=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=N,N=g.relatedTarget){if(ke){e:{try{ne(N.nodeName);var Oe=!0;break e}catch{}Oe=!1}Oe||(N=null)}}else B=="mouseover"?N=g.fromElement:B=="mouseout"&&(N=g.toElement);this.relatedTarget=N,re?(this.clientX=re.clientX!==void 0?re.clientX:re.pageX,this.clientY=re.clientY!==void 0?re.clientY:re.pageY,this.screenX=re.screenX||0,this.screenY=re.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Rt[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&mt.aa.h.call(this)}}te(mt,kt);var Rt={2:"touch",3:"pen",4:"mouse"};mt.prototype.h=function(){mt.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ot="closure_listenable_"+(1e6*Math.random()|0),xe=0;function le(g,N,B,re,Oe){this.listener=g,this.proxy=null,this.src=N,this.type=B,this.capture=!!re,this.ha=Oe,this.key=++xe,this.da=this.fa=!1}function _e(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function me(g){this.src=g,this.g={},this.h=0}me.prototype.add=function(g,N,B,re,Oe){var Ge=g.toString();g=this.g[Ge],g||(g=this.g[Ge]=[],this.h++);var It=je(g,N,re,Oe);return-1<It?(N=g[It],B||(N.fa=!1)):(N=new le(N,this.src,Ge,!!re,Oe),N.fa=B,g.push(N)),N};function Ye(g,N){var B=N.type;if(B in g.g){var re=g.g[B],Oe=Array.prototype.indexOf.call(re,N,void 0),Ge;(Ge=0<=Oe)&&Array.prototype.splice.call(re,Oe,1),Ge&&(_e(N),g.g[B].length==0&&(delete g.g[B],g.h--))}}function je(g,N,B,re){for(var Oe=0;Oe<g.length;++Oe){var Ge=g[Oe];if(!Ge.da&&Ge.listener==N&&Ge.capture==!!B&&Ge.ha==re)return Oe}return-1}var Ue="closure_lm_"+(1e6*Math.random()|0),be={};function vt(g,N,B,re,Oe){if(Array.isArray(N)){for(var Ge=0;Ge<N.length;Ge++)vt(g,N[Ge],B,re,Oe);return null}return B=Ee(B),g&&g[ot]?g.K(N,B,_(re)?!!re.capture:!1,Oe):Tt(g,N,B,!1,re,Oe)}function Tt(g,N,B,re,Oe,Ge){if(!N)throw Error("Invalid event type");var It=_(Oe)?!!Oe.capture:!!Oe,jn=at(g);if(jn||(g[Ue]=jn=new me(g)),B=jn.add(N,B,re,It,Ge),B.proxy)return B;if(re=Se(),B.proxy=re,re.src=g,re.listener=B,g.addEventListener)Ot||(Oe=It),Oe===void 0&&(Oe=!1),g.addEventListener(N.toString(),re,Oe);else if(g.attachEvent)g.attachEvent(De(N.toString()),re);else if(g.addListener&&g.removeListener)g.addListener(re);else throw Error("addEventListener and attachEvent are unavailable.");return B}function Se(){function g(B){return N.call(g.src,g.listener,B)}const N=et;return g}function Me(g,N,B,re,Oe){if(Array.isArray(N))for(var Ge=0;Ge<N.length;Ge++)Me(g,N[Ge],B,re,Oe);else re=_(re)?!!re.capture:!!re,B=Ee(B),g&&g[ot]?(g=g.i,N=String(N).toString(),N in g.g&&(Ge=g.g[N],B=je(Ge,B,re,Oe),-1<B&&(_e(Ge[B]),Array.prototype.splice.call(Ge,B,1),Ge.length==0&&(delete g.g[N],g.h--)))):g&&(g=at(g))&&(N=g.g[N.toString()],g=-1,N&&(g=je(N,B,re,Oe)),(B=-1<g?N[g]:null)&&He(B))}function He(g){if(typeof g!="number"&&g&&!g.da){var N=g.src;if(N&&N[ot])Ye(N.i,g);else{var B=g.type,re=g.proxy;N.removeEventListener?N.removeEventListener(B,re,g.capture):N.detachEvent?N.detachEvent(De(B),re):N.addListener&&N.removeListener&&N.removeListener(re),(B=at(N))?(Ye(B,g),B.h==0&&(B.src=null,N[Ue]=null)):_e(g)}}}function De(g){return g in be?be[g]:be[g]="on"+g}function et(g,N){if(g.da)g=!0;else{N=new mt(N,this);var B=g.listener,re=g.ha||g.src;g.fa&&He(g),g=B.call(re,N)}return g}function at(g){return g=g[Ue],g instanceof me?g:null}var ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ee(g){return typeof g=="function"?g:(g[ht]||(g[ht]=function(N){return g.handleEvent(N)}),g[ht])}function ue(){jt.call(this),this.i=new me(this),this.M=this,this.F=null}te(ue,jt),ue.prototype[ot]=!0,ue.prototype.removeEventListener=function(g,N,B,re){Me(this,g,N,B,re)};function pe(g,N){var B,re=g.F;if(re)for(B=[];re;re=re.F)B.push(re);if(g=g.M,re=N.type||N,typeof N=="string")N=new kt(N,g);else if(N instanceof kt)N.target=N.target||g;else{var Oe=N;N=new kt(re,g),U(N,Oe)}if(Oe=!0,B)for(var Ge=B.length-1;0<=Ge;Ge--){var It=N.g=B[Ge];Oe=Ae(It,re,!0,N)&&Oe}if(It=N.g=g,Oe=Ae(It,re,!0,N)&&Oe,Oe=Ae(It,re,!1,N)&&Oe,B)for(Ge=0;Ge<B.length;Ge++)It=N.g=B[Ge],Oe=Ae(It,re,!1,N)&&Oe}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var g=this.i,N;for(N in g.g){for(var B=g.g[N],re=0;re<B.length;re++)_e(B[re]);delete g.g[N],g.h--}}this.F=null},ue.prototype.K=function(g,N,B,re){return this.i.add(String(g),N,!1,B,re)},ue.prototype.L=function(g,N,B,re){return this.i.add(String(g),N,!0,B,re)};function Ae(g,N,B,re){if(N=g.i.g[String(N)],!N)return!0;N=N.concat();for(var Oe=!0,Ge=0;Ge<N.length;++Ge){var It=N[Ge];if(It&&!It.da&&It.capture==B){var jn=It.listener,Yn=It.ha||It.src;It.fa&&Ye(g.i,It),Oe=jn.call(Yn,re)!==!1&&Oe}}return Oe&&!re.defaultPrevented}function Ze(g,N,B){if(typeof g=="function")B&&(g=z(g,B));else if(g&&typeof g.handleEvent=="function")g=z(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(N)?-1:m.setTimeout(g,N||0)}function st(g){g.g=Ze(()=>{g.g=null,g.i&&(g.i=!1,st(g))},g.l);const N=g.h;g.h=null,g.m.apply(null,N)}class Ut extends jt{constructor(N,B){super(),this.m=N,this.l=B,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:st(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lt(g){jt.call(this),this.h=g,this.g={}}te(Lt,jt);var lt=[];function rt(g){ge(g.g,function(N,B){this.g.hasOwnProperty(B)&&He(N)},g),g.g={}}Lt.prototype.N=function(){Lt.aa.N.call(this),rt(this)},Lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=m.JSON.stringify,Ce=m.JSON.parse,Fe=class{stringify(g){return m.JSON.stringify(g,void 0)}parse(g){return m.JSON.parse(g,void 0)}};function Pe(){}Pe.prototype.h=null;function Ve(g){return g.h||(g.h=g.i())}function We(){}var gt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pt(){kt.call(this,"d")}te(Pt,kt);function At(){kt.call(this,"c")}te(At,kt);var Vt={},Qt=null;function nt(){return Qt=Qt||new ue}Vt.La="serverreachability";function zt(g){kt.call(this,Vt.La,g)}te(zt,kt);function Jt(g){const N=nt();pe(N,new zt(N))}Vt.STAT_EVENT="statevent";function Ft(g,N){kt.call(this,Vt.STAT_EVENT,g),this.stat=N}te(Ft,kt);function en(g){const N=nt();pe(N,new Ft(N,g))}Vt.Ma="timingevent";function rn(g,N){kt.call(this,Vt.Ma,g),this.size=N}te(rn,kt);function gn(g,N){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){g()},N)}function hn(){this.g=!0}hn.prototype.xa=function(){this.g=!1};function Rn(g,N,B,re,Oe,Ge){g.info(function(){if(g.g)if(Ge)for(var It="",jn=Ge.split("&"),Yn=0;Yn<jn.length;Yn++){var Tn=jn[Yn].split("=");if(1<Tn.length){var Wn=Tn[0];Tn=Tn[1];var yi=Wn.split("_");It=2<=yi.length&&yi[1]=="type"?It+(Wn+"="+Tn+"&"):It+(Wn+"=redacted&")}}else It=null;else It=Ge;return"XMLHTTP REQ ("+re+") [attempt "+Oe+"]: "+N+`
`+B+`
`+It})}function vn(g,N,B,re,Oe,Ge,It){g.info(function(){return"XMLHTTP RESP ("+re+") [ attempt "+Oe+"]: "+N+`
`+B+`
`+Ge+" "+It})}function Kn(g,N,B,re){g.info(function(){return"XMLHTTP TEXT ("+N+"): "+ar(g,B)+(re?" "+re:"")})}function ji(g,N){g.info(function(){return"TIMEOUT: "+N})}hn.prototype.info=function(){};function ar(g,N){if(!g.g)return N;if(!N)return null;try{var B=JSON.parse(N);if(B){for(g=0;g<B.length;g++)if(Array.isArray(B[g])){var re=B[g];if(!(2>re.length)){var Oe=re[1];if(Array.isArray(Oe)&&!(1>Oe.length)){var Ge=Oe[0];if(Ge!="noop"&&Ge!="stop"&&Ge!="close")for(var It=1;It<Oe.length;It++)Oe[It]=""}}}}return he(B)}catch{return N}}var Pn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Te={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ie;function ze(){}te(ze,Pe),ze.prototype.g=function(){return new XMLHttpRequest},ze.prototype.i=function(){return{}},Ie=new ze;function Je(g,N,B,re){this.j=g,this.i=N,this.l=B,this.R=re||1,this.U=new Lt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xt}function xt(){this.i=null,this.g="",this.h=!1}var Ct={},ct={};function ai(g,N,B){g.L=1,g.v=wi(lr(N)),g.m=B,g.P=!0,ii(g,null)}function ii(g,N){g.F=Date.now(),Ts(g),g.A=lr(g.v);var B=g.A,re=g.R;Array.isArray(re)||(re=[String(re)]),Cs(B.i,"t",re),g.C=0,B=g.j.J,g.h=new xt,g.g=ba(g.j,B?N:null,!g.m),0<g.O&&(g.M=new Ut(z(g.Y,g,g.g),g.O)),N=g.U,B=g.g,re=g.ca;var Oe="readystatechange";Array.isArray(Oe)||(Oe&&(lt[0]=Oe.toString()),Oe=lt);for(var Ge=0;Ge<Oe.length;Ge++){var It=vt(B,Oe[Ge],re||N.handleEvent,!1,N.h||N);if(!It)break;N.g[It.key]=It}N=g.H?M(g.H):{},g.m?(g.u||(g.u="POST"),N["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,N)):(g.u="GET",g.g.ea(g.A,g.u,null,N)),Jt(),Rn(g.i,g.u,g.A,g.l,g.R,g.m)}Je.prototype.ca=function(g){g=g.target;const N=this.M;N&&Hr(g)==3?N.j():this.Y(g)},Je.prototype.Y=function(g){try{if(g==this.g)e:{const yi=Hr(this.g);var N=this.g.Ba();const Yr=this.g.Z();if(!(3>yi)&&(yi!=3||this.g&&(this.h.h||this.g.oa()||Bc(this.g)))){this.J||yi!=4||N==7||(N==8||0>=Yr?Jt(3):Jt(2)),Co(this);var B=this.g.Z();this.X=B;t:if(Gi(this)){var re=Bc(this.g);g="";var Oe=re.length,Ge=Hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zr(this),Xs(this);var It="";break t}this.h.i=new m.TextDecoder}for(N=0;N<Oe;N++)this.h.h=!0,g+=this.h.i.decode(re[N],{stream:!(Ge&&N==Oe-1)});re.length=0,this.h.g+=g,this.C=0,It=this.h.g}else It=this.g.oa();if(this.o=B==200,vn(this.i,this.u,this.A,this.l,this.R,yi,B),this.o){if(this.T&&!this.K){t:{if(this.g){var jn,Yn=this.g;if((jn=Yn.g?Yn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(jn)){var Tn=jn;break t}}Tn=null}if(B=Tn)Kn(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,So(this,B);else{this.o=!1,this.s=3,en(12),zr(this),Xs(this);break e}}if(this.P){B=!0;let Pi;for(;!this.J&&this.C<It.length;)if(Pi=Ii(this,It),Pi==ct){yi==4&&(this.s=4,en(14),B=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(Pi==Ct){this.s=4,en(15),Kn(this.i,this.l,It,"[Invalid Chunk]"),B=!1;break}else Kn(this.i,this.l,Pi,null),So(this,Pi);if(Gi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yi!=4||It.length!=0||this.h.h||(this.s=1,en(16),B=!1),this.o=this.o&&B,!B)Kn(this.i,this.l,It,"[Invalid Chunked Response]"),zr(this),Xs(this);else if(0<It.length&&!this.W){this.W=!0;var Wn=this.j;Wn.g==this&&Wn.ba&&!Wn.M&&(Wn.j.info("Great, no buffering proxy detected. Bytes received: "+It.length),Gr(Wn),Wn.M=!0,en(11))}}else Kn(this.i,this.l,It,null),So(this,It);yi==4&&zr(this),this.o&&!this.J&&(yi==4?xa(this.j,this):(this.o=!1,Ts(this)))}else Vc(this.g),B==400&&0<It.indexOf("Unknown SID")?(this.s=3,en(12)):(this.s=0,en(13)),zr(this),Xs(this)}}}catch{}finally{}};function Gi(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Ii(g,N){var B=g.C,re=N.indexOf(`
`,B);return re==-1?ct:(B=Number(N.substring(B,re)),isNaN(B)?Ct:(re+=1,re+B>N.length?ct:(N=N.slice(re,re+B),g.C=re+B,N)))}Je.prototype.cancel=function(){this.J=!0,zr(this)};function Ts(g){g.S=Date.now()+g.I,aa(g,g.I)}function aa(g,N){if(g.B!=null)throw Error("WatchDog timer not null");g.B=gn(z(g.ba,g),N)}function Co(g){g.B&&(m.clearTimeout(g.B),g.B=null)}Je.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(ji(this.i,this.A),this.L!=2&&(Jt(),en(17)),zr(this),this.s=2,Xs(this)):aa(this,this.S-g)};function Xs(g){g.j.G==0||g.J||xa(g.j,g)}function zr(g){Co(g);var N=g.M;N&&typeof N.ma=="function"&&N.ma(),g.M=null,rt(g.U),g.g&&(N=g.g,g.g=null,N.abort(),N.ma())}function So(g,N){try{var B=g.j;if(B.G!=0&&(B.g==g||ca(B.h,g))){if(!g.K&&ca(B.h,g)&&B.G==3){try{var re=B.Da.g.parse(N)}catch{re=null}if(Array.isArray(re)&&re.length==3){var Oe=re;if(Oe[0]==0){e:if(!B.u){if(B.g)if(B.g.F+3e3<g.F)jo(B),ga(B);else break e;Ml(B),en(18)}}else B.za=Oe[1],0<B.za-B.T&&37500>Oe[2]&&B.F&&B.v==0&&!B.C&&(B.C=gn(z(B.Za,B),6e3));if(1>=El(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else hr(B,11)}else if((g.K||B.g==g)&&jo(B),!L(N))for(Oe=B.Da.g.parse(N),N=0;N<Oe.length;N++){let Tn=Oe[N];if(B.T=Tn[0],Tn=Tn[1],B.G==2)if(Tn[0]=="c"){B.K=Tn[1],B.ia=Tn[2];const Wn=Tn[3];Wn!=null&&(B.la=Wn,B.j.info("VER="+B.la));const yi=Tn[4];yi!=null&&(B.Aa=yi,B.j.info("SVER="+B.Aa));const Yr=Tn[5];Yr!=null&&typeof Yr=="number"&&0<Yr&&(re=1.5*Yr,B.L=re,B.j.info("backChannelRequestTimeoutMs_="+re)),re=B;const Pi=g.g;if(Pi){const Po=Pi.g?Pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Po){var Ge=re.h;Ge.g||Po.indexOf("spdy")==-1&&Po.indexOf("quic")==-1&&Po.indexOf("h2")==-1||(Ge.j=Ge.l,Ge.g=new Set,Ge.h&&(kl(Ge,Ge.h),Ge.h=null))}if(re.D){const Xi=Pi.g?Pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Xi&&(re.ya=Xi,Bn(re.I,re.D,Xi))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-g.F,B.j.info("Handshake RTT: "+B.R+"ms")),re=B;var It=g;if(re.qa=Dl(re,re.J?re.ia:null,re.W),It.K){Ic(re.h,It);var jn=It,Yn=re.L;Yn&&(jn.I=Yn),jn.B&&(Co(jn),Ts(jn)),re.g=It}else Pl(re);0<B.i.length&&cs(B)}else Tn[0]!="stop"&&Tn[0]!="close"||hr(B,7);else B.G==3&&(Tn[0]=="stop"||Tn[0]=="close"?Tn[0]=="stop"?hr(B,7):ma(B):Tn[0]!="noop"&&B.l&&B.l.ta(Tn),B.v=0)}}Jt(4)}catch{}}var la=class{constructor(g,N){this.g=g,this.map=N}};function jc(g){this.l=g||10,m.PerformanceNavigationTiming?(g=m.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vn(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function El(g){return g.h?1:g.g?g.g.size:0}function ca(g,N){return g.h?g.h==N:g.g?g.g.has(N):!1}function kl(g,N){g.g?g.g.add(N):g.h=N}function Ic(g,N){g.h&&g.h==N?g.h=null:g.g&&g.g.has(N)&&g.g.delete(N)}jc.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Tl(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let N=g.i;for(const B of g.g.values())N=N.concat(B.D);return N}return oe(g.i)}function xh(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(x(g)){for(var N=[],B=g.length,re=0;re<B;re++)N.push(g[re]);return N}N=[],B=0;for(re in g)N[B++]=g[re];return N}function Pc(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(x(g)||typeof g=="string"){var N=[];g=g.length;for(var B=0;B<g;B++)N.push(B);return N}N=[],B=0;for(const re in g)N[B++]=re;return N}}}function ua(g,N){if(g.forEach&&typeof g.forEach=="function")g.forEach(N,void 0);else if(x(g)||typeof g=="string")Array.prototype.forEach.call(g,N,void 0);else for(var B=Pc(g),re=xh(g),Oe=re.length,Ge=0;Ge<Oe;Ge++)N.call(void 0,re[Ge],B&&B[Ge],g)}var ha=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cl(g,N){if(g){g=g.split("&");for(var B=0;B<g.length;B++){var re=g[B].indexOf("="),Oe=null;if(0<=re){var Ge=g[B].substring(0,re);Oe=g[B].substring(re+1)}else Ge=g[B];N(Ge,Oe?decodeURIComponent(Oe.replace(/\+/g," ")):"")}}}function os(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof os){this.h=g.h,Qs(this,g.j),this.o=g.o,this.g=g.g,Js(this,g.s),this.l=g.l;var N=g.i,B=new Zs;B.i=N.i,N.g&&(B.g=new Map(N.g),B.h=N.h),Ar(this,B),this.m=g.m}else g&&(N=String(g).match(ha))?(this.h=!1,Qs(this,N[1]||"",!0),this.o=qr(N[2]||""),this.g=qr(N[3]||"",!0),Js(this,N[4]),this.l=qr(N[5]||"",!0),Ar(this,N[6]||"",!0),this.m=qr(N[7]||"")):(this.h=!1,this.i=new Zs(null,this.h))}os.prototype.toString=function(){var g=[],N=this.j;N&&g.push(Ao(N,Mc,!0),":");var B=this.g;return(B||N=="file")&&(g.push("//"),(N=this.o)&&g.push(Ao(N,Mc,!0),"@"),g.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&g.push(":",String(B))),(B=this.l)&&(this.g&&B.charAt(0)!="/"&&g.push("/"),g.push(Ao(B,B.charAt(0)=="/"?da:Sl,!0))),(B=this.i.toString())&&g.push("?",B),(B=this.m)&&g.push("#",Ao(B,_h)),g.join("")};function lr(g){return new os(g)}function Qs(g,N,B){g.j=B?qr(N,!0):N,g.j&&(g.j=g.j.replace(/:$/,""))}function Js(g,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);g.s=N}else g.s=null}function Ar(g,N,B){N instanceof Zs?(g.i=N,Rc(g.i,g.h)):(B||(N=Ao(N,wh)),g.i=new Zs(N,g.h))}function Bn(g,N,B){g.i.set(N,B)}function wi(g){return Bn(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function qr(g,N){return g?N?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Ao(g,N,B){return typeof g=="string"?(g=encodeURI(g).replace(N,bh),B&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function bh(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Mc=/[#\/\?@]/g,Sl=/[#\?:]/g,da=/[#\?]/g,wh=/[#\?@]/g,_h=/#/g;function Zs(g,N){this.h=this.g=null,this.i=g||null,this.j=!!N}function $r(g){g.g||(g.g=new Map,g.h=0,g.i&&Cl(g.i,function(N,B){g.add(decodeURIComponent(N.replace(/\+/g," ")),B)}))}t=Zs.prototype,t.add=function(g,N){$r(this),this.i=null,g=Ss(this,g);var B=this.g.get(g);return B||this.g.set(g,B=[]),B.push(N),this.h+=1,this};function as(g,N){$r(g),N=Ss(g,N),g.g.has(N)&&(g.i=null,g.h-=g.g.get(N).length,g.g.delete(N))}function Al(g,N){return $r(g),N=Ss(g,N),g.g.has(N)}t.forEach=function(g,N){$r(this),this.g.forEach(function(B,re){B.forEach(function(Oe){g.call(N,Oe,re,this)},this)},this)},t.na=function(){$r(this);const g=Array.from(this.g.values()),N=Array.from(this.g.keys()),B=[];for(let re=0;re<N.length;re++){const Oe=g[re];for(let Ge=0;Ge<Oe.length;Ge++)B.push(N[re])}return B},t.V=function(g){$r(this);let N=[];if(typeof g=="string")Al(this,g)&&(N=N.concat(this.g.get(Ss(this,g))));else{g=Array.from(this.g.values());for(let B=0;B<g.length;B++)N=N.concat(g[B])}return N},t.set=function(g,N){return $r(this),this.i=null,g=Ss(this,g),Al(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[N]),this.h+=1,this},t.get=function(g,N){return g?(g=this.V(g),0<g.length?String(g[0]):N):N};function Cs(g,N,B){as(g,N),0<B.length&&(g.i=null,g.g.set(Ss(g,N),oe(B)),g.h+=B.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],N=Array.from(this.g.keys());for(var B=0;B<N.length;B++){var re=N[B];const Ge=encodeURIComponent(String(re)),It=this.V(re);for(re=0;re<It.length;re++){var Oe=Ge;It[re]!==""&&(Oe+="="+encodeURIComponent(String(It[re]))),g.push(Oe)}}return this.i=g.join("&")};function Ss(g,N){return N=String(N),g.j&&(N=N.toLowerCase()),N}function Rc(g,N){N&&!g.j&&($r(g),g.i=null,g.g.forEach(function(B,re){var Oe=re.toLowerCase();re!=Oe&&(as(this,re),Cs(this,Oe,B))},g)),g.j=N}function Eh(g,N){const B=new hn;if(m.Image){const re=new Image;re.onload=J(Nr,B,"TestLoadImage: loaded",!0,N,re),re.onerror=J(Nr,B,"TestLoadImage: error",!1,N,re),re.onabort=J(Nr,B,"TestLoadImage: abort",!1,N,re),re.ontimeout=J(Nr,B,"TestLoadImage: timeout",!1,N,re),m.setTimeout(function(){re.ontimeout&&re.ontimeout()},1e4),re.src=g}else N(!1)}function Nl(g,N){const B=new hn,re=new AbortController,Oe=setTimeout(()=>{re.abort(),Nr(B,"TestPingServer: timeout",!1,N)},1e4);fetch(g,{signal:re.signal}).then(Ge=>{clearTimeout(Oe),Ge.ok?Nr(B,"TestPingServer: ok",!0,N):Nr(B,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(Oe),Nr(B,"TestPingServer: error",!1,N)})}function Nr(g,N,B,re,Oe){try{Oe&&(Oe.onload=null,Oe.onerror=null,Oe.onabort=null,Oe.ontimeout=null),re(B)}catch{}}function pa(){this.g=new Fe}function Dc(g,N,B){const re=B||"";try{ua(g,function(Oe,Ge){let It=Oe;_(Oe)&&(It=he(Oe)),N.push(re+Ge+"="+encodeURIComponent(It))})}catch(Oe){throw N.push(re+"type="+encodeURIComponent("_badmap")),Oe}}function Ki(g){this.l=g.Ub||null,this.j=g.eb||!1}te(Ki,Pe),Ki.prototype.g=function(){return new No(this.l,this.j)},Ki.prototype.i=function(g){return function(){return g}}({});function No(g,N){ue.call(this),this.D=g,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}te(No,ue),t=No.prototype,t.open=function(g,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=N,this.readyState=1,Ns(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const N={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(N.body=g),(this.D||m).fetch(new Request(this.A,N)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ns(this)),this.g&&(this.readyState=3,Ns(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eo(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function eo(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var N=g.value?g.value:new Uint8Array(0);(N=this.v.decode(N,{stream:!g.done}))&&(this.response=this.responseText+=N)}g.done?As(this):Ns(this),this.readyState==3&&eo(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,As(this))},t.Qa=function(g){this.g&&(this.response=g,As(this))},t.ga=function(){this.g&&As(this)};function As(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Ns(g)}t.setRequestHeader=function(g,N){this.u.append(g,N)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],N=this.h.entries();for(var B=N.next();!B.done;)B=B.value,g.push(B[0]+": "+B[1]),B=N.next();return g.join(`\r
`)};function Ns(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(No.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Oc(g){let N="";return ge(g,function(B,re){N+=re,N+=":",N+=B,N+=`\r
`}),N}function jl(g,N,B){e:{for(re in B){var re=!1;break e}re=!0}re||(B=Oc(B),typeof g=="string"?B!=null&&encodeURIComponent(String(B)):Bn(g,N,B))}function Zn(g){ue.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}te(Zn,ue);var kh=/^https?$/i,Lc=["POST","PUT"];t=Zn.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,N,B,re){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);N=N?N.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ie.g(),this.v=this.o?Ve(this.o):Ve(Ie),this.g.onreadystatechange=z(this.Ea,this);try{this.B=!0,this.g.open(N,String(g),!0),this.B=!1}catch(Ge){fa(this,Ge);return}if(g=B||"",B=new Map(this.headers),re)if(Object.getPrototypeOf(re)===Object.prototype)for(var Oe in re)B.set(Oe,re[Oe]);else if(typeof re.keys=="function"&&typeof re.get=="function")for(const Ge of re.keys())B.set(Ge,re.get(Ge));else throw Error("Unknown input type for opt_headers: "+String(re));re=Array.from(B.keys()).find(Ge=>Ge.toLowerCase()=="content-type"),Oe=m.FormData&&g instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Lc,N,void 0))||re||Oe||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ge,It]of B)this.g.setRequestHeader(Ge,It);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fc(this),this.u=!0,this.g.send(g),this.u=!1}catch(Ge){fa(this,Ge)}};function fa(g,N){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=N,g.m=5,js(g),ls(g)}function js(g){g.A||(g.A=!0,pe(g,"complete"),pe(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,pe(this,"complete"),pe(this,"abort"),ls(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),Zn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?jr(this):this.bb())},t.bb=function(){jr(this)};function jr(g){if(g.h&&typeof u<"u"&&(!g.v[1]||Hr(g)!=4||g.Z()!=2)){if(g.u&&Hr(g)==4)Ze(g.Ea,0,g);else if(pe(g,"readystatechange"),Hr(g)==4){g.h=!1;try{const It=g.Z();e:switch(It){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var B;if(!(B=N)){var re;if(re=It===0){var Oe=String(g.D).match(ha)[1]||null;!Oe&&m.self&&m.self.location&&(Oe=m.self.location.protocol.slice(0,-1)),re=!kh.test(Oe?Oe.toLowerCase():"")}B=re}if(B)pe(g,"complete"),pe(g,"success");else{g.m=6;try{var Ge=2<Hr(g)?g.g.statusText:""}catch{Ge=""}g.l=Ge+" ["+g.Z()+"]",js(g)}}finally{ls(g)}}}}function ls(g,N){if(g.g){Fc(g);const B=g.g,re=g.v[0]?()=>{}:null;g.g=null,g.v=null,N||pe(g,"ready");try{B.onreadystatechange=re}catch{}}}function Fc(g){g.I&&(m.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function Hr(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<Hr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var N=this.g.responseText;return g&&N.indexOf(g)==0&&(N=N.substring(g.length)),Ce(N)}};function Bc(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Vc(g){const N={};g=(g.g&&2<=Hr(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let re=0;re<g.length;re++){if(L(g[re]))continue;var B=Y(g[re]);const Oe=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const Ge=N[Oe]||[];N[Oe]=Ge,Ge.push(B)}K(N,function(re){return re.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hn(g,N,B){return B&&B.internalChannelParams&&B.internalChannelParams[g]||N}function cr(g){this.Aa=0,this.i=[],this.j=new hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hn("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hn("baseRetryDelayMs",5e3,g),this.cb=Hn("retryDelaySeedMs",1e4,g),this.Wa=Hn("forwardChannelMaxRetries",2,g),this.wa=Hn("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new jc(g&&g.concurrentRequestLimit),this.Da=new pa,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=cr.prototype,t.la=8,t.G=1,t.connect=function(g,N,B,re){en(0),this.W=g,this.H=N||{},B&&re!==void 0&&(this.H.OSID=B,this.H.OAID=re),this.F=this.X,this.I=Dl(this,null,this.W),cs(this)};function ma(g){if(Il(g),g.G==3){var N=g.U++,B=lr(g.I);if(Bn(B,"SID",g.K),Bn(B,"RID",N),Bn(B,"TYPE","terminate"),ur(g,B),N=new Je(g,g.j,N),N.L=2,N.v=wi(lr(B)),B=!1,m.navigator&&m.navigator.sendBeacon)try{B=m.navigator.sendBeacon(N.v.toString(),"")}catch{}!B&&m.Image&&(new Image().src=N.v,B=!0),B||(N.g=ba(N.j,null),N.g.ea(N.v)),N.F=Date.now(),Ts(N)}Rl(g)}function ga(g){g.g&&(Gr(g),g.g.cancel(),g.g=null)}function Il(g){ga(g),g.u&&(m.clearTimeout(g.u),g.u=null),jo(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&m.clearTimeout(g.s),g.s=null)}function cs(g){if(!Vn(g.h)&&!g.s){g.s=!0;var N=g.Ga;ft||ut(),Re||(ft(),Re=!0),$e.add(N,g),g.B=0}}function ya(g,N){return El(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=N.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=gn(z(g.Ga,g,N),Kr(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Oe=new Je(this,this.j,g);let Ge=this.o;if(this.S&&(Ge?(Ge=M(Ge),U(Ge,this.S)):Ge=this.S),this.m!==null||this.O||(Oe.H=Ge,Ge=null),this.P)e:{for(var N=0,B=0;B<this.i.length;B++){t:{var re=this.i[B];if("__data__"in re.map&&(re=re.map.__data__,typeof re=="string")){re=re.length;break t}re=void 0}if(re===void 0)break;if(N+=re,4096<N){N=B;break e}if(N===4096||B===this.i.length-1){N=B+1;break e}}N=1e3}else N=1e3;N=Wr(this,Oe,N),B=lr(this.I),Bn(B,"RID",g),Bn(B,"CVER",22),this.D&&Bn(B,"X-HTTP-Session-Id",this.D),ur(this,B),Ge&&(this.O?N="headers="+encodeURIComponent(String(Oc(Ge)))+"&"+N:this.m&&jl(B,this.m,Ge)),kl(this.h,Oe),this.Ua&&Bn(B,"TYPE","init"),this.P?(Bn(B,"$req",N),Bn(B,"SID","null"),Oe.T=!0,ai(Oe,B,null)):ai(Oe,B,N),this.G=2}}else this.G==3&&(g?to(this,g):this.i.length==0||Vn(this.h)||to(this))};function to(g,N){var B;N?B=N.l:B=g.U++;const re=lr(g.I);Bn(re,"SID",g.K),Bn(re,"RID",B),Bn(re,"AID",g.T),ur(g,re),g.m&&g.o&&jl(re,g.m,g.o),B=new Je(g,g.j,B,g.B+1),g.m===null&&(B.H=g.o),N&&(g.i=N.D.concat(g.i)),N=Wr(g,B,1e3),B.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),kl(g.h,B),ai(B,re,N)}function ur(g,N){g.H&&ge(g.H,function(B,re){Bn(N,re,B)}),g.l&&ua({},function(B,re){Bn(N,re,B)})}function Wr(g,N,B){B=Math.min(g.i.length,B);var re=g.l?z(g.l.Na,g.l,g):null;e:{var Oe=g.i;let Ge=-1;for(;;){const It=["count="+B];Ge==-1?0<B?(Ge=Oe[0].g,It.push("ofs="+Ge)):Ge=0:It.push("ofs="+Ge);let jn=!0;for(let Yn=0;Yn<B;Yn++){let Tn=Oe[Yn].g;const Wn=Oe[Yn].map;if(Tn-=Ge,0>Tn)Ge=Math.max(0,Oe[Yn].g-100),jn=!1;else try{Dc(Wn,It,"req"+Tn+"_")}catch{re&&re(Wn)}}if(jn){re=It.join("&");break e}}}return g=g.i.splice(0,B),N.D=g,re}function Pl(g){if(!g.g&&!g.u){g.Y=1;var N=g.Fa;ft||ut(),Re||(ft(),Re=!0),$e.add(N,g),g.v=0}}function Ml(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=gn(z(g.Fa,g),Kr(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,va(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=gn(z(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,en(10),ga(this),va(this))};function Gr(g){g.A!=null&&(m.clearTimeout(g.A),g.A=null)}function va(g){g.g=new Je(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var N=lr(g.qa);Bn(N,"RID","rpc"),Bn(N,"SID",g.K),Bn(N,"AID",g.T),Bn(N,"CI",g.F?"0":"1"),!g.F&&g.ja&&Bn(N,"TO",g.ja),Bn(N,"TYPE","xmlhttp"),ur(g,N),g.m&&g.o&&jl(N,g.m,g.o),g.L&&(g.g.I=g.L);var B=g.g;g=g.ia,B.L=1,B.v=wi(lr(N)),B.m=null,B.P=!0,ii(B,g)}t.Za=function(){this.C!=null&&(this.C=null,ga(this),Ml(this),en(19))};function jo(g){g.C!=null&&(m.clearTimeout(g.C),g.C=null)}function xa(g,N){var B=null;if(g.g==N){jo(g),Gr(g),g.g=null;var re=2}else if(ca(g.h,N))B=N.D,Ic(g.h,N),re=1;else return;if(g.G!=0){if(N.o)if(re==1){B=N.m?N.m.length:0,N=Date.now()-N.F;var Oe=g.B;re=nt(),pe(re,new rn(re,B)),cs(g)}else Pl(g);else if(Oe=N.s,Oe==3||Oe==0&&0<N.X||!(re==1&&ya(g,N)||re==2&&Ml(g)))switch(B&&0<B.length&&(N=g.h,N.i=N.i.concat(B)),Oe){case 1:hr(g,5);break;case 4:hr(g,10);break;case 3:hr(g,6);break;default:hr(g,2)}}}function Kr(g,N){let B=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(B*=2),B*N}function hr(g,N){if(g.j.info("Error code "+N),N==2){var B=z(g.fb,g),re=g.Xa;const Oe=!re;re=new os(re||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Qs(re,"https"),wi(re),Oe?Eh(re.toString(),B):Nl(re.toString(),B)}else en(2);g.G=0,g.l&&g.l.sa(N),Rl(g),Il(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function Rl(g){if(g.G=0,g.ka=[],g.l){const N=Tl(g.h);(N.length!=0||g.i.length!=0)&&(se(g.ka,N),se(g.ka,g.i),g.h.i.length=0,oe(g.i),g.i.length=0),g.l.ra()}}function Dl(g,N,B){var re=B instanceof os?lr(B):new os(B);if(re.g!="")N&&(re.g=N+"."+re.g),Js(re,re.s);else{var Oe=m.location;re=Oe.protocol,N=N?N+"."+Oe.hostname:Oe.hostname,Oe=+Oe.port;var Ge=new os(null);re&&Qs(Ge,re),N&&(Ge.g=N),Oe&&Js(Ge,Oe),B&&(Ge.l=B),re=Ge}return B=g.D,N=g.ya,B&&N&&Bn(re,B,N),Bn(re,"VER",g.la),ur(g,re),re}function ba(g,N,B){if(N&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return N=g.Ca&&!g.pa?new Zn(new Ki({eb:B})):new Zn(g.pa),N.Ha(g.J),N}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function no(){}t=no.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Io(){}Io.prototype.g=function(g,N){return new _i(g,N)};function _i(g,N){ue.call(this),this.g=new cr(N),this.l=g,this.h=N&&N.messageUrlParams||null,g=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(g?g["X-WebChannel-Content-Type"]=N.messageContentType:g={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.va&&(g?g["X-WebChannel-Client-Profile"]=N.va:g={"X-WebChannel-Client-Profile":N.va}),this.g.S=g,(g=N&&N.Sb)&&!L(g)&&(this.g.m=g),this.v=N&&N.supportsCrossDomainXhr||!1,this.u=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!L(N)&&(this.g.D=N,g=this.h,g!==null&&N in g&&(g=this.h,N in g&&delete g[N])),this.j=new Yi(this)}te(_i,ue),_i.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_i.prototype.close=function(){ma(this.g)},_i.prototype.o=function(g){var N=this.g;if(typeof g=="string"){var B={};B.__data__=g,g=B}else this.u&&(B={},B.__data__=he(g),g=B);N.i.push(new la(N.Ya++,g)),N.G==3&&cs(N)},_i.prototype.N=function(){this.g.l=null,delete this.j,ma(this.g),delete this.g,_i.aa.N.call(this)};function Uc(g){Pt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var N=g.__sm__;if(N){e:{for(const B in N){g=B;break e}g=void 0}(this.i=g)&&(g=this.i,N=N!==null&&g in N?N[g]:void 0),this.data=N}else this.data=g}te(Uc,Pt);function zc(){At.call(this),this.status=1}te(zc,At);function Yi(g){this.g=g}te(Yi,no),Yi.prototype.ua=function(){pe(this.g,"a")},Yi.prototype.ta=function(g){pe(this.g,new Uc(g))},Yi.prototype.sa=function(g){pe(this.g,new zc)},Yi.prototype.ra=function(){pe(this.g,"b")},Io.prototype.createWebChannel=Io.prototype.g,_i.prototype.send=_i.prototype.o,_i.prototype.open=_i.prototype.m,_i.prototype.close=_i.prototype.close,YN=function(){return new Io},KN=function(){return nt()},GN=Vt,zb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pn.NO_ERROR=0,Pn.TIMEOUT=8,Pn.HTTP_ERROR=6,jm=Pn,Te.COMPLETE="complete",WN=Te,We.EventType=gt,gt.OPEN="a",gt.CLOSE="b",gt.ERROR="c",gt.MESSAGE="d",ue.prototype.listen=ue.prototype.K,Sd=We,Zn.prototype.listenOnce=Zn.prototype.L,Zn.prototype.getLastError=Zn.prototype.Ka,Zn.prototype.getLastErrorCode=Zn.prototype.Ba,Zn.prototype.getStatus=Zn.prototype.Z,Zn.prototype.getResponseJson=Zn.prototype.Oa,Zn.prototype.getResponseText=Zn.prototype.oa,Zn.prototype.send=Zn.prototype.ea,Zn.prototype.setWithCredentials=Zn.prototype.Ha,HN=Zn}).apply(typeof em<"u"?em:typeof self<"u"?self:typeof window<"u"?window:{});const jT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gr.UNAUTHENTICATED=new gr(null),gr.GOOGLE_CREDENTIALS=new gr("google-credentials-uid"),gr.FIRST_PARTY=new gr("first-party-uid"),gr.MOCK_USER=new gr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=new Zg("@firebase/firestore");function md(){return mc.logLevel}function Xt(t,...e){if(mc.logLevel<=Nn.DEBUG){const n=e.map(Cw);mc.debug(`Firestore (${ph}): ${t}`,...n)}}function na(t,...e){if(mc.logLevel<=Nn.ERROR){const n=e.map(Cw);mc.error(`Firestore (${ph}): ${t}`,...n)}}function Zu(t,...e){if(mc.logLevel<=Nn.WARN){const n=e.map(Cw);mc.warn(`Firestore (${ph}): ${t}`,...n)}}function Cw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t="Unexpected state"){const e=`FIRESTORE (${ph}) INTERNAL ASSERTION FAILED: `+t;throw na(e),new Error(e)}function qn(t,e){t||un()}function mn(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ht extends ks{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gr.UNAUTHENTICATED))}shutdown(){}}class U3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class z3{constructor(e){this.t=e,this.currentUser=gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qn(this.o===void 0);let i=this.i;const s=x=>this.i!==i?(i=this.i,n(x)):Promise.resolve();let a=new Ko;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ko,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const x=a;e.enqueueRetryable(async()=>{await x.promise,await s(this.currentUser)})},m=x=>{Xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=x,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(x=>m(x)),setTimeout(()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?m(x):(Xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ko)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(qn(typeof i.accessToken=="string"),new XN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qn(e===null||typeof e=="string"),new gr(e)}}class q3{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=gr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $3{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new q3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){qn(this.o===void 0);const i=a=>{a.error!=null&&Xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,Xt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const s=a=>{Xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):Xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qn(typeof n.token=="string"),this.R=n.token,new H3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=G3(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<n&&(i+=e.charAt(s[a]%e.length))}return i}}function Fn(t,e){return t<e?-1:t>e?1:0}function eh(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ht(yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ht(yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ht(yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ht(yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zi.fromMillis(Date.now())}static fromDate(e){return zi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new zi(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fn(this.nanoseconds,e.nanoseconds):Fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new fn(e)}static min(){return new fn(new zi(0,0))}static max(){return new fn(new zi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n,i){n===void 0?n=0:n>e.length&&un(),i===void 0?i=e.length-n:i>e.length-n&&un(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return yp.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yp?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const a=e.get(s),u=n.get(s);if(a<u)return-1;if(a>u)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ti extends yp{construct(e,n,i){return new ti(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ht(yt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new ti(n)}static emptyPath(){return new ti([])}}const K3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends yp{construct(e,n,i){return new tr(e,n,i)}static isValidIdentifier(e){return K3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tr(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const a=()=>{if(i.length===0)throw new Ht(yt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;s<e.length;){const m=e[s];if(m==="\\"){if(s+1===e.length)throw new Ht(yt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const x=e[s+1];if(x!=="\\"&&x!=="."&&x!=="`")throw new Ht(yt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=x,s+=2}else m==="`"?(u=!u,s++):m!=="."||u?(i+=m,s++):(a(),s++)}if(a(),u)throw new Ht(yt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tr(n)}static emptyPath(){return new tr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.path=e}static fromPath(e){return new on(ti.fromString(e))}static fromName(e){return new on(ti.fromString(e).popFirst(5))}static empty(){return new on(ti.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ti.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ti.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new on(new ti(e.slice()))}}function Y3(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=fn.fromTimestamp(i===1e9?new zi(n+1,0):new zi(n,i));return new pl(s,on.empty(),e)}function X3(t){return new pl(t.readTime,t.key,-1)}class pl{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new pl(fn.min(),on.empty(),-1)}static max(){return new pl(fn.max(),on.empty(),-1)}}function Q3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=on.comparator(t.documentKey,e.documentKey),n!==0?n:Fn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dp(t){if(t.code!==yt.FAILED_PRECONDITION||t.message!==J3)throw t;Xt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&un(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new wt((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof wt?n:wt.resolve(n)}catch(n){return wt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):wt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):wt.reject(n)}static resolve(e){return new wt((n,i)=>{n(e)})}static reject(e){return new wt((n,i)=>{i(e)})}static waitFor(e){return new wt((n,i)=>{let s=0,a=0,u=!1;e.forEach(m=>{++s,m.next(()=>{++a,u&&a===s&&n()},x=>i(x))}),u=!0,a===s&&n()})}static or(e){let n=wt.resolve(!1);for(const i of e)n=n.next(s=>s?wt.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,a)=>{i.push(n.call(this,s,a))}),this.waitFor(i)}static mapArray(e,n){return new wt((i,s)=>{const a=e.length,u=new Array(a);let m=0;for(let x=0;x<a;x++){const _=x;n(e[_]).next(I=>{u[_]=I,++m,m===a&&i(u)},I=>s(I))}})}static doWhile(e,n){return new wt((i,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):i()};a()})}}function eU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Op(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Sw.oe=-1;function iy(t){return t==null}function yg(t){return t===0&&1/t==-1/0}function tU(t){return typeof t=="number"&&Number.isInteger(t)&&!yg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ac(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n){this.comparator=e,this.root=n||er.EMPTY}insert(e,n){return new gi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,er.BLACK,null,null))}remove(e){return new gi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,er.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tm(this.root,e,this.comparator,!1)}getReverseIterator(){return new tm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tm(this.root,e,this.comparator,!0)}}class tm{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class er{constructor(e,n,i,s,a){this.key=e,this.value=n,this.color=i??er.RED,this.left=s??er.EMPTY,this.right=a??er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,a){return new er(e??this.key,n??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const a=i(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,i),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return er.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw un();const e=this.left.check();if(e!==this.right.check())throw un();return e+(this.isRed()?0:1)}}er.EMPTY=null,er.RED=!0,er.BLACK=!1;er.EMPTY=new class{constructor(){this.size=0}get key(){throw un()}get value(){throw un()}get color(){throw un()}get left(){throw un()}get right(){throw un()}copy(e,n,i,s,a){return this}insert(e,n,i){return new er(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.comparator=e,this.data=new gi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new PT(this.data.getIterator())}getIteratorFrom(e){return new PT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof ir)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ir(this.comparator);return n.data=e,n}}class PT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.fields=e,e.sort(tr.comparator)}static empty(){return new Zr([])}unionWith(e){let n=new ir(tr.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Zr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return eh(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new ZN("Invalid base64 string: "+a):a}}(e);return new sr(n)}static fromUint8Array(e){const n=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new sr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sr.EMPTY_BYTE_STRING=new sr("");const nU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fl(t){if(qn(!!t),typeof t=="string"){let e=0;const n=nU.exec(t);if(qn(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ti(t.seconds),nanos:Ti(t.nanos)}}function Ti(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gc(t){return typeof t=="string"?sr.fromBase64String(t):sr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Nw(t){const e=t.mapValue.fields.__previous_value__;return Aw(e)?Nw(e):e}function vp(t){const e=fl(t.mapValue.fields.__local_write_time__.timestampValue);return new zi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,n,i,s,a,u,m,x,_){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=x,this.useFetchStreams=_}}class xp{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new xp("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof xp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm={mapValue:{}};function yc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Aw(t)?4:sU(t)?9007199254740991:rU(t)?10:11:un()}function _o(t,e){if(t===e)return!0;const n=yc(t);if(n!==yc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vp(t).isEqual(vp(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=fl(s.timestampValue),m=fl(a.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return gc(s.bytesValue).isEqual(gc(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return Ti(s.geoPointValue.latitude)===Ti(a.geoPointValue.latitude)&&Ti(s.geoPointValue.longitude)===Ti(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Ti(s.integerValue)===Ti(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=Ti(s.doubleValue),m=Ti(a.doubleValue);return u===m?yg(u)===yg(m):isNaN(u)&&isNaN(m)}return!1}(t,e);case 9:return eh(t.arrayValue.values||[],e.arrayValue.values||[],_o);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},m=a.mapValue.fields||{};if(IT(u)!==IT(m))return!1;for(const x in u)if(u.hasOwnProperty(x)&&(m[x]===void 0||!_o(u[x],m[x])))return!1;return!0}(t,e);default:return un()}}function bp(t,e){return(t.values||[]).find(n=>_o(n,e))!==void 0}function th(t,e){if(t===e)return 0;const n=yc(t),i=yc(e);if(n!==i)return Fn(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fn(t.booleanValue,e.booleanValue);case 2:return function(a,u){const m=Ti(a.integerValue||a.doubleValue),x=Ti(u.integerValue||u.doubleValue);return m<x?-1:m>x?1:m===x?0:isNaN(m)?isNaN(x)?0:-1:1}(t,e);case 3:return MT(t.timestampValue,e.timestampValue);case 4:return MT(vp(t),vp(e));case 5:return Fn(t.stringValue,e.stringValue);case 6:return function(a,u){const m=gc(a),x=gc(u);return m.compareTo(x)}(t.bytesValue,e.bytesValue);case 7:return function(a,u){const m=a.split("/"),x=u.split("/");for(let _=0;_<m.length&&_<x.length;_++){const I=Fn(m[_],x[_]);if(I!==0)return I}return Fn(m.length,x.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,u){const m=Fn(Ti(a.latitude),Ti(u.latitude));return m!==0?m:Fn(Ti(a.longitude),Ti(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return RT(t.arrayValue,e.arrayValue);case 10:return function(a,u){var m,x,_,I;const j=a.fields||{},z=u.fields||{},J=(m=j.value)===null||m===void 0?void 0:m.arrayValue,te=(x=z.value)===null||x===void 0?void 0:x.arrayValue,oe=Fn(((_=J==null?void 0:J.values)===null||_===void 0?void 0:_.length)||0,((I=te==null?void 0:te.values)===null||I===void 0?void 0:I.length)||0);return oe!==0?oe:RT(J,te)}(t.mapValue,e.mapValue);case 11:return function(a,u){if(a===nm.mapValue&&u===nm.mapValue)return 0;if(a===nm.mapValue)return 1;if(u===nm.mapValue)return-1;const m=a.fields||{},x=Object.keys(m),_=u.fields||{},I=Object.keys(_);x.sort(),I.sort();for(let j=0;j<x.length&&j<I.length;++j){const z=Fn(x[j],I[j]);if(z!==0)return z;const J=th(m[x[j]],_[I[j]]);if(J!==0)return J}return Fn(x.length,I.length)}(t.mapValue,e.mapValue);default:throw un()}}function MT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fn(t,e);const n=fl(t),i=fl(e),s=Fn(n.seconds,i.seconds);return s!==0?s:Fn(n.nanos,i.nanos)}function RT(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const a=th(n[s],i[s]);if(a)return a}return Fn(n.length,i.length)}function nh(t){return qb(t)}function qb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=fl(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return gc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return on.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const a of n.values||[])s?s=!1:i+=",",i+=qb(a);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const u of i)a?a=!1:s+=",",s+=`${u}:${qb(n.fields[u])}`;return s+"}"}(t.mapValue):un()}function DT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $b(t){return!!t&&"integerValue"in t}function jw(t){return!!t&&"arrayValue"in t}function OT(t){return!!t&&"nullValue"in t}function LT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Im(t){return!!t&&"mapValue"in t}function rU(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function zd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ac(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=zd(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.value=e}static empty(){return new Dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Im(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zd(n)}setAll(e){let n=tr.emptyPath(),i={},s=[];e.forEach((u,m)=>{if(!n.isImmediateParentOf(m)){const x=this.getFieldsMap(n);this.applyChanges(x,i,s),i={},s=[],n=m.popLast()}u?i[m.lastSegment()]=zd(u):s.push(m.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,s)}delete(e){const n=this.field(e.popLast());Im(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _o(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Im(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Ac(n,(s,a)=>e[s]=a);for(const s of i)delete e[s]}clone(){return new Dr(zd(this.value))}}function ej(t){const e=[];return Ac(t.fields,(n,i)=>{const s=new tr([n]);if(Im(i)){const a=ej(i.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new Zr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n,i,s,a,u,m){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=a,this.data=u,this.documentState=m}static newInvalidDocument(e){return new vr(e,0,fn.min(),fn.min(),fn.min(),Dr.empty(),0)}static newFoundDocument(e,n,i,s){return new vr(e,1,n,fn.min(),i,s,0)}static newNoDocument(e,n){return new vr(e,2,n,fn.min(),fn.min(),Dr.empty(),0)}static newUnknownDocument(e,n){return new vr(e,3,n,fn.min(),fn.min(),Dr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n){this.position=e,this.inclusive=n}}function FT(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const a=e[s],u=t.position[s];if(a.field.isKeyField()?i=on.comparator(on.fromName(u.referenceValue),n.key):i=th(u,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function BT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_o(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n="asc"){this.field=e,this.dir=n}}function oU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{}class Oi extends tj{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new lU(e,n,i):n==="array-contains"?new hU(e,i):n==="in"?new dU(e,i):n==="not-in"?new pU(e,i):n==="array-contains-any"?new fU(e,i):new Oi(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new cU(e,i):new uU(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(th(n,this.value)):n!==null&&yc(this.value)===yc(n)&&this.matchesComparison(th(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return un()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ys extends tj{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ys(e,n)}matches(e){return nj(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function nj(t){return t.op==="and"}function ij(t){return aU(t)&&nj(t)}function aU(t){for(const e of t.filters)if(e instanceof Ys)return!1;return!0}function Hb(t){if(t instanceof Oi)return t.field.canonicalString()+t.op.toString()+nh(t.value);if(ij(t))return t.filters.map(e=>Hb(e)).join(",");{const e=t.filters.map(n=>Hb(n)).join(",");return`${t.op}(${e})`}}function rj(t,e){return t instanceof Oi?function(i,s){return s instanceof Oi&&i.op===s.op&&i.field.isEqual(s.field)&&_o(i.value,s.value)}(t,e):t instanceof Ys?function(i,s){return s instanceof Ys&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((a,u,m)=>a&&rj(u,s.filters[m]),!0):!1}(t,e):void un()}function sj(t){return t instanceof Oi?function(n){return`${n.field.canonicalString()} ${n.op} ${nh(n.value)}`}(t):t instanceof Ys?function(n){return n.op.toString()+" {"+n.getFilters().map(sj).join(" ,")+"}"}(t):"Filter"}class lU extends Oi{constructor(e,n,i){super(e,n,i),this.key=on.fromName(i.referenceValue)}matches(e){const n=on.comparator(e.key,this.key);return this.matchesComparison(n)}}class cU extends Oi{constructor(e,n){super(e,"in",n),this.keys=oj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uU extends Oi{constructor(e,n){super(e,"not-in",n),this.keys=oj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>on.fromName(i.referenceValue))}class hU extends Oi{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jw(n)&&bp(n.arrayValue,this.value)}}class dU extends Oi{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bp(this.value.arrayValue,n)}}class pU extends Oi{constructor(e,n){super(e,"not-in",n)}matches(e){if(bp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!bp(this.value.arrayValue,n)}}class fU extends Oi{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>bp(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e,n=null,i=[],s=[],a=null,u=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=u,this.endAt=m,this.ue=null}}function VT(t,e=null,n=[],i=[],s=null,a=null,u=null){return new mU(t,e,n,i,s,a,u)}function Iw(t){const e=mn(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Hb(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),iy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>nh(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>nh(i)).join(",")),e.ue=n}return e.ue}function Pw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BT(t.startAt,e.startAt)&&BT(t.endAt,e.endAt)}function Wb(t){return on.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n=null,i=[],s=[],a=null,u="F",m=null,x=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=u,this.startAt=m,this.endAt=x,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function gU(t,e,n,i,s,a,u,m){return new Lp(t,e,n,i,s,a,u,m)}function Mw(t){return new Lp(t)}function UT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aj(t){return t.collectionGroup!==null}function qd(t){const e=mn(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new ir(tr.comparator);return u.filters.forEach(x=>{x.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new xg(a,i))}),n.has(tr.keyField().canonicalString())||e.ce.push(new xg(tr.keyField(),i))}return e.ce}function bo(t){const e=mn(t);return e.le||(e.le=yU(e,qd(t))),e.le}function yU(t,e){if(t.limitType==="F")return VT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new xg(s.field,a)});const n=t.endAt?new vg(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new vg(t.startAt.position,t.startAt.inclusive):null;return VT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Gb(t,e){const n=t.filters.concat([e]);return new Lp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kb(t,e,n){return new Lp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ry(t,e){return Pw(bo(t),bo(e))&&t.limitType===e.limitType}function lj(t){return`${Iw(bo(t))}|lt:${t.limitType}`}function du(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>sj(s)).join(", ")}]`),iy(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>nh(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>nh(s)).join(",")),`Target(${i})`}(bo(t))}; limitType=${t.limitType})`}function sy(t,e){return e.isFoundDocument()&&function(i,s){const a=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):on.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(t,e)&&function(i,s){for(const a of qd(i))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const a of i.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(u,m,x){const _=FT(u,m,x);return u.inclusive?_<=0:_<0}(i.startAt,qd(i),s)||i.endAt&&!function(u,m,x){const _=FT(u,m,x);return u.inclusive?_>=0:_>0}(i.endAt,qd(i),s))}(t,e)}function vU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cj(t){return(e,n)=>{let i=!1;for(const s of qd(t)){const a=xU(s,e,n);if(a!==0)return a;i=i||s.field.isKeyField()}return 0}}function xU(t,e,n){const i=t.field.isKeyField()?on.comparator(e.key,n.key):function(a,u,m){const x=u.data.field(a),_=m.data.field(a);return x!==null&&_!==null?th(x,_):un()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return un()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,a]of i)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ac(this.inner,(n,i)=>{for(const[s,a]of i)e(s,a)})}isEmpty(){return JN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=new gi(on.comparator);function ia(){return bU}const uj=new gi(on.comparator);function Ad(...t){let e=uj;for(const n of t)e=e.insert(n.key,n);return e}function hj(t){let e=uj;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function tc(){return $d()}function dj(){return $d()}function $d(){return new fh(t=>t.toString(),(t,e)=>t.isEqual(e))}const wU=new gi(on.comparator),_U=new ir(on.comparator);function An(...t){let e=_U;for(const n of t)e=e.add(n);return e}const EU=new ir(Fn);function kU(){return EU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yg(e)?"-0":e}}function pj(t){return{integerValue:""+t}}function TU(t,e){return tU(e)?pj(e):Rw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(){this._=void 0}}function CU(t,e,n){return t instanceof bg?function(s,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Aw(a)&&(a=Nw(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(n,e):t instanceof wp?mj(t,e):t instanceof _p?gj(t,e):function(s,a){const u=fj(s,a),m=zT(u)+zT(s.Pe);return $b(u)&&$b(s.Pe)?pj(m):Rw(s.serializer,m)}(t,e)}function SU(t,e,n){return t instanceof wp?mj(t,e):t instanceof _p?gj(t,e):n}function fj(t,e){return t instanceof wg?function(i){return $b(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class bg extends oy{}class wp extends oy{constructor(e){super(),this.elements=e}}function mj(t,e){const n=yj(e);for(const i of t.elements)n.some(s=>_o(s,i))||n.push(i);return{arrayValue:{values:n}}}class _p extends oy{constructor(e){super(),this.elements=e}}function gj(t,e){let n=yj(e);for(const i of t.elements)n=n.filter(s=>!_o(s,i));return{arrayValue:{values:n}}}class wg extends oy{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function zT(t){return Ti(t.integerValue||t.doubleValue)}function yj(t){return jw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function AU(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof wp&&s instanceof wp||i instanceof _p&&s instanceof _p?eh(i.elements,s.elements,_o):i instanceof wg&&s instanceof wg?_o(i.Pe,s.Pe):i instanceof bg&&s instanceof bg}(t.transform,e.transform)}class NU{constructor(e,n){this.version=e,this.transformResults=n}}class Hs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hs}static exists(e){return new Hs(void 0,e)}static updateTime(e){return new Hs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ay{}function vj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Dw(t.key,Hs.none()):new Fp(t.key,t.data,Hs.none());{const n=t.data,i=Dr.empty();let s=new ir(tr.comparator);for(let a of e.fields)if(!s.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?i.delete(a):i.set(a,u),s=s.add(a)}return new _l(t.key,i,new Zr(s.toArray()),Hs.none())}}function jU(t,e,n){t instanceof Fp?function(s,a,u){const m=s.value.clone(),x=$T(s.fieldTransforms,a,u.transformResults);m.setAll(x),a.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(t,e,n):t instanceof _l?function(s,a,u){if(!Pm(s.precondition,a))return void a.convertToUnknownDocument(u.version);const m=$T(s.fieldTransforms,a,u.transformResults),x=a.data;x.setAll(xj(s)),x.setAll(m),a.convertToFoundDocument(u.version,x).setHasCommittedMutations()}(t,e,n):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Hd(t,e,n,i){return t instanceof Fp?function(a,u,m,x){if(!Pm(a.precondition,u))return m;const _=a.value.clone(),I=HT(a.fieldTransforms,x,u);return _.setAll(I),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null}(t,e,n,i):t instanceof _l?function(a,u,m,x){if(!Pm(a.precondition,u))return m;const _=HT(a.fieldTransforms,x,u),I=u.data;return I.setAll(xj(a)),I.setAll(_),u.convertToFoundDocument(u.version,I).setHasLocalMutations(),m===null?null:m.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(j=>j.field))}(t,e,n,i):function(a,u,m){return Pm(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m}(t,e,n)}function IU(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),a=fj(i.transform,s||null);a!=null&&(n===null&&(n=Dr.empty()),n.set(i.field,a))}return n||null}function qT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&eh(i,s,(a,u)=>AU(a,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fp extends ay{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class _l extends ay{constructor(e,n,i,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function xj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function $T(t,e,n){const i=new Map;qn(t.length===n.length);for(let s=0;s<n.length;s++){const a=t[s],u=a.transform,m=e.data.field(a.field);i.set(a.field,SU(u,m,n[s]))}return i}function HT(t,e,n){const i=new Map;for(const s of t){const a=s.transform,u=n.data.field(s.field);i.set(s.field,CU(a,u,e))}return i}class Dw extends ay{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PU extends ay{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&jU(a,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Hd(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Hd(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=dj();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let m=this.applyToLocalView(u,a.mutatedFields);m=n.has(s.key)?null:m;const x=vj(u,m);x!==null&&i.set(s.key,x),u.isValidDocument()||u.convertToNoDocument(fn.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),An())}isEqual(e){return this.batchId===e.batchId&&eh(this.mutations,e.mutations,(n,i)=>qT(n,i))&&eh(this.baseMutations,e.baseMutations,(n,i)=>qT(n,i))}}class Ow{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){qn(e.mutations.length===i.length);let s=function(){return wU}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,i[u].version);return new Ow(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ri,In;function OU(t){switch(t){default:return un();case yt.CANCELLED:case yt.UNKNOWN:case yt.DEADLINE_EXCEEDED:case yt.RESOURCE_EXHAUSTED:case yt.INTERNAL:case yt.UNAVAILABLE:case yt.UNAUTHENTICATED:return!1;case yt.INVALID_ARGUMENT:case yt.NOT_FOUND:case yt.ALREADY_EXISTS:case yt.PERMISSION_DENIED:case yt.FAILED_PRECONDITION:case yt.ABORTED:case yt.OUT_OF_RANGE:case yt.UNIMPLEMENTED:case yt.DATA_LOSS:return!0}}function bj(t){if(t===void 0)return na("GRPC error has no .code"),yt.UNKNOWN;switch(t){case Ri.OK:return yt.OK;case Ri.CANCELLED:return yt.CANCELLED;case Ri.UNKNOWN:return yt.UNKNOWN;case Ri.DEADLINE_EXCEEDED:return yt.DEADLINE_EXCEEDED;case Ri.RESOURCE_EXHAUSTED:return yt.RESOURCE_EXHAUSTED;case Ri.INTERNAL:return yt.INTERNAL;case Ri.UNAVAILABLE:return yt.UNAVAILABLE;case Ri.UNAUTHENTICATED:return yt.UNAUTHENTICATED;case Ri.INVALID_ARGUMENT:return yt.INVALID_ARGUMENT;case Ri.NOT_FOUND:return yt.NOT_FOUND;case Ri.ALREADY_EXISTS:return yt.ALREADY_EXISTS;case Ri.PERMISSION_DENIED:return yt.PERMISSION_DENIED;case Ri.FAILED_PRECONDITION:return yt.FAILED_PRECONDITION;case Ri.ABORTED:return yt.ABORTED;case Ri.OUT_OF_RANGE:return yt.OUT_OF_RANGE;case Ri.UNIMPLEMENTED:return yt.UNIMPLEMENTED;case Ri.DATA_LOSS:return yt.DATA_LOSS;default:return un()}}(In=Ri||(Ri={}))[In.OK=0]="OK",In[In.CANCELLED=1]="CANCELLED",In[In.UNKNOWN=2]="UNKNOWN",In[In.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",In[In.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",In[In.NOT_FOUND=5]="NOT_FOUND",In[In.ALREADY_EXISTS=6]="ALREADY_EXISTS",In[In.PERMISSION_DENIED=7]="PERMISSION_DENIED",In[In.UNAUTHENTICATED=16]="UNAUTHENTICATED",In[In.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",In[In.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",In[In.ABORTED=10]="ABORTED",In[In.OUT_OF_RANGE=11]="OUT_OF_RANGE",In[In.UNIMPLEMENTED=12]="UNIMPLEMENTED",In[In.INTERNAL=13]="INTERNAL",In[In.UNAVAILABLE=14]="UNAVAILABLE",In[In.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=new sc([4294967295,4294967295],0);function WT(t){const e=LU().encode(t),n=new $N;return n.update(e),new Uint8Array(n.digest())}function GT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new sc([n,i],0),new sc([s,a],0)]}class Lw{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Nd(`Invalid padding: ${n}`);if(i<0)throw new Nd(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Nd(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Nd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=sc.fromNumber(this.Ie)}Ee(e,n,i){let s=e.add(n.multiply(sc.fromNumber(i)));return s.compare(FU)===1&&(s=new sc([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=WT(e),[i,s]=GT(n);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,s,a);if(!this.de(u))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Lw(a,s,n);return i.forEach(m=>u.insert(m)),u}insert(e){if(this.Ie===0)return;const n=WT(e),[i,s]=GT(n);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,s,a);this.Ae(u)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Nd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n,i,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Bp.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new ly(fn.min(),s,new gi(Fn),ia(),An())}}class Bp{constructor(e,n,i,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Bp(i,n,An(),An(),An())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n,i,s){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=s}}class wj{constructor(e,n){this.targetId=e,this.me=n}}class _j{constructor(e,n,i=sr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class KT{constructor(){this.fe=0,this.ge=XT(),this.pe=sr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=An(),n=An(),i=An();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:un()}}),new Bp(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=XT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class BU{constructor(e){this.Le=e,this.Be=new Map,this.ke=ia(),this.qe=YT(),this.Qe=new gi(Fn)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:un()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,i=e.me.count,s=this.Je(n);if(s){const a=s.target;if(Wb(a))if(i===0){const u=new on(a.path);this.Ue(n,u,vr.newNoDocument(u,fn.min()))}else qn(i===1);else{const u=this.Ye(n);if(u!==i){const m=this.Ze(e),x=m?this.Xe(m,e,u):1;if(x!==0){this.je(n);const _=x===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,_)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let u,m;try{u=gc(i).toUint8Array()}catch(x){if(x instanceof ZN)return Zu("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw x}try{m=new Lw(u,s,a)}catch(x){return Zu(x instanceof Nd?"BloomFilter error: ":"Applying bloom filter failed: ",x),null}return m.Ie===0?null:m}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let s=0;return i.forEach(a=>{const u=this.Le.tt(),m=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(m)||(this.Ue(n,a,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((a,u)=>{const m=this.Je(u);if(m){if(a.current&&Wb(m.target)){const x=new on(m.target.path);this.ke.get(x)!==null||this.it(u,x)||this.Ue(u,x,vr.newNoDocument(x,e))}a.be&&(n.set(u,a.ve()),a.Ce())}});let i=An();this.qe.forEach((a,u)=>{let m=!0;u.forEachWhile(x=>{const _=this.Je(x);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(i=i.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const s=new ly(e,n,this.Qe,this.ke,i);return this.ke=ia(),this.qe=YT(),this.Qe=new gi(Fn),s}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new KT,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ir(Fn),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Xt("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new KT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function YT(){return new gi(on.comparator)}function XT(){return new gi(on.comparator)}const VU={asc:"ASCENDING",desc:"DESCENDING"},UU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zU={and:"AND",or:"OR"};class qU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yb(t,e){return t.useProto3Json||iy(e)?e:{value:e}}function _g(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ej(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $U(t,e){return _g(t,e.toTimestamp())}function wo(t){return qn(!!t),fn.fromTimestamp(function(n){const i=fl(n);return new zi(i.seconds,i.nanos)}(t))}function Fw(t,e){return Xb(t,e).canonicalString()}function Xb(t,e){const n=function(s){return new ti(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function kj(t){const e=ti.fromString(t);return qn(Nj(e)),e}function Qb(t,e){return Fw(t.databaseId,e.path)}function hx(t,e){const n=kj(e);if(n.get(1)!==t.databaseId.projectId)throw new Ht(yt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ht(yt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new on(Cj(n))}function Tj(t,e){return Fw(t.databaseId,e)}function HU(t){const e=kj(t);return e.length===4?ti.emptyPath():Cj(e)}function Jb(t){return new ti(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Cj(t){return qn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function QT(t,e,n){return{name:Qb(t,e),fields:n.value.mapValue.fields}}function WU(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:un()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(_,I){return _.useProto3Json?(qn(I===void 0||typeof I=="string"),sr.fromBase64String(I||"")):(qn(I===void 0||I instanceof Buffer||I instanceof Uint8Array),sr.fromUint8Array(I||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&function(_){const I=_.code===void 0?yt.UNKNOWN:bj(_.code);return new Ht(I,_.message||"")}(u);n=new _j(i,s,a,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=hx(t,i.document.name),a=wo(i.document.updateTime),u=i.document.createTime?wo(i.document.createTime):fn.min(),m=new Dr({mapValue:{fields:i.document.fields}}),x=vr.newFoundDocument(s,a,u,m),_=i.targetIds||[],I=i.removedTargetIds||[];n=new Mm(_,I,x.key,x)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=hx(t,i.document),a=i.readTime?wo(i.readTime):fn.min(),u=vr.newNoDocument(s,a),m=i.removedTargetIds||[];n=new Mm([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=hx(t,i.document),a=i.removedTargetIds||[];n=new Mm([],a,s,null)}else{if(!("filter"in e))return un();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:a}=i,u=new DU(s,a),m=i.targetId;n=new wj(m,u)}}return n}function GU(t,e){let n;if(e instanceof Fp)n={update:QT(t,e.key,e.value)};else if(e instanceof Dw)n={delete:Qb(t,e.key)};else if(e instanceof _l)n={update:QT(t,e.key,e.data),updateMask:n4(e.fieldMask)};else{if(!(e instanceof PU))return un();n={verify:Qb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(a,u){const m=u.transform;if(m instanceof bg)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof wp)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof _p)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof wg)return{fieldPath:u.field.canonicalString(),increment:m.Pe};throw un()}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:$U(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:un()}(t,e.precondition)),n}function KU(t,e){return t&&t.length>0?(qn(e!==void 0),t.map(n=>function(s,a){let u=s.updateTime?wo(s.updateTime):wo(a);return u.isEqual(fn.min())&&(u=wo(a)),new NU(u,s.transformResults||[])}(n,e))):[]}function YU(t,e){return{documents:[Tj(t,e.path)]}}function XU(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Tj(t,s);const a=function(_){if(_.length!==0)return Aj(Ys.create(_,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const u=function(_){if(_.length!==0)return _.map(I=>function(z){return{field:pu(z.field),direction:ZU(z.dir)}}(I))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const m=Yb(t,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{_t:n,parent:s}}function QU(t){let e=HU(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){qn(i===1);const I=n.from[0];I.allDescendants?s=I.collectionId:e=e.child(I.collectionId)}let a=[];n.where&&(a=function(j){const z=Sj(j);return z instanceof Ys&&ij(z)?z.getFilters():[z]}(n.where));let u=[];n.orderBy&&(u=function(j){return j.map(z=>function(te){return new xg(fu(te.field),function(se){switch(se){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(te.direction))}(z))}(n.orderBy));let m=null;n.limit&&(m=function(j){let z;return z=typeof j=="object"?j.value:j,iy(z)?null:z}(n.limit));let x=null;n.startAt&&(x=function(j){const z=!!j.before,J=j.values||[];return new vg(J,z)}(n.startAt));let _=null;return n.endAt&&(_=function(j){const z=!j.before,J=j.values||[];return new vg(J,z)}(n.endAt)),gU(e,s,u,a,m,"F",x,_)}function JU(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return un()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Sj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=fu(n.unaryFilter.field);return Oi.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=fu(n.unaryFilter.field);return Oi.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=fu(n.unaryFilter.field);return Oi.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=fu(n.unaryFilter.field);return Oi.create(u,"!=",{nullValue:"NULL_VALUE"});default:return un()}}(t):t.fieldFilter!==void 0?function(n){return Oi.create(fu(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return un()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ys.create(n.compositeFilter.filters.map(i=>Sj(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return un()}}(n.compositeFilter.op))}(t):un()}function ZU(t){return VU[t]}function e4(t){return UU[t]}function t4(t){return zU[t]}function pu(t){return{fieldPath:t.canonicalString()}}function fu(t){return tr.fromServerFormat(t.fieldPath)}function Aj(t){return t instanceof Oi?function(n){if(n.op==="=="){if(LT(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NAN"}};if(OT(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LT(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NOT_NAN"}};if(OT(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pu(n.field),op:e4(n.op),value:n.value}}}(t):t instanceof Ys?function(n){const i=n.getFilters().map(s=>Aj(s));return i.length===1?i[0]:{compositeFilter:{op:t4(n.op),filters:i}}}(t):un()}function n4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Nj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n,i,s,a=fn.min(),u=fn.min(),m=sr.EMPTY_BYTE_STRING,x=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=x}withSequenceNumber(e){return new Ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.ct=e}}function r4(t){const e=QU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.un=new o4}addToCollectionParentIndex(e,n){return this.un.add(n),wt.resolve()}getCollectionParents(e,n){return wt.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return wt.resolve()}deleteFieldIndex(e,n){return wt.resolve()}deleteAllFieldIndexes(e){return wt.resolve()}createTargetIndexes(e,n){return wt.resolve()}getDocumentsMatchingTarget(e,n){return wt.resolve(null)}getIndexType(e,n){return wt.resolve(0)}getFieldIndexes(e,n){return wt.resolve([])}getNextCollectionGroupToUpdate(e){return wt.resolve(null)}getMinOffset(e,n){return wt.resolve(pl.min())}getMinOffsetFromCollectionGroup(e,n){return wt.resolve(pl.min())}updateCollectionGroup(e,n,i){return wt.resolve()}updateIndexEntries(e,n){return wt.resolve()}}class o4{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new ir(ti.comparator),a=!s.has(i);return this.index[n]=s.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new ir(ti.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ih(0)}static kn(){return new ih(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(){this.changes=new fh(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?wt.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&Hd(i.mutation,s,Zr.empty(),zi.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,An()).next(()=>i))}getLocalViewOfDocuments(e,n,i=An()){const s=tc();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(a=>{let u=Ad();return a.forEach((m,x)=>{u=u.insert(m,x.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const i=tc();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,An()))}populateOverlays(e,n,i){const s=[];return i.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,m)=>{n.set(u,m)})})}computeViews(e,n,i,s){let a=ia();const u=$d(),m=function(){return $d()}();return n.forEach((x,_)=>{const I=i.get(_.key);s.has(_.key)&&(I===void 0||I.mutation instanceof _l)?a=a.insert(_.key,_):I!==void 0?(u.set(_.key,I.mutation.getFieldMask()),Hd(I.mutation,_,I.mutation.getFieldMask(),zi.now())):u.set(_.key,Zr.empty())}),this.recalculateAndSaveOverlays(e,a).next(x=>(x.forEach((_,I)=>u.set(_,I)),n.forEach((_,I)=>{var j;return m.set(_,new l4(I,(j=u.get(_))!==null&&j!==void 0?j:null))}),m))}recalculateAndSaveOverlays(e,n){const i=$d();let s=new gi((u,m)=>u-m),a=An();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const m of u)m.keys().forEach(x=>{const _=n.get(x);if(_===null)return;let I=i.get(x)||Zr.empty();I=m.applyToLocalView(_,I),i.set(x,I);const j=(s.get(m.batchId)||An()).add(x);s=s.insert(m.batchId,j)})}).next(()=>{const u=[],m=s.getReverseIterator();for(;m.hasNext();){const x=m.getNext(),_=x.key,I=x.value,j=dj();I.forEach(z=>{if(!a.has(z)){const J=vj(n.get(z),i.get(z));J!==null&&j.set(z,J),a=a.add(z)}}),u.push(this.documentOverlayCache.saveOverlays(e,_,j))}return wt.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(u){return on.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-a.size):wt.resolve(tc());let m=-1,x=a;return u.next(_=>wt.forEach(_,(I,j)=>(m<j.largestBatchId&&(m=j.largestBatchId),a.get(I)?wt.resolve():this.remoteDocumentCache.getEntry(e,I).next(z=>{x=x.insert(I,z)}))).next(()=>this.populateOverlays(e,_,a)).next(()=>this.computeViews(e,x,_,An())).next(I=>({batchId:m,changes:hj(I)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new on(n)).next(i=>{let s=Ad();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const a=n.collectionGroup;let u=Ad();return this.indexManager.getCollectionParents(e,a).next(m=>wt.forEach(m,x=>{const _=function(j,z){return new Lp(z,null,j.explicitOrderBy.slice(),j.filters.slice(),j.limit,j.limitType,j.startAt,j.endAt)}(n,x.child(a));return this.getDocumentsMatchingCollectionQuery(e,_,i,s).next(I=>{I.forEach((j,z)=>{u=u.insert(j,z)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,i,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,s))).next(u=>{a.forEach((x,_)=>{const I=_.getKey();u.get(I)===null&&(u=u.insert(I,vr.newInvalidDocument(I)))});let m=Ad();return u.forEach((x,_)=>{const I=a.get(x);I!==void 0&&Hd(I.mutation,_,Zr.empty(),zi.now()),sy(n,_)&&(m=m.insert(x,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return wt.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:wo(s.createTime)}}(n)),wt.resolve()}getNamedQuery(e,n){return wt.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:r4(s.bundledQuery),readTime:wo(s.readTime)}}(n)),wt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.overlays=new gi(on.comparator),this.Ir=new Map}getOverlay(e,n){return wt.resolve(this.overlays.get(n))}getOverlays(e,n){const i=tc();return wt.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&i.set(s,a)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,a)=>{this.ht(e,n,a)}),wt.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.Ir.get(i);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(i)),wt.resolve()}getOverlaysForCollection(e,n,i){const s=tc(),a=n.length+1,u=new on(n.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const x=m.getNext().value,_=x.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===a&&x.largestBatchId>i&&s.set(x.getKey(),x)}return wt.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let a=new gi((_,I)=>_-I);const u=this.overlays.getIterator();for(;u.hasNext();){const _=u.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>i){let I=a.get(_.largestBatchId);I===null&&(I=tc(),a=a.insert(_.largestBatchId,I)),I.set(_.getKey(),_)}}const m=tc(),x=a.getIterator();for(;x.hasNext()&&(x.getNext().value.forEach((_,I)=>m.set(_,I)),!(m.size()>=s)););return wt.resolve(m)}ht(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const u=this.Ir.get(s.largestBatchId).delete(i.key);this.Ir.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new RU(n,i));let a=this.Ir.get(n);a===void 0&&(a=An(),this.Ir.set(n,a)),this.Ir.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.sessionToken=sr.EMPTY_BYTE_STRING}getSessionToken(e){return wt.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,wt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.Tr=new ir($i.Er),this.dr=new ir($i.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new $i(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new $i(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){const n=new on(new ti([])),i=new $i(n,e),s=new $i(n,e+1),a=[];return this.dr.forEachInRange([i,s],u=>{this.Vr(u),a.push(u.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new on(new ti([])),i=new $i(n,e),s=new $i(n,e+1);let a=An();return this.dr.forEachInRange([i,s],u=>{a=a.add(u.key)}),a}containsKey(e){const n=new $i(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class $i{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return on.comparator(e.key,n.key)||Fn(e.wr,n.wr)}static Ar(e,n){return Fn(e.wr,n.wr)||on.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ir($i.Er)}checkEmpty(e){return wt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new MU(a,n,i,s);this.mutationQueue.push(u);for(const m of s)this.br=this.br.add(new $i(m.key,a)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return wt.resolve(u)}lookupMutationBatch(e,n){return wt.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.vr(i),a=s<0?0:s;return wt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return wt.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return wt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new $i(n,0),s=new $i(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([i,s],u=>{const m=this.Dr(u.wr);a.push(m)}),wt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new ir(Fn);return n.forEach(s=>{const a=new $i(s,0),u=new $i(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,u],m=>{i=i.add(m.wr)})}),wt.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let a=i;on.isDocumentKey(a)||(a=a.child(""));const u=new $i(new on(a),0);let m=new ir(Fn);return this.br.forEachWhile(x=>{const _=x.key.path;return!!i.isPrefixOf(_)&&(_.length===s&&(m=m.add(x.wr)),!0)},u),wt.resolve(this.Cr(m))}Cr(e){const n=[];return e.forEach(i=>{const s=this.Dr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){qn(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return wt.forEach(n.mutations,s=>{const a=new $i(s.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){const i=new $i(n,0),s=this.br.firstAfterOrEqual(i);return wt.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,wt.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e){this.Mr=e,this.docs=function(){return new gi(on.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),a=s?s.size:0,u=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return wt.resolve(i?i.document.mutableCopy():vr.newInvalidDocument(n))}getEntries(e,n){let i=ia();return n.forEach(s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():vr.newInvalidDocument(s))}),wt.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let a=ia();const u=n.path,m=new on(u.child("")),x=this.docs.getIteratorFrom(m);for(;x.hasNext();){const{key:_,value:{document:I}}=x.getNext();if(!u.isPrefixOf(_.path))break;_.path.length>u.length+1||Q3(X3(I),i)<=0||(s.has(I.key)||sy(n,I))&&(a=a.insert(I.key,I.mutableCopy()))}return wt.resolve(a)}getAllFromCollectionGroup(e,n,i,s){un()}Or(e,n){return wt.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new m4(this)}getSize(e){return wt.resolve(this.size)}}class m4 extends a4{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(i)}),wt.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.persistence=e,this.Nr=new fh(n=>Iw(n),Pw),this.lastRemoteSnapshotVersion=fn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Bw,this.targetCount=0,this.kr=ih.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,s)=>n(s)),wt.resolve()}getLastRemoteSnapshotVersion(e){return wt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return wt.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),wt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),wt.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ih(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,wt.resolve()}updateTargetData(e,n){return this.Kn(n),wt.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,wt.resolve()}removeTargets(e,n,i){let s=0;const a=[];return this.Nr.forEach((u,m)=>{m.sequenceNumber<=n&&i.get(m.targetId)===null&&(this.Nr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),wt.waitFor(a).next(()=>s)}getTargetCount(e){return wt.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return wt.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),wt.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),wt.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),wt.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return wt.resolve(i)}containsKey(e,n){return wt.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Sw(0),this.Kr=!1,this.Kr=!0,this.$r=new d4,this.referenceDelegate=e(this),this.Ur=new g4(this),this.indexManager=new s4,this.remoteDocumentCache=function(s){return new f4(s)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new i4(n),this.Gr=new u4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new h4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new p4(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){Xt("MemoryPersistence","Starting transaction:",e);const s=new v4(this.Qr.next());return this.referenceDelegate.zr(),i(s).next(a=>this.referenceDelegate.jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Hr(e,n){return wt.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}}class v4 extends Z3{constructor(e){super(),this.currentSequenceNumber=e}}class Vw{constructor(e){this.persistence=e,this.Jr=new Bw,this.Yr=null}static Zr(e){return new Vw(e)}get Xr(){if(this.Yr)return this.Yr;throw un()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),wt.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),wt.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),wt.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.Xr.add(a.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return wt.forEach(this.Xr,i=>{const s=on.fromPath(i);return this.ei(e,s).next(a=>{a||n.removeEntry(s,fn.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return wt.or([()=>wt.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=s}static Wi(e,n){let i=An(),s=An();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Uw(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return sF()?8:eU(br())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,s){const a={result:null};return this.Yi(e,n).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.Zi(e,n,s,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new x4;return this.Xi(e,n,u).next(m=>{if(a.result=m,this.zi)return this.es(e,n,u,m.size)})}).next(()=>a.result)}es(e,n,i,s){return i.documentReadCount<this.ji?(md()<=Nn.DEBUG&&Xt("QueryEngine","SDK will not create cache indexes for query:",du(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),wt.resolve()):(md()<=Nn.DEBUG&&Xt("QueryEngine","Query:",du(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Hi*s?(md()<=Nn.DEBUG&&Xt("QueryEngine","The SDK decides to create cache indexes for query:",du(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bo(n))):wt.resolve())}Yi(e,n){if(UT(n))return wt.resolve(null);let i=bo(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Kb(n,null,"F"),i=bo(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=An(...a);return this.Ji.getDocuments(e,u).next(m=>this.indexManager.getMinOffset(e,i).next(x=>{const _=this.ts(n,m);return this.ns(n,_,u,x.readTime)?this.Yi(e,Kb(n,null,"F")):this.rs(e,_,n,x)}))})))}Zi(e,n,i,s){return UT(n)||s.isEqual(fn.min())?wt.resolve(null):this.Ji.getDocuments(e,i).next(a=>{const u=this.ts(n,a);return this.ns(n,u,i,s)?wt.resolve(null):(md()<=Nn.DEBUG&&Xt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),du(n)),this.rs(e,u,n,Y3(s,-1)).next(m=>m))})}ts(e,n){let i=new ir(cj(e));return n.forEach((s,a)=>{sy(e,a)&&(i=i.add(a))}),i}ns(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Xi(e,n,i){return md()<=Nn.DEBUG&&Xt("QueryEngine","Using full collection scan to execute query:",du(n)),this.Ji.getDocumentsMatchingQuery(e,n,pl.min(),i)}rs(e,n,i,s){return this.Ji.getDocumentsMatchingQuery(e,i,s).next(a=>(n.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,n,i,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new gi(Fn),this._s=new fh(a=>Iw(a),Pw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c4(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function _4(t,e,n,i){return new w4(t,e,n,i)}async function jj(t,e){const n=mn(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(a=>(s=a,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],m=[];let x=An();for(const _ of s){u.push(_.batchId);for(const I of _.mutations)x=x.add(I.key)}for(const _ of a){m.push(_.batchId);for(const I of _.mutations)x=x.add(I.key)}return n.localDocuments.getDocuments(i,x).next(_=>({hs:_,removedBatchIds:u,addedBatchIds:m}))})})}function E4(t,e){const n=mn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(m,x,_,I){const j=_.batch,z=j.keys();let J=wt.resolve();return z.forEach(te=>{J=J.next(()=>I.getEntry(x,te)).next(oe=>{const se=_.docVersions.get(te);qn(se!==null),oe.version.compareTo(se)<0&&(j.applyToRemoteDocument(oe,_),oe.isValidDocument()&&(oe.setReadTime(_.commitVersion),I.addEntry(oe)))})}),J.next(()=>m.mutationQueue.removeMutationBatch(x,j))}(n,i,e,a).next(()=>a.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(m){let x=An();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(x=x.add(m.batch.mutations[_].key));return x}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function Ij(t){const e=mn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function k4(t,e){const n=mn(t),i=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const m=[];e.targetChanges.forEach((I,j)=>{const z=s.get(j);if(!z)return;m.push(n.Ur.removeMatchingKeys(a,I.removedDocuments,j).next(()=>n.Ur.addMatchingKeys(a,I.addedDocuments,j)));let J=z.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(j)!==null?J=J.withResumeToken(sr.EMPTY_BYTE_STRING,fn.min()).withLastLimboFreeSnapshotVersion(fn.min()):I.resumeToken.approximateByteSize()>0&&(J=J.withResumeToken(I.resumeToken,i)),s=s.insert(j,J),function(oe,se,X){return oe.resumeToken.approximateByteSize()===0||se.snapshotVersion.toMicroseconds()-oe.snapshotVersion.toMicroseconds()>=3e8?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(z,J,I)&&m.push(n.Ur.updateTargetData(a,J))});let x=ia(),_=An();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(a,I))}),m.push(T4(a,u,e.documentUpdates).next(I=>{x=I.Ps,_=I.Is})),!i.isEqual(fn.min())){const I=n.Ur.getLastRemoteSnapshotVersion(a).next(j=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,i));m.push(I)}return wt.waitFor(m).next(()=>u.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,x,_)).next(()=>x)}).then(a=>(n.os=s,a))}function T4(t,e,n){let i=An(),s=An();return n.forEach(a=>i=i.add(a)),e.getEntries(t,i).next(a=>{let u=ia();return n.forEach((m,x)=>{const _=a.get(m);x.isFoundDocument()!==_.isFoundDocument()&&(s=s.add(m)),x.isNoDocument()&&x.version.isEqual(fn.min())?(e.removeEntry(m,x.readTime),u=u.insert(m,x)):!_.isValidDocument()||x.version.compareTo(_.version)>0||x.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(x),u=u.insert(m,x)):Xt("LocalStore","Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",x.version)}),{Ps:u,Is:s}})}function C4(t,e){const n=mn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function S4(t,e){const n=mn(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Ur.getTargetData(i,e).next(a=>a?(s=a,wt.resolve(s)):n.Ur.allocateTargetId(i).next(u=>(s=new Ya(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.os.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}async function Zb(t,e,n){const i=mn(t),s=i.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Op(u))throw u;Xt("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.os=i.os.remove(e),i._s.delete(s.target)}function JT(t,e,n){const i=mn(t);let s=fn.min(),a=An();return i.persistence.runTransaction("Execute query","readwrite",u=>function(x,_,I){const j=mn(x),z=j._s.get(I);return z!==void 0?wt.resolve(j.os.get(z)):j.Ur.getTargetData(_,I)}(i,u,bo(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(u,m.targetId).next(x=>{a=x})}).next(()=>i.ss.getDocumentsMatchingQuery(u,e,n?s:fn.min(),n?a:An())).next(m=>(A4(i,vU(e),m),{documents:m,Ts:a})))}function A4(t,e,n){let i=t.us.get(e)||fn.min();n.forEach((s,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),t.us.set(e,i)}class ZT{constructor(){this.activeTargetIds=kU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class N4{constructor(){this.so=new ZT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ZT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Xt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Xt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let im=null;function dx(){return im===null?im=function(){return 268435456+Math.round(2147483648*Math.random())}():im++,"0x"+im.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="WebChannelConnection";class M4 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${s}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}get Fo(){return!1}Mo(n,i,s,a,u){const m=dx(),x=this.xo(n,i.toUriEncodedString());Xt("RestConnection",`Sending RPC '${n}' ${m}:`,x,s);const _={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(_,a,u),this.No(n,x,_,s).then(I=>(Xt("RestConnection",`Received RPC '${n}' ${m}: `,I),I),I=>{throw Zu("RestConnection",`RPC '${n}' ${m} failed with error: `,I,"url: ",x,"request:",s),I})}Lo(n,i,s,a,u,m){return this.Mo(n,i,s,a,u)}Oo(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ph}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,u)=>n[u]=a),s&&s.headers.forEach((a,u)=>n[u]=a)}xo(n,i){const s=I4[n];return`${this.Do}/v1/${i}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,s){const a=dx();return new Promise((u,m)=>{const x=new HN;x.setWithCredentials(!0),x.listenOnce(WN.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case jm.NO_ERROR:const I=x.getResponseJson();Xt(mr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(I)),u(I);break;case jm.TIMEOUT:Xt(mr,`RPC '${e}' ${a} timed out`),m(new Ht(yt.DEADLINE_EXCEEDED,"Request time out"));break;case jm.HTTP_ERROR:const j=x.getStatus();if(Xt(mr,`RPC '${e}' ${a} failed with status:`,j,"response text:",x.getResponseText()),j>0){let z=x.getResponseJson();Array.isArray(z)&&(z=z[0]);const J=z==null?void 0:z.error;if(J&&J.status&&J.message){const te=function(se){const X=se.toLowerCase().replace(/_/g,"-");return Object.values(yt).indexOf(X)>=0?X:yt.UNKNOWN}(J.status);m(new Ht(te,J.message))}else m(new Ht(yt.UNKNOWN,"Server responded with status "+x.getStatus()))}else m(new Ht(yt.UNAVAILABLE,"Connection failed."));break;default:un()}}finally{Xt(mr,`RPC '${e}' ${a} completed.`)}});const _=JSON.stringify(s);Xt(mr,`RPC '${e}' ${a} sending request:`,s),x.send(n,"POST",_,i,15)})}Bo(e,n,i){const s=dx(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=YN(),m=KN(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(x.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(x.useFetchStreams=!0),this.Oo(x.initMessageHeaders,n,i),x.encodeInitMessageHeaders=!0;const I=a.join("");Xt(mr,`Creating RPC '${e}' stream ${s}: ${I}`,x);const j=u.createWebChannel(I,x);let z=!1,J=!1;const te=new P4({Io:se=>{J?Xt(mr,`Not sending because RPC '${e}' stream ${s} is closed:`,se):(z||(Xt(mr,`Opening RPC '${e}' stream ${s} transport.`),j.open(),z=!0),Xt(mr,`RPC '${e}' stream ${s} sending:`,se),j.send(se))},To:()=>j.close()}),oe=(se,X,L)=>{se.listen(X,G=>{try{L(G)}catch(ne){setTimeout(()=>{throw ne},0)}})};return oe(j,Sd.EventType.OPEN,()=>{J||(Xt(mr,`RPC '${e}' stream ${s} transport opened.`),te.yo())}),oe(j,Sd.EventType.CLOSE,()=>{J||(J=!0,Xt(mr,`RPC '${e}' stream ${s} transport closed`),te.So())}),oe(j,Sd.EventType.ERROR,se=>{J||(J=!0,Zu(mr,`RPC '${e}' stream ${s} transport errored:`,se),te.So(new Ht(yt.UNAVAILABLE,"The operation could not be completed")))}),oe(j,Sd.EventType.MESSAGE,se=>{var X;if(!J){const L=se.data[0];qn(!!L);const G=L,ne=G.error||((X=G[0])===null||X===void 0?void 0:X.error);if(ne){Xt(mr,`RPC '${e}' stream ${s} received error:`,ne);const ke=ne.status;let ge=function(H){const U=Ri[H];if(U!==void 0)return bj(U)}(ke),K=ne.message;ge===void 0&&(ge=yt.INTERNAL,K="Unknown error status: "+ke+" with message "+ne.message),J=!0,te.So(new Ht(ge,K)),j.close()}else Xt(mr,`RPC '${e}' stream ${s} received:`,L),te.bo(L)}}),oe(m,GN.STAT_EVENT,se=>{se.stat===zb.PROXY?Xt(mr,`RPC '${e}' stream ${s} detected buffering proxy`):se.stat===zb.NOPROXY&&Xt(mr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{te.wo()},0),te}}function px(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(t){return new qU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n,i=1e3,s=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=s,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-i);s>0&&Xt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e,n,i,s,a,u,m,x){this.ui=e,this.Ho=i,this.Jo=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=x,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Pj(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===yt.RESOURCE_EXHAUSTED?(na(n.toString()),na("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===yt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Yo===n&&this.P_(i,s)},i=>{e(()=>{const s=new Ht(yt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(s)})})}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{i(()=>this.I_(s))}),this.stream.onMessage(s=>{i(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Xt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Xt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class R4 extends Mj{constructor(e,n,i,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,u),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=WU(this.serializer,e),i=function(a){if(!("targetChange"in a))return fn.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?fn.min():u.readTime?wo(u.readTime):fn.min()}(e);return this.listener.d_(n,i)}A_(e){const n={};n.database=Jb(this.serializer),n.addTarget=function(a,u){let m;const x=u.target;if(m=Wb(x)?{documents:YU(a,x)}:{query:XU(a,x)._t},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=Ej(a,u.resumeToken);const _=Yb(a,u.expectedCount);_!==null&&(m.expectedCount=_)}else if(u.snapshotVersion.compareTo(fn.min())>0){m.readTime=_g(a,u.snapshotVersion.toTimestamp());const _=Yb(a,u.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const i=JU(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){const n={};n.database=Jb(this.serializer),n.removeTarget=e,this.a_(n)}}class D4 extends Mj{constructor(e,n,i,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,u),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return qn(!!e.streamToken),this.lastStreamToken=e.streamToken,qn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){qn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=KU(e.writeResults,e.commitTime),i=wo(e.commitTime);return this.listener.g_(i,n)}p_(){const e={};e.database=Jb(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>GU(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4 extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Ht(yt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Mo(e,Xb(n,i),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ht(yt.UNKNOWN,a.toString())})}Lo(e,n,i,s,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,m])=>this.connection.Lo(e,Xb(n,i),s,u,m,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ht(yt.UNKNOWN,u.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class L4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(na(n),this.D_=!1):Xt("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,n,i,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(u=>{i.enqueueAndForget(async()=>{Nc(this)&&(Xt("RemoteStore","Restarting streams for network reachability change."),await async function(x){const _=mn(x);_.L_.add(4),await Vp(_),_.q_.set("Unknown"),_.L_.delete(4),await uy(_)}(this))})}),this.q_=new L4(i,s)}}async function uy(t){if(Nc(t))for(const e of t.B_)await e(!0)}async function Vp(t){for(const e of t.B_)await e(!1)}function Rj(t,e){const n=mn(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Hw(n)?$w(n):mh(n).r_()&&qw(n,e))}function zw(t,e){const n=mn(t),i=mh(n);n.N_.delete(e),i.r_()&&Dj(n,e),n.N_.size===0&&(i.r_()?i.o_():Nc(n)&&n.q_.set("Unknown"))}function qw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fn.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mh(t).A_(e)}function Dj(t,e){t.Q_.xe(e),mh(t).R_(e)}function $w(t){t.Q_=new BU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),mh(t).start(),t.q_.v_()}function Hw(t){return Nc(t)&&!mh(t).n_()&&t.N_.size>0}function Nc(t){return mn(t).L_.size===0}function Oj(t){t.Q_=void 0}async function B4(t){t.q_.set("Online")}async function V4(t){t.N_.forEach((e,n)=>{qw(t,e)})}async function U4(t,e){Oj(t),Hw(t)?(t.q_.M_(e),$w(t)):t.q_.set("Unknown")}async function z4(t,e,n){if(t.q_.set("Online"),e instanceof _j&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const m of a.targetIds)s.N_.has(m)&&(await s.remoteSyncer.rejectListen(m,u),s.N_.delete(m),s.Q_.removeTarget(m))}(t,e)}catch(i){Xt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Eg(t,i)}else if(e instanceof Mm?t.Q_.Ke(e):e instanceof wj?t.Q_.He(e):t.Q_.We(e),!n.isEqual(fn.min()))try{const i=await Ij(t.localStore);n.compareTo(i)>=0&&await function(a,u){const m=a.Q_.rt(u);return m.targetChanges.forEach((x,_)=>{if(x.resumeToken.approximateByteSize()>0){const I=a.N_.get(_);I&&a.N_.set(_,I.withResumeToken(x.resumeToken,u))}}),m.targetMismatches.forEach((x,_)=>{const I=a.N_.get(x);if(!I)return;a.N_.set(x,I.withResumeToken(sr.EMPTY_BYTE_STRING,I.snapshotVersion)),Dj(a,x);const j=new Ya(I.target,x,_,I.sequenceNumber);qw(a,j)}),a.remoteSyncer.applyRemoteEvent(m)}(t,n)}catch(i){Xt("RemoteStore","Failed to raise snapshot:",i),await Eg(t,i)}}async function Eg(t,e,n){if(!Op(e))throw e;t.L_.add(1),await Vp(t),t.q_.set("Offline"),n||(n=()=>Ij(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Xt("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await uy(t)})}function Lj(t,e){return e().catch(n=>Eg(t,n,e))}async function hy(t){const e=mn(t),n=ml(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;q4(e);)try{const s=await C4(e.localStore,i);if(s===null){e.O_.length===0&&n.o_();break}i=s.batchId,$4(e,s)}catch(s){await Eg(e,s)}Fj(e)&&Bj(e)}function q4(t){return Nc(t)&&t.O_.length<10}function $4(t,e){t.O_.push(e);const n=ml(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Fj(t){return Nc(t)&&!ml(t).n_()&&t.O_.length>0}function Bj(t){ml(t).start()}async function H4(t){ml(t).p_()}async function W4(t){const e=ml(t);for(const n of t.O_)e.m_(n.mutations)}async function G4(t,e,n){const i=t.O_.shift(),s=Ow.from(i,e,n);await Lj(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await hy(t)}async function K4(t,e){e&&ml(t).V_&&await async function(i,s){if(function(u){return OU(u)&&u!==yt.ABORTED}(s.code)){const a=i.O_.shift();ml(i).s_(),await Lj(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s)),await hy(i)}}(t,e),Fj(t)&&Bj(t)}async function tC(t,e){const n=mn(t);n.asyncQueue.verifyOperationInProgress(),Xt("RemoteStore","RemoteStore received new credentials");const i=Nc(n);n.L_.add(3),await Vp(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await uy(n)}async function Y4(t,e){const n=mn(t);e?(n.L_.delete(2),await uy(n)):e||(n.L_.add(2),await Vp(n),n.q_.set("Unknown"))}function mh(t){return t.K_||(t.K_=function(n,i,s){const a=mn(n);return a.w_(),new R4(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Eo:B4.bind(null,t),Ro:V4.bind(null,t),mo:U4.bind(null,t),d_:z4.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Hw(t)?$w(t):t.q_.set("Unknown")):(await t.K_.stop(),Oj(t))})),t.K_}function ml(t){return t.U_||(t.U_=function(n,i,s){const a=mn(n);return a.w_(),new D4(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:H4.bind(null,t),mo:K4.bind(null,t),f_:W4.bind(null,t),g_:G4.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await hy(t)):(await t.U_.stop(),t.O_.length>0&&(Xt("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n,i,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new Ko,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,a){const u=Date.now()+i,m=new Ww(e,n,u,s,a);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ht(yt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gw(t,e){if(na("AsyncQueue",`${e}: ${t}`),Op(t))return new Ht(yt.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e){this.comparator=e?(n,i)=>e(n,i)||on.comparator(n.key,i.key):(n,i)=>on.comparator(n.key,i.key),this.keyedMap=Ad(),this.sortedSet=new gi(this.comparator)}static emptySet(e){return new qu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new qu;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(){this.W_=new gi(on.comparator)}track(e){const n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):un():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}}class rh{constructor(e,n,i,s,a,u,m,x,_){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=x,this.hasCachedResults=_}static fromInitialDocuments(e,n,i,s,a){const u=[];return n.forEach(m=>{u.push({type:0,doc:m})}),new rh(e,n,qu.emptySet(n),u,i,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ry(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Q4{constructor(){this.queries=iC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const s=mn(n),a=s.queries;s.queries=iC(),a.forEach((u,m)=>{for(const x of m.j_)x.onError(i)})})(this,new Ht(yt.ABORTED,"Firestore shutting down"))}}function iC(){return new fh(t=>lj(t),ry)}async function Vj(t,e){const n=mn(t);let i=3;const s=e.query;let a=n.queries.get(s);a?!a.H_()&&e.J_()&&(i=2):(a=new X4,i=e.J_()?0:1);try{switch(i){case 0:a.z_=await n.onListen(s,!0);break;case 1:a.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const m=Gw(u,`Initialization of query '${du(e.query)}' failed`);return void e.onError(m)}n.queries.set(s,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&Kw(n)}async function Uj(t,e){const n=mn(t),i=e.query;let s=3;const a=n.queries.get(i);if(a){const u=a.j_.indexOf(e);u>=0&&(a.j_.splice(u,1),a.j_.length===0?s=e.J_()?0:1:!a.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function J4(t,e){const n=mn(t);let i=!1;for(const s of e){const a=s.query,u=n.queries.get(a);if(u){for(const m of u.j_)m.X_(s)&&(i=!0);u.z_=s}}i&&Kw(n)}function Z4(t,e,n){const i=mn(t),s=i.queries.get(e);if(s)for(const a of s.j_)a.onError(n);i.queries.delete(e)}function Kw(t){t.Y_.forEach(e=>{e.next()})}var e0,rC;(rC=e0||(e0={})).ea="default",rC.Cache="cache";class zj{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new rh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=rh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==e0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e){this.key=e}}class $j{constructor(e){this.key=e}}class e5{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=An(),this.mutatedKeys=An(),this.Aa=cj(e),this.Ra=new qu(this.Aa)}get Va(){return this.Ta}ma(e,n){const i=n?n.fa:new nC,s=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,u=s,m=!1;const x=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,_=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((I,j)=>{const z=s.get(I),J=sy(this.query,j)?j:null,te=!!z&&this.mutatedKeys.has(z.key),oe=!!J&&(J.hasLocalMutations||this.mutatedKeys.has(J.key)&&J.hasCommittedMutations);let se=!1;z&&J?z.data.isEqual(J.data)?te!==oe&&(i.track({type:3,doc:J}),se=!0):this.ga(z,J)||(i.track({type:2,doc:J}),se=!0,(x&&this.Aa(J,x)>0||_&&this.Aa(J,_)<0)&&(m=!0)):!z&&J?(i.track({type:0,doc:J}),se=!0):z&&!J&&(i.track({type:1,doc:z}),se=!0,(x||_)&&(m=!0)),se&&(J?(u=u.add(J),a=oe?a.add(I):a.delete(I)):(u=u.delete(I),a=a.delete(I)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const I=this.query.limitType==="F"?u.last():u.first();u=u.delete(I.key),a=a.delete(I.key),i.track({type:1,doc:I})}return{Ra:u,fa:i,ns:m,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const u=e.fa.G_();u.sort((I,j)=>function(J,te){const oe=se=>{switch(se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return un()}};return oe(J)-oe(te)}(I.type,j.type)||this.Aa(I.doc,j.doc)),this.pa(i),s=s!=null&&s;const m=n&&!s?this.ya():[],x=this.da.size===0&&this.current&&!s?1:0,_=x!==this.Ea;return this.Ea=x,u.length!==0||_?{snapshot:new rh(this.query,e.Ra,a,u,e.mutatedKeys,x===0,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new nC,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=An(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return e.forEach(i=>{this.da.has(i)||n.push(new $j(i))}),this.da.forEach(i=>{e.has(i)||n.push(new qj(i))}),n}ba(e){this.Ta=e.Ts,this.da=An();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return rh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class t5{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class n5{constructor(e){this.key=e,this.va=!1}}class i5{constructor(e,n,i,s,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ca={},this.Fa=new fh(m=>lj(m),ry),this.Ma=new Map,this.xa=new Set,this.Oa=new gi(on.comparator),this.Na=new Map,this.La=new Bw,this.Ba={},this.ka=new Map,this.qa=ih.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function r5(t,e,n=!0){const i=Xj(t);let s;const a=i.Fa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Da()):s=await Hj(i,e,n,!0),s}async function s5(t,e){const n=Xj(t);await Hj(n,e,!0,!1)}async function Hj(t,e,n,i){const s=await S4(t.localStore,bo(e)),a=s.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let m;return i&&(m=await o5(t,e,a,u==="current",s.resumeToken)),t.isPrimaryClient&&n&&Rj(t.remoteStore,s),m}async function o5(t,e,n,i,s){t.Ka=(j,z,J)=>async function(oe,se,X,L){let G=se.view.ma(X);G.ns&&(G=await JT(oe.localStore,se.query,!1).then(({documents:K})=>se.view.ma(K,G)));const ne=L&&L.targetChanges.get(se.targetId),ke=L&&L.targetMismatches.get(se.targetId)!=null,ge=se.view.applyChanges(G,oe.isPrimaryClient,ne,ke);return oC(oe,se.targetId,ge.wa),ge.snapshot}(t,j,z,J);const a=await JT(t.localStore,e,!0),u=new e5(e,a.Ts),m=u.ma(a.documents),x=Bp.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),_=u.applyChanges(m,t.isPrimaryClient,x);oC(t,n,_.wa);const I=new t5(e,n,u);return t.Fa.set(e,I),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),_.snapshot}async function a5(t,e,n){const i=mn(t),s=i.Fa.get(e),a=i.Ma.get(s.targetId);if(a.length>1)return i.Ma.set(s.targetId,a.filter(u=>!ry(u,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Zb(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&zw(i.remoteStore,s.targetId),t0(i,s.targetId)}).catch(Dp)):(t0(i,s.targetId),await Zb(i.localStore,s.targetId,!0))}async function l5(t,e){const n=mn(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),zw(n.remoteStore,i.targetId))}async function c5(t,e,n){const i=g5(t);try{const s=await function(u,m){const x=mn(u),_=zi.now(),I=m.reduce((J,te)=>J.add(te.key),An());let j,z;return x.persistence.runTransaction("Locally write mutations","readwrite",J=>{let te=ia(),oe=An();return x.cs.getEntries(J,I).next(se=>{te=se,te.forEach((X,L)=>{L.isValidDocument()||(oe=oe.add(X))})}).next(()=>x.localDocuments.getOverlayedDocuments(J,te)).next(se=>{j=se;const X=[];for(const L of m){const G=IU(L,j.get(L.key).overlayedDocument);G!=null&&X.push(new _l(L.key,G,ej(G.value.mapValue),Hs.exists(!0)))}return x.mutationQueue.addMutationBatch(J,_,X,m)}).next(se=>{z=se;const X=se.applyToLocalDocumentSet(j,oe);return x.documentOverlayCache.saveOverlays(J,se.batchId,X)})}).then(()=>({batchId:z.batchId,changes:hj(j)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(u,m,x){let _=u.Ba[u.currentUser.toKey()];_||(_=new gi(Fn)),_=_.insert(m,x),u.Ba[u.currentUser.toKey()]=_}(i,s.batchId,n),await Up(i,s.changes),await hy(i.remoteStore)}catch(s){const a=Gw(s,"Failed to persist write");n.reject(a)}}async function Wj(t,e){const n=mn(t);try{const i=await k4(n.localStore,e);e.targetChanges.forEach((s,a)=>{const u=n.Na.get(a);u&&(qn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.va=!0:s.modifiedDocuments.size>0?qn(u.va):s.removedDocuments.size>0&&(qn(u.va),u.va=!1))}),await Up(n,i,e)}catch(i){await Dp(i)}}function sC(t,e,n){const i=mn(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Fa.forEach((a,u)=>{const m=u.view.Z_(e);m.snapshot&&s.push(m.snapshot)}),function(u,m){const x=mn(u);x.onlineState=m;let _=!1;x.queries.forEach((I,j)=>{for(const z of j.j_)z.Z_(m)&&(_=!0)}),_&&Kw(x)}(i.eventManager,e),s.length&&i.Ca.d_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function u5(t,e,n){const i=mn(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Na.get(e),a=s&&s.key;if(a){let u=new gi(on.comparator);u=u.insert(a,vr.newNoDocument(a,fn.min()));const m=An().add(a),x=new ly(fn.min(),new Map,new gi(Fn),u,m);await Wj(i,x),i.Oa=i.Oa.remove(a),i.Na.delete(e),Yw(i)}else await Zb(i.localStore,e,!1).then(()=>t0(i,e,n)).catch(Dp)}async function h5(t,e){const n=mn(t),i=e.batch.batchId;try{const s=await E4(n.localStore,e);Kj(n,i,null),Gj(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Up(n,s)}catch(s){await Dp(s)}}async function d5(t,e,n){const i=mn(t);try{const s=await function(u,m){const x=mn(u);return x.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let I;return x.mutationQueue.lookupMutationBatch(_,m).next(j=>(qn(j!==null),I=j.keys(),x.mutationQueue.removeMutationBatch(_,j))).next(()=>x.mutationQueue.performConsistencyCheck(_)).next(()=>x.documentOverlayCache.removeOverlaysForBatchId(_,I,m)).next(()=>x.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,I)).next(()=>x.localDocuments.getDocuments(_,I))})}(i.localStore,e);Kj(i,e,n),Gj(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Up(i,s)}catch(s){await Dp(s)}}function Gj(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Kj(t,e,n){const i=mn(t);let s=i.Ba[i.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),i.Ba[i.currentUser.toKey()]=s}}function t0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(i=>{t.La.containsKey(i)||Yj(t,i)})}function Yj(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(zw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Yw(t))}function oC(t,e,n){for(const i of n)i instanceof qj?(t.La.addReference(i.key,e),p5(t,i)):i instanceof $j?(Xt("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||Yj(t,i.key)):un()}function p5(t,e){const n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(Xt("SyncEngine","New document in limbo: "+n),t.xa.add(i),Yw(t))}function Yw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new on(ti.fromString(e)),i=t.qa.next();t.Na.set(i,new n5(n)),t.Oa=t.Oa.insert(n,i),Rj(t.remoteStore,new Ya(bo(Mw(n.path)),i,"TargetPurposeLimboResolution",Sw.oe))}}async function Up(t,e,n){const i=mn(t),s=[],a=[],u=[];i.Fa.isEmpty()||(i.Fa.forEach((m,x)=>{u.push(i.Ka(x,e,n).then(_=>{var I;if((_||n)&&i.isPrimaryClient){const j=_?!_.fromCache:(I=n==null?void 0:n.targetChanges.get(x.targetId))===null||I===void 0?void 0:I.current;i.sharedClientState.updateQueryState(x.targetId,j?"current":"not-current")}if(_){s.push(_);const j=Uw.Wi(x.targetId,_);a.push(j)}}))}),await Promise.all(u),i.Ca.d_(s),await async function(x,_){const I=mn(x);try{await I.persistence.runTransaction("notifyLocalViewChanges","readwrite",j=>wt.forEach(_,z=>wt.forEach(z.$i,J=>I.persistence.referenceDelegate.addReference(j,z.targetId,J)).next(()=>wt.forEach(z.Ui,J=>I.persistence.referenceDelegate.removeReference(j,z.targetId,J)))))}catch(j){if(!Op(j))throw j;Xt("LocalStore","Failed to update sequence numbers: "+j)}for(const j of _){const z=j.targetId;if(!j.fromCache){const J=I.os.get(z),te=J.snapshotVersion,oe=J.withLastLimboFreeSnapshotVersion(te);I.os=I.os.insert(z,oe)}}}(i.localStore,a))}async function f5(t,e){const n=mn(t);if(!n.currentUser.isEqual(e)){Xt("SyncEngine","User change. New user:",e.toKey());const i=await jj(n.localStore,e);n.currentUser=e,function(a,u){a.ka.forEach(m=>{m.forEach(x=>{x.reject(new Ht(yt.CANCELLED,u))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Up(n,i.hs)}}function m5(t,e){const n=mn(t),i=n.Na.get(e);if(i&&i.va)return An().add(i.key);{let s=An();const a=n.Ma.get(e);if(!a)return s;for(const u of a){const m=n.Fa.get(u);s=s.unionWith(m.view.Va)}return s}}function Xj(t){const e=mn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u5.bind(null,e),e.Ca.d_=J4.bind(null,e.eventManager),e.Ca.$a=Z4.bind(null,e.eventManager),e}function g5(t){const e=mn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d5.bind(null,e),e}class kg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cy(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return _4(this.persistence,new b4,e.initialUser,this.serializer)}Ga(e){return new y4(Vw.Zr,this.serializer)}Wa(e){return new N4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kg.provider={build:()=>new kg};class n0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>sC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=f5.bind(null,this.syncEngine),await Y4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Q4}()}createDatastore(e){const n=cy(e.databaseInfo.databaseId),i=function(a){return new M4(a)}(e.databaseInfo);return function(a,u,m,x){return new O4(a,u,m,x)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,a,u,m){return new F4(i,s,a,u,m)}(this.localStore,this.datastore,e.asyncQueue,n=>sC(this.syncEngine,n,0),function(){return eC.D()?new eC:new j4}())}createSyncEngine(e,n){return function(s,a,u,m,x,_,I){const j=new i5(s,a,u,m,x,_);return I&&(j.Qa=!0),j}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=mn(s);Xt("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Vp(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}n0.provider={build:()=>new n0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):na("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,n,i,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=gr.UNAUTHENTICATED,this.clientId=QN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{Xt("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(Xt("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ko;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Gw(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function fx(t,e){t.asyncQueue.verifyOperationInProgress(),Xt("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await jj(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function aC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await v5(t);Xt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>tC(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>tC(e.remoteStore,s)),t._onlineComponents=e}async function v5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Xt("FirestoreClient","Using user provided OfflineComponentProvider");try{await fx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===yt.FAILED_PRECONDITION||s.code===yt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Zu("Error using user provided cache. Falling back to memory cache: "+n),await fx(t,new kg)}}else Xt("FirestoreClient","Using default OfflineComponentProvider"),await fx(t,new kg);return t._offlineComponents}async function Jj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Xt("FirestoreClient","Using user provided OnlineComponentProvider"),await aC(t,t._uninitializedComponentsProvider._online)):(Xt("FirestoreClient","Using default OnlineComponentProvider"),await aC(t,new n0))),t._onlineComponents}function x5(t){return Jj(t).then(e=>e.syncEngine)}async function Zj(t){const e=await Jj(t),n=e.eventManager;return n.onListen=r5.bind(null,e.syncEngine),n.onUnlisten=a5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=s5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=l5.bind(null,e.syncEngine),n}function b5(t,e,n={}){const i=new Ko;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,m,x,_){const I=new Qj({next:z=>{I.Za(),u.enqueueAndForget(()=>Uj(a,j));const J=z.docs.has(m);!J&&z.fromCache?_.reject(new Ht(yt.UNAVAILABLE,"Failed to get document because the client is offline.")):J&&z.fromCache&&x&&x.source==="server"?_.reject(new Ht(yt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(z)},error:z=>_.reject(z)}),j=new zj(Mw(m.path),I,{includeMetadataChanges:!0,_a:!0});return Vj(a,j)}(await Zj(t),t.asyncQueue,e,n,i)),i.promise}function w5(t,e,n={}){const i=new Ko;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,m,x,_){const I=new Qj({next:z=>{I.Za(),u.enqueueAndForget(()=>Uj(a,j)),z.fromCache&&x.source==="server"?_.reject(new Ht(yt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(z)},error:z=>_.reject(z)}),j=new zj(m,I,{includeMetadataChanges:!0,_a:!0});return Vj(a,j)}(await Zj(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(t,e,n){if(!n)throw new Ht(yt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _5(t,e,n,i){if(e===!0&&i===!0)throw new Ht(yt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cC(t){if(!on.isDocumentKey(t))throw new Ht(yt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uC(t){if(on.isDocumentKey(t))throw new Ht(yt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":un()}function Eo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ht(yt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dy(t);throw new Ht(yt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ht(yt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ht(yt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eI((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ht(yt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ht(yt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ht(yt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class py{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hC({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ht(yt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ht(yt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hC(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new V3;switch(i.type){case"firstParty":return new $3(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ht(yt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=lC.get(n);i&&(Xt("ComponentProvider","Removing Datastore"),lC.delete(n),i.terminate())}(this),Promise.resolve()}}function E5(t,e,n,i={}){var s;const a=(t=Eo(t,py))._getSettings(),u=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&Zu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),i.mockUserToken){let m,x;if(typeof i.mockUserToken=="string")m=i.mockUserToken,x=gr.MOCK_USER;else{m=eN(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Ht(yt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new gr(_)}t._authCredentials=new U3(new XN(m,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new gh(this.firestore,e,this._query)}}class Tr{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new al(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tr(this.firestore,e,this._key)}}class al extends gh{constructor(e,n,i){super(e,n,Mw(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tr(this.firestore,null,new on(e))}withConverter(e){return new al(this.firestore,e,this._path)}}function nI(t,e,...n){if(t=$n(t),tI("collection","path",e),t instanceof py){const i=ti.fromString(e,...n);return uC(i),new al(t,null,i)}{if(!(t instanceof Tr||t instanceof al))throw new Ht(yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ti.fromString(e,...n));return uC(i),new al(t.firestore,null,i)}}function Tg(t,e,...n){if(t=$n(t),arguments.length===1&&(e=QN.newId()),tI("doc","path",e),t instanceof py){const i=ti.fromString(e,...n);return cC(i),new Tr(t,null,new on(i))}{if(!(t instanceof Tr||t instanceof al))throw new Ht(yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ti.fromString(e,...n));return cC(i),new Tr(t.firestore,t instanceof al?t.converter:null,new on(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Pj(this,"async_queue_retry"),this.Vu=()=>{const i=px();i&&Xt("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=px();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=px();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ko;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Op(e))throw e;Xt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const s=function(u){let m=u.message||"";return u.stack&&(m=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),m}(i);throw na("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Ww.createAndSchedule(this,e,n,i,a=>this.yu(a));return this.Tu.push(s),s}fu(){this.Eu&&un()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class yh extends py{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new dC,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dC(e),this._firestoreClient=void 0,await e}}}function k5(t,e){const n=typeof t=="object"?t:jp(),i=typeof t=="string"?t:"(default)",s=bl(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const a=QA("firestore");a&&E5(s,...a)}return s}function Xw(t){if(t._terminated)throw new Ht(yt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||T5(t),t._firestoreClient}function T5(t){var e,n,i;const s=t._freezeSettings(),a=function(m,x,_,I){return new iU(m,x,_,I.host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,eI(I.experimentalLongPollingOptions),I.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new y5(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(m){const x=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(x),_online:x}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sh(sr.fromBase64String(e))}catch(n){throw new Ht(yt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new sh(sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ht(yt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ht(yt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ht(yt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fn(this._lat,e._lat)||Fn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=/^__.*__$/;class S5{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new _l(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fp(e,this.data,n,this.fieldTransforms)}}class iI{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new _l(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function rI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw un()}}class e_{constructor(e,n,i,s,a,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new e_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:i,xu:!1});return s.Ou(e),s}Nu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:i,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Cg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(rI(this.Cu)&&C5.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class A5{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||cy(e)}Qu(e,n,i,s=!1){return new e_({Cu:e,methodName:n,qu:i,path:tr.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function t_(t){const e=t._freezeSettings(),n=cy(t._databaseId);return new A5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function N5(t,e,n,i,s,a={}){const u=t.Qu(a.merge||a.mergeFields?2:0,e,n,s);n_("Data must be an object, but it was:",u,i);const m=sI(i,u);let x,_;if(a.merge)x=new Zr(u.fieldMask),_=u.fieldTransforms;else if(a.mergeFields){const I=[];for(const j of a.mergeFields){const z=i0(e,j,n);if(!u.contains(z))throw new Ht(yt.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);aI(I,z)||I.push(z)}x=new Zr(I),_=u.fieldTransforms.filter(j=>x.covers(j.field))}else x=null,_=u.fieldTransforms;return new S5(new Dr(m),x,_)}class my extends Qw{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof my}}function j5(t,e,n,i){const s=t.Qu(1,e,n);n_("Data must be an object, but it was:",s,i);const a=[],u=Dr.empty();Ac(i,(x,_)=>{const I=i_(e,x,n);_=$n(_);const j=s.Nu(I);if(_ instanceof my)a.push(I);else{const z=zp(_,j);z!=null&&(a.push(I),u.set(I,z))}});const m=new Zr(a);return new iI(u,m,s.fieldTransforms)}function I5(t,e,n,i,s,a){const u=t.Qu(1,e,n),m=[i0(e,i,n)],x=[s];if(a.length%2!=0)throw new Ht(yt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let z=0;z<a.length;z+=2)m.push(i0(e,a[z])),x.push(a[z+1]);const _=[],I=Dr.empty();for(let z=m.length-1;z>=0;--z)if(!aI(_,m[z])){const J=m[z];let te=x[z];te=$n(te);const oe=u.Nu(J);if(te instanceof my)_.push(J);else{const se=zp(te,oe);se!=null&&(_.push(J),I.set(J,se))}}const j=new Zr(_);return new iI(I,j,u.fieldTransforms)}function P5(t,e,n,i=!1){return zp(n,t.Qu(i?4:3,e))}function zp(t,e){if(oI(t=$n(t)))return n_("Unsupported field value:",e,t),sI(t,e);if(t instanceof Qw)return function(i,s){if(!rI(s.Cu))throw s.Bu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,s){const a=[];let u=0;for(const m of i){let x=zp(m,s.Lu(u));x==null&&(x={nullValue:"NULL_VALUE"}),a.push(x),u++}return{arrayValue:{values:a}}}(t,e)}return function(i,s){if((i=$n(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return TU(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=zi.fromDate(i);return{timestampValue:_g(s.serializer,a)}}if(i instanceof zi){const a=new zi(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:_g(s.serializer,a)}}if(i instanceof Jw)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof sh)return{bytesValue:Ej(s.serializer,i._byteString)};if(i instanceof Tr){const a=s.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw s.Bu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Fw(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Zw)return function(u,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(x=>{if(typeof x!="number")throw m.Bu("VectorValues must only contain numeric values.");return Rw(m.serializer,x)})}}}}}}(i,s);throw s.Bu(`Unsupported field value: ${dy(i)}`)}(t,e)}function sI(t,e){const n={};return JN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ac(t,(i,s)=>{const a=zp(s,e.Mu(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function oI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zi||t instanceof Jw||t instanceof sh||t instanceof Tr||t instanceof Qw||t instanceof Zw)}function n_(t,e,n){if(!oI(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=dy(n);throw i==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+i)}}function i0(t,e,n){if((e=$n(e))instanceof fy)return e._internalPath;if(typeof e=="string")return i_(t,e);throw Cg("Field path arguments must be of type string or ",t,!1,void 0,n)}const M5=new RegExp("[~\\*/\\[\\]]");function i_(t,e,n){if(e.search(M5)>=0)throw Cg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fy(...e.split("."))._internalPath}catch{throw Cg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cg(t,e,n,i,s){const a=i&&!i.isEmpty(),u=s!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let x="";return(a||u)&&(x+=" (found",a&&(x+=` in field ${i}`),u&&(x+=` in document ${s}`),x+=")"),new Ht(yt.INVALID_ARGUMENT,m+t+x)}function aI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n,i,s,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new R5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(r_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class R5 extends lI{data(){return super.data()}}function r_(t,e){return typeof e=="string"?i_(t,e):e instanceof fy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ht(yt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class s_{}class O5 extends s_{}function pC(t,e,...n){let i=[];e instanceof s_&&i.push(e),i=i.concat(n),function(a){const u=a.filter(x=>x instanceof o_).length,m=a.filter(x=>x instanceof gy).length;if(u>1||u>0&&m>0)throw new Ht(yt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class gy extends O5{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new gy(e,n,i)}_apply(e){const n=this._parse(e);return cI(e._query,n),new gh(e.firestore,e.converter,Gb(e._query,n))}_parse(e){const n=t_(e.firestore);return function(a,u,m,x,_,I,j){let z;if(_.isKeyField()){if(I==="array-contains"||I==="array-contains-any")throw new Ht(yt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if(I==="in"||I==="not-in"){gC(j,I);const J=[];for(const te of j)J.push(mC(x,a,te));z={arrayValue:{values:J}}}else z=mC(x,a,j)}else I!=="in"&&I!=="not-in"&&I!=="array-contains-any"||gC(j,I),z=P5(m,u,j,I==="in"||I==="not-in");return Oi.create(_,I,z)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function fC(t,e,n){const i=e,s=r_("where",t);return gy._create(s,i,n)}class o_ extends s_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new o_(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Ys.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,a){let u=s;const m=a.getFlattenedFilters();for(const x of m)cI(u,x),u=Gb(u,x)}(e._query,n),new gh(e.firestore,e.converter,Gb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function mC(t,e,n){if(typeof(n=$n(n))=="string"){if(n==="")throw new Ht(yt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aj(e)&&n.indexOf("/")!==-1)throw new Ht(yt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ti.fromString(n));if(!on.isDocumentKey(i))throw new Ht(yt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return DT(t,new on(i))}if(n instanceof Tr)return DT(t,n._key);throw new Ht(yt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dy(n)}.`)}function gC(t,e){if(!Array.isArray(t)||t.length===0)throw new Ht(yt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cI(t,e){const n=function(s,a){for(const u of s)for(const m of u.getFlattenedFilters())if(a.indexOf(m.op)>=0)return m.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ht(yt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ht(yt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class L5{convertValue(e,n="none"){switch(yc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ti(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw un()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ac(e,(s,a)=>{i[s]=this.convertValue(a,n)}),i}convertVectorValue(e){var n,i,s;const a=(s=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(u=>Ti(u.doubleValue));return new Zw(a)}convertGeoPoint(e){return new Jw(Ti(e.latitude),Ti(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Nw(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(vp(e));default:return null}}convertTimestamp(e){const n=fl(e);return new zi(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ti.fromString(e);qn(Nj(i));const s=new xp(i.get(1),i.get(3)),a=new on(i.popFirst(5));return s.isEqual(n)||na(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uI extends lI{constructor(e,n,i,s,a,u){super(e,n,i,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(r_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Rm extends uI{data(e={}){return super.data(e)}}class B5{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new jd(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Rm(this._firestore,this._userDataWriter,i.key,i,new jd(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ht(yt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(m=>{const x=new Rm(s._firestore,s._userDataWriter,m.doc.key,m.doc,new jd(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);return m.doc,{type:"added",doc:x,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>a||m.type!==3).map(m=>{const x=new Rm(s._firestore,s._userDataWriter,m.doc.key,m.doc,new jd(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let _=-1,I=-1;return m.type!==0&&(_=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),I=u.indexOf(m.doc.key)),{type:V5(m.type),doc:x,oldIndex:_,newIndex:I}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function V5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return un()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t){t=Eo(t,Tr);const e=Eo(t.firestore,yh);return b5(Xw(e),t._key).then(n=>U5(e,t,n))}class hI extends L5{constructor(e){super(),this.firestore=e}convertBytes(e){return new sh(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tr(this.firestore,null,n)}}function Dm(t){t=Eo(t,gh);const e=Eo(t.firestore,yh),n=Xw(e),i=new hI(e);return D5(t._query),w5(n,t._query).then(s=>new B5(e,i,t,s))}function r0(t,e,n){t=Eo(t,Tr);const i=Eo(t.firestore,yh),s=F5(t.converter,e,n);return a_(i,[N5(t_(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Hs.none())])}function s0(t,e,n,...i){t=Eo(t,Tr);const s=Eo(t.firestore,yh),a=t_(s);let u;return u=typeof(e=$n(e))=="string"||e instanceof fy?I5(a,"updateDoc",t._key,e,n,i):j5(a,"updateDoc",t._key,e),a_(s,[u.toMutation(t._key,Hs.exists(!0))])}function vC(t){return a_(Eo(t.firestore,yh),[new Dw(t._key,Hs.none())])}function a_(t,e){return function(i,s){const a=new Ko;return i.asyncQueue.enqueueAndForget(async()=>c5(await x5(i),s,a)),a.promise}(Xw(t),e)}function U5(t,e,n){const i=n.docs.get(e._key),s=new hI(t);return new uI(t,s,e._key,i,new jd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){ph=s})(Cc),Gs(new Es("firestore",(i,{instanceIdentifier:s,options:a})=>{const u=i.getProvider("app").getImmediate(),m=new yh(new z3(i.getProvider("auth-internal")),new W3(i.getProvider("app-check-internal")),function(_,I){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new Ht(yt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xp(_.options.projectId,I)}(u,s),u);return a=Object.assign({useFetchStreams:n},a),m._setSettings(a),m},"PUBLIC").setMultipleInstances(!0)),Vr(jT,"4.7.3",e),Vr(jT,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="firebasestorage.googleapis.com",pI="storageBucket",z5=2*60*1e3,q5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends ks{constructor(e,n,i=0){super(mx(e),`Firebase Storage: ${n} (${mx(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ni.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return mx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ai;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ai||(Ai={}));function mx(t){return"storage/"+t}function l_(){const t="An unknown error occurred, please check the error payload for server response.";return new Ni(Ai.UNKNOWN,t)}function $5(t){return new Ni(Ai.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function H5(t){return new Ni(Ai.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function W5(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ni(Ai.UNAUTHENTICATED,t)}function G5(){return new Ni(Ai.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function K5(t){return new Ni(Ai.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Y5(){return new Ni(Ai.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function X5(){return new Ni(Ai.CANCELED,"User canceled the upload/download.")}function Q5(t){return new Ni(Ai.INVALID_URL,"Invalid URL '"+t+"'.")}function J5(t){return new Ni(Ai.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Z5(){return new Ni(Ai.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+pI+"' property when initializing the app?")}function ez(){return new Ni(Ai.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function tz(t){return new Ni(Ai.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function o0(t){return new Ni(Ai.INVALID_ARGUMENT,t)}function fI(){return new Ni(Ai.APP_DELETED,"The Firebase app was deleted.")}function nz(t){return new Ni(Ai.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wd(t,e){return new Ni(Ai.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function gd(t){throw new Ni(Ai.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=es.makeFromUrl(e,n)}catch{return new es(e,"")}if(i.path==="")return i;throw J5(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function a(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const u="(/(.*))?$",m=new RegExp("^gs://"+s+u,"i"),x={bucket:1,path:3};function _(ne){ne.path_=decodeURIComponent(ne.path)}const I="v[A-Za-z0-9_]+",j=n.replace(/[.]/g,"\\."),z="(/([^?#]*).*)?$",J=new RegExp(`^https?://${j}/${I}/b/${s}/o${z}`,"i"),te={bucket:1,path:3},oe=n===dI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,se="([^?#]*)",X=new RegExp(`^https?://${oe}/${s}/${se}`,"i"),G=[{regex:m,indices:x,postModify:a},{regex:J,indices:te,postModify:_},{regex:X,indices:{bucket:1,path:2},postModify:_}];for(let ne=0;ne<G.length;ne++){const ke=G[ne],ge=ke.regex.exec(e);if(ge){const K=ge[ke.indices.bucket];let M=ge[ke.indices.path];M||(M=""),i=new es(K,M),ke.postModify(i);break}}if(i==null)throw Q5(e);return i}}class iz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(t,e,n){let i=1,s=null,a=null,u=!1,m=0;function x(){return m===2}let _=!1;function I(...se){_||(_=!0,e.apply(null,se))}function j(se){s=setTimeout(()=>{s=null,t(J,x())},se)}function z(){a&&clearTimeout(a)}function J(se,...X){if(_){z();return}if(se){z(),I.call(null,se,...X);return}if(x()||u){z(),I.call(null,se,...X);return}i<64&&(i*=2);let G;m===1?(m=2,G=0):G=(i+Math.random())*1e3,j(G)}let te=!1;function oe(se){te||(te=!0,z(),!_&&(s!==null?(se||(m=2),clearTimeout(s),j(0)):se||(m=1)))}return j(0),a=setTimeout(()=>{u=!0,oe(!0)},n),oe}function sz(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(t){return t!==void 0}function az(t){return typeof t=="object"&&!Array.isArray(t)}function mI(t){return typeof t=="string"||t instanceof String}function xC(t){return c_()&&t instanceof Blob}function c_(){return typeof Blob<"u"}function bC(t,e,n,i){if(i<e)throw o0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw o0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function lz(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var oc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(oc||(oc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cz(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e,n,i,s,a,u,m,x,_,I,j,z=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=m,this.errorCallback_=x,this.timeout_=_,this.progressCallback_=I,this.connectionFactory_=j,this.retry=z,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((J,te)=>{this.resolve_=J,this.reject_=te,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new rm(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=m=>{const x=m.loaded,_=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(x,_)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const m=a.getErrorCode()===oc.NO_ERROR,x=a.getStatus();if(!m||cz(x,this.additionalRetryCodes_)&&this.retry){const I=a.getErrorCode()===oc.ABORT;i(!1,new rm(!1,null,I));return}const _=this.successCodes_.indexOf(x)!==-1;i(!0,new rm(_,a))})},n=(i,s)=>{const a=this.resolve_,u=this.reject_,m=s.connection;if(s.wasSuccessCode)try{const x=this.callback_(m,m.getResponse());oz(x)?a(x):a()}catch(x){u(x)}else if(m!==null){const x=l_();x.serverResponse=m.getErrorText(),this.errorCallback_?u(this.errorCallback_(m,x)):u(x)}else if(s.canceled){const x=this.appDelete_?fI():X5();u(x)}else{const x=Y5();u(x)}};this.canceled_?n(!1,new rm(!1,null,!0)):this.backoffId_=rz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&sz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class rm{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function hz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function dz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function pz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function fz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function mz(t,e,n,i,s,a,u=!0){const m=lz(t.urlParams),x=t.url+m,_=Object.assign({},t.headers);return pz(_,e),hz(_,n),dz(_,a),fz(_,i),new uz(x,t.method,_,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function yz(...t){const e=gz();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(c_())return new Blob(t);throw new Ni(Ai.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function vz(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xz(t){if(typeof atob>"u")throw tz("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class gx{constructor(e,n){this.data=e,this.contentType=n||null}}function bz(t,e){switch(t){case mo.RAW:return new gx(yI(e));case mo.BASE64:case mo.BASE64URL:return new gx(vI(t,e));case mo.DATA_URL:return new gx(_z(e),Ez(e))}throw l_()}function yI(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=i,u=t.charCodeAt(++n);i=65536|(a&1023)<<10|u&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function wz(t){let e;try{e=decodeURIComponent(t)}catch{throw Wd(mo.DATA_URL,"Malformed data URL.")}return yI(e)}function vI(t,e){switch(t){case mo.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Wd(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case mo.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Wd(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=xz(e)}catch(s){throw s.message.includes("polyfill")?s:Wd(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}class xI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Wd(mo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=kz(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function _z(t){const e=new xI(t);return e.base64?vI(mo.BASE64,e.rest):wz(e.rest)}function Ez(t){return new xI(t).contentType}function kz(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n){let i=0,s="";xC(e)?(this.data_=e,i=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(xC(this.data_)){const i=this.data_,s=vz(i,e,n);return s===null?null:new Ha(s)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Ha(i,!0)}}static getBlob(...e){if(c_()){const n=e.map(i=>i instanceof Ha?i.data_:i);return new Ha(yz.apply(null,n))}else{const n=e.map(u=>mI(u)?bz(mo.RAW,u).data:u.data_);let i=0;n.forEach(u=>{i+=u.byteLength});const s=new Uint8Array(i);let a=0;return n.forEach(u=>{for(let m=0;m<u.length;m++)s[a++]=u[m]}),new Ha(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tz(t){let e;try{e=JSON.parse(t)}catch{return null}return az(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Sz(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function bI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(t,e){return e}class _r{constructor(e,n,i,s){this.server=e,this.local=n||e,this.writable=!!i,this.xform=s||Az}}let sm=null;function Nz(t){return!mI(t)||t.length<2?t:bI(t)}function jz(){if(sm)return sm;const t=[];t.push(new _r("bucket")),t.push(new _r("generation")),t.push(new _r("metageneration")),t.push(new _r("name","fullPath",!0));function e(a,u){return Nz(u)}const n=new _r("name");n.xform=e,t.push(n);function i(a,u){return u!==void 0?Number(u):u}const s=new _r("size");return s.xform=i,t.push(s),t.push(new _r("timeCreated")),t.push(new _r("updated")),t.push(new _r("md5Hash",null,!0)),t.push(new _r("cacheControl",null,!0)),t.push(new _r("contentDisposition",null,!0)),t.push(new _r("contentEncoding",null,!0)),t.push(new _r("contentLanguage",null,!0)),t.push(new _r("contentType",null,!0)),t.push(new _r("metadata","customMetadata",!0)),sm=t,sm}function Iz(t,e){function n(){const i=t.bucket,s=t.fullPath,a=new es(i,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function Pz(t,e,n){const i={};i.type="file";const s=n.length;for(let a=0;a<s;a++){const u=n[a];i[u.local]=u.xform(i,e[u.server])}return Iz(i,t),i}function Mz(t,e,n){const i=Tz(e);return i===null?null:Pz(t,i,n)}function Rz(t,e){const n={},i=e.length;for(let s=0;s<i;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class wI{constructor(e,n,i,s){this.url=e,this.method=n,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dz(t){if(!t)throw l_()}function Oz(t,e){function n(i,s){const a=Mz(t,s,e);return Dz(a!==null),a}return n}function _I(t){function e(n,i){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=G5():s=W5():n.getStatus()===402?s=H5(t.bucket):n.getStatus()===403?s=K5(t.path):s=i,s.status=n.getStatus(),s.serverResponse=i.serverResponse,s}return e}function Lz(t){const e=_I(t);function n(i,s){let a=e(i,s);return i.getStatus()===404&&(a=$5(t.path)),a.serverResponse=s.serverResponse,a}return n}function Fz(t,e){const n=e.fullServerUrl(),i=gI(n,t.host,t._protocol),s="DELETE",a=t.maxOperationRetryTime;function u(x,_){}const m=new wI(i,s,u,a);return m.successCodes=[200,204],m.errorHandler=Lz(e),m}function Bz(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Vz(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=Bz(null,e)),i}function Uz(t,e,n,i,s){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function m(){let G="";for(let ne=0;ne<2;ne++)G=G+Math.random().toString().slice(2);return G}const x=m();u["Content-Type"]="multipart/related; boundary="+x;const _=Vz(e,i,s),I=Rz(_,n),j="--"+x+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+I+`\r
--`+x+`\r
Content-Type: `+_.contentType+`\r
\r
`,z=`\r
--`+x+"--",J=Ha.getBlob(j,i,z);if(J===null)throw ez();const te={name:_.fullPath},oe=gI(a,t.host,t._protocol),se="POST",X=t.maxUploadRetryTime,L=new wI(oe,se,Oz(t,n),X);return L.urlParams=te,L.headers=u,L.body=J.uploadData(),L.errorHandler=_I(e),L}class zz{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=oc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=oc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=oc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,s){if(this.sent_)throw gd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw gd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw gd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw gd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw gd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class qz extends zz{initXhr(){this.xhr_.responseType="text"}}function EI(){return new qz}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n){this._service=e,n instanceof es?this._location=n:this._location=es.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new vc(e,n)}get root(){const e=new es(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bI(this._location.path)}get storage(){return this._service}get parent(){const e=Cz(this._location.path);if(e===null)return null;const n=new es(this._location.bucket,e);return new vc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw nz(e)}}function $z(t,e,n){t._throwIfRoot("uploadBytes");const i=Uz(t.storage,t._location,jz(),new Ha(e,!0),n);return t.storage.makeRequestWithTokens(i,EI).then(s=>({metadata:s,ref:t}))}function Hz(t){t._throwIfRoot("deleteObject");const e=Fz(t.storage,t._location);return t.storage.makeRequestWithTokens(e,EI)}function Wz(t,e){const n=Sz(t._location.path,e),i=new es(t._location.bucket,n);return new vc(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gz(t){return/^[A-Za-z]+:\/\//.test(t)}function Kz(t,e){return new vc(t,e)}function kI(t,e){if(t instanceof u_){const n=t;if(n._bucket==null)throw Z5();const i=new vc(n,n._bucket);return e!=null?kI(i,e):i}else return e!==void 0?Wz(t,e):t}function Yz(t,e){if(e&&Gz(e)){if(t instanceof u_)return Kz(t,e);throw o0("To use ref(service, url), the first argument must be a Storage instance.")}else return kI(t,e)}function wC(t,e){const n=e==null?void 0:e[pI];return n==null?null:es.makeFromBucketSpec(n,t)}function Xz(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:eN(s,t.app.options.projectId))}class u_{constructor(e,n,i,s,a){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=dI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=z5,this._maxUploadRetryTime=q5,this._requests=new Set,s!=null?this._bucket=es.makeFromBucketSpec(s,this._host):this._bucket=wC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=es.makeFromBucketSpec(this._url,e):this._bucket=wC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vc(this,e)}_makeRequest(e,n,i,s,a=!0){if(this._deleted)return new iz(fI());{const u=mz(e,this._appId,i,s,n,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const _C="@firebase/storage",EC="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="storage";function Qz(t,e,n){return t=$n(t),$z(t,e,n)}function kC(t){return t=$n(t),Hz(t)}function a0(t,e){return t=$n(t),Yz(t,e)}function Jz(t=jp(),e){t=$n(t);const i=bl(t,TI).getImmediate({identifier:e}),s=QA("storage");return s&&Zz(i,...s),i}function Zz(t,e,n,i={}){Xz(t,e,n,i)}function e6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new u_(n,i,s,e,Cc)}function t6(){Gs(new Es(TI,e6,"PUBLIC").setMultipleInstances(!0)),Vr(_C,EC,""),Vr(_C,EC,"esm2017")}t6();var n6="firebase",i6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(n6,i6,"app");const CI="@firebase/installations",h_="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=1e4,AI=`w:${h_}`,NI="FIS_v2",r6="https://firebaseinstallations.googleapis.com/v1",s6=60*60*1e3,o6="installations",a6="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xc=new Tc(o6,a6,l6);function jI(t){return t instanceof ks&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II({projectId:t}){return`${r6}/projects/${t}/installations`}function PI(t){return{token:t.token,requestStatus:2,expiresIn:u6(t.expiresIn),creationTime:Date.now()}}async function MI(t,e){const i=(await e.json()).error;return xc.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function RI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function c6(t,{refreshToken:e}){const n=RI(t);return n.append("Authorization",h6(e)),n}async function DI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function u6(t){return Number(t.replace("s","000"))}function h6(t){return`${NI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d6({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=II(t),s=RI(t),a=e.getImmediate({optional:!0});if(a){const _=await a.getHeartbeatsHeader();_&&s.append("x-firebase-client",_)}const u={fid:n,authVersion:NI,appId:t.appId,sdkVersion:AI},m={method:"POST",headers:s,body:JSON.stringify(u)},x=await DI(()=>fetch(i,m));if(x.ok){const _=await x.json();return{fid:_.fid||n,registrationStatus:2,refreshToken:_.refreshToken,authToken:PI(_.authToken)}}else throw await MI("Create Installation",x)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=/^[cdef][\w-]{21}$/,l0="";function m6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=g6(t);return f6.test(n)?n:l0}catch{return l0}}function g6(t){return p6(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=new Map;function FI(t,e){const n=yy(t);BI(n,e),y6(n,e)}function BI(t,e){const n=LI.get(t);if(n)for(const i of n)i(e)}function y6(t,e){const n=v6();n&&n.postMessage({key:t,fid:e}),x6()}let nc=null;function v6(){return!nc&&"BroadcastChannel"in self&&(nc=new BroadcastChannel("[Firebase] FID Change"),nc.onmessage=t=>{BI(t.data.key,t.data.fid)}),nc}function x6(){LI.size===0&&nc&&(nc.close(),nc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6="firebase-installations-database",w6=1,bc="firebase-installations-store";let yx=null;function d_(){return yx||(yx=rN(b6,w6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(bc)}}})),yx}async function Sg(t,e){const n=yy(t),s=(await d_()).transaction(bc,"readwrite"),a=s.objectStore(bc),u=await a.get(n);return await a.put(e,n),await s.done,(!u||u.fid!==e.fid)&&FI(t,e.fid),e}async function VI(t){const e=yy(t),i=(await d_()).transaction(bc,"readwrite");await i.objectStore(bc).delete(e),await i.done}async function vy(t,e){const n=yy(t),s=(await d_()).transaction(bc,"readwrite"),a=s.objectStore(bc),u=await a.get(n),m=e(u);return m===void 0?await a.delete(n):await a.put(m,n),await s.done,m&&(!u||u.fid!==m.fid)&&FI(t,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p_(t){let e;const n=await vy(t.appConfig,i=>{const s=_6(i),a=E6(t,s);return e=a.registrationPromise,a.installationEntry});return n.fid===l0?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function _6(t){const e=t||{fid:m6(),registrationStatus:0};return UI(e)}function E6(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(xc.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=k6(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:T6(t)}:{installationEntry:e}}async function k6(t,e){try{const n=await d6(t,e);return Sg(t.appConfig,n)}catch(n){throw jI(n)&&n.customData.serverCode===409?await VI(t.appConfig):await Sg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function T6(t){let e=await TC(t.appConfig);for(;e.registrationStatus===1;)await OI(100),e=await TC(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await p_(t);return i||n}return e}function TC(t){return vy(t,e=>{if(!e)throw xc.create("installation-not-found");return UI(e)})}function UI(t){return C6(t)?{fid:t.fid,registrationStatus:0}:t}function C6(t){return t.registrationStatus===1&&t.registrationTime+SI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6({appConfig:t,heartbeatServiceProvider:e},n){const i=A6(t,n),s=c6(t,n),a=e.getImmediate({optional:!0});if(a){const _=await a.getHeartbeatsHeader();_&&s.append("x-firebase-client",_)}const u={installation:{sdkVersion:AI,appId:t.appId}},m={method:"POST",headers:s,body:JSON.stringify(u)},x=await DI(()=>fetch(i,m));if(x.ok){const _=await x.json();return PI(_)}else throw await MI("Generate Auth Token",x)}function A6(t,{fid:e}){return`${II(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f_(t,e=!1){let n;const i=await vy(t.appConfig,a=>{if(!zI(a))throw xc.create("not-registered");const u=a.authToken;if(!e&&I6(u))return a;if(u.requestStatus===1)return n=N6(t,e),a;{if(!navigator.onLine)throw xc.create("app-offline");const m=M6(a);return n=j6(t,m),m}});return n?await n:i.authToken}async function N6(t,e){let n=await CC(t.appConfig);for(;n.authToken.requestStatus===1;)await OI(100),n=await CC(t.appConfig);const i=n.authToken;return i.requestStatus===0?f_(t,e):i}function CC(t){return vy(t,e=>{if(!zI(e))throw xc.create("not-registered");const n=e.authToken;return R6(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function j6(t,e){try{const n=await S6(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await Sg(t.appConfig,i),n}catch(n){if(jI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await VI(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Sg(t.appConfig,i)}throw n}}function zI(t){return t!==void 0&&t.registrationStatus===2}function I6(t){return t.requestStatus===2&&!P6(t)}function P6(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+s6}function M6(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function R6(t){return t.requestStatus===1&&t.requestTime+SI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D6(t){const e=t,{installationEntry:n,registrationPromise:i}=await p_(e);return i?i.catch(console.error):f_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(t,e=!1){const n=t;return await L6(n),(await f_(n,e)).token}async function L6(t){const{registrationPromise:e}=await p_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(t){if(!t||!t.options)throw vx("App Configuration");if(!t.name)throw vx("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw vx(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function vx(t){return xc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="installations",B6="installations-internal",V6=t=>{const e=t.getProvider("app").getImmediate(),n=F6(e),i=bl(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},U6=t=>{const e=t.getProvider("app").getImmediate(),n=bl(e,qI).getImmediate();return{getId:()=>D6(n),getToken:s=>O6(n,s)}};function z6(){Gs(new Es(qI,V6,"PUBLIC")),Gs(new Es(B6,U6,"PRIVATE"))}z6();Vr(CI,h_);Vr(CI,h_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="analytics",q6="firebase_id",$6="origin",H6=60*1e3,W6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",m_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new Zg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ns=new Tc("analytics","Analytics",G6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(t){if(!t.startsWith(m_)){const e=ns.create("invalid-gtag-resource",{gtagURL:t});return Ur.warn(e.message),""}return t}function $I(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Y6(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function X6(t,e){const n=Y6("firebase-js-sdk-policy",{createScriptURL:K6}),i=document.createElement("script"),s=`${m_}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function Q6(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function J6(t,e,n,i,s,a){const u=i[s];try{if(u)await e[u];else{const x=(await $I(n)).find(_=>_.measurementId===s);x&&await e[x.appId]}}catch(m){Ur.error(m)}t("config",s,a)}async function Z6(t,e,n,i,s){try{let a=[];if(s&&s.send_to){let u=s.send_to;Array.isArray(u)||(u=[u]);const m=await $I(n);for(const x of u){const _=m.find(j=>j.measurementId===x),I=_&&e[_.appId];if(I)a.push(I);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",i,s||{})}catch(a){Ur.error(a)}}function e9(t,e,n,i){async function s(a,...u){try{if(a==="event"){const[m,x]=u;await Z6(t,e,n,m,x)}else if(a==="config"){const[m,x]=u;await J6(t,e,n,i,m,x)}else if(a==="consent"){const[m,x]=u;t("consent",m,x)}else if(a==="get"){const[m,x,_]=u;t("get",m,x,_)}else if(a==="set"){const[m]=u;t("set",m)}else t(a,...u)}catch(m){Ur.error(m)}}return s}function t9(t,e,n,i,s){let a=function(...u){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=e9(a,t,e,n),{gtagCore:a,wrappedGtag:window[s]}}function n9(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(m_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=30,r9=1e3;class s9{constructor(e={},n=r9){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const HI=new s9;function o9(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function a9(t){var e;const{appId:n,apiKey:i}=t,s={method:"GET",headers:o9(i)},a=W6.replace("{app-id}",n),u=await fetch(a,s);if(u.status!==200&&u.status!==304){let m="";try{const x=await u.json();!((e=x.error)===null||e===void 0)&&e.message&&(m=x.error.message)}catch{}throw ns.create("config-fetch-failed",{httpStatus:u.status,responseMessage:m})}return u.json()}async function l9(t,e=HI,n){const{appId:i,apiKey:s,measurementId:a}=t.options;if(!i)throw ns.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:i};throw ns.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new h9;return setTimeout(async()=>{m.abort()},H6),WI({appId:i,apiKey:s,measurementId:a},u,m,e)}async function WI(t,{throttleEndTimeMillis:e,backoffCount:n},i,s=HI){var a;const{appId:u,measurementId:m}=t;try{await c9(i,e)}catch(x){if(m)return Ur.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${x==null?void 0:x.message}]`),{appId:u,measurementId:m};throw x}try{const x=await a9(t);return s.deleteThrottleMetadata(u),x}catch(x){const _=x;if(!u9(_)){if(s.deleteThrottleMetadata(u),m)return Ur.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:u,measurementId:m};throw x}const I=Number((a=_==null?void 0:_.customData)===null||a===void 0?void 0:a.httpStatus)===503?eT(n,s.intervalMillis,i9):eT(n,s.intervalMillis),j={throttleEndTimeMillis:Date.now()+I,backoffCount:n+1};return s.setThrottleMetadata(u,j),Ur.debug(`Calling attemptFetch again in ${I} millis`),WI(t,j,i,s)}}function c9(t,e){return new Promise((n,i)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(a),i(ns.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function u9(t){if(!(t instanceof ks)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class h9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function d9(t,e,n,i,s){if(s&&s.global){t("event",n,i);return}else{const a=await e,u=Object.assign(Object.assign({},i),{send_to:a});t("event",n,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p9(){if(pw())try{await fw()}catch(t){return Ur.warn(ns.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ur.warn(ns.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function f9(t,e,n,i,s,a,u){var m;const x=l9(t);x.then(J=>{n[J.measurementId]=J.appId,t.options.measurementId&&J.measurementId!==t.options.measurementId&&Ur.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${J.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(J=>Ur.error(J)),e.push(x);const _=p9().then(J=>{if(J)return i.getId()}),[I,j]=await Promise.all([x,_]);n9(a)||X6(a,I.measurementId),s("js",new Date);const z=(m=u==null?void 0:u.config)!==null&&m!==void 0?m:{};return z[$6]="firebase",z.update=!0,j!=null&&(z[q6]=j),s("config",I.measurementId,z),I.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e){this.app=e}_delete(){return delete Gd[this.app.options.appId],Promise.resolve()}}let Gd={},SC=[];const AC={};let xx="dataLayer",g9="gtag",NC,GI,jC=!1;function y9(){const t=[];if(dw()&&t.push("This is a browser extension environment."),tN()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=ns.create("invalid-analytics-context",{errorInfo:e});Ur.warn(n.message)}}function v9(t,e,n){y9();const i=t.options.appId;if(!i)throw ns.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ur.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ns.create("no-api-key");if(Gd[i]!=null)throw ns.create("already-exists",{id:i});if(!jC){Q6(xx);const{wrappedGtag:a,gtagCore:u}=t9(Gd,SC,AC,xx,g9);GI=a,NC=u,jC=!0}return Gd[i]=f9(t,SC,AC,e,NC,xx,n),new m9(t)}function x9(t=jp()){t=$n(t);const e=bl(t,Ag);return e.isInitialized()?e.getImmediate():b9(t)}function b9(t,e={}){const n=bl(t,Ag);if(n.isInitialized()){const s=n.getImmediate();if(pp(e,n.getOptions()))return s;throw ns.create("already-initialized")}return n.initialize({options:e})}async function w9(){if(dw()||!tN()||!pw())return!1;try{return await fw()}catch{return!1}}function _9(t,e,n,i){t=$n(t),d9(GI,Gd[t.app.options.appId],e,n,i).catch(s=>Ur.error(s))}const IC="@firebase/analytics",PC="0.10.8";function E9(){Gs(new Es(Ag,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return v9(i,s,n)},"PUBLIC")),Gs(new Es("analytics-internal",t,"PRIVATE")),Vr(IC,PC),Vr(IC,PC,"esm2017");function t(e){try{const n=e.getProvider(Ag).getImmediate();return{logEvent:(i,s,a)=>_9(n,i,s,a)}}catch(n){throw ns.create("interop-component-reg-failed",{reason:n})}}}E9();const k9={apiKey:"AIzaSyBwpIugx9UYl8EZFSQz2kBUEqdAqkc-xAg",authDomain:"meandrituals-72041.firebaseapp.com",projectId:"meandrituals-72041",storageBucket:"meandrituals-72041.firebasestorage.app",messagingSenderId:"1086898403259",appId:"1:1086898403259:web:55bad861fddbd7f229f69e",measurementId:"G-J9KPY6T85X"},xy=fB().length?jp():sN(k9),ki=F3(xy),$u=k5(xy),c0=Jz(xy);let MC=null;w9().then(t=>(t&&(MC=x9(xy)),MC)).catch(()=>null);const T9=1e3*60*60*24*30,KI=D.createContext(void 0),oh=t=>String(t??"").trim().toLowerCase(),ah=()=>new Date().toISOString(),RC=(t,e,n)=>{var a,u,m,x,_;const i=t.email??"",s={email:i,emailLower:oh(i),updatedAt:ah()};return n!=null&&n.includeCreatedAt&&(s.createdAt=t.metadata.creationTime??ah(),s.admin=(n==null?void 0:n.admin)??!1),n!=null&&n.status&&(s.status=n.status),e&&(s.personalInfo={firstName:((a=e.firstName)==null?void 0:a.trim())||"",lastName:((u=e.lastName)==null?void 0:u.trim())||"",email:i},s.identityInfo={username:((m=e.username)==null?void 0:m.trim())||"",birthday:((x=e.birthday)==null?void 0:x.trim())||"",gender:((_=e.gender)==null?void 0:_.trim())||""},s.acceptTerms=!!e.acceptTerms),s},DC=async(t,e)=>{try{const n=a0(c0,`users/${t}/profile.json`),i=JSON.stringify(e,null,2),s=new Blob([i],{type:"application/json"});await Qz(n,s,{contentType:"application/json"})}catch(n){console.error("Profile snapshot upload failed",n)}},om=async(t,e)=>{const n=Tg($u,"users",t.uid),i=await yC(n);if(!i.exists()){const m=RC(t,e,{includeCreatedAt:!0,status:"actif",admin:!1});return m.deletionPlannedAt=null,await r0(n,m),m}const s=i.data(),a={};if(s.createdAt||(a.createdAt=t.metadata.creationTime??ah()),!s.email&&t.email&&(a.email=t.email),!s.emailLower&&t.email&&(a.emailLower=oh(t.email)),s.admin===void 0&&(a.admin=!1),Object.keys(a).length>0&&(a.updatedAt=ah(),await s0(n,a)),e){const m=RC(t,e);await r0(n,m,{merge:!0})}return(await yC(n)).data()??s},OC=async t=>{const e=oh(t);if(!e)return null;const n=nI($u,"users"),i=pC(n,fC("emailLower","==",e)),s=await Dm(i);if(s.docs[0])return s.docs[0];const a=pC(n,fC("email","==",t)),u=await Dm(a);return u.docs[0]?u.docs[0]:(await Dm(n)).docs.find(x=>{const _=x.data();return oh(_.email??"")===e})??null},C9=({children:t})=>{const[e,n]=D.useState(ki.currentUser),[i,s]=D.useState(null),[a,u]=D.useState(null),[m,x]=D.useState(null),[_,I]=D.useState(!1);D.useEffect(()=>{let M=!0;const H=SV(ki,async U=>{if(n(U),!U){s(null),u(null),x(null),M&&I(!0);return}try{const Y=await om(U);s(Y),u(Y.createdAt??U.metadata.creationTime??null),x(Y.deletionPlannedAt??null),Y.status==="desactive"&&await cu(ki)}catch(Y){console.error("Firebase user load failed",Y)}finally{M&&I(!0)}});return()=>{M=!1,H()}},[]);const j=D.useCallback(async M=>{try{await kV(ki,M?ON:Ew)}catch(H){console.error("Auth persistence failed",H)}},[]),z=D.useCallback(async M=>{const{email:H,password:U,remember:Y=!1}=M;if(!H||!U)return!1;try{await j(Y);const ae=await xV(ki,H,U),ie=await om(ae.user);if(ie.status==="desactive")return await cu(ki),!1;if(ie.deletionPlannedAt){const pt=new Date(ie.deletionPlannedAt).getTime();if(Number.isFinite(pt)&&pt<=Date.now())return await cu(ki),!1}return!0}catch(ae){return console.error("Login failed",ae),!1}},[j]),J=D.useCallback(async M=>{const{email:H,password:U,remember:Y=!1,profile:ae}=M;if(!H||!U)return!1;try{await j(Y);const ie=await vV(ki,H,U),pt=(ae==null?void 0:ae.username)||[ae==null?void 0:ae.firstName,ae==null?void 0:ae.lastName].filter(Boolean).join(" ");return pt&&await wV(ie.user,{displayName:pt}),(async()=>{try{const Mt=await om(ie.user,ae);await DC(ie.user.uid,Mt)}catch(Mt){console.error("Post-register profile setup failed",Mt)}})(),!0}catch(ie){return console.error("Register failed",ie),!1}},[j]),te=D.useCallback(async M=>{var H;if(!M)return!1;try{await j(!0);const U=Vo.credential(M),Y=await PN(ki,U),ae=await om(Y.user);return(H=Y.additionalUserInfo)!=null&&H.isNewUser&&await DC(Y.user.uid,ae),ae.status==="desactive"?(await cu(ki),!1):!0}catch(U){return console.error("Google login failed",U),!1}},[j]),oe=D.useCallback(async()=>{try{await cu(ki)}catch(M){console.error("Logout failed",M)}},[]),se=D.useCallback(async M=>{var H;if(!((H=ki.currentUser)!=null&&H.email)||!M)return!1;try{const U=dl.credential(ki.currentUser.email,M);return await xT(ki.currentUser,U),!0}catch(U){return console.error("Password verification failed",U),!1}},[]),X=D.useCallback(async(M,H)=>{const U=ki.currentUser;if(!(U!=null&&U.email))return{success:!1,error:"Vous devez etre connecte pour changer votre mot de passe."};if(!M||!H)return{success:!1,error:"Tous les champs sont obligatoires."};if(H.length<6)return{success:!1,error:"Le nouveau mot de passe doit contenir au moins 6 caracteres."};if(H===M)return{success:!1,error:"Le nouveau mot de passe doit etre different de l actuel."};try{const Y=dl.credential(U.email,M);return await xT(U,Y),await _V(U,H),{success:!0}}catch(Y){return console.error("Password change failed",Y),{success:!1,error:"Mot de passe actuel invalide ou session expiree."}}},[]),L=D.useCallback(async()=>{const M=ki.currentUser;if(!M)return{success:!1,error:"Vous devez etre connecte pour desactiver votre compte."};const H=new Date(Date.now()+T9).toISOString();try{return await s0(Tg($u,"users",M.uid),{deletionPlannedAt:H,updatedAt:ah()}),x(H),{success:!0,deleteAt:H}}catch(U){return console.error("Account deactivation failed",U),{success:!1,error:"Impossible de planifier la desactivation."}}},[]),G=D.useCallback(async()=>{const M=ki.currentUser;if(!M)return{success:!1,error:"Vous devez etre connecte pour supprimer votre compte."};try{await vC(Tg($u,"users",M.uid))}catch(H){console.error("User document delete failed",H)}try{await kC(a0(c0,`users/${M.uid}/profile.json`))}catch{}try{return await AV(M),{success:!0}}catch(H){return console.error("Account delete failed",H),{success:!1,error:"Suppression impossible sans reconnexion recente. Reconnectez-vous puis reessayez."}}},[]),ne=D.useCallback(async()=>{try{return(await Dm(nI($u,"users"))).docs.map(H=>{const U=H.data();return{email:U.email??H.id,createdAt:U.createdAt??null,status:U.status??"actif",deletionPlannedAt:U.deletionPlannedAt??null}})}catch(M){return console.error("Admin users load failed",M),[]}},[]),ke=D.useCallback(async(M,H)=>{var U;if(!M)return{success:!1,error:"Email requis pour mettre  jour le statut."};try{const Y=await OC(M);if(!Y)return{success:!1,error:"Utilisateur introuvable."};const ae={status:H,updatedAt:ah()};return H==="actif"&&(ae.deletionPlannedAt=null),await s0(Y.ref,ae),((U=ki.currentUser)==null?void 0:U.uid)===Y.id&&H==="desactive"&&await cu(ki),{success:!0}}catch(Y){return console.error("Admin status update failed",Y),{success:!1,error:"Mise  jour impossible."}}},[]),ge=D.useCallback(async M=>{var U;if(!M)return{success:!1,error:"Email requis pour supprimer le compte."};const H=(U=ki.currentUser)==null?void 0:U.email;if(H&&oh(H)===oh(M))return{success:!1,error:"Utilisez la suppression de compte depuis vos paramtres."};try{const Y=await OC(M);if(!Y)return{success:!1,error:"Utilisateur introuvable."};await vC(Y.ref);try{await kC(a0(c0,`users/${Y.id}/profile.json`))}catch{}return{success:!0}}catch(Y){return console.error("Admin delete failed",Y),{success:!1,error:"Suppression impossible avec les droits actuels."}}},[]),K=D.useMemo(()=>{const M=(e==null?void 0:e.email)??null,H=!!(i!=null&&i.admin);return{isAuthReady:_,isAuthenticated:!!e,isAdmin:H,userEmail:M,createdAt:a,login:z,register:J,loginWithGoogle:te,logout:oe,verifyPassword:se,changePassword:X,deactivateAccount:L,deleteAccount:G,scheduledDeletionDate:m,adminListUsers:ne,adminUpdateStatus:ke,adminDeleteUser:ge}},[a,ge,ne,ke,_,e,X,L,G,z,te,oe,J,m,i==null?void 0:i.admin,se]);return o.jsx(KI.Provider,{value:K,children:t})},or=()=>{const t=D.useContext(KI);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},YI=t=>String(t??"").trim().toLowerCase()||"guest",di=(t,e)=>`planner:${YI(t)}:${e}`,ll=YI;function S9(t){return typeof t=="function"?t():t}function LC(t,e){try{const n=localStorage.getItem(t);if(n===null)return e();try{return JSON.parse(n)}catch{return n}}catch{return e()}}function Si(t,e){const{userEmail:n}=or(),i=D.useMemo(()=>di(n,t),[t,n]),s=D.useRef(null),a=D.useRef(!0),u=()=>(s.current===null&&(s.current=S9(e)),s.current),[m,x]=D.useState(()=>LC(i,u));return D.useEffect(()=>{a.current=!0,x(_=>LC(i,()=>_??u()))},[i]),D.useEffect(()=>{try{if(a.current){a.current=!1;return}localStorage.setItem(i,JSON.stringify(m))}catch{}},[i,m]),[m,x]}const XI=D.createContext(void 0),A9="planner.calendar.tasks",N9=({children:t})=>{const[e,n]=Si(A9,()=>[]),i=D.useMemo(()=>({tasks:e,addTask:s=>{n(a=>[s,...a])},updateTask:(s,a)=>{n(u=>u.map(m=>m.id===s?{...m,...a}:m))},removeTask:s=>{n(a=>a.filter(u=>u.id!==s))}}),[e,n]);return o.jsx(XI.Provider,{value:i,children:t})},g_=()=>{const t=D.useContext(XI);if(!t)throw new Error("useTasks must be used within a TasksProvider");return t},u0="planner.cookieConsent",j9=["googtrans"],Ql={essential:!0,analytics:!1,preferences:!1},QI=D.createContext(void 0),I9=()=>{if(typeof window>"u")return{status:"unknown",preferences:Ql};try{const t=window.localStorage.getItem(u0);if(!t)return{status:"unknown",preferences:Ql};const e=JSON.parse(t);return!e||!e.preferences?{status:"unknown",preferences:Ql}:{status:e.status??"unknown",preferences:{...Ql,...e.preferences,essential:!0},decidedAt:e.decidedAt}}catch{return{status:"unknown",preferences:Ql}}},P9=({children:t})=>{const[e,n]=D.useState(()=>I9()),[i,s]=D.useState(!1);D.useEffect(()=>{if(e.status==="unknown"){window.localStorage.removeItem(u0);return}try{window.localStorage.setItem(u0,JSON.stringify(e))}catch{}},[e]),D.useEffect(()=>{typeof document>"u"||e.status==="accepted"&&e.preferences.preferences||j9.forEach(z=>{document.cookie=`${z}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;`})},[e.status,e.preferences.preferences]);const a=z=>{n(z)},u=()=>{a({status:"accepted",preferences:{essential:!0,analytics:!0,preferences:!0},decidedAt:Date.now()}),s(!1)},m=()=>{a({status:"rejected",preferences:{...Ql,analytics:!1,preferences:!1},decidedAt:Date.now()}),s(!1)},x=z=>{a({status:"custom",preferences:{...Ql,...z},decidedAt:Date.now()}),s(!1)},_=()=>s(!0),I=()=>s(!1),j=D.useMemo(()=>({status:e.status,preferences:e.preferences,shouldShowBanner:e.status==="unknown",isPreferenceCenterOpen:i,acceptAll:u,rejectAll:m,saveCustomPreferences:x,openPreferences:_,closePreferences:I}),[e,i]);return o.jsx(QI.Provider,{value:j,children:t})},vh=()=>{const t=D.useContext(QI);if(!t)throw new Error("useCookieConsent must be used within CookieConsentProvider");return t},cl="/assets/katie-huber-rhoades-dupe%20(1)-IWbrAz5u.jpeg",M9="planner.profile.preferences.v1",R9=t=>{var e;try{const n=localStorage.getItem(t);if(!n)return"";const i=JSON.parse(n);return((e=i==null?void 0:i.identityInfo)==null?void 0:e.username)??""}catch{return""}};function D9(){const{isAuthenticated:t,isAdmin:e,logout:n,userEmail:i}=or(),s=kc(),[a,u]=D.useState(!1),[m,x]=D.useState(""),[_,I]=D.useState(!1),[j,z]=D.useState(()=>localStorage.getItem("profile-photo")??cl),J=D.useRef(null),te=D.useRef(null),oe=D.useMemo(()=>di(ll(i),M9),[i]),X=D.useMemo(()=>R9(oe),[oe])||(i?i.split("@")[0]:"Utilisateur"),L=D.useMemo(()=>[{label:"A propos de moi",path:"/a-propos"},{label:"Accueil",path:"/home"},{label:"Mentions legales",path:"/mentions-legales"},{label:"Politique de confidentialite",path:"/confidentialite"},{label:"Contact",path:"/contact"},{label:"Finances",path:"/finances"},{label:"Cuisine",path:"/alimentation"},{label:"Calendrier mensuel",path:"/calendrier"},{label:"Wishlist",path:"/wishlist"},{label:"Sport",path:"/sport"},{label:"Workout",path:"/sport/workout"},{label:"Diet",path:"/diet"},{label:"Goals",path:"/goals"},{label:"S'aimer soi-meme",path:"/self-love"},{label:"Archives",path:"/archives"},{label:"FAQ",path:"/faq"},{label:"Cookies",path:"/cookies"},{label:"Paramtres",path:"/parametres"}],[]),G=D.useMemo(()=>{const Y=m.trim().toLowerCase();return Y?L.filter(ae=>ae.label.toLowerCase().startsWith(Y)):[]},[L,m]),ne=_&&G.length>0,ke=()=>{u(!1)},ge=()=>{n(),s("/login"),ke()},K=Y=>{s(Y),ke()},M=()=>{const Y=m.trim().toLowerCase();if(!Y)return;const ae=L.find(ie=>ie.label.toLowerCase().startsWith(Y));ae?U(ae.path):window.alert(`Aucun resultat pour "${m}".`)},H=Y=>{const ae=Y.target.value;x(ae),ae.trim()?I(!0):I(!1)},U=Y=>{K(Y),x(""),I(!1)};return D.useEffect(()=>{const Y=ae=>{J.current&&!J.current.contains(ae.target)&&ke()};return a&&document.addEventListener("mousedown",Y),()=>document.removeEventListener("mousedown",Y)},[a]),D.useEffect(()=>{const Y=ae=>{te.current&&!te.current.contains(ae.target)&&I(!1)};return _&&document.addEventListener("mousedown",Y),()=>document.removeEventListener("mousedown",Y)},[_]),D.useEffect(()=>{const Y=()=>{z(localStorage.getItem("profile-photo")??cl)};return window.addEventListener("storage",Y),()=>window.removeEventListener("storage",Y)},[]),o.jsx("header",{className:"site-header",children:o.jsxs("div",{className:"site-header__inner",children:[o.jsx(Zo,{to:t?"/home":"/",className:"brand",children:"Me&rituals"}),o.jsxs("div",{className:"nav-search nav-search--center",ref:te,children:[o.jsx("button",{className:"nav-search__button","aria-label":"Valider la recherche",onClick:M,children:o.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("circle",{cx:"11",cy:"11",r:"7"}),o.jsx("line",{x1:"16.65",y1:"16.65",x2:"21",y2:"21"})]})}),o.jsx("input",{className:"nav-search__input",type:"search",placeholder:"Rechercher","aria-label":"Rechercher",value:m,onChange:H,onKeyDown:Y=>{Y.key==="Enter"&&(Y.preventDefault(),M())},onFocus:()=>{m.trim()&&I(!0)}}),ne?o.jsx("ul",{className:"nav-search__suggestions",role:"listbox",children:G.map(Y=>o.jsx("li",{children:o.jsx("button",{type:"button",className:"nav-search__suggestion",role:"option",onClick:()=>U(Y.path),children:Y.label})},Y.path))}):null]}),o.jsxs("div",{className:"header-cta",children:[t&&e?o.jsx("button",{className:"admin-button",onClick:()=>s("/admin"),children:"Back-office"}):null,o.jsx("div",{className:"header-auth",children:t?null:o.jsx("button",{className:"auth-button auth-button--login",onClick:()=>s("/login"),children:"Connexion"})}),t?o.jsxs("div",{className:"header-menu",ref:J,children:[o.jsxs("button",{type:"button",className:a?"header-menu__profile is-open":"header-menu__profile","aria-haspopup":"true","aria-expanded":a,onClick:()=>u(Y=>!Y),children:[o.jsx("span",{className:"header-menu__avatar",children:o.jsx("img",{src:j,alt:"Profil"})}),o.jsx("span",{className:"header-menu__name",children:X}),o.jsx("span",{className:"header-menu__caret","aria-hidden":"true",children:o.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),o.jsxs("button",{type:"button",className:a?"header-menu__toggle is-open":"header-menu__toggle","aria-haspopup":"true","aria-expanded":a,onClick:()=>u(Y=>!Y),children:[o.jsx("span",{}),o.jsx("span",{}),o.jsx("span",{})]}),a?o.jsx("div",{className:"header-menu__panel",role:"menu",children:o.jsxs("ul",{className:"header-menu__list",children:[o.jsx("li",{children:o.jsx("button",{type:"button",className:"header-menu__item",onClick:()=>K("/archives"),children:"Archives"})}),o.jsx("li",{children:o.jsx("button",{type:"button",className:"header-menu__item",onClick:()=>K("/parametres"),children:"Paramtres"})}),o.jsx("li",{children:o.jsx("button",{type:"button",className:"header-menu__item header-menu__item--danger",onClick:ge,children:"Dconnexion"})})]})}):null]}):null]})]})})}const O9=({className:t=""})=>o.jsx("svg",{className:t,role:"img","aria-hidden":"true",width:"20",height:"20",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fill:"currentColor",d:"M7.5 2h9A5.5 5.5 0 0 1 22 7.5v9A5.5 5.5 0 0 1 16.5 22h-9A5.5 5.5 0 0 1 2 16.5v-9A5.5 5.5 0 0 1 7.5 2Zm0 2A3.5 3.5 0 0 0 4 7.5v9A3.5 3.5 0 0 0 7.5 20h9a3.5 3.5 0 0 0 3.5-3.5v-9A3.5 3.5 0 0 0 16.5 4h-9Zm9.75 2.25a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5ZM12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10Zm0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6Z"})}),uu=({href:t,children:e})=>o.jsx("a",{className:"site-footer__link",href:t,children:e}),L9=()=>{const t="https://www.instagram.com/",{openPreferences:e}=vh();return o.jsxs("footer",{className:"site-footer",children:[o.jsxs("div",{className:"site-footer__inner",children:[o.jsx("div",{className:"site-footer__brand",children:o.jsxs("h2",{className:"site-footer__title",children:["Organise ton esprit.",o.jsx("br",{})," Aligne ton nergie.",o.jsx("br",{})," Crer la vie qui te ressemble."]})}),o.jsxs("div",{className:"site-footer__sections","aria-label":"Navigation complementaire",children:[o.jsxs("div",{className:"site-footer__section",children:[o.jsx("h3",{className:"site-footer__section-title",children:" propos"}),o.jsx(uu,{href:"/a-propos",children:" propos de moi"}),o.jsx(uu,{href:"/contact",children:"Contacte-moi"}),o.jsx(uu,{href:"/faq",children:"FAQ"})]}),o.jsxs("div",{className:"site-footer__section",children:[o.jsx("h3",{className:"site-footer__section-title",children:"Infos"}),o.jsx(uu,{href:"/mentions-legales",children:"Mentions lgales"}),o.jsx(uu,{href:"/confidentialite",children:"Politique de confidentialit"}),o.jsx(uu,{href:"/cookies",children:"Gestion des cookies"})]}),o.jsxs("div",{className:"site-footer__section",children:[o.jsx("h3",{className:"site-footer__section-title",children:"Suis-moi"}),o.jsxs("a",{className:"site-footer__social-link",href:t,target:"_blank",rel:"noreferrer noopener",children:[o.jsx(O9,{className:"site-footer__social-icon"}),"Instagram"]})]})]})]}),o.jsxs("div",{className:"site-footer__bottom",children:[o.jsx("span",{children:" 2025 Planner."}),o.jsx("span",{children:"Tous droits rservs. 4 dcembre 2025"})]})]})},F9=()=>{const{isAuthenticated:t,isAuthReady:e}=or(),n=ko();return e?t?o.jsx(hw,{}):o.jsx(jb,{to:"/login",replace:!0,state:{from:n}}):null},bx="/assets/MoodBoard-C4veH-_8.png",B9="planner.custom.moodboard",JI=D.createContext(void 0);function V9({children:t}){const{userEmail:e}=or(),n=D.useMemo(()=>di(e,B9),[e]),[i,s]=D.useState(bx),[a,u]=D.useState(!1);D.useEffect(()=>{try{const j=window.localStorage.getItem(n);if(j){s(j),u(!0);return}s(bx),u(!1)}catch{}},[n]);const m=D.useCallback(j=>{try{j?window.localStorage.setItem(n,j):window.localStorage.removeItem(n)}catch{}},[n]),x=D.useCallback(j=>{s(j),u(!0),m(j)},[m]),_=D.useCallback(()=>{s(bx),u(!1),m(null)},[m]),I=D.useMemo(()=>({moodboardSrc:i,isCustom:a,updateMoodboard:x,resetMoodboard:_}),[a,i,_,x]);return o.jsx(JI.Provider,{value:I,children:t})}function ZI(){const t=D.useContext(JI);if(!t)throw new Error("useMoodboard doit etre utilise dans MoodboardProvider");return t}const FC="planner.auth.remember",U9="planner.profile.preferences.v1",BC="planner.auth.email_history.v1",VC=[{value:"",label:"Ne pas prciser"},{value:"femme",label:"Femme"},{value:"homme",label:"Homme"}],UC=({crossed:t})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:t?o.jsxs(o.Fragment,{children:[o.jsx("path",{d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.21 16.058 7 19 11.478 19c1.805 0 3.508-.43 5.02-1.196",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),o.jsx("path",{d:"M6.228 6.228A10.45 10.45 0 0111.478 5c4.477 0 8.268 2.943 9.543 7a10.523 10.523 0 01-4.03 5.56",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),o.jsx("path",{d:"M15 12a3 3 0 00-3-3",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),o.jsx("path",{d:"M3 3l18 18",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]}):o.jsxs(o.Fragment,{children:[o.jsx("path",{d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),o.jsx("path",{d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})}),zC=({mode:t})=>{const e=kc(),n=ko(),{isAuthenticated:i,login:s,register:a,userEmail:u,loginWithGoogle:m}=or(),{moodboardSrc:x}=ZI(),[_,I]=D.useState(""),[j,z]=D.useState(()=>{if(typeof window>"u")return[];try{const De=window.localStorage.getItem(BC);return De?JSON.parse(De):[]}catch{return[]}}),[J,te]=D.useState(""),[oe,se]=D.useState(!1),[X,L]=D.useState(()=>typeof window>"u"?!1:window.localStorage.getItem(FC)==="true"),[G,ne]=D.useState(""),[ke,ge]=D.useState(""),[K,M]=D.useState(""),[H,U]=D.useState(""),[Y,ae]=D.useState(""),[ie,pt]=D.useState(""),[Mt,Ke]=D.useState(!1),[ft,Re]=D.useState(!1),[$e,ut]=D.useState(0),[_t,jt]=D.useState(!1),kt=D.useRef(null),Ot=D.useRef(null),mt=void 0,Rt=D.useRef(!1),ot=D.useMemo(()=>{var et;const De=n.state;return((et=De==null?void 0:De.from)==null?void 0:et.pathname)??"/home"},[n.state]),xe=D.useMemo(()=>{var De;return((De=VC.find(et=>et.value===ie))==null?void 0:De.label)??"Ne pas prciser"},[ie]);D.useEffect(()=>{if(i){if(t==="register"&&Rt.current)return;e(ot,{replace:!0})}},[ot,i,t,e]),D.useEffect(()=>{const De="google-client-script";if(document.getElementById(De)){jt(!0);return}const et=document.createElement("script");et.src="https://accounts.google.com/gsi/client",et.async=!0,et.defer=!0,et.id=De,et.onload=()=>jt(!0),document.body.appendChild(et)},[]),D.useEffect(()=>{},[ot,mt,_t,m,e]),D.useEffect(()=>{if(!Mt)return;const De=et=>{const at=et.target;Ot.current&&!Ot.current.contains(at)&&Ke(!1)};return document.addEventListener("mousedown",De),()=>document.removeEventListener("mousedown",De)},[Mt]),D.useEffect(()=>{typeof window>"u"||window.localStorage.setItem(FC,X?"true":"false")},[X]),D.useEffect(()=>{if(!(typeof window>"u"))try{window.localStorage.setItem(BC,JSON.stringify(j))}catch{}},[j]),D.useEffect(()=>{ut(0),ne("")},[t]);const le=D.useCallback(De=>di(ll(De),U9),[]),_e=De=>{const et=De.trim();et&&z(at=>{if(at[0]===et)return at;const ht=at.filter(Ee=>Ee!==et);return[et,...ht].slice(0,5)})},me=De=>{try{const et=localStorage.getItem(le(De));let at=et?JSON.parse(et):{};at={...at,personalInfo:{...at.personalInfo,firstName:ke,lastName:K,email:De},identityInfo:{...at.identityInfo,username:H,birthday:Y,gender:ie}},localStorage.setItem(le(De),JSON.stringify(at))}catch{}},Ye=()=>{_e(_)},je=async De=>{if(De.preventDefault(),ne(""),t==="register"){const at=J.trim().length>=6,ht=/[A-Z]/.test(J),Ee=/[a-z]/.test(J),ue=/\d/.test(J),pe=/[!@#$%^&*\-_?]/.test(J);if($e===0){if(!_.trim()){ne("Merci de renseigner un email.");return}ut(1);return}if($e===1){if(!ke.trim()||!K.trim()||!H.trim()){ne("Merci de renseigner Prnom, nom et pseudo.");return}ut(2);return}if(!J.trim()||!at||!ht||!Ee||!ue||!pe){ne("Le mot de passe doit avoir au moins 6 caracteres, 1 majuscule, 1 minuscule, 1 chiffre et 1 caractere special.");return}if(!ft){ne("Merci d accepter les conditions generales.");return}}if(t==="register"&&(Rt.current=!0),!(t==="login"?await s({email:_,password:J,remember:X}):await a({email:_,password:J,remember:X,profile:{firstName:ke,lastName:K,username:H,birthday:Y,gender:ie,acceptTerms:ft}}))){Rt.current=!1,ne(t==="register"?"Un compte existe dj avec cet email.":"Merci de renseigner un email et un mot de passe valides.");return}if(t==="register"&&me(_),_e(_),ne(""),t==="register"){e("/bienvenue",{replace:!0,state:{from:ot}});return}e(ot,{replace:!0})},Ue=()=>{if(!_.trim()){ne("Renseigne ton email pour recevoir un lien de reinitialisation.");return}ne(""),window.alert("Un lien de rinitialisation a t envoy  "+_+".")},be=t==="login"?"Connexion":"Cration de compte",vt=t==="login"?"Pas encore de compte ?":"Dj un compte ?",Tt=t==="login"?"/register":"/login",Se=t==="register",Me=["Email","Identit","Scurit"],He=t==="login"?"Se connecter":$e>=Me.length-1?"Crer mon compte":"Continuer";return o.jsx("div",{className:"auth-page",children:o.jsxs("div",{className:"auth-hero",children:[o.jsx("div",{className:"auth-visual",children:o.jsx("img",{src:x,alt:"Moodboard Planner"})}),o.jsxs("div",{className:"auth-panel",children:[o.jsx("h1",{className:"auth-title",children:be}),o.jsxs("div",{className:"auth-switch",children:[o.jsx("span",{children:vt}),o.jsx(Zo,{to:Tt,children:t==="login"?"Crer un compte":"Se connecter"})]}),i&&t!=="register"?o.jsxs("p",{className:"auth-status",children:["Connecte en tant que ",o.jsx("strong",{children:u})]}):null,o.jsxs("form",{className:"auth-form",onSubmit:je,children:[Se?o.jsx("div",{className:"auth-steps","aria-label":"Progression de cration de compte",children:Me.map((De,et)=>o.jsxs("div",{className:`auth-step${$e===et?" is-active":$e>et?" is-done":""}`,children:[o.jsx("span",{className:"auth-step__index",children:et+1}),o.jsx("span",{className:"auth-step__label",children:De})]},De))}):null,t==="register"?o.jsxs(o.Fragment,{children:[$e===0?o.jsxs("label",{children:["Email",o.jsx("input",{type:"email",value:_,onChange:De=>I(De.target.value),onBlur:Ye,placeholder:"toi@exemple.com",required:!0,autoComplete:"email",list:"auth-email-history"}),j.length>0?o.jsx("datalist",{id:"auth-email-history",children:j.map(De=>o.jsx("option",{value:De},De))}):null]}):null,$e===1?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"auth-form__row",children:[o.jsxs("label",{children:["Prnom",o.jsx("input",{type:"text",value:ke,onChange:De=>ge(De.target.value),placeholder:"Prnom",required:!0})]}),o.jsxs("label",{children:["Nom",o.jsx("input",{type:"text",value:K,onChange:De=>M(De.target.value),placeholder:"Nom",required:!0})]})]}),o.jsxs("label",{children:["Pseudo",o.jsx("input",{type:"text",value:H,onChange:De=>U(De.target.value),placeholder:"Ton pseudo",required:!0})]})]}):null,$e===2?o.jsxs(o.Fragment,{children:[o.jsxs("label",{children:["Mot de passe",o.jsxs("div",{className:"auth-password-field",children:[o.jsx("input",{type:oe?"text":"password",value:J,onChange:De=>te(De.target.value),placeholder:"********",minLength:6,required:!0}),o.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>se(De=>!De),"aria-label":oe?"Masquer le mot de passe":"Afficher le mot de passe","aria-pressed":oe,children:o.jsx(UC,{crossed:!oe})})]}),o.jsx("p",{className:"auth-password-hint",children:"6 caractres minimum, avec 1 majuscule, 1 minuscule, 1 chiffre et 1 caractre spcial."})]}),o.jsxs("div",{className:"auth-form__row",children:[o.jsxs("label",{children:["Anniversaire",o.jsx("input",{type:"date",value:Y,onChange:De=>ae(De.target.value),required:!0})]}),o.jsxs("label",{children:["Genre",o.jsxs("div",{className:"auth-form__select",ref:Ot,children:[o.jsxs("button",{type:"button",className:ie?"auth-form__select-trigger":"auth-form__select-trigger is-placeholder","aria-haspopup":"listbox","aria-expanded":Mt,onClick:()=>Ke(De=>!De),children:[o.jsx("span",{children:xe}),o.jsx("svg",{className:"auth-form__select-chevron",viewBox:"0 0 20 20","aria-hidden":"true",children:o.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})]}),Mt?o.jsx("div",{className:"auth-form__select-menu",role:"listbox",children:VC.map(De=>o.jsx("button",{type:"button",role:"option","aria-selected":ie===De.value,className:ie===De.value?"is-selected":void 0,onMouseDown:et=>{et.preventDefault(),pt(De.value),Ke(!1)},children:De.label},De.value))}):null]})]})]}),o.jsxs("label",{className:"auth-terms",children:[o.jsx("input",{type:"checkbox",checked:ft,onChange:De=>Re(De.target.checked),required:!0}),"Jaccepte les conditions gnrales."]})]}):null]}):o.jsxs(o.Fragment,{children:[o.jsxs("label",{children:["Email",o.jsx("input",{type:"email",value:_,onChange:De=>I(De.target.value),onBlur:Ye,placeholder:"toi@exemple.com",required:!0,autoComplete:"email",list:"auth-email-history"})]}),j.length>0?o.jsx("datalist",{id:"auth-email-history",children:j.map(De=>o.jsx("option",{value:De},De))}):null,o.jsxs("label",{children:["Mot de passe",o.jsxs("div",{className:"auth-password-field",children:[o.jsx("input",{type:oe?"text":"password",value:J,onChange:De=>te(De.target.value),placeholder:"********",minLength:6,required:!0}),o.jsx("button",{type:"button",className:"auth-password-toggle",onClick:()=>se(De=>!De),"aria-label":oe?"Masquer le mot de passe":"Afficher le mot de passe","aria-pressed":oe,children:o.jsx(UC,{crossed:!oe})})]})]})]}),G?o.jsx("p",{className:"auth-error",children:G}):null,t==="login"?o.jsxs(o.Fragment,{children:[o.jsxs("label",{className:"auth-remember",children:[o.jsx("input",{type:"checkbox",checked:X,onChange:De=>L(De.target.checked)}),"Se souvenir de moi"]}),o.jsx("button",{type:"submit",className:"auth-submit",children:He}),o.jsx("button",{type:"button",className:"auth-forgot",onClick:Ue,children:"Mot de passe oubli ?"})]}):o.jsxs("div",{className:"auth-step-actions",children:[$e>0?o.jsx("button",{type:"button",className:"auth-secondary",onClick:()=>ut(De=>Math.max(De-1,0)),children:"Retour"}):null,o.jsx("button",{type:"submit",className:"auth-submit",children:He})]})]}),o.jsxs("div",{className:"auth-google",children:[o.jsx("div",{ref:kt}),o.jsx("p",{className:"auth-google__hint",children:"Ajoute VITE_GOOGLE_CLIENT_ID pour activer Google."})]})]})]})})},z9="planner.onboarding.answers.v1",q9=["Instagram","TikTok","Pinterest","Recherche Google","Recommandation d'un proche","Publicit en ligne","Etsy","Autre"],$9=["Dcouvrir du contenu inspirant","Organiser mon quotidien","Amliorer mon bien-tre","Mieux grer mes projets / objectifs","Trouver des outils pratiques","Suivre les nouveauts","Autre raison"],H9=[{label:"Sport",icon:""},{label:"Journaling",icon:""},{label:"Self-love",icon:""},{label:"Finances",icon:""},{label:"Routine",icon:""},{label:"Wishlist",icon:""},{label:"Calendrier mensuel",icon:""},{label:"Cuisine",icon:""}],W9={source:"",sourceOther:"",reasons:[],reasonsOther:"",categories:[]},G9=()=>{const t=kc(),e=ko(),{userEmail:n}=or(),[i,s]=D.useState(0),[a,u]=D.useState(W9),m=D.useMemo(()=>di(ll(n),z9),[n]),x=D.useMemo(()=>{var ne;const G=e.state;return typeof(G==null?void 0:G.from)=="string"?G.from:(ne=G==null?void 0:G.from)!=null&&ne.pathname?G.from.pathname:"/home"},[e.state]);D.useEffect(()=>{try{const G=localStorage.getItem(m);if(!G)return;const ne=JSON.parse(G);u(ke=>({...ke,...ne,reasons:Array.isArray(ne.reasons)?ne.reasons:ke.reasons,categories:Array.isArray(ne.categories)?ne.categories:ke.categories}))}catch{}},[m]);const _=3,I=Math.round((i+1)/_*100),j=D.useMemo(()=>i===0?a.source?a.source==="Autre"?!!a.sourceOther.trim():!0:!1:i===1?!(a.reasons.length===0||a.reasons.includes("Autre raison")&&!a.reasonsOther.trim()):i===2?a.categories.length>0:!1,[a,i]),z=G=>{try{localStorage.setItem(m,JSON.stringify({...G,completedAt:new Date().toISOString()}))}catch{}},J=async G=>{const ne=ki.currentUser;if(ne)try{const ke=new Date().toISOString();await r0(Tg($u,"users",ne.uid),{onboarding:{source:G.source,sourceOther:G.sourceOther,reasons:G.reasons,reasonsOther:G.reasonsOther,categories:G.categories,completedAt:ke},updatedAt:ke},{merge:!0})}catch(ke){console.error("Onboarding save failed",ke)}},te=async G=>{z(G),await J(G),t(x,{replace:!0})},oe=async()=>{if(j){if(i>=_-1){await te(a);return}s(G=>Math.min(G+1,_-1))}},se=()=>{s(G=>Math.max(G-1,0))},X=(G,ne)=>{u(ke=>{const ge=ke[G],K=ge.includes(ne)?ge.filter(M=>M!==ne):[...ge,ne];return{...ke,[G]:K,reasonsOther:G==="reasons"&&ne==="Autre raison"&&ge.includes(ne)?"":ke.reasonsOther}})},L=G=>{const ne={...a,source:G,sourceOther:G==="Autre"?a.sourceOther:""};u(ne),G!=="Autre"&&s(1)};return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"onboarding-layout",children:[o.jsxs("section",{className:"onboarding-panel",children:[o.jsxs("div",{className:"onboarding-progress",children:[o.jsxs("div",{className:"onboarding-progress__meta",children:[o.jsxs("span",{children:["Question ",i+1," / ",_]}),o.jsxs("span",{children:[I,"%"]})]}),o.jsx("div",{className:"progress-bar","aria-hidden":"true",children:o.jsx("div",{className:"progress-fill",style:{width:`${I}%`}})})]}),i===0?o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"onboarding-question",children:"Comment avez-vous connu ce site ?"}),o.jsx("p",{className:"onboarding-hint",children:"Choix unique"}),o.jsx("div",{className:"onboarding-options",children:q9.map(G=>o.jsxs("label",{className:`onboarding-option${a.source===G?" is-selected":""}`,children:[o.jsx("input",{type:"checkbox",name:"onboarding-source",value:G,checked:a.source===G,onChange:()=>L(G)}),o.jsx("span",{className:"onboarding-option__label",children:G==="Autre"?"Autre ( prciser)":G}),o.jsx("span",{className:"onboarding-option__control","aria-hidden":"true"})]},G))}),a.source==="Autre"?o.jsxs("label",{className:"onboarding-other",children:["Prcise ta rponse",o.jsx("input",{type:"text",value:a.sourceOther,onChange:G=>u(ne=>({...ne,sourceOther:G.target.value})),placeholder:"Ex: blog, forum..."})]}):null]}):null,i===1?o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"onboarding-question",children:"Qu'est-ce qui vous a donn envie de crer un compte ?"}),o.jsx("p",{className:"onboarding-hint",children:"Plusieurs rponses possibles"}),o.jsx("div",{className:"onboarding-options",children:$9.map(G=>o.jsxs("label",{className:`onboarding-option${a.reasons.includes(G)?" is-selected":""}`,children:[o.jsx("input",{type:"checkbox",value:G,checked:a.reasons.includes(G),onChange:()=>X("reasons",G)}),o.jsx("span",{className:"onboarding-option__label",children:G}),o.jsx("span",{className:"onboarding-option__control","aria-hidden":"true"})]},G))}),a.reasons.includes("Autre raison")?o.jsxs("label",{className:"onboarding-other",children:["Dis-nous en plus",o.jsx("input",{type:"text",value:a.reasonsOther,onChange:G=>u(ne=>({...ne,reasonsOther:G.target.value})),placeholder:"Autre raison"})]}):null]}):null,i===2?o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"onboarding-question",children:"Quelles catgories vous intressent le plus ?"}),o.jsx("p",{className:"onboarding-hint",children:"Plusieurs rponses possibles"}),o.jsx("div",{className:"onboarding-options onboarding-options--grid",children:H9.map(G=>o.jsxs("label",{className:`onboarding-option${a.categories.includes(G.label)?" is-selected":""}`,children:[o.jsx("input",{type:"checkbox",value:G.label,checked:a.categories.includes(G.label),onChange:()=>X("categories",G.label)}),o.jsx("span",{className:"onboarding-option__icon","aria-hidden":"true",children:G.icon}),o.jsx("span",{className:"onboarding-option__label",children:G.label}),o.jsx("span",{className:"onboarding-option__control","aria-hidden":"true"})]},G.label))})]}):null]}),o.jsxs("div",{className:"onboarding-actions",children:[i>0?o.jsx("button",{type:"button",className:"onboarding-button onboarding-button--ghost",onClick:se,children:"Retour"}):null,i<_-1?o.jsx("button",{type:"button",className:"onboarding-button",onClick:oe,disabled:!j,children:"Suivant"}):o.jsx("button",{type:"button",className:"onboarding-button",onClick:oe,disabled:!j,children:"Terminer"})]})]})})},by="/assets/ebony-forsyth-dupe-GFqzB8NI.jpeg",eP="/assets/medhanshi-mandawewala-dupe-bl03DVWt.jpeg",tP="/assets/selflove-CaLSWpi4.jpeg",nP="/assets/l-b-dupe-DeI3DkrK.jpeg",iP="/assets/katie-mansfield-dupe-BLIPcaqU.jpeg",rP="/assets/mallika-jain-dupe-JMU-PO8Q.jpeg",sP="/assets/sport-CQaJLkG1.jpeg",yd=[{title:"Sport",text:"Bouge avec douceur et plaisir.",image:sP},{title:"Journaling",text:"cris, clarifie et te recentre.",image:rP},{title:"S'aimer soi-mme",text:"Instants self-love au quotidien.",image:tP},{title:"Wishlist",text:"Garde tes envies au mme endroit.",image:eP},{title:"Calendrier mensuel",text:"Une vue claire sur le mois.",image:cl},{title:"Finances",text:"Budget et dpenses sans stress.",image:by},{title:"Routine",text:"Rituels matin et soir qui te ressemblent.",image:nP},{title:"Cuisine",text:"Ides repas pour librer ta charge mentale.",image:iP}],K9=["Allger ta charge mentale","Taider  te sentir plus sereine","Reprendre le contrle de ton temps","Crer une vie qui te ressemble","Te reconnecter  toi-mme"],Y9=()=>{const t=kc(),e=ko(),{isAuthenticated:n,userEmail:i,logout:s}=or(),{moodboardSrc:a}=ZI(),[u,m]=D.useState(0),[x,_]=D.useState(1);D.useEffect(()=>{const te=()=>{const oe=window.innerWidth;oe>=1200?_(4):oe>=980?_(3):oe>=700?_(2):_(1)};return te(),window.addEventListener("resize",te),()=>window.removeEventListener("resize",te)},[]),D.useEffect(()=>(document.body.classList.add("calendar-page--beige"),()=>{document.body.classList.remove("calendar-page--beige")}),[]);const I=D.useMemo(()=>Array.from({length:x},(te,oe)=>{const se=yd.length;return yd[(u+oe+se)%se]}),[u,x]),j=()=>{m(te=>(te-1+yd.length)%yd.length)},z=()=>{m(te=>(te+1)%yd.length)},J=D.useMemo(()=>{var oe;const te=e.state;return((oe=te==null?void 0:te.from)==null?void 0:oe.pathname)??"/home"},[e.state]);return D.useEffect(()=>{n&&t(J,{replace:!0})},[J,n,t]),o.jsxs("div",{className:"landing-page",children:[o.jsxs("section",{className:"landing-hero",children:[o.jsxs("div",{className:"landing-hero__content",children:[o.jsx("h1",{children:"Lespace qui transforme ton quotidien en une vie plus fluide, plus douce et plus aligne."}),o.jsx("p",{className:"landing-hero__accent",children:"Parce que tu mrites une vie structure sans pression, productive sans stress, et inspirante au quotidien."}),o.jsxs("div",{className:"landing-hero__actions",children:[o.jsx("button",{type:"button",className:"landing-cta-button",onClick:()=>t("/login"),children:"Commencer mon organisation positive"}),n?o.jsx("button",{type:"button",className:"landing-secondary-button",onClick:()=>t("/home"),children:"Reprendre ma planification"}):null]}),n?o.jsxs("div",{className:"landing-hero__status",children:["Connect en tant que ",o.jsx("strong",{children:i}),o.jsx("button",{type:"button",onClick:s,children:"Se dconnecter"})]}):null]}),o.jsx("div",{className:"landing-hero__visual",children:o.jsx("img",{src:a,alt:"Moodboard Planner"})})]}),o.jsxs("section",{className:"landing-daily-hub","aria-labelledby":"landing-daily-hub-title",children:[o.jsx("div",{className:"landing-section-heading",children:o.jsx("h2",{id:"landing-daily-hub-title",children:"Sur ce site tu as accs  :"})}),o.jsxs("div",{className:"landing-carousel",children:[o.jsx("button",{type:"button",className:"landing-carousel__arrow landing-carousel__arrow--left","aria-label":"Cartes prcdentes",onClick:j,children:o.jsx("span",{"aria-hidden":"true",children:""})}),o.jsx("div",{className:"landing-carousel__grid",children:I.map(te=>o.jsxs("article",{className:"landing-carousel__card",children:[o.jsx("div",{className:"landing-carousel__image",children:o.jsx("img",{src:te.image,alt:te.title})}),o.jsxs("div",{className:"landing-carousel__body",children:[o.jsx("h3",{children:te.title}),o.jsx("p",{children:te.text})]})]},te.title))}),o.jsx("button",{type:"button",className:"landing-carousel__arrow landing-carousel__arrow--right","aria-label":"Cartes suivantes",onClick:z,children:o.jsx("span",{"aria-hidden":"true",children:""})})]})]}),o.jsxs("section",{className:"landing-differentiator","aria-labelledby":"landing-differentiator-title",children:[o.jsxs("div",{className:"landing-section-heading",children:[o.jsx("h2",{id:"landing-differentiator-title",children:"Bien plus qu'un outil d'organisation"}),o.jsx("p",{children:"Fini les carnets parpills, les notes sur ton tlphone et les applis dans tous les sens. Ici, tout est centralis pour simplifier ton quotidien et te librer de la charge mentale."})]}),o.jsx("ul",{className:"landing-differentiator__list",children:K9.map(te=>o.jsx("li",{children:te},te))})]}),o.jsxs("section",{className:"landing-final-cta","aria-labelledby":"landing-final-cta-title",children:[o.jsx("h2",{id:"landing-final-cta-title",children:"Et si tu t'offrais enfin une organisation qui te fait du bien ?"}),o.jsx("p",{children:"Tu nas pas besoin den faire davantage. Tu as besoin dun espace qui te laisse respirer, te guide et soutienne ton panouissement."}),o.jsx("button",{type:"button",className:"landing-cta-button",onClick:()=>t("/register"),children:"Je commence mon organisation positive ds maintenant"})]})]})},X9="/assets/activities-CIytRtmO.jpeg",Q9="/assets/noeud-papillon-DaawMELC.png",J9="planner.home.moodboard",am=X9,Z9="planner.profile.preferences.v1",eq="planner.onboarding.answers.v1",tq="profile-photo",qC=cl,nq="home.card-titles",iq="home.card-images",rq="home.card-usage",oP=[{image:sP,alt:"Sport",kicker:"nergie",title:"Sport",path:"/sport"},{image:cl,alt:"Calendrier",kicker:"Vue globale",title:"Calendrier mensuel",path:"/calendrier"},{image:eP,alt:"Wishlist",kicker:"Envie",title:"Wishlist",path:"/wishlist"},{image:rP,alt:"Journaling",kicker:"Reflet",title:"Journaling",path:"/journaling"},{image:tP,alt:"Self-love",kicker:"Care",title:"S'aimer soi-mme",path:"/self-love"},{image:by,alt:"Finances",kicker:"Budget",title:"Finances",path:"/finances"},{image:nP,alt:"Routine",kicker:"Rythme",title:"Routine",path:"/routine"},{image:iP,alt:"Cuisine",kicker:"Saveurs",title:"Cuisine",path:"/alimentation"}],sq={sport:"/sport",journaling:"/journaling","self-love":"/self-love",finances:"/finances",routine:"/routine",wishlist:"/wishlist","calendrier mensuel":"/calendrier",cuisine:"/alimentation"},oq=t=>{var e;return((e=oP.find(n=>n.path===t))==null?void 0:e.title)??""},aq=t=>Math.min(100,Math.max(0,t)),lq=t=>new Date(t).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"}),cq=()=>new Date().toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),$C=()=>{const t=new Date,e=new Date(t.getFullYear(),0,1),n=new Date(t.getFullYear()+1,0,1),i=new Date(t.getFullYear(),t.getMonth(),1),s=new Date(t.getFullYear(),t.getMonth()+1,1),a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),u=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1),m=(x,_)=>aq((t.getTime()-x.getTime())/(_.getTime()-x.getTime())*100);return{year:m(e,n),month:m(i,s),day:m(a,u)}},uq=t=>{var e;try{const n=localStorage.getItem(t);if(!n)return"";const i=JSON.parse(n);return((e=i==null?void 0:i.identityInfo)==null?void 0:e.username)??""}catch{return""}};function uo(t){try{const e=localStorage.getItem(t);if(!e)return null;try{const n=JSON.parse(e);return typeof n=="string"?n:e}catch{return e}}catch{return null}}function Da(t,e){localStorage.setItem(t,e)}function HC(t){try{localStorage.removeItem(t)}catch{}}async function hq(t,e){const n=e==null?void 0:e.size,i=e==null?void 0:e.quality,s=await new Promise((oe,se)=>{const X=new FileReader;X.onerror=()=>se(new Error("Lecture du fichier impossible.")),X.onload=()=>{const L=typeof X.result=="string"?X.result:null;L?oe(L):se(new Error("Fichier invalide."))},X.readAsDataURL(t)}),a=await new Promise((oe,se)=>{const X=new Image;X.onload=()=>oe(X),X.onerror=()=>se(new Error("Image non valide.")),X.src=s}),u=document.createElement("canvas");u.width=n,u.height=n;const m=u.getContext("2d");if(!m)throw new Error("Canvas indisponible.");const x=a.width,_=a.height,I=Math.min(x,_),j=Math.floor((x-I)/2),z=Math.floor((_-I)/2);m.drawImage(a,j,z,I,I,0,0,n,n);const J=u.toDataURL("image/webp",i);return J.startsWith("data:image/webp")?J:u.toDataURL("image/jpeg",i)}async function WC(t,e){const n=(e==null?void 0:e.maxSide)??1600,i=(e==null?void 0:e.quality)??.78,s=await new Promise((oe,se)=>{const X=new FileReader;X.onerror=()=>se(new Error("Lecture du fichier impossible.")),X.onload=()=>{const L=typeof X.result=="string"?X.result:null;L?oe(L):se(new Error("Fichier invalide."))},X.readAsDataURL(t)}),a=await new Promise((oe,se)=>{const X=new Image;X.onload=()=>oe(X),X.onerror=()=>se(new Error("Image non valide.")),X.src=s}),u=a.width,m=a.height;if(!u||!m)throw new Error("Image invalide.");const x=Math.min(1,n/Math.max(u,m)),_=Math.round(u*x),I=Math.round(m*x),j=document.createElement("canvas");j.width=_,j.height=I;const z=j.getContext("2d");if(!z)throw new Error("Canvas indisponible.");z.drawImage(a,0,0,_,I);const J=j.toDataURL("image/webp",i);return J.startsWith("data:image/webp")?J:j.toDataURL("image/jpeg",i)}function dq(){const t=kc(),{tasks:e}=g_(),{userEmail:n}=or(),i=n??"anonymous",s=D.useCallback(ue=>di(i,ue),[i]),a=D.useMemo(()=>s(tq),[s]),u=D.useMemo(()=>di(ll(i),Z9),[i]),m=D.useMemo(()=>s(J9),[s]),x=D.useMemo(()=>s("todos"),[s]),_=D.useMemo(()=>s(nq),[s]),I=D.useMemo(()=>s(iq),[s]),j=D.useMemo(()=>s(rq),[s]),z=D.useMemo(()=>di(ll(i),eq),[i]),[J,te]=D.useState(null),[oe,se]=D.useState(null),[X,L]=D.useState({}),[G,ne]=D.useState(()=>new Date),ke=D.useRef({}),[ge,K]=D.useState(()=>uo(a)??qC),[M,H]=D.useState(null),U=D.useRef(null),[Y,ae]=D.useState(()=>uo(m)??am),[ie,pt]=D.useState(null),Mt=D.useRef(null),[Ke,ft]=D.useState(""),[Re,$e]=D.useState(()=>{try{const ue=localStorage.getItem(x);if(!ue)return[];const pe=JSON.parse(ue);return Array.isArray(pe)?pe:[]}catch{return[]}}),[ut,_t]=D.useState(()=>$C()),jt=D.useMemo(()=>uq(u),[u]),kt=Y!==am,[Ot,mt]=D.useState(()=>{const ue=uo(_);if(!ue)return{};try{const pe=JSON.parse(ue);return pe&&typeof pe=="object"?pe:{}}catch{return{}}}),[Rt,ot]=D.useState(()=>{const ue=uo(I);if(!ue)return{};try{const pe=JSON.parse(ue);return pe&&typeof pe=="object"?pe:{}}catch{return{}}}),[xe,le]=D.useState(()=>{const ue=uo(j);if(!ue)return{};try{const pe=JSON.parse(ue);return pe&&typeof pe=="object"?pe:{}}catch{return{}}}),_e=D.useMemo(()=>{try{const ue=localStorage.getItem(z);if(!ue)return[];const pe=JSON.parse(ue);if(!Array.isArray(pe==null?void 0:pe.categories))return[];const Ae=pe.categories.map(Ze=>sq[String(Ze).trim().toLowerCase()]??"").filter(Boolean);return Array.from(new Set(Ae))}catch{return[]}},[z]),me=D.useMemo(()=>{const ue=new Map(_e.map((Ae,Ze)=>[Ae,Ze]));return oP.map((Ae,Ze)=>{const st=xe[Ae.path]??0,Ut=Math.floor(st/3),Lt=ue.get(Ae.path),lt=Lt!==void 0,rt=Ut+(lt?2:0);return{card:Ae,index:Ze,score:rt,usage:st,isPreferred:lt,preferredOrderIndex:lt?Lt:Number.POSITIVE_INFINITY}}).sort((Ae,Ze)=>Ze.score-Ae.score||Number(Ze.isPreferred)-Number(Ae.isPreferred)||Ae.preferredOrderIndex-Ze.preferredOrderIndex||Ae.index-Ze.index).map(Ae=>Ae.card)},[xe,_e]);D.useEffect(()=>{const ue=uo(a);if(ue){K(ue);return}const pe=uo("profile-photo");if(pe){K(pe);try{Da(a,pe)}catch{}return}K(qC)},[a]),D.useEffect(()=>{try{Da(a,ge)}catch{H("Impossible denregistrer la photo (stockage plein). Choisis une image plus lgre.")}},[a,ge]),D.useEffect(()=>{const ue=uo(m);if(ue){ae(ue);return}const pe=uo("planner.home.moodboard");if(pe){ae(pe);try{Da(m,pe)}catch{}return}ae(am)},[m]),D.useEffect(()=>{try{Da(m,Y)}catch{pt("Impossible denregistrer le moodboard (stockage plein). Choisis une image plus lgre.")}},[m,Y]),D.useEffect(()=>{localStorage.setItem(x,JSON.stringify(Re))},[x,Re]),D.useEffect(()=>{Da(_,JSON.stringify(Ot))},[_,Ot]),D.useEffect(()=>{Da(I,JSON.stringify(Rt))},[I,Rt]),D.useEffect(()=>{Da(j,JSON.stringify(xe))},[j,xe]),D.useEffect(()=>{const ue=setInterval(()=>ne(new Date),6e4);return()=>clearInterval(ue)},[]),D.useEffect(()=>{const ue=()=>_t($C());ue();const pe=setInterval(ue,6e4);return()=>clearInterval(pe)},[]),D.useEffect(()=>(document.body.classList.add("calendar-page--beige"),()=>{document.body.classList.remove("calendar-page--beige")}),[]),D.useEffect(()=>{if(!J)return;const ue=pe=>{const Ae=pe.target;Ae.closest(".profile-menu")||Ae.closest(".card-menu-popover")||te(null)};return document.addEventListener("mousedown",ue),()=>document.removeEventListener("mousedown",ue)},[J]);const Ye=()=>{const ue=Ke.trim();ue&&($e(pe=>[{id:`todo-${Date.now()}`,text:ue,done:!1},...pe]),ft(""))},je=ue=>{$e(pe=>pe.map(Ae=>Ae.id===ue?{...Ae,done:!Ae.done}:Ae))},Ue=ue=>{$e(pe=>pe.filter(Ae=>Ae.id!==ue))},be=async ue=>{var Ae;H(null);const pe=(Ae=ue.target.files)==null?void 0:Ae[0];if(pe){if(!pe.type.startsWith("image/")){H("Format non support. Choisis une image."),ue.target.value="";return}try{const Ze=await hq(pe,{size:320,quality:.82});K(Ze)}catch(Ze){H(Ze instanceof Error?Ze.message:"Erreur lors du traitement de limage.")}finally{ue.target.value=""}}},vt=async ue=>{var Ae;pt(null);const pe=(Ae=ue.target.files)==null?void 0:Ae[0];if(pe){if(!pe.type.startsWith("image/")){pt("Format non support. Choisis une image."),ue.target.value="";return}try{const Ze=await WC(pe,{maxSide:1600,quality:.78});ae(Ze)}catch(Ze){pt(Ze instanceof Error?Ze.message:"Erreur lors du traitement de limage.")}finally{ue.target.value=""}}},Tt=()=>{pt(null),ae(am),HC(m),HC("planner.home.moodboard")},Se=D.useCallback(ue=>Ot[ue.path]??ue.title,[Ot]),Me=D.useCallback(ue=>Rt[ue.path]??ue.image,[Rt]),He=D.useCallback(ue=>{const pe=uo(j);let Ae={};if(pe)try{const st=JSON.parse(pe);st&&typeof st=="object"&&(Ae=st)}catch{Ae={}}const Ze={...Ae,[ue]:(Ae[ue]??0)+1};Da(j,JSON.stringify(Ze)),le(Ze)},[j]),De=ue=>{te(null),se(ue.path),L(pe=>({...pe,[ue.path]:Se(ue)}))},et=ue=>{var pe;te(null),(pe=ke.current[ue.path])==null||pe.click()},at=async(ue,pe)=>{if(pe&&pe.type.startsWith("image/"))try{const Ae=await WC(pe,{maxSide:1200,quality:.8});ot(Ze=>({...Ze,[ue.path]:Ae}))}catch{}},ht=ue=>{const pe=(X[ue]??"").trim(),Ae=oq(ue);mt(Ze=>{const st={...Ze};return pe.length===0||pe===Ae?delete st[ue]:st[ue]=pe,st}),se(null)},Ee=D.useMemo(()=>{const ue=G.getTime();return e.map(Ze=>{const st=new Date(`${Ze.date}T00:00`).getTime(),Ut=new Date(`${Ze.date}T${Ze.start??"00:00"}`),Lt=new Date(`${Ze.date}T${Ze.end??Ze.start??"23:59"}`),lt=Number.isFinite(Ut.getTime())?Ut.getTime():st,rt=Number.isFinite(Lt.getTime())?Lt.getTime():lt;return{id:Ze.id,title:Ze.title,date:Ze.date,start:Ze.start,end:Ze.end,dateTs:Number.isFinite(st)?st:0,startTs:lt,endTs:rt}}).filter(Ze=>Ze.endTs>ue).sort((Ze,st)=>Ze.startTs-st.startTs).slice(0,2).map(({dateTs:Ze,startTs:st,endTs:Ut,...Lt})=>Lt)},[G,e]);return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"page home-page",children:[o.jsxs("aside",{className:"aside-right",children:[o.jsxs("div",{className:"profile-card",children:[o.jsxs("div",{className:"profile-photo",children:[o.jsx("img",{src:ge,alt:"Profil"}),o.jsx("button",{className:"profile-menu","aria-label":"Modifier la photo",type:"button",onClick:()=>{var ue;return(ue=U.current)==null?void 0:ue.click()},children:o.jsx("span",{"aria-hidden":"true",children:"..."})}),o.jsx("input",{ref:U,type:"file",accept:"image/*",className:"profile-file-input",onChange:be})]}),o.jsx("div",{className:"profile-actions",children:M?o.jsx("p",{className:"profile-error",children:M}):null})]}),o.jsxs("p",{className:"profile-welcome",children:[`C'est un plaisir de te revoir${jt?`, ${jt}`:""}`,o.jsx("img",{className:"profile-welcome__bow",src:Q9,alt:"","aria-hidden":"true"})]}),o.jsxs("div",{className:"progress-panel",children:[o.jsxs("div",{className:"progress-row",children:[o.jsxs("div",{className:"progress-label",children:[o.jsx("span",{children:"Anne"}),o.jsxs("span",{children:[ut.year.toFixed(1),"%"]})]}),o.jsx("div",{className:"progress-bar",children:o.jsx("div",{className:"progress-fill",style:{width:`${ut.year}%`}})})]}),o.jsxs("div",{className:"progress-row",children:[o.jsxs("div",{className:"progress-label",children:[o.jsx("span",{children:"Mois"}),o.jsxs("span",{children:[ut.month.toFixed(1),"%"]})]}),o.jsx("div",{className:"progress-bar",children:o.jsx("div",{className:"progress-fill",style:{width:`${ut.month}%`}})})]}),o.jsxs("div",{className:"progress-row",children:[o.jsxs("div",{className:"progress-label",children:[o.jsx("span",{children:"Journe"}),o.jsxs("span",{children:[ut.day.toFixed(1),"%"]})]}),o.jsx("div",{className:"progress-bar",children:o.jsx("div",{className:"progress-fill",style:{width:`${ut.day}%`}})})]})]}),o.jsxs("div",{className:"notes",children:[o.jsx("div",{className:"notes-header",children:o.jsx("div",{children:o.jsx("h3",{children:"Bloc-notes"})})}),o.jsxs("div",{className:"todo-input",children:[o.jsx("input",{type:"text",value:Ke,onChange:ue=>ft(ue.target.value),onKeyDown:ue=>{(ue.key===" "||ue.key==="Spacebar")&&(ue.preventDefault(),Ye())},placeholder:"Ajouter une tche"}),o.jsx("button",{type:"button",className:"todo-add",onClick:Ye,"aria-label":"Ajouter une tche",children:"+"})]}),o.jsx("ul",{className:"todo-list",children:Re.map(ue=>o.jsxs("li",{className:ue.done?"todo-item is-done":"todo-item",children:[o.jsxs("label",{children:[o.jsx("input",{type:"checkbox",checked:ue.done,onChange:()=>je(ue.id)}),o.jsx("span",{children:ue.text})]}),o.jsx("button",{type:"button",onClick:()=>Ue(ue.id),"aria-label":"Supprimer la tche",children:"x"})]},ue.id))})]})]}),o.jsxs("main",{className:"board",children:[o.jsx("section",{className:"home-hero-strip",children:o.jsxs("div",{className:"home-hero-strip__center",children:[o.jsx("div",{className:"today",children:cq()}),o.jsx("h1",{children:"Organise tes journes avec intention"})]})}),o.jsx("section",{className:"card-grid",children:me.map(ue=>o.jsxs("article",{className:"card",role:"button",tabIndex:0,onClick:()=>{oe||(He(ue.path),t(ue.path))},onKeyDown:pe=>{pe.key==="Enter"&&!oe&&(He(ue.path),t(ue.path))},children:[o.jsxs("div",{className:"card-menu-wrapper",children:[o.jsx("button",{type:"button",className:"profile-menu","aria-label":`Modifier ${ue.title}`,onClick:pe=>{pe.stopPropagation(),te(J===ue.title?null:ue.title)},children:o.jsx("span",{"aria-hidden":"true",children:"..."})}),J===ue.title?o.jsxs("div",{className:"card-menu-popover",role:"menu",onClick:pe=>pe.stopPropagation(),children:[o.jsx("button",{type:"button",className:"card-menu-popover__item",onClick:()=>De(ue),children:"Modifier le texte"}),o.jsx("button",{type:"button",className:"card-menu-popover__item",onClick:()=>et(ue),children:"Modifier la photo"})]}):null]}),o.jsx("img",{src:Me(ue),alt:ue.alt}),o.jsx("input",{ref:pe=>{ke.current[ue.path]=pe},type:"file",accept:"image/*",className:"card-file-input",onClick:pe=>pe.stopPropagation(),onChange:pe=>{var Ae;at(ue,(Ae=pe.target.files)==null?void 0:Ae[0]),pe.target.value=""}}),o.jsx("div",{className:"card-body",children:oe===ue.path?o.jsx("input",{type:"text",className:"card-title-input",value:X[ue.path]??Se(ue),onChange:pe=>L(Ae=>({...Ae,[ue.path]:pe.target.value})),onClick:pe=>pe.stopPropagation(),onKeyDown:pe=>{pe.stopPropagation(),pe.key==="Enter"&&(pe.preventDefault(),ht(ue.path)),pe.key==="Escape"&&(pe.preventDefault(),L(Ae=>({...Ae,[ue.path]:Se(ue)})),se(null))},onBlur:()=>ht(ue.path),autoFocus:!0}):o.jsx("h3",{children:Se(ue)})})]},ue.title))})]}),o.jsxs("aside",{className:"aside-left",children:[o.jsx("div",{className:"aside-title",children:"Prochaines tches"}),o.jsx("div",{className:"task-window",children:o.jsx("div",{className:"task-list",children:Ee.length>0?Ee.map(ue=>o.jsxs("article",{className:"task-card",children:[o.jsx("div",{className:"task-card__header",children:o.jsx("p",{className:"task-date",children:lq(ue.date)})}),o.jsx("h4",{className:"task-title",children:ue.title}),ue.start||ue.end?o.jsx("div",{className:"task-meta",children:o.jsxs("span",{className:"task-time-chip",children:[ue.start??""," ",ue.end?`- ${ue.end}`:""]})}):null]},`${ue.title}-${ue.date}`)):o.jsxs("article",{className:"task-card",children:[o.jsx("p",{className:"task-title",children:"Aucune tche prvue"}),o.jsx("p",{className:"task-note",children:"Ajoute une tche dans le calendrier."})]})})})]}),o.jsxs("section",{className:"home-moodboard",children:[o.jsxs("div",{className:"home-moodboard__top",children:[o.jsx("h2",{children:"Moodboard"}),o.jsxs("div",{className:"home-moodboard__top-actions",children:[o.jsx("button",{type:"button",className:"home-moodboard__button",onClick:()=>{var ue;return(ue=Mt.current)==null?void 0:ue.click()},children:"Changer l'image"}),kt?o.jsx("button",{type:"button",className:"home-moodboard__reset",onClick:Tt,children:"Rinitialiser"}):null]}),o.jsx("input",{ref:Mt,type:"file",accept:"image/*",className:"home-moodboard__file-input",onChange:vt})]}),ie?o.jsx("p",{className:"home-moodboard__error",children:ie}):null,o.jsx("div",{className:"home-moodboard__preview",children:o.jsx("img",{src:Y,alt:"Moodboard personnalis"})})]})]})})}const bi=({eyebrow:t,title:e,className:n,children:i})=>o.jsxs("header",{className:`sport-header${n?` ${n}`:""}`,children:[o.jsxs("div",{children:[o.jsx("span",{className:"sport-header__eyebrow",children:t}),o.jsx("h1",{children:e})]}),i]}),pq="/assets/tuany-kohler-dupe-CPMNy1_5.jpeg",fq="/assets/thayna-queiroz-dupe-_QYpnJch.jpeg",mq="/assets/sport-1-BufSr-_U.jpg",gq="planner.sportBoard.v2",GC="planner.sport.quickchips.v1",aP=[{id:"mon",label:"Lundi"},{id:"tue",label:"Mardi"},{id:"wed",label:"Mercredi"},{id:"thu",label:"Jeudi"},{id:"fri",label:"Vendredi"},{id:"sat",label:"Samedi"},{id:"sun",label:"Dimanche"}],Ng=["","","","","","",""],yq=["+ Nouvel vnement","+ Nouvel exercice","+ Routine du jour","+ Nouvelle nourriture","+ Daily meal","+ Nouvel objectif"],vq=t=>new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"short"}).format(new Date(t)),lP=t=>{const e=t.getFullYear(),n=`${t.getMonth()+1}`.padStart(2,"0"),i=`${t.getDate()}`.padStart(2,"0");return`${e}-${n}-${i}`},cP=t=>{const e=new Date(t),n=e.getDay(),i=n===0?-6:1-n;return e.setDate(e.getDate()+i),e.setHours(0,0,0,0),e},wx=()=>{const t=cP(new Date);return aP.map(({label:e},n)=>{const i=new Date(t);return i.setDate(t.getDate()+n),{id:`sport-board-${n}`,label:e,dateISO:lP(i),activity:Ng[n%Ng.length],done:!1}})},xq=t=>{if(!Array.isArray(t)||t.length===0)return"";const e=new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"short"}),n=e.format(new Date(t[0].dateISO)),i=e.format(new Date(t[t.length-1].dateISO));return`${n} - ${i}`},bq=new Set(["Cardio","Renforcement","Yoga","Fitness","Mobility","Pilates","Repos actif"]),wq=()=>{const{userEmail:t}=or();D.useEffect(()=>(document.body.classList.add("sport-page--beige"),()=>{document.body.classList.remove("sport-page--beige")}),[]);const[e,n]=Si(gq,wx),[i,s]=Si(GC,()=>[]),[a,u]=D.useState(()=>i.some(L=>L.text.trim().length>0)),[m,x]=D.useState(null),_=D.useMemo(()=>di(t,GC),[t]),I=D.useMemo(()=>[{id:"life-workout",label:"Workout",image:pq},{id:"life-diet",label:"Diet",image:fq},{id:"life-goals",label:"Goals",image:mq}],[]);D.useEffect(()=>{var ge;if(!Array.isArray(e)||e.length!==aP.length){n(wx());return}const L=lP(cP(new Date));if(((ge=e[0])==null?void 0:ge.dateISO)!==L){n(wx());return}let ne=!1;const ke=e.map((K,M)=>{const H=K.activity??Ng[M%Ng.length];return bq.has(H)?(ne=!0,{...K,activity:""}):H!==K.activity?(ne=!0,{...K,activity:H}):K});ne&&n(ke)},[e,n]);const j=D.useMemo(()=>xq(e),[e]),z=L=>G=>{const ne=G.target.value;n(ke=>ke.map(ge=>ge.id===L?{...ge,activity:ne}:ge))},J=L=>G=>{const{checked:ne}=G.target;n(ke=>ke.map(ge=>ge.id===L?{...ge,done:ne}:ge))},te=L=>{s(G=>[...G,{id:`chip-${Date.now()}`,text:L}]),u(!0)},oe=(L,G)=>{s(ne=>ne.map(ke=>ke.id===L?{...ke,text:G}:ke))},se=()=>{s(L=>L.length>0?L:[{id:`chip-${Date.now()}`,text:""}]),u(!0)},X=L=>{s(G=>{const ne=G.filter(ke=>ke.id!==L);return ne.length===0&&u(!1),ne})};return D.useEffect(()=>{if(i.length===0){u(!1);return}i.some(L=>L.text.trim().length>0)&&u(!0)},[i]),D.useEffect(()=>{if(!a)return;const L=G=>{const ne=G.target;if(ne.closest(".sport-chip__inline-editor")||ne.closest(".sport-chip--add")||ne.closest(".sport-chip--remove"))return;const ke=i.map(ge=>({...ge,text:ge.text.trim()})).filter(ge=>ge.text.length>0);if(ke.length===0){s([]),u(!1);return}s(ke)};return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[a,i,s]),D.useEffect(()=>{const L=()=>{const G=i.some(ne=>ne.text.trim().length>0);if(i.length>0&&!G)try{localStorage.removeItem(_)}catch{}};return window.addEventListener("beforeunload",L),window.addEventListener("pagehide",L),()=>{window.removeEventListener("beforeunload",L),window.removeEventListener("pagehide",L),L()}},[i,_]),D.useEffect(()=>{if(!m)return;const L=G=>{const ne=G.target;ne.closest(".sport-life-card__menu")||ne.closest(".sport-life-card__menu-popover")||x(null)};return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[m]),o.jsxs("div",{className:"sport-page",children:[o.jsx(bi,{eyebrow:"Routine active",title:"Sport"}),o.jsxs("section",{className:"sport-quick-panels",children:[o.jsxs("div",{className:"sport-quick-panel",children:[o.jsx("div",{className:"sport-quick-panel__header",children:o.jsx("span",{className:"sport-quick-panel__title",children:"Ajouts rapides"})}),o.jsx("div",{className:"sport-quick-panel__chips",children:a&&i.length>0?o.jsxs(o.Fragment,{children:[i.map(L=>o.jsxs("div",{className:"sport-chip__inline-editor",children:[o.jsx("input",{type:"text",value:L.text,onChange:G=>oe(L.id,G.target.value),placeholder:"Ajoute ton ide de sance",maxLength:40}),o.jsx("button",{type:"button",className:"sport-chip sport-chip--remove",onClick:()=>X(L.id),children:"-"})]},L.id)),o.jsx("div",{className:"sport-chip__add-row",children:o.jsx("button",{type:"button",className:"sport-chip sport-chip--add",onClick:()=>te(""),children:"+"})})]}):yq.map(L=>o.jsx("button",{type:"button",className:"sport-chip",onClick:()=>se(),children:L},L))})]}),o.jsxs("div",{className:"sport-quick-panel",children:[o.jsx("div",{className:"sport-quick-panel__header",children:o.jsx("span",{className:"sport-quick-panel__title",children:"My Life"})}),o.jsx("div",{className:"sport-quick-panel__cards",children:I.map(L=>o.jsxs(Zo,{className:"sport-life-card",to:L.id==="life-workout"?"/sport/workout":L.id==="life-diet"?"/diet":L.id==="life-goals"?"/goals":"#","aria-label":`Ouvrir ${L.label}`,children:[o.jsxs("div",{className:"sport-life-card__menu-wrapper",children:[o.jsx("button",{type:"button",className:"sport-life-card__menu","aria-label":`Modifier ${L.label}`,onClick:G=>{G.preventDefault(),G.stopPropagation(),x(m===L.id?null:L.id)},children:o.jsx("span",{"aria-hidden":"true",children:"..."})}),m===L.id?o.jsx("div",{className:"sport-life-card__menu-popover",role:"menu",onClick:G=>G.stopPropagation(),children:o.jsx("button",{type:"button",className:"sport-life-card__menu-item",children:"Modifier la photo"})}):null]}),o.jsx("div",{className:"sport-life-card__media",children:o.jsx("img",{src:L.image,alt:L.label})}),o.jsx("h3",{children:L.label})]},L.id))})]})]}),o.jsxs("section",{className:"sport-board",children:[o.jsxs("header",{className:"sport-section-header",children:[o.jsx("div",{children:o.jsx("h2",{children:"Planning de sport"})}),j?o.jsxs("p",{className:"sport-board__range",children:["Semaine du ",j]}):null]}),o.jsx("div",{className:"sport-board__group",children:o.jsx("div",{className:"sport-board__columns",role:"list",children:e.map(L=>o.jsxs("article",{className:"sport-board-card",role:"listitem",children:[o.jsxs("header",{className:"sport-board-card__header",children:[o.jsxs("div",{children:[o.jsx("h3",{children:L.label}),o.jsx("time",{dateTime:L.dateISO,children:vq(L.dateISO)})]}),o.jsx("span",{className:`sport-board-card__status${L.done?" is-done":""}`,children:L.done?"Fait":" planifier"})]}),o.jsxs("label",{className:"sport-board-card__field",children:[o.jsx("span",{children:"Sance"}),o.jsx("input",{type:"text",value:L.activity,onChange:z(L.id),placeholder:"cris le sport prvu"})]}),o.jsxs("label",{className:"sport-board-card__checkbox",children:[o.jsx("input",{type:"checkbox",checked:L.done,onChange:J(L.id)}),o.jsx("span",{children:"Sance effectue"})]})]},L.id))})})]})]})},_q=[{value:"bright",label:"Lgre",emoji:""},{value:"good",label:"Stable",emoji:""},{value:"neutral",label:"Neutre",emoji:""},{value:"low",label:"Lourde",emoji:""},{value:"overwhelmed",label:"Sature",emoji:""}],Eq=[{value:"low",label:"Faible"},{value:"medium",label:"Moyenne"},{value:"high",label:"Haute"}],kq=[{value:"better",label:"Un peu mieux"},{value:"same",label:"Pareil"},{value:"clearer",label:"Plus clair"},{value:"tiredRelieved",label:"Fatigu(e) mais soulag(e)"}],Tq=[{value:"gratitude",label:"Une chose pour laquelle je suis reconnaissant(e) aujourd'hui"},{value:"victory",label:"Une petite victoire du jour"}],KC={bright:["Qu'est-ce qui t'a fait du bien aujourd'hui, mme un peu ?","Quelle petite chose nourrit ta joie en ce moment ?","Qu'est-ce que tu veux garder prcieusement de cette journe ?","De quoi as-tu envie de te remercier aujourd'hui ?"],good:["Qu'est-ce qui te stabilise en ce moment ?","Quelle partie de ta journe t'a donn un peu d'lan ?","Qu'est-ce que tu aimerais continuer demain ?","Qu'est-ce qui te rassure aujourd'hui ?"],neutral:["Que veux-tu dposer ici, sans filtre ?","De quoi aurais-tu besoin l, maintenant ?","Qu'est-ce que tu vites en ce moment ?","Qu'est-ce que tu veux clarifier doucement ?"],low:["Qu'est-ce qui te pse le plus aujourd'hui ?","Quel petit geste pourrait te soulager aujourd'hui ?","Qu'est-ce qui te manque en ce moment ?","Qu'est-ce que tu aimerais qu'on comprenne de toi ?"],overwhelmed:["Qu'est-ce qui te prend trop de place aujourd'hui ?","De quoi pourrais-tu te dlester, mme un peu ?","Quelle limite douce pourrais-tu poser ?","Qu'est-ce que tu veux laisser pour plus tard ?"]},YC=()=>{const t=new Date,e=t.getFullYear(),n=`${t.getMonth()+1}`.padStart(2,"0"),i=`${t.getDate()}`.padStart(2,"0");return`${e}-${n}-${i}`},uP=t=>{const[e,n,i]=t.split("-").map(Number);return!e||!n||!i?null:new Date(e,n-1,i)},Cq=t=>{const e=new Date(t.getFullYear(),0,0),n=t.getTime()-e.getTime();return Math.floor(n/864e5)},Sq=(t,e)=>{const n=uP(t),i=n?Cq(n):0,s=KC[e]??KC.neutral;return s[i%s.length]},Aq=t=>{const e=uP(t);if(!e)return t;const n=e.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"});return n.charAt(0).toUpperCase()+n.slice(1)},Nq=t=>{const e=t.replace(/\s+/g," ").trimStart(),n=e.trim().split(" ").filter(Boolean);return n.length<=3?e:n.slice(0,3).join(" ")},jq=()=>{const[,t]=Si("planner.journal.entries",()=>[]);D.useEffect(()=>(document.body.classList.add("journaling-page--beige"),()=>{document.body.classList.remove("journaling-page--beige")}),[]);const[e,n]=D.useState({date:YC(),mood:"neutral",energy:"medium",keyword:"",content:"",questionAnswer:"",postFeeling:"",positiveAnchor:"",positiveAnchorType:"gratitude"}),[i,s]=D.useState(!1),a=D.useRef(null);D.useEffect(()=>()=>{a.current!==null&&window.clearTimeout(a.current)},[]);const u=D.useMemo(()=>Sq(e.date,e.mood),[e.date,e.mood]),m=D.useMemo(()=>Aq(e.date),[e.date]),x=()=>{const _={id:`entry-${Date.now()}`,date:e.date,mood:e.mood,energy:e.energy,keyword:e.keyword.trim()||void 0,question:u,questionAnswer:e.questionAnswer.trim()||void 0,content:e.content.trim()||void 0,postFeeling:e.postFeeling||void 0,positiveAnchor:e.positiveAnchor.trim()||void 0,positiveAnchorType:e.positiveAnchorType,createdAt:Date.now()};t(I=>[_,...I]),n(I=>({...I,date:YC(),keyword:"",content:"",questionAnswer:"",postFeeling:"",positiveAnchor:"",positiveAnchorType:"gratitude"})),s(!0),a.current!==null&&window.clearTimeout(a.current),a.current=window.setTimeout(()=>{s(!1),a.current=null},2e3)};return o.jsxs("div",{className:"journaling-page aesthetic-page",children:[o.jsx(bi,{eyebrow:"Reflet",title:"Journaling"}),o.jsxs("section",{className:"journaling-section journaling-checkin journaling-section--delay-1",children:[o.jsxs("header",{className:"journaling-section__header",children:[o.jsxs("div",{children:[o.jsx("h2",{children:"Check-in motionnel"}),o.jsx("p",{children:"Commence par un point rapide. C'est juste pour toi."})]}),o.jsx("div",{className:"journaling-checkin__date",children:m})]}),o.jsxs("div",{className:"journaling-checkin__grid",children:[o.jsxs("div",{className:"journaling-checkin__block",children:[o.jsx("span",{className:"journaling-checkin__label",children:"Humeur du jour"}),o.jsx("div",{className:"journaling-mood__options",children:_q.map(_=>o.jsxs("label",{className:"journaling-choice",children:[o.jsx("input",{type:"radio",name:"mood",value:_.value,checked:e.mood===_.value,onChange:()=>n(I=>({...I,mood:_.value}))}),o.jsxs("span",{className:"journaling-choice__content",children:[o.jsx("span",{className:"journaling-choice__emoji","aria-hidden":"true",children:_.emoji}),o.jsx("span",{children:_.label})]})]},_.value))})]}),o.jsxs("div",{className:"journaling-checkin__block",children:[o.jsx("span",{className:"journaling-checkin__label",children:"Niveau d'nergie"}),o.jsx("div",{className:"journaling-energy__options",children:Eq.map(_=>o.jsxs("label",{className:"journaling-choice journaling-choice--pill",children:[o.jsx("input",{type:"radio",name:"energy",value:_.value,checked:e.energy===_.value,onChange:()=>n(I=>({...I,energy:_.value}))}),o.jsxs("span",{className:"journaling-choice__content",children:[o.jsx("span",{className:"journaling-choice__dot","aria-hidden":"true"}),o.jsx("span",{children:_.label})]})]},_.value))})]}),o.jsxs("div",{className:"journaling-checkin__block",children:[o.jsx("span",{className:"journaling-checkin__label",children:"Mot-cl du jour"}),o.jsx("input",{className:"journaling-input",type:"text",value:e.keyword,onChange:_=>n(I=>({...I,keyword:Nq(_.target.value)})),placeholder:"1  3 mots"}),o.jsx("p",{className:"journaling-helper",children:"Libre, simple, sans pression."})]})]})]}),o.jsxs("section",{className:"journaling-section journaling-question journaling-section--delay-2",children:[o.jsx("header",{className:"journaling-section__header",children:o.jsxs("div",{children:[o.jsx("h2",{children:"Question guide du jour"}),o.jsx("p",{children:"Une seule question, pour ouvrir une porte sans t'enfermer."})]})}),o.jsxs("div",{className:"journaling-question__card",children:[o.jsx("p",{className:"journaling-question__prompt",children:u}),o.jsx("div",{className:"journaling-question__answer",children:o.jsx("textarea",{value:e.questionAnswer,onChange:_=>n(I=>({...I,questionAnswer:_.target.value})),placeholder:"cris ce qui vient, mme en quelques mots.",rows:4})})]})]}),o.jsxs("section",{className:"journaling-section journaling-write journaling-section--delay-3",children:[o.jsx("header",{className:"journaling-section__header",children:o.jsxs("div",{children:[o.jsx("h2",{children:"Zone d'criture principale"}),o.jsx("p",{children:"cris librement. Personne ne te lira. Tu peux t'arrter quand tu veux."})]})}),o.jsx("textarea",{value:e.content,onChange:_=>n(I=>({...I,content:_.target.value})),placeholder:"Ex : Aujourd'hui j'ai eu du mal  me lever, mais j'ai aim mon caf du matin. J'ai aussi russi  rgler ce problme qui tranait depuis une semaine, ce qui m'a soulag. Par contre je me sens un peu tendu  l'ide de la runion de demain...",rows:10})]}),o.jsxs("section",{className:"journaling-section journaling-closure journaling-section--delay-4",children:[o.jsx("header",{className:"journaling-section__header",children:o.jsxs("div",{children:[o.jsx("h2",{children:"Clture motionnelle"}),o.jsx("p",{children:"Un petit retour sur ce que l'criture vient de bouger."})]})}),o.jsxs("div",{className:"journaling-closure__grid",children:[o.jsxs("div",{className:"journaling-closure__block",children:[o.jsx("span",{className:"journaling-checkin__label",children:"Comment te sens-tu maintenant ?"}),o.jsx("div",{className:"journaling-post__options",children:kq.map(_=>o.jsxs("label",{className:"journaling-choice journaling-choice--wide",children:[o.jsx("input",{type:"radio",name:"postFeeling",value:_.value,checked:e.postFeeling===_.value,onChange:()=>n(I=>({...I,postFeeling:_.value}))}),o.jsx("span",{className:"journaling-choice__content",children:_.label})]},_.value))})]}),o.jsxs("div",{className:"journaling-closure__block",children:[o.jsx("span",{className:"journaling-checkin__label",children:"Ancrage positif optionnel"}),o.jsx("div",{className:"journaling-anchor__options",children:Tq.map(_=>o.jsxs("label",{className:"journaling-toggle",children:[o.jsx("input",{type:"radio",name:"anchorType",value:_.value,checked:e.positiveAnchorType===_.value,onChange:()=>n(I=>({...I,positiveAnchorType:_.value}))}),o.jsx("span",{className:"journaling-toggle__label",children:_.label})]},_.value))}),o.jsx("textarea",{value:e.positiveAnchor,onChange:_=>n(I=>({...I,positiveAnchor:_.target.value})),placeholder:"Ex : Je me suis fait(e) un ami.",rows:4})]})]})]}),o.jsxs("section",{className:"journaling-save",children:[o.jsx("button",{type:"button",className:"journaling-save__button",onClick:x,children:"Sauvegarder cette page"}),o.jsxs("div",{className:`journaling-save__confirmation${i?" is-visible":""}`,"aria-live":"polite",children:[o.jsx("span",{"aria-hidden":"true",children:""}),o.jsx("strong",{children:"Page enregistre"})]})]})]})},Iq="/assets/Timbre-1-BN7ny1h6.png",Pq="/assets/Timbre-2-BG6VgFFz.png",hP=6,Mq=["J'apprends  me traiter avec douceur.","Je mrite l'attention que je me donne.","Je prends soin de moi un peu plus chaque jour."],dP=()=>({certificatePhoto:null,photos:Array.from({length:hP},(t,e)=>({id:`photo-${e}`,dataUrl:null})),qualities:[{id:"quality-1",text:"Mon sourire illumine les gens."},{id:"quality-2",text:"J'ai une force tranquille."},{id:"quality-3",text:"Je sais couter avec le cur."}],thoughts:[{id:"thought-1",text:"Je ne suis pas assez."},{id:"thought-2",text:"Je dois tout contrler."},{id:"thought-3",text:"Je ne mrite pas ce que j'ai."}],journal:[],letterTo:"Moi du futur",letterFrom:"Moi du prsent",letterBody:"Cher moi, merci de continuer  te choisir chaque jour...",kittyLetterBody:"Je suis si fier/fire de toi. Merci de te relever, de rire, de pleurer et de croire en toi-mme quand c'est compliqu. Tu es doux/douce, courageux/courageuse et tellement lumineux/lumineuse.",innerChildMessage:"",innerChildReassurance:"",innerChildNeededWords:"",bestFriendAdvice:"",bestFriendSelfTalk:"",customAffirmations:[...Mq],savedLetters:[]}),XC=["Je m'offre la mme douceur que je donne aux autres.","Je suis dj assez et je le reste  chaque souffle.","Ma prsence est un cadeau pour ce monde.","Je choisis de me regarder avec de l'amour aujourd'hui.","Je laisse ma lumire briller sans me cacher.","Je suis digne de tendresse, de joie et de paix."],QC=[`"S'aimer soi-mme est le dbut d'une histoire d'amour qui dure toute la vie." - Oscar Wilde`,'"Tu es ton propre refuge. Tu es ton propre soleil."','"Tu es le rsultat de lamour de toutes les femmes qui tont prcde."','"Noublie pas de tmerveiller de ta force douce."','"Tu es une uvre en mouvement, magnifique  chaque tape."'],Rq="planner.selfLove",Xr=t=>{const e=dP();if(!t||typeof t!="object")return e;const n=t,i=Array.isArray(n.photos)?n.photos.slice(0,hP).map((j,z)=>({id:typeof(j==null?void 0:j.id)=="string"?j.id:`photo-${z}`,dataUrl:typeof(j==null?void 0:j.dataUrl)=="string"?j.dataUrl:null})):e.photos,s=Array.isArray(n.qualities)?n.qualities.filter(j=>!!j&&typeof j.id=="string"&&typeof j.text=="string").map(j=>({id:j.id,text:j.text})):e.qualities,a=Array.isArray(n.thoughts)?n.thoughts.filter(j=>!!j&&typeof j.id=="string"&&typeof j.text=="string").map(j=>({id:j.id,text:j.text})):e.thoughts,u=Array.isArray(n.journal)?n.journal.filter(j=>!!j&&typeof j.id=="string"&&typeof j.text=="string"&&typeof j.createdAt=="string").map(j=>({id:j.id,text:j.text,createdAt:j.createdAt})):e.journal,m=Array.isArray(n.customAffirmations)?n.customAffirmations.map(j=>typeof j=="string"?j:"").slice(0,3):e.customAffirmations;for(;m.length<e.customAffirmations.length;)m.push(e.customAffirmations[m.length]);let x=typeof n.letterTo=="string"?n.letterTo:e.letterTo,_=typeof n.letterFrom=="string"?n.letterFrom:e.letterFrom;x==="Moi du futur"&&_==="Moi du present"&&(x="Moi du prsent",_="Moi du futur");const I=Array.isArray(n.savedLetters)?n.savedLetters.filter(j=>!!j&&(j.template==="classic"||j.template==="kitty")&&typeof j.id=="string"&&typeof j.body=="string"&&typeof j.createdAt=="string").map(j=>({id:j.id,template:j.template,to:typeof j.to=="string"?j.to:void 0,from:typeof j.from=="string"?j.from:void 0,body:j.body,createdAt:j.createdAt,innerChild:j.innerChild&&typeof j.innerChild=="object"&&typeof j.innerChild.message=="string"&&typeof j.innerChild.reassurance=="string"&&typeof j.innerChild.neededWords=="string"?{message:j.innerChild.message,reassurance:j.innerChild.reassurance,neededWords:j.innerChild.neededWords}:void 0,bestFriend:j.bestFriend&&typeof j.bestFriend=="object"&&typeof j.bestFriend.advice=="string"&&typeof j.bestFriend.selfTalk=="string"?{advice:j.bestFriend.advice,selfTalk:j.bestFriend.selfTalk}:void 0,entryType:j.entryType==="innerChild"||j.entryType==="bestFriend"?j.entryType:"letter"})):e.savedLetters;return{certificatePhoto:typeof n.certificatePhoto=="string"?n.certificatePhoto:e.certificatePhoto,photos:i,qualities:s,thoughts:a,journal:u,letterTo:x,letterFrom:_,letterBody:typeof n.letterBody=="string"?n.letterBody:e.letterBody,kittyLetterBody:typeof n.kittyLetterBody=="string"?n.kittyLetterBody:e.kittyLetterBody,innerChildMessage:typeof n.innerChildMessage=="string"?n.innerChildMessage:e.innerChildMessage,innerChildReassurance:typeof n.innerChildReassurance=="string"?n.innerChildReassurance:e.innerChildReassurance,innerChildNeededWords:typeof n.innerChildNeededWords=="string"?n.innerChildNeededWords:e.innerChildNeededWords,bestFriendAdvice:typeof n.bestFriendAdvice=="string"?n.bestFriendAdvice:e.bestFriendAdvice,bestFriendSelfTalk:typeof n.bestFriendSelfTalk=="string"?n.bestFriendSelfTalk:e.bestFriendSelfTalk,customAffirmations:m,savedLetters:I}},Dq=()=>{const[t,e]=Si(Rq,dP),[n,i]=D.useState(""),[s,a]=D.useState(""),[u,m]=D.useState(""),[x,_]=D.useState(new Set),[I,j]=D.useState("classic"),[z,J]=D.useState(!1),te=D.useRef(null),[oe,se]=D.useState(!1),X=D.useRef(null),L=D.useMemo(()=>Xr(t),[t]);D.useEffect(()=>(document.body.classList.add("self-love-page--gradient"),()=>{document.body.classList.remove("self-love-page--gradient"),te.current!==null&&window.clearTimeout(te.current),X.current!==null&&window.clearTimeout(X.current)}),[]),D.useMemo(()=>{var Ke;return L.certificatePhoto?L.certificatePhoto:((Ke=L.photos.find(ft=>ft.dataUrl))==null?void 0:Ke.dataUrl)??null},[L.certificatePhoto,L.photos]),D.useMemo(()=>{const ft=new Date().toISOString().slice(0,10).split("").reduce((Re,$e)=>Re+$e.charCodeAt(0),0);return XC[ft%XC.length]},[]),D.useMemo(()=>{const ft=new Date().toISOString().slice(0,10).split("").reverse().reduce((Re,$e)=>Re+$e.charCodeAt(0),0);return QC[ft%QC.length]},[]);const G=(Ke,ft)=>{var ut;const Re=(ut=ft.target.files)==null?void 0:ut[0];if(!Re)return;const $e=new FileReader;$e.onload=()=>{const _t=typeof $e.result=="string"?$e.result:null;e(jt=>{const kt=Xr(jt);return{...kt,photos:kt.photos.map(Ot=>Ot.id===Ke?{...Ot,dataUrl:_t}:Ot)}})},$e.readAsDataURL(Re)},ne=Ke=>{e(ft=>{const Re=Xr(ft);return{...Re,photos:Re.photos.map($e=>$e.id===Ke?{...$e,dataUrl:null}:$e)}})},ke=Ke=>{Ke.preventDefault();const ft=n.trim();ft.length!==0&&(e(Re=>{const $e=Xr(Re);return{...$e,qualities:[{id:`quality-${Date.now()}`,text:ft},...$e.qualities]}}),i(""))},ge=Ke=>{e(ft=>{const Re=Xr(ft);return{...Re,qualities:Re.qualities.filter($e=>$e.id!==Ke)}})},K=Ke=>{Ke.preventDefault();const ft=s.trim();ft.length!==0&&(e(Re=>{const $e=Xr(Re);return{...$e,thoughts:[...$e.thoughts,{id:`thought-${Date.now()}`,text:ft}]}}),a(""))},M=Ke=>{_(ft=>new Set(ft).add(Ke)),window.setTimeout(()=>{e(ft=>{const Re=Xr(ft);return{...Re,thoughts:Re.thoughts.filter($e=>$e.id!==Ke)}}),_(ft=>{const Re=new Set(ft);return Re.delete(Ke),Re})},620)},H=(Ke,ft)=>{e(Re=>({...Xr(Re),[Ke]:ft}))},U=(Ke,ft)=>{e(Re=>({...Xr(Re),[Ke]:ft}))},Y=(Ke,ft)=>{e(Re=>({...Xr(Re),[Ke]:ft}))},ae=()=>{const Ke={message:L.innerChildMessage.trim(),reassurance:L.innerChildReassurance.trim(),neededWords:L.innerChildNeededWords.trim()};if(!Object.values(Ke).some(Re=>Re.length>0)){window.alert("Commence par crire quelques phrases avant d'ajouter cet exercice.");return}const ft={id:`exercise-inner-child-${Date.now()}`,template:"classic",body:[Ke.message,Ke.reassurance,Ke.neededWords].filter(Re=>Re.length>0).join(`

`),createdAt:new Date().toISOString(),innerChild:Ke,entryType:"innerChild"};e(Re=>{const $e=Xr(Re);return{...$e,savedLetters:[ft,...$e.savedLetters].slice(0,30)}}),se(!0),X.current!==null&&window.clearTimeout(X.current),X.current=window.setTimeout(()=>{se(!1),X.current=null},2e3)},ie=()=>{const Ke={advice:L.bestFriendAdvice.trim(),selfTalk:L.bestFriendSelfTalk.trim()};if(!Object.values(Ke).some(Re=>Re.length>0)){window.alert("Commence par crire quelques phrases avant d'ajouter cet exercice.");return}const ft={id:`exercise-best-friend-${Date.now()}`,template:"kitty",body:[Ke.advice,Ke.selfTalk].filter(Re=>Re.length>0).join(`

`),createdAt:new Date().toISOString(),bestFriend:Ke,entryType:"bestFriend"};e(Re=>{const $e=Xr(Re);return{...$e,savedLetters:[ft,...$e.savedLetters].slice(0,30)}}),se(!0),X.current!==null&&window.clearTimeout(X.current),X.current=window.setTimeout(()=>{se(!1),X.current=null},2e3)},pt=Ke=>{const Re=L.letterBody.trim();if(Re.length===0){window.alert("Commence par crire ta lettre avant de l'enregistrer.");return}const $e={message:L.innerChildMessage.trim(),reassurance:L.innerChildReassurance.trim(),neededWords:L.innerChildNeededWords.trim()},ut=Object.values($e).some(Ot=>Ot.length>0),_t={advice:L.bestFriendAdvice.trim(),selfTalk:L.bestFriendSelfTalk.trim()},jt=Object.values(_t).some(Ot=>Ot.length>0),kt={id:`saved-letter-${Date.now()}`,template:Ke,to:L.letterTo,from:L.letterFrom,body:Re,createdAt:new Date().toISOString(),innerChild:ut?$e:void 0,bestFriend:jt?_t:void 0,entryType:"letter"};e(Ot=>{const mt=Xr(Ot);return{...mt,savedLetters:[kt,...mt.savedLetters].slice(0,30)}}),J(!0),te.current!==null&&window.clearTimeout(te.current),te.current=window.setTimeout(()=>{J(!1),te.current=null},2e3)},Mt=D.useMemo(()=>{const Ke=new Date;return{short:Ke.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"}),full:Ke.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}},[]);return o.jsxs("div",{className:"self-love-page",children:[o.jsx(bi,{eyebrow:"Self love",title:"S'aimer soi-mme"}),o.jsxs("section",{className:"self-love-section self-love-section--photos",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"self-love-chocolate",children:"Aime-toi !"}),o.jsx("p",{className:"self-love-chocolate",children:"Regarde-toi avec bienveillance et choisis 6 photos o tu rayonnes."})]}),o.jsx("div",{className:"self-love-photos-frame",children:o.jsx("div",{className:"self-love-photos",children:L.photos.map((Ke,ft)=>o.jsxs("div",{className:"self-love-photo-card",children:[o.jsxs("label",{className:"self-love-photo-card__drop",children:[Ke.dataUrl?o.jsx("img",{src:Ke.dataUrl,alt:`Souvenir ${ft+1}`}):o.jsx("span",{className:"self-love-photo-card__placeholder",children:o.jsx("span",{className:"body-goal-slot__upload",children:o.jsx("span",{children:"Ajouter une photo"})})}),o.jsx("input",{type:"file",accept:"image/*",onChange:Re=>G(Ke.id,Re)})]}),Ke.dataUrl?o.jsx("button",{type:"button",onClick:()=>ne(Ke.id),children:"Changer la photo"}):null]},Ke.id))})})]}),o.jsxs("div",{className:"self-love-sections-row",children:[o.jsxs("section",{className:"self-love-section self-love-section--qualities",children:[o.jsx("h2",{className:"self-love-chocolate",children:"Liste tes qualits"}),o.jsxs("form",{className:"self-love-form-row",onSubmit:ke,children:[o.jsx("textarea",{className:"self-love-exercise__textarea",placeholder:"Ex : Je sais couter avec le cur. ",value:n,onChange:Ke=>i(Ke.target.value)}),o.jsx("button",{type:"submit",children:"+ Ajouter une qualit"})]}),o.jsxs("div",{className:"self-love-list-pad",children:[o.jsxs("div",{className:"self-love-list-pad__bow",children:[o.jsx("span",{"aria-hidden":"true"}),o.jsx("div",{children:o.jsx("strong",{children:"Ce que j'aime chez moi"})})]}),o.jsxs("ul",{className:"self-love-list",children:[L.qualities.map(Ke=>o.jsxs("li",{children:[o.jsx("span",{className:"self-love-list__heart","aria-hidden":"true",children:"*"}),o.jsx("span",{className:"self-love-list__text",children:Ke.text}),o.jsx("button",{type:"button",className:"modal__close",onClick:()=>ge(Ke.id),"aria-label":"Retirer cette qualit",children:o.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M6 6 18 18M18 6 6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]},Ke.id)),L.qualities.length===0?o.jsxs("li",{className:"self-love-list__empty",children:[o.jsx("span",{className:"self-love-list__heart","aria-hidden":"true",children:"*"}),o.jsx("span",{className:"self-love-list__text",children:"Commence par noter une seule phrase douce. Le reste suivra."})]}):null]})]})]}),o.jsxs("section",{className:"self-love-section self-love-section--thoughts",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"self-love-chocolate",children:"Penses ngatives  laisser derrire toi"}),o.jsx("p",{className:"self-love-chocolate",children:"Clique sur une pense pour la laisser s'envoler."})]}),o.jsxs("form",{className:"self-love-form-row",onSubmit:K,children:[o.jsx("textarea",{className:"self-love-exercise__textarea",placeholder:"Ex. Je dois tre parfait(e).",value:s,onChange:Ke=>a(Ke.target.value)}),o.jsx("button",{type:"submit",children:"Ajouter"})]}),o.jsxs("div",{className:"self-love-thoughts",children:[L.thoughts.map(Ke=>{const ft=x.has(Ke.id);return o.jsxs("button",{type:"button",className:ft?"self-love-thought self-love-thought--releasing":"self-love-thought",onClick:()=>M(Ke.id),children:[o.jsx("span",{children:Ke.text}),o.jsx("em",{children:"Clique pour la dissoudre"})]},Ke.id)}),L.thoughts.length===0?o.jsx("div",{className:"self-love-thought self-love-thought--empty",children:o.jsx("span",{children:"Plus aucune pense limitante ici. Bravo !"})}):null]})]})]}),o.jsxs("section",{className:"self-love-section self-love-exercises",children:[o.jsx("div",{}),o.jsxs("div",{className:"self-love-exercise__grid",children:[o.jsxs("article",{className:"self-love-exercise__card",children:[o.jsx("div",{className:"self-love-exercise__eyebrow",children:"L'enfant intrieur"}),o.jsx("h3",{className:"self-love-chocolate",children:"Dialogue doux avec ton pass"}),o.jsx("p",{className:"self-love-chocolate",children:"Imagine une situation difficile d'enfance et offre-toi aujourd'hui les mots qui avaient manqu."}),o.jsxs("label",{className:"self-love-exercise__prompt",children:[o.jsx("span",{children:"Que souhaiterais-tu lui dire maintenant ?"}),o.jsx("textarea",{className:"self-love-exercise__textarea",value:L.innerChildMessage,onChange:Ke=>U("innerChildMessage",Ke.target.value),placeholder:"Je te dirais..."})]}),o.jsxs("label",{className:"self-love-exercise__prompt",children:[o.jsx("span",{children:"Comment pourrais-tu le rassurer ?"}),o.jsx("textarea",{className:"self-love-exercise__textarea",value:L.innerChildReassurance,onChange:Ke=>U("innerChildReassurance",Ke.target.value),placeholder:"Je te rassure en..."})]}),o.jsxs("label",{className:"self-love-exercise__prompt",children:[o.jsx("span",{children:"De quoi aurait-il eu besoin d'entendre ?"}),o.jsx("textarea",{className:"self-love-exercise__textarea",value:L.innerChildNeededWords,onChange:Ke=>U("innerChildNeededWords",Ke.target.value),placeholder:"Tu avais besoin d'entendre..."})]}),o.jsx("button",{type:"button",className:"self-love-exercise__save",onClick:ae,children:"Ajouter aux archives"})]}),o.jsxs("article",{className:"self-love-exercise__card",children:[o.jsx("div",{className:"self-love-exercise__eyebrow",children:"Jeu des rles"}),o.jsx("h3",{className:"self-love-chocolate",children:"Le meilleur ami comme boussole"}),o.jsx("p",{className:"self-love-chocolate",children:"Imagine qu'un ami cher vive exactement la mme situation que toi. Quelles paroles lui offrirais-tu ?"}),o.jsxs("label",{className:"self-love-exercise__prompt",children:[o.jsx("span",{children:"Que lui dirais-tu ?"}),o.jsx("textarea",{className:"self-love-exercise__textarea",value:L.bestFriendAdvice,onChange:Ke=>Y("bestFriendAdvice",Ke.target.value),placeholder:"Je lui dirais..."})]}),o.jsxs("label",{className:"self-love-exercise__prompt",children:[o.jsx("span",{children:"Quelle est la diffrence avec ce que tu te dis  toi-mme ?"}),o.jsx("textarea",{className:"self-love-exercise__textarea",value:L.bestFriendSelfTalk,onChange:Ke=>Y("bestFriendSelfTalk",Ke.target.value),placeholder:"Je remarque que..."})]}),o.jsx("p",{className:"self-love-exercise__hint",children:"Cet exercice casse l'auto-critique et rappelle que tu mrites la mme douceur."}),o.jsx("button",{type:"button",className:"self-love-exercise__save",onClick:ie,children:"Ajouter aux archives"})]})]}),o.jsxs("div",{className:`journaling-save__confirmation self-love-letter__confirmation${oe?" is-visible":""}`,"aria-live":"polite",children:[o.jsx("span",{"aria-hidden":"true",children:"?"}),o.jsx("strong",{children:"Page ajoute !"})]})]}),o.jsxs("section",{className:"self-love-section self-love-letter",children:[o.jsx("div",{className:"self-love-letter__tabs","aria-hidden":"true"}),o.jsx("div",{className:"self-love-letter__cards",children:o.jsxs("div",{className:`self-love-letter__frame self-love-letter__card self-love-letter__card--classic${I==="classic"?" is-active":""}`,"aria-hidden":I!=="classic",style:I==="classic"?void 0:{display:"none"},children:[o.jsx("p",{className:"self-love-letter__title",children:"Lettre d'amour vers moi-mme"}),o.jsxs("div",{className:"self-love-letter__addresses",children:[o.jsxs("div",{className:"self-love-letter__fields",children:[o.jsxs("label",{children:[o.jsx("span",{children:"De :"}),o.jsx("input",{type:"text",value:L.letterFrom,onChange:Ke=>H("letterFrom",Ke.target.value),placeholder:"Ta version prsente"})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Pour :"}),o.jsx("input",{type:"text",value:L.letterTo,onChange:Ke=>H("letterTo",Ke.target.value),placeholder:"Ton moi futur "})]})]}),o.jsxs("div",{className:"self-love-letter__stamps","aria-hidden":"true",children:[o.jsx("div",{className:"self-love-letter__stamp self-love-letter__stamp--love",children:o.jsx("img",{src:Iq,alt:"Timbre d'amour"})}),o.jsx("div",{className:"self-love-letter__stamp self-love-letter__stamp--key",children:o.jsx("img",{src:Pq,alt:"Timbre secret"})})]})]}),o.jsxs("div",{className:"self-love-letter__body",children:[o.jsx("p",{className:"self-love-letter__salutation",children:"Cher moi,"}),o.jsx("textarea",{value:L.letterBody,onChange:Ke=>H("letterBody",Ke.target.value),placeholder:"cris-toi avec douceur..."})]}),o.jsxs("div",{className:"self-love-letter__footer",children:[o.jsx("div",{children:o.jsx("span",{className:"self-love-letter__date",children:Mt.short})}),o.jsx("button",{type:"button",className:"self-love-letter__save",onClick:()=>pt("classic"),children:"Enregistrer cette lettre"})]})]})}),o.jsxs("div",{className:`journaling-save__confirmation self-love-letter__confirmation${z?" is-visible":""}`,"aria-live":"polite",children:[o.jsx("span",{"aria-hidden":"true",children:"?"}),o.jsx("strong",{children:"Page ajoute !"})]})]})]})},pP="/assets/ruby--dupe-BoZeQ1Rb.jpeg",fP="/assets/emma-masur-dupe-DPky4xmR.jpeg",mP="/assets/makeup-AqL95g9S.jpeg",gP="/assets/margaux-martinez-dupe-DWRExhrX.jpeg",yP="/assets/madeline-%20edwards-dupe-DauRYLsU.jpeg",vP="/assets/rowena-regterschot-dupe-CV0Eqhy2.jpeg",y_="/assets/voyage-BTCyFYuG.jpeg",xP="/assets/lauren-lista-dupe-DW4yj_eE.jpeg",bP="/assets/frances-leynes-dupe-BQOVBmg3.jpeg",jg=6,Ep=[{id:"hair",label:"Hair essentials",accent:"#f497c0",cover:pP,blurb:"Brushes, soins et petits accessoires pour une routine cheveux complte."},{id:"outfits",label:"Outfits",accent:"#fcd67d",cover:fP,blurb:"Ides tenues et pices coup de cur pour tes looks prfrs."},{id:"makeup",label:"Makeup wishlist",accent:"#fbcada",cover:mP,blurb:"Palettes, gloss ou nouveaux blushs  tester absolument."},{id:"electronics",label:"Appareils lectroniques",accent:"#c9d9ff",cover:by,blurb:"Gadgets tech, accessoires photo ou outils de productivit."},{id:"skincare",label:"Skincare",accent:"#c1e7db",cover:gP,blurb:"Soins cocooning, masques favoris et indispensables glow."},{id:"books",label:"Livres",accent:"#b4cfff",cover:yP,blurb:"Romans, dveloppement perso et lectures inspires."},{id:"room",label:"Chambre",accent:"#d9c5ff",cover:vP,blurb:"Dco, ambiance et petits objets cozy pour ta chambre."},{id:"travel",label:"Voyages",accent:"#f6b094",cover:y_,blurb:"Destinations ou expriences  ajouter  ta bucket list."},{id:"jewelry",label:"Bijoux",accent:"#ffd4a8",cover:xP,blurb:"Bagues, colliers et accessoires brillants  collectionner."},{id:"bag",label:"Sac",accent:"#f3b4c5",cover:bP,blurb:"Sacs tendance et intemporels pour toutes les occasions."}],Om=["#f6a6c1","#c3d9ff","#ffe3a7","#c6eed7","#fbcfe8","#d9c5ff"],_x=[pP,fP,mP,by,gP,yP,vP,y_,xP,bP],mu="Ta catgorie personnalise.",Oq=new Set(Ep.map(t=>t.id)),JC=t=>Oq.has(t),ZC=t=>t>1?"lments":"lment",wP=t=>{let e=0;for(let n=0;n<t.length;n+=1){const i=t.charCodeAt(n);e=(e<<5)-e+i,e|=0}return Math.abs(e)},gu=t=>Om[wP(t)%Om.length]??Om[0],yu=t=>_x[wP(`${t}-cover`)%_x.length]??_x[0],Lm=t=>Ep.find(e=>e.id===t),Ig=t=>({title:t.label,items:[],note:"",isFavorite:!1,accent:t.accent,cover:t.cover,blurb:t.blurb,createdAt:Date.now(),usageCount:0,lastUsedAt:0,definitionVersion:jg}),Lq=(t,e)=>{const n=gu(t),i=yu(t);return{title:e,items:[],note:"",isFavorite:!1,accent:n,cover:i,blurb:mu,createdAt:Date.now(),usageCount:0,lastUsedAt:0,definitionVersion:jg}},lm=(t,e)=>{const n=Lm(t);if(n){const i=Ig(n);return e?{...i,title:e}:i}return Lq(t,e??"Nouvelle catgorie")},Fq=()=>Ep.reduce((t,e)=>(t[e.id]=Ig(e),t),{}),eS=()=>({title:"",subtitle:"",imageUrl:"",imageName:"",link:"",subcategory:""}),Bq=t=>{try{return new URL(t).host.replace(/^www\./,"")}catch{return t}},_P=t=>{const e=t.trim();if(!e)return"";try{return new URL(e).href}catch{try{return new URL(`https://${e}`).href}catch{return""}}},Vq=t=>{if(!t)return null;const e=_P(t);return e?{href:e,host:Bq(e)}:null},tS=()=>({title:"",blurb:"",accent:Om[0],coverData:"",coverName:""}),Uq=()=>{var ar,Pn;const[t,e]=Si("planner.wishlist",Fq),[n,i]=D.useState(null),[s,a]=D.useState(null),[u,m]=D.useState(!1),[x,_]=D.useState(!1),[I,j]=D.useState(null),[z,J]=D.useState(""),[te,oe]=D.useState(""),[se,X]=D.useState(""),[L,G]=D.useState(""),[ne,ke]=D.useState(""),[ge,K]=D.useState(()=>eS()),[M,H]=D.useState(null),[U,Y]=D.useState(!1),[ae,ie]=D.useState(()=>tS()),[pt,Mt]=D.useState(!1),[Ke,ft]=D.useState(null),[Re,$e]=D.useState(null),[ut,_t]=D.useState({}),[jt,kt]=D.useState(!1),[Ot,mt]=D.useState(!1),[Rt,ot]=D.useState(null),[xe,le]=D.useState(null),[_e,me]=D.useState(""),Ye=D.useRef(null),je=D.useRef(null),Ue=D.useRef(null),be=D.useCallback(()=>{K(eS()),Ye.current&&(Ye.current.value="")},[]),vt=D.useCallback(Te=>{e(Ie=>{const ze=Te(Ie);try{localStorage.setItem("planner.wishlist",JSON.stringify(ze))}catch{}return ze})},[e]);D.useEffect(()=>{e(Te=>{let Ie=!1;const ze={...Te};return Ep.forEach((Je,xt)=>{const Ct=ze[Je.id];if(!Ct){ze[Je.id]=Ig(Je),Ie=!0;return}let ct=Ct;(Ct.definitionVersion??0)<jg&&(ct=ct===Ct?{...ct}:ct,ct.accent=Je.accent,ct.cover=Je.cover,ct.blurb=Je.blurb,ct.definitionVersion=jg,Ie=!0),(!Ct.title||Ct.title.trim().length===0)&&(ct=ct===Ct?{...ct}:ct,ct.title=Je.label,Ie=!0),Ct.accent||(ct=ct===Ct?{...ct}:ct,ct.accent=Je.accent,Ie=!0),Ct.cover||(ct=ct===Ct?{...ct}:ct,ct.cover=Je.cover,Ie=!0),Ct.blurb||(ct=ct===Ct?{...ct}:ct,ct.blurb=Je.blurb,Ie=!0),Ct.createdAt||(ct=ct===Ct?{...ct}:ct,ct.createdAt=Date.now()+xt,Ie=!0),typeof Ct.order!="number"&&(ct=ct===Ct?{...ct}:ct,ct.order=xt,Ie=!0),typeof Ct.usageCount!="number"&&(ct=ct===Ct?{...ct}:ct,ct.usageCount=0,Ie=!0),typeof Ct.lastUsedAt!="number"&&(ct=ct===Ct?{...ct}:ct,ct.lastUsedAt=0,Ie=!0),ct!==Ct&&(ze[Je.id]=ct)}),Object.entries(ze).forEach(([Je,xt],Ct)=>{let ct=xt;xt.accent||(ct=ct===xt?{...ct}:ct,ct.accent=gu(Je),Ie=!0),xt.cover||(ct=ct===xt?{...ct}:ct,ct.cover=yu(Je),Ie=!0),xt.blurb||(ct=ct===xt?{...ct}:ct,ct.blurb=mu,Ie=!0),xt.createdAt||(ct=ct===xt?{...ct}:ct,ct.createdAt=Date.now()+Ct,Ie=!0),typeof xt.order!="number"&&(ct=ct===xt?{...ct}:ct,ct.order=(xt.createdAt??Date.now())+Ct,Ie=!0),typeof xt.usageCount!="number"&&(ct=ct===xt?{...ct}:ct,ct.usageCount=0,Ie=!0),typeof xt.lastUsedAt!="number"&&(ct=ct===xt?{...ct}:ct,ct.lastUsedAt=0,Ie=!0),ct!==xt&&(ze[Je]=ct)}),Ie?ze:Te})},[e]),D.useEffect(()=>(document.body.classList.add("wishlist-page--gradient"),()=>{document.body.classList.remove("wishlist-page--gradient")}),[]);const Tt=D.useMemo(()=>{const Te=Ep.map((ze,Je)=>{const xt=t[ze.id]??Ig(ze);return{id:ze.id,title:xt.title??ze.label,label:ze.label,accent:xt.accent??ze.accent,cover:xt.cover??ze.cover,blurb:xt.blurb??ze.blurb,items:xt.items??[],note:xt.note,isFavorite:xt.isFavorite??!1,entry:xt,isBase:!0,order:xt.order??Je,usageCount:xt.usageCount??0}}),Ie=Object.entries(t).filter(([ze])=>!JC(ze)).map(([ze,Je])=>({id:ze,title:Je.title??"Nouvelle catgorie",label:Je.title??"Collection perso",accent:Je.accent??gu(ze),cover:Je.cover??yu(ze),blurb:Je.blurb??mu,items:Je.items??[],note:Je.note,isFavorite:Je.isFavorite??!1,entry:Je,isBase:!1,order:Je.order??Je.createdAt??Number.MAX_SAFE_INTEGER,usageCount:Je.usageCount??0})).sort((ze,Je)=>ze.order-Je.order);return[...Te,...Ie].sort((ze,Je)=>{const xt=ze.usageCount>=3?ze.usageCount:0,Ct=Je.usageCount>=3?Je.usageCount:0;return Ct!==xt?Ct-xt:ze.order-Je.order})},[t]),Se=D.useMemo(()=>s?Tt.find(Te=>Te.id===s)??null:null,[Tt,s]),Me=(Se==null?void 0:Se.entry)??null;D.useEffect(()=>{var Ie;if(be(),ft(null),_t({}),$e(null),Mt(!1),kt(!1),!s){ke(""),_(!1),mt(!1);return}const Te=((Ie=t[s])==null?void 0:Ie.note)??"";ke(Te),_(!1),mt(!1)},[be,s,t]),D.useEffect(()=>{const Te=Ie=>{const ze=Ie.target;ze!=null&&ze.closest(".profile-menu")||ze!=null&&ze.closest(".wishlist-card__menu-popover")||ze!=null&&ze.closest(".wishlist-note__menu")||ze!=null&&ze.closest(".wishlist-note__menu-popover")||ze!=null&&ze.closest(".wishlist-item__menu")||(i(null),$e(null),!(ze!=null&&ze.closest(".wishlist-note__menu"))&&!(ze!=null&&ze.closest(".wishlist-note__menu-popover"))&&kt(!1))};return window.addEventListener("pointerdown",Te),()=>window.removeEventListener("pointerdown",Te)},[]),D.useEffect(()=>{if(!Me){_t({}),$e(null);return}_t(Te=>{const Ie={};return Me.items.forEach(ze=>{Te[ze.id]&&(Ie[ze.id]=!0)}),Ie}),Re&&!Me.items.some(Te=>Te.id===Re)&&$e(null)},[Re,Me]);const He=D.useMemo(()=>{if(!Me)return[];const Te=new Map;return Me.items.forEach(Ie=>{const ze=Ie.subcategory&&Ie.subcategory.trim().length>0?Ie.subcategory.trim():"__uncategorized",Je=Te.get(ze);Je?Je.push(Ie):Te.set(ze,[Ie])}),Array.from(Te.entries()).map(([Ie,ze])=>({key:Ie,label:Ie==="__uncategorized"?"Sans sous-catgorie":Ie,items:ze}))},[Me]),De=D.useCallback(Te=>{if(!Te)return[];const Ie=t[Te];if(!Ie)return[];const ze=new Set;return Ie.items.forEach(Je=>{Je.subcategory&&Je.subcategory.trim().length>0&&ze.add(Je.subcategory.trim())}),Array.from(ze).sort((Je,xt)=>Je.localeCompare(xt,"fr",{sensitivity:"base"}))},[t]),et=D.useMemo(()=>De(s),[De,s]),ht=(((ar=Me==null?void 0:Me.note)==null?void 0:ar.trim())??"").length>0;D.useMemo(()=>Tt.filter(Te=>Te.id!==s),[Tt,s]);const Ee=D.useMemo(()=>Rt?Tt.filter(Te=>Te.id!==Rt.categoryId):[],[Tt,Rt]);D.useEffect(()=>{if(!Ot||ht||x)return;const Te=Ie=>{const ze=Ie.target;ze!=null&&ze.closest(".wishlist-modal__note-display")||ze!=null&&ze.closest(".wishlist-modal__note")||mt(!1)};return window.addEventListener("pointerdown",Te),()=>window.removeEventListener("pointerdown",Te)},[ht,x,Ot]);const ue=(Te,Ie)=>{Te.stopPropagation(),Te.preventDefault(),i(ze=>ze===Ie?null:Ie)},pe=Te=>{const Ie=Date.now();vt(ze=>{const Je=ze[Te]??lm(Te);return{...ze,[Te]:{...Je,usageCount:(Je.usageCount??0)+1,lastUsedAt:Ie}}}),a(Te),i(null),m(!1),Mt(!1)},Ae=(Te,Ie)=>{(Te.key==="Enter"||Te.key===" ")&&(Te.preventDefault(),pe(Ie))},Ze=(Te,Ie)=>{Te.stopPropagation(),Te.preventDefault(),$e(ze=>ze===Ie?null:Ie)},st=Te=>{_t(Ie=>({...Ie,[Te]:!Ie[Te]}))},Ut=Te=>{Te.stopPropagation(),Te.preventDefault(),kt(Ie=>!Ie)},Lt=Te=>{K({title:Te.title,subtitle:Te.subtitle??"",imageUrl:Te.imageUrl??"",imageName:Te.imageName??"",link:Te.link??"",subcategory:Te.subcategory??""}),ft(Te.id),m(!0),Mt(!1),$e(null)},lt=()=>{m(!1),ft(null),Mt(!1),be()},rt=Te=>{var Je;const Ie=(Je=Te.target.files)==null?void 0:Je[0];if(!Ie){K(xt=>({...xt,imageUrl:"",imageName:""})),Ye.current&&(Ye.current.value="");return}const ze=new FileReader;ze.onload=()=>{const xt=typeof ze.result=="string"?ze.result:"";K(Ct=>({...Ct,imageUrl:xt,imageName:Ie.name}))},ze.readAsDataURL(Ie)},he=()=>{K(Te=>({...Te,imageUrl:"",imageName:""})),Ye.current&&(Ye.current.value="")},Ce=Te=>{e(Ie=>{const ze=Ie[Te.categoryId];return ze?{...Ie,[Te.categoryId]:{...ze,items:ze.items.map(Je=>Je.id===Te.id?{...Je,isDone:!Je.isDone}:Je)}}:Ie}),$e(null),H(Te.isDone?"lment remis  faire":"lment marqu comme fait")},Fe=Te=>{e(Ie=>{const ze=Ie[Te.categoryId];if(!ze)return Ie;const Je={...Te,id:`wish-${Date.now()}-${Math.random().toString(36).slice(2,6)}`};return{...Ie,[Te.categoryId]:{...ze,items:[Je,...ze.items]}}}),$e(null),H("lment dupliqu")},Pe=()=>{Me&&ke(Me.note??""),mt(!0),_(!0),kt(!1)},Ve=Te=>{const Ie=Te.categoryId;e(ze=>{const Je=ze[Ie];return Je?{...ze,[Ie]:{...Je,items:Je.items.filter(xt=>xt.id!==Te.id)}}:ze}),Ke===Te.id&&(ft(null),be(),m(!1)),$e(null),H("lment supprim")},We=(Te,Ie,ze)=>{if(Te.categoryId===Ie){typeof ze<"u"&&(e(Je=>{const xt=Je[Te.categoryId];return xt?{...Je,[Te.categoryId]:{...xt,items:xt.items.map(Ct=>Ct.id===Te.id?{...Ct,subcategory:ze}:Ct)}}:Je}),H("Catgorie mise  jour")),$e(null);return}e(Je=>{var ii;const xt=Je[Te.categoryId];if(!xt)return Je;const Ct=xt.items.filter(Gi=>Gi.id!==Te.id),ct={...Te,categoryId:Ie,subcategory:ze??Te.subcategory},ai=Je[Ie]??lm(Ie,((ii=Lm(Ie))==null?void 0:ii.label)??"Wishlist");return{...Je,[Te.categoryId]:{...xt,items:Ct},[Ie]:{...ai,items:[ct,...ai.items??[]]}}}),Ke===Te.id&&(ft(null),be(),m(!1)),$e(null),H("lment dplac")},gt=Te=>{ot(Te),le(null),me(Te.subcategory??""),$e(null)},Pt=()=>{ot(null),le(null),me("")},At=()=>{!Rt||!xe||(We(Rt,xe,_e.trim().length>0?_e.trim():void 0),Pt())},Vt=()=>{ie(tS()),je.current&&(je.current.value="")},Qt=Te=>{var Je;const Ie=(Je=Te.target.files)==null?void 0:Je[0];if(!Ie){ie(xt=>({...xt,coverData:"",coverName:""})),je.current&&(je.current.value="");return}const ze=new FileReader;ze.onload=()=>{const xt=typeof ze.result=="string"?ze.result:"";ie(Ct=>({...Ct,coverData:xt,coverName:Ie.name}))},ze.readAsDataURL(Ie)},nt=Te=>{var Je;const Ie=(Je=Te.target.files)==null?void 0:Je[0];if(!Ie){X(""),oe(L);return}const ze=new FileReader;ze.onload=()=>{const xt=typeof ze.result=="string"?ze.result:"";if(!xt){X(""),oe(L);return}oe(xt),X(Ie.name)},ze.readAsDataURL(Ie)},zt=()=>{oe(L),X(""),Ue.current&&(Ue.current.value="")},Jt=()=>{Vt(),Y(!1)},Ft=Te=>{Te.preventDefault();const Ie=ae.title.trim();if(Ie.length===0)return;const ze=ae.blurb.trim(),Je=`custom-${Date.now()}`,xt=ae.accent.trim().length>0?ae.accent.trim():gu(Je),Ct=ae.coverData||yu(Je),ct={title:Ie,items:[],note:"",isFavorite:!1,accent:xt,cover:Ct,blurb:ze.length>0?ze:mu,createdAt:Date.now(),order:Date.now(),usageCount:0,lastUsedAt:0};vt(ai=>({...ai,[Je]:ct})),Y(!1),Vt(),a(Je),m(!0),i(null),_(!1),ke(""),H("Nouvelle carte ajoute")},en=Te=>{if(Te.preventDefault(),!s)return;const Ie=ge.title.trim();if(Ie.length===0)return;const ze=ge.subtitle.trim(),Je=ge.imageUrl.trim(),xt=ge.link.trim(),Ct=_P(xt),ct=ge.subcategory.trim(),ai=ge.imageName.trim();xt.length>0&&!Ct&&H("Lien invalide : ajoute un domaine valide ou http(s)://");const ii=Gi=>{e(Ii=>{const Ts=Ii[s]??lm(s);return{...Ii,[s]:Gi(Ts)}})};if(Ke)ii(Gi=>({...Gi,items:Gi.items.map(Ii=>Ii.id===Ke?{...Ii,title:Ie,subtitle:ze.length>0?ze:void 0,imageUrl:Je.length>0?Je:void 0,imageName:ai.length>0?ai:void 0,link:Ct.length>0?Ct:void 0,subcategory:ct.length>0?ct:void 0}:Ii)})),H("lment mis  jour");else{const Gi={id:`wish-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,categoryId:s,title:Ie,subtitle:ze.length>0?ze:void 0,imageUrl:Je.length>0?Je:void 0,imageName:ai.length>0?ai:void 0,link:Ct.length>0?Ct:void 0,subcategory:ct.length>0?ct:void 0,isDone:!1};ii(Ii=>({...Ii,items:[Gi,...Ii.items]})),H("Produit ajout  ta wishlist")}m(!1),Mt(!1),ft(null),$e(null),be()},rn=Te=>{if(Te.preventDefault(),!I)return;const Ie=z.trim();Ie.length!==0&&(e(ze=>{const Je=ze[I],xt=(Je==null?void 0:Je.cover)??L??yu(I),Ct=te&&te.trim().length>0?te:xt;if(Je)return{...ze,[I]:{...Je,title:Ie,cover:Ct}};const ct=Lm(I);return{...ze,[I]:{title:Ie,items:[],note:"",isFavorite:!1,accent:(ct==null?void 0:ct.accent)??gu(I),cover:Ct,blurb:(ct==null?void 0:ct.blurb)??mu,createdAt:Date.now(),order:Date.now()}}}),j(null),H("Catgorie mise  jour"))},gn=Te=>{const Ie=!JC(Te);e(ze=>{if(Ie){if(!ze[Te])return ze;const Ct={...ze};return delete Ct[Te],Ct}const Je=Lm(Te),xt=ze[Te];return!xt&&!Je?ze:{...ze,[Te]:{...xt??lm(Te),title:(xt==null?void 0:xt.title)??(Je==null?void 0:Je.label)??"Catgorie",items:[],note:"",isFavorite:(xt==null?void 0:xt.isFavorite)??!1,accent:(xt==null?void 0:xt.accent)??(Je==null?void 0:Je.accent)??gu(Te),cover:(xt==null?void 0:xt.cover)??(Je==null?void 0:Je.cover)??yu(Te),blurb:(xt==null?void 0:xt.blurb)??(Je==null?void 0:Je.blurb)??mu}}}),s===Te&&(m(!1),_(!1),ke(""),Ie&&a(null)),i(null),H(Ie?"Carte supprime":"Catgorie nettoye")},hn=async Te=>{const Ie=t[Te],ze=Tt.find(ii=>ii.id===Te),Je=(Ie==null?void 0:Ie.title)??(ze==null?void 0:ze.title)??"Wishlist",xt=(Ie==null?void 0:Ie.items)??[],Ct=[`Wishlist - ${Je}`,"",...xt.map((ii,Gi)=>{const Ii=[`${Gi+1}. ${ii.title}`];return ii.subtitle&&Ii.push(`(${ii.subtitle})`),ii.subcategory&&Ii.push(`[${ii.subcategory}]`),ii.link&&Ii.push(`-> ${ii.link}`),Ii.join(" ")})];Ie!=null&&Ie.note&&Ie.note.trim().length>0&&Ct.push("",`Note : ${Ie.note.trim()}`);const ct=Ct.join(`
`),ai=window.navigator;try{typeof ai.share=="function"?(await ai.share({title:Je,text:ct}),H("Ta wishlist a t partage")):ai.clipboard?(await ai.clipboard.writeText(ct),H("Wishlist copie dans le presse-papiers")):window.prompt("Copie ta wishlist :",ct)}catch(ii){console.error("Share wishlist failed",ii),H("Impossible de partager pour le moment")}i(null)},Rn=Te=>{e(Ie=>{const ze=Ie[Te];return ze?{...Ie,[Te]:{...ze,isFavorite:!ze.isFavorite}}:Ie}),H("Catgorie marque comme favorite")},vn=()=>{if(!s)return;const Te=ne.trim();e(Ie=>{const ze=Ie[s];return ze?{...Ie,[s]:{...ze,note:Te}}:Ie}),ke(Te),_(!1),kt(!1),H("Note mise  jour")},Kn=()=>{s&&(e(Te=>{const Ie=Te[s];return Ie?{...Te,[s]:{...Ie,note:""}}:Te}),ke(""),_(!1),kt(!1),H("Mmo supprim"))},ji=()=>{a(null),m(!1),_(!1),mt(!1),ke(""),Mt(!1),ft(null),$e(null),_t({}),kt(!1),be()};return o.jsxs("div",{className:"wishlist-page aesthetic-page",onClick:()=>i(null),children:[o.jsxs("div",{className:"wishlist-heading-row",children:[o.jsx(bi,{eyebrow:"Envies",title:"Ma Wishlist"}),o.jsx("button",{type:"button",className:"wishlist-heading-row__button",onClick:()=>{Vt(),Y(!0)},children:"Ajouter une catgorie"})]}),o.jsx("section",{className:"wishlist-grid",children:Tt.map((Te,Ie)=>{const ze=Te.items.length,Je=Te.title,xt=Te.isFavorite;return o.jsxs("article",{className:"wishlist-card",role:"button",tabIndex:0,onClick:()=>pe(Te.id),onKeyDown:Ct=>Ae(Ct,Te.id),style:{animationDelay:`${Ie*70}ms`},children:[o.jsx("img",{className:"wishlist-card__cover",src:Te.cover,alt:`Moodboard ${Je}`}),o.jsx("div",{className:"wishlist-card__overlay",style:{background:`linear-gradient(160deg, ${Te.accent} 0%, rgba(12,11,19,0.8) 100%)`}}),o.jsx("button",{type:"button",className:"profile-menu","aria-label":`Options pour ${Je}`,onClick:Ct=>ue(Ct,Te.id),children:o.jsx("span",{"aria-hidden":"true",children:"..."})}),n===Te.id?o.jsxs("div",{className:"wishlist-card__menu-popover",role:"menu",onClick:Ct=>Ct.stopPropagation(),children:[o.jsx("button",{type:"button",role:"menuitem",onClick:()=>{j(Te.id),i(null)},children:"Modifier"}),o.jsx("button",{type:"button",role:"menuitem",onClick:()=>gn(Te.id),children:"Supprimer"}),o.jsx("button",{type:"button",role:"menuitem",onClick:()=>hn(Te.id),children:"Partager"})]}):null,o.jsxs("div",{className:"wishlist-card__content",children:[o.jsxs("span",{className:"wishlist-card__count",children:[ze," ",ZC(ze)]}),o.jsxs("div",{className:"wishlist-card__title",children:[o.jsx("h2",{children:Je}),xt?o.jsx("span",{"aria-label":"Catgorie favorite",className:"wishlist-card__favorite",children:"??"}):null]})]})]},Te.id)})}),s&&Se&&Me?o.jsx("div",{className:"wishlist-modal__backdrop",role:"dialog","aria-modal":"true",onClick:ji,children:o.jsxs("div",{className:"wishlist-modal",onClick:Te=>Te.stopPropagation(),children:[o.jsx("button",{type:"button",className:"modal__close","aria-label":"Fermer",onClick:ji,children:o.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M6 6 18 18M18 6 6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),o.jsx("div",{className:"wishlist-modal__cover",children:o.jsx("img",{src:Se.cover,alt:`Photo ${Me.title}`})}),o.jsxs("div",{className:"wishlist-modal__body",children:[o.jsxs("header",{className:"wishlist-modal__header",children:[o.jsxs("div",{children:[o.jsx("h3",{children:Me.title}),(Pn=Se.blurb)!=null&&Pn.trim().length?o.jsx("span",{className:"wishlist-modal__eyebrow",children:Se.blurb}):null]}),o.jsxs("span",{className:"wishlist-modal__badge",children:[Me.items.length," ",ZC(Me.items.length)]})]}),Ot&&x?o.jsxs("form",{className:"wishlist-modal__note",onSubmit:Te=>{Te.preventDefault(),vn()},children:[o.jsxs("label",{children:[o.jsxs("span",{className:"wishlist-memo-label",children:[o.jsx("svg",{className:"wishlist-memo-label__icon",viewBox:"0 0 26 26","aria-hidden":"true",children:o.jsx("path",{d:"M4 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H9l-4 5v-5H7a3 3 0 0 1-3-3Z",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})}),o.jsx("span",{children:"Mmo"})]}),o.jsx("textarea",{rows:3,value:ne,onChange:Te=>ke(Te.target.value),placeholder:"Ajouter des dtails ou un moodboard rapide..."})]}),o.jsxs("div",{className:"wishlist-modal__note-actions",children:[o.jsx("button",{type:"submit",children:"Enregistrer"}),o.jsx("button",{type:"button",onClick:()=>{_(!1),ke(Me.note??"")},children:"Annuler"})]})]}):null,!x&&(ht||Ot)?o.jsxs("div",{className:"wishlist-modal__note-display",children:[o.jsxs("div",{className:"wishlist-note__header",children:[o.jsxs("strong",{className:"wishlist-memo-label",children:[o.jsx("svg",{className:"wishlist-memo-label__icon",viewBox:"0 0 26 26","aria-hidden":"true",children:o.jsx("path",{d:"M4 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H9l-4 5v-5H7a3 3 0 0 1-3-3Z",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})}),o.jsx("span",{children:"Mmo"})]}),o.jsxs("div",{className:"wishlist-note__menu",children:[o.jsx("button",{type:"button",className:"profile-menu","aria-haspopup":"true","aria-expanded":jt,onClick:Ut,children:o.jsx("span",{"aria-hidden":"true",children:"..."})}),jt?o.jsxs("div",{className:"wishlist-note__menu-popover",role:"menu",children:[o.jsx("button",{type:"button",onClick:Pe,children:"Modifier"}),o.jsx("button",{type:"button",disabled:!ht,onClick:Kn,className:"wishlist-note__menu-danger",children:"Supprimer"})]}):null]})]}),ht?o.jsx("p",{children:Me.note}):o.jsx("p",{className:"wishlist-modal__note-placeholder",children:"Ajoute un mmo pour cette catgorie."}),!ht&&Ot?o.jsx("button",{className:"wishlist-note__add",type:"button",onClick:Pe,children:"Ajouter un mmo"}):null]}):null,u?o.jsxs("form",{className:"wishlist-modal__form",onSubmit:en,children:[o.jsx("h4",{children:Ke?"Modifier l'lment":"Ajouter un lment"}),o.jsxs("div",{className:"wishlist-modal__form-media",children:[o.jsxs("div",{className:"wishlist-upload",children:[o.jsx("span",{className:"wishlist-upload__label",children:"Photo"}),o.jsxs("label",{className:ge.imageUrl?"wishlist-upload__trigger wishlist-upload__trigger--has-image":"wishlist-upload__trigger",children:[o.jsx("input",{ref:Ye,type:"file",accept:"image/*",onChange:rt}),ge.imageUrl?o.jsx("img",{src:ge.imageUrl,alt:ge.title||"Prvisualisation de l'lment"}):o.jsxs("div",{className:"wishlist-upload__placeholder",children:[o.jsx("span",{children:"+"}),o.jsx("small",{children:"Ajouter une photo"})]})]}),ge.imageUrl?o.jsx("button",{type:"button",className:"wishlist-upload__remove",onClick:he,children:"Retirer l'image"}):null]}),o.jsxs("div",{className:"wishlist-modal__form-text",children:[o.jsxs("label",{children:[o.jsx("span",{children:"Titre"}),o.jsx("input",{type:"text",value:ge.title,onChange:Te=>K(Ie=>({...Ie,title:Te.target.value})),placeholder:"Nom du produit",required:!0})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Sous-titre (optionnel)"}),o.jsx("input",{type:"text",value:ge.subtitle,onChange:Te=>K(Ie=>({...Ie,subtitle:Te.target.value})),placeholder:"Ex : Couleur, dition limite, prix..."})]})]})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Lien (optionnel)"}),o.jsx("input",{type:"text",inputMode:"url",value:ge.link,onChange:Te=>K(Ie=>({...Ie,link:Te.target.value})),placeholder:"Lien boutique ou rfrence"})]}),o.jsxs("div",{className:"wishlist-category-picker",children:[ge.subcategory.trim().length>0?o.jsxs("span",{className:"wishlist-category-picker__current",children:["Catgorie actuelle : ",ge.subcategory]}):null,o.jsxs("button",{type:"button",className:"wishlist-category-picker__toggle",onClick:()=>Mt(Te=>!Te),"aria-expanded":pt,children:[o.jsx("span",{children:"+ Ajouter  la catgorie"}),o.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",className:pt?"wishlist-category-picker__chevron wishlist-category-picker__chevron--open":"wishlist-category-picker__chevron",children:o.jsx("path",{d:"M8.5 5.5 15 12l-6.5 6.5",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),pt?o.jsxs("div",{className:"wishlist-category-picker__panel",children:[o.jsxs("label",{children:[o.jsx("span",{children:"Nom de la catgorie"}),o.jsx("input",{type:"text",value:ge.subcategory,onChange:Te=>K(Ie=>({...Ie,subcategory:Te.target.value})),placeholder:"Ex : Accessoires, Nol, Lecture..."})]}),et.length>0?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"wishlist-category-picker__hint",children:"Suggestions dj utilises"}),o.jsx("ul",{className:"wishlist-category-picker__list",children:et.map(Te=>o.jsx("li",{children:o.jsx("button",{type:"button",onClick:()=>{K(Ie=>({...Ie,subcategory:Te})),Mt(!1)},children:Te})},Te))})]}):o.jsx("p",{className:"wishlist-category-picker__empty",children:"Tu n'as pas encore cr de catgorie personnalise."})]}):null]}),o.jsxs("footer",{className:"wishlist-modal__form-actions",children:[o.jsx("button",{type:"submit",children:"Enregistrer"}),o.jsx("button",{type:"button",onClick:lt,children:"Annuler"})]})]}):null,o.jsx("div",{className:"wishlist-modal__list",children:Me.items.length===0?o.jsx("p",{className:"wishlist-modal__empty",children:"Aucun lment encore. Clique sur + pour enregistrer tes envies dans cette catgorie."}):He.map(Te=>o.jsxs("div",{className:"wishlist-modal__group",children:[Te.key!=="__uncategorized"?o.jsx("h4",{children:Te.label}):null,o.jsx("ul",{children:Te.items.map(Ie=>{const ze=Vq(Ie.link);return o.jsxs("li",{className:Ie.isDone?"wishlist-item wishlist-item--done":"wishlist-item",children:[o.jsxs("div",{className:"wishlist-item__header",children:[o.jsx("div",{className:"wishlist-item__media",children:Ie.imageUrl?o.jsx("img",{src:Ie.imageUrl,alt:Ie.title}):o.jsx("span",{className:"wishlist-item__placeholder","aria-hidden":"true",children:Ie.title.charAt(0).toUpperCase()})}),o.jsxs("div",{className:"wishlist-item__text",children:[o.jsx("strong",{children:Ie.title}),Ie.subtitle?o.jsx("span",{children:Ie.subtitle}):null,Ie.isDone?o.jsx("span",{className:"wishlist-item__status",children:"Fait"}):null,Te.key==="__uncategorized"&&Ie.subcategory?o.jsx("span",{className:"wishlist-item__subcategory",children:Ie.subcategory}):null]}),o.jsxs("div",{className:"wishlist-item__actions",children:[o.jsx("button",{type:"button",className:ut[Ie.id]?"wishlist-item__toggle wishlist-item__toggle--open":"wishlist-item__toggle","aria-expanded":ut[Ie.id]??!1,onClick:()=>st(Ie.id),children:o.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M6 9l6 6 6-6",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),o.jsxs("div",{className:"wishlist-item__menu",children:[o.jsx("button",{type:"button",className:"profile-menu","aria-haspopup":"true","aria-expanded":Re===Ie.id,onClick:Je=>Ze(Je,Ie.id),children:o.jsx("span",{"aria-hidden":"true",children:"..."})}),Re===Ie.id?o.jsxs("div",{className:"wishlist-item__menu-popover",role:"menu",children:[o.jsx("button",{type:"button",onClick:()=>Lt(Ie),children:"Modifier"}),o.jsx("button",{type:"button",onClick:()=>Ce(Ie),children:Ie.isDone?"Marquer comme  faire":"Marquer comme fait"}),o.jsx("button",{type:"button",onClick:()=>Fe(Ie),children:"Dupliquer"}),o.jsx("button",{type:"button",onClick:()=>gt(Ie),children:"Dplacer vers une autre wishlist"}),o.jsx("button",{type:"button",className:"wishlist-item__menu-danger",onClick:()=>Ve(Ie),children:"Supprimer"})]}):null]})]})]}),ut[Ie.id]?o.jsx("div",{className:"wishlist-item__details-panel",children:ze?o.jsxs("a",{className:"wishlist-item__link-chip",href:ze.href,target:"_blank",rel:"noreferrer",children:[o.jsx("img",{className:"wishlist-item__link-favicon",src:`https://www.google.com/s2/favicons?domain=${ze.host}&sz=64`,alt:"",loading:"lazy"}),o.jsxs("span",{children:["Visiter ",ze.host]})]}):o.jsx("p",{className:"wishlist-item__details-empty",children:"Ajoute un lien pour retrouver l'article."})}):null]},Ie.id)})})]},Te.key))})]}),o.jsxs("footer",{className:"wishlist-modal__actions",children:[o.jsx("button",{type:"button",onClick:()=>{j(s),i(null)},children:"Modifier"}),o.jsx("button",{type:"button",onClick:()=>{m(Te=>{const Ie=!Te;return ft(null),be(),Ie||Mt(!1),Ie}),$e(null)},"aria-pressed":u,children:"+"}),o.jsx("button",{type:"button",onClick:()=>{mt(Te=>{const Ie=!Te;return _(!1),Ie||kt(!1),Ie}),ke(Me.note??"")},"aria-pressed":Ot,children:o.jsx("i",{className:"fa-solid fa-message","aria-hidden":"true"})}),o.jsx("button",{type:"button",className:Me.isFavorite?"wishlist-modal__favorite active":"wishlist-modal__favorite","aria-pressed":Me.isFavorite,onClick:()=>Rn(s),children:Me.isFavorite?o.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9999 3.94228C13.1757 2.85872 14.7069 2.25 16.3053 2.25C18.0313 2.25 19.679 2.95977 20.8854 4.21074C22.0832 5.45181 22.75 7.1248 22.75 8.86222C22.75 10.5997 22.0831 12.2728 20.8854 13.5137C20.089 14.3393 19.2938 15.1836 18.4945 16.0323C16.871 17.7562 15.2301 19.4985 13.5256 21.14L13.5216 21.1438C12.6426 21.9779 11.2505 21.9476 10.409 21.0754L3.11399 13.5136C0.62867 10.9374 0.62867 6.78707 3.11399 4.21085C5.54605 1.68984 9.46239 1.60032 11.9999 3.94228Z",fill:"currentColor"})}):o.jsx("svg",{width:"24px",height:"24px",strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:o.jsx("path",{d:"M22 8.86222C22 10.4087 21.4062 11.8941 20.3458 12.9929C17.9049 15.523 15.5374 18.1613 13.0053 20.5997C12.4249 21.1505 11.5042 21.1304 10.9488 20.5547L3.65376 12.9929C1.44875 10.7072 1.44875 7.01723 3.65376 4.73157C5.88044 2.42345 9.50794 2.42345 11.7346 4.73157L11.9998 5.00642L12.2648 4.73173C13.3324 3.6245 14.7864 3 16.3053 3C17.8242 3 19.2781 3.62444 20.3458 4.73157C21.4063 5.83045 22 7.31577 22 8.86222Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"})})})]})]})}):null,U?o.jsx("div",{className:"wishlist-modal__backdrop",role:"dialog","aria-modal":"true",onClick:()=>Y(!1),children:o.jsxs("form",{className:"wishlist-create",onSubmit:Ft,onClick:Te=>Te.stopPropagation(),children:[o.jsx("h3",{children:"Nouvelle carte"}),o.jsxs("label",{children:[o.jsx("span",{children:"Titre"}),o.jsx("input",{type:"text",value:ae.title,onChange:Te=>ie(Ie=>({...Ie,title:Te.target.value})),placeholder:"Nom de la carte",required:!0})]}),o.jsxs("label",{className:"wishlist-modal__file-field",children:[o.jsx("span",{children:"Image de couverture"}),o.jsxs("div",{className:"wishlist-cover-upload",children:[o.jsx("div",{className:"activities-form__photo-actions",children:o.jsxs("label",{children:[o.jsx("input",{ref:je,type:"file",accept:"image/*",onChange:Qt,className:"wishlist-cover-upload__input"}),"Choisir une photo"]})}),ae.coverName?o.jsx("span",{className:"wishlist-cover-upload__name",children:ae.coverName}):null,ae.coverData?o.jsx("button",{type:"button",className:"wishlist-cover-upload__remove",onClick:()=>ie(Te=>({...Te,coverData:"",coverName:""})),children:"Retirer"}):null]})]}),o.jsxs("div",{className:"wishlist-modal__actions",children:[o.jsx("button",{type:"button",onClick:Jt,children:"Annuler"}),o.jsx("button",{type:"submit",children:"Ajouter"})]})]})}):null,I?o.jsx("div",{className:"wishlist-modal__backdrop",role:"dialog","aria-modal":"true",onClick:()=>j(null),children:o.jsxs("form",{className:"wishlist-rename",onSubmit:rn,onClick:Te=>Te.stopPropagation(),children:[o.jsx("h3",{children:"Modifier la catgorie"}),o.jsxs("label",{children:[o.jsx("span",{children:"Nouveau titre"}),o.jsx("input",{type:"text",value:z,onChange:Te=>J(Te.target.value),placeholder:"Nom de la catgorie",required:!0})]}),o.jsxs("label",{className:"wishlist-modal__file-field",children:[o.jsx("span",{children:"Image de couverture"}),o.jsxs("div",{className:"wishlist-cover-upload",children:[o.jsx("div",{className:"activities-form__photo-actions",children:o.jsxs("label",{children:[o.jsx("input",{ref:Ue,type:"file",accept:"image/*",onChange:nt,className:"wishlist-cover-upload__input"}),"Choisir une photo"]})}),se?o.jsx("span",{className:"wishlist-cover-upload__name",children:se}):null,o.jsx("div",{className:"wishlist-rename__preview",children:te?o.jsx("img",{src:te,alt:`Aperu de ${z||"la carte"}`}):o.jsx("span",{children:"Aucune image"})}),se?o.jsx("button",{type:"button",className:"wishlist-cover-upload__remove",onClick:zt,children:"Revenir  la photo actuelle"}):null]})]}),o.jsxs("div",{className:"wishlist-rename__actions",children:[o.jsx("button",{type:"submit",children:"Enregistrer"}),o.jsx("button",{type:"button",onClick:()=>j(null),children:"Annuler"})]})]})}):null,Rt?o.jsx("div",{className:"wishlist-modal__backdrop",role:"dialog","aria-modal":"true",onClick:Pt,children:o.jsxs("div",{className:"wishlist-move",onClick:Te=>Te.stopPropagation(),children:[o.jsx("h3",{children:"Dplacer vers une autre wishlist"}),Ee.length===0?o.jsx("p",{children:"Cre une nouvelle carte pour pouvoir dplacer cet lment."}):o.jsxs(o.Fragment,{children:[o.jsx("p",{children:"Choisis la wishlist de destination puis slectionne la catgorie dans laquelle ranger cet lment."}),o.jsx("div",{className:"wishlist-move__grid",children:Ee.map(Te=>o.jsxs("button",{type:"button",className:xe===Te.id?"wishlist-move__card wishlist-move__card--selected":"wishlist-move__card",onClick:()=>le(Te.id),children:[o.jsx("img",{src:Te.cover,alt:Te.title}),o.jsx("span",{children:Te.title})]},Te.id))}),xe?o.jsxs("div",{className:"wishlist-move__category",children:[o.jsxs("label",{children:[o.jsx("span",{children:"Catgorie dans la nouvelle wishlist"}),o.jsx("input",{type:"text",value:_e,onChange:Te=>me(Te.target.value),placeholder:"Saisis ou choisis une catgorie"})]}),De(xe).length>0?o.jsx("div",{className:"wishlist-move__choices",children:De(xe).map(Te=>o.jsx("button",{type:"button",onClick:()=>me(Te),children:Te},Te))}):null]}):null]}),o.jsxs("div",{className:"wishlist-move__actions",children:[o.jsx("button",{type:"button",onClick:Pt,children:"Annuler"}),o.jsx("button",{type:"button","data-primary":"true",disabled:!xe,onClick:At,children:"Confirmer"})]})]})}):null]})},gs=t=>{const e=t.getFullYear(),n=`${t.getMonth()+1}`.padStart(2,"0"),i=`${t.getDate()}`.padStart(2,"0");return`${e}-${n}-${i}`},Ex=(t,e)=>{const n=new Date(t);return n.setDate(n.getDate()+e),n},kx=new Date;gs(Ex(kx,1)),gs(Ex(kx,2)),gs(Ex(kx,3));const zq=[{id:"morning-1",title:"Etirements doux",detail:"5 minutes pour rveiller le corps"},{id:"morning-2",title:"Verre d'eau citronne",detail:"Hydratation avant cran"},{id:"morning-3",title:"Revue rapide de la journe",detail:"3 priorits notes"}],qq=[{id:"evening-1",title:"Dconnexion digitale",detail:"-1h avant le sommeil"},{id:"evening-2",title:"Skincare et respiration",detail:"10 respirations profondes"},{id:"evening-3",title:"Prparer demain",detail:"Tenue + agenda prts"}],nS=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],Tx=Array.from({length:18},(t,e)=>e+6),Cx=56,$q=["#A5B4FC","#7DD3FC","#FBCFE8","#BBF7D0","#FDE68A"],Pu=6*60,Mu=23*60,Fm={Travail:"#f8c4cf",Sport:"#f971b3",Perso:"#fff6d6","Rendez-vous":"#cdebbd",Repos:"#425e40"},iS=(t,e,n)=>Math.min(n,Math.max(e,t)),rS=t=>{const e=Math.floor(t/60),n=t%60;return`${String(e).padStart(2,"0")}:${String(n).padStart(2,"0")}`},Sx=t=>{const e=new Date,n=e.getHours()*60+e.getMinutes()+1,i=iS(n,Pu,Mu),s=iS(i+60,Pu,Mu);return{title:"",start:rS(i),end:rS(s),color:Fm.Perso,repeatStart:t,repeatEnd:t,category:"Perso"}},Hq=new Intl.DateTimeFormat("fr-FR",{weekday:"long",day:"numeric",month:"long"}),cm=t=>{if(!t)return"";const e=Hq.format(h0(t));return e.charAt(0).toUpperCase()+e.slice(1)},Wq=t=>{const n=new Intl.DateTimeFormat("fr-FR",{month:"long",year:"numeric"}).format(t);return n.charAt(0).toUpperCase()+n.slice(1)},Gq=t=>{const e=new Date(t);e.setDate(t.getDate()+6);const n=new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"short"});return`${n.format(t)} - ${n.format(e)}`},Kq=t=>{const e=new Date(t),n=e.getDay(),i=n===0?-6:1-n;return e.setDate(e.getDate()+i),e.setHours(0,0,0,0),e},sS=(t,e)=>{const n=t.replace("#",""),i=parseInt(n,16),s=i>>16&255,a=i>>8&255,u=i&255;return`rgba(${s}, ${a}, ${u}, ${e})`},h0=t=>{const[e,n,i]=t.split("-").map(Number);return new Date(e??1970,(n??1)-1,i??1)},Yq=t=>{const[e,n,i]=t.date.split("-").map(Number);return new Date(e,(n??1)-1,i??1)},Xq=t=>{const e=Yq(t),[n,i]=t.start.split(":").map(Number);return e.setHours(n??0,i??0,0,0),e},hu=t=>{const[e,n]=t.split(":").map(Number);return(e??0)*60+(n??0)},Qq=()=>{const{tasks:t,addTask:e,updateTask:n,removeTask:i}=g_();D.useEffect(()=>(document.body.classList.add("calendar-page--beige"),()=>{document.body.classList.remove("calendar-page--beige")}),[]);const s=new Date,[a,u]=D.useState(()=>new Date);gs(s);const m=gs(a),[x,_]=D.useState(()=>{const Ee=new Date;return new Date(Ee.getFullYear(),Ee.getMonth(),1)}),[I,j]=D.useState("weekly"),[z,J]=D.useState(()=>new Date),[te,oe]=D.useState(null),[se,X]=D.useState(!1),L=D.useRef(null),[G,ne]=D.useState(null),[ke,ge]=D.useState(!1),[K,M]=D.useState({start:"",end:"",color:"#000000"}),[H,U]=D.useState(()=>Sx(gs(s))),[Y,ae]=D.useState(null),ie=x.getFullYear(),pt=x.getMonth(),Mt=new Date(ie,pt,1),Ke=new Date(ie,pt+1,0).getDate(),ft=(Mt.getDay()+6)%7,Re=Math.ceil((ft+Ke)/7)*7;D.useMemo(()=>t.filter(Ee=>{const[ue,pe]=Ee.date.split("-").map(Number);return ue===ie&&pe===pt+1}),[t,ie,pt]),D.useEffect(()=>{const Ee=window.setInterval(()=>u(new Date),6e4);return()=>window.clearInterval(Ee)},[]),D.useEffect(()=>{if(!se)return;const Ee=pe=>{L.current&&(L.current.contains(pe.target)||X(!1))},ue=pe=>{pe.key==="Escape"&&X(!1)};return window.addEventListener("mousedown",Ee),window.addEventListener("keydown",ue),()=>{window.removeEventListener("mousedown",Ee),window.removeEventListener("keydown",ue)}},[se]);const $e=D.useMemo(()=>{var ue;return((ue=t.map(pe=>{const Ae=Xq(pe),[Ze,st]=pe.end.split(":").map(Number),Ut=new Date(Ae);return Ut.setHours(Ze??0,st??0,0,0),{task:pe,startDateTime:Ae,endDateTime:Ut}}).filter(pe=>pe.startDateTime.getTime()>a.getTime()).sort((pe,Ae)=>pe.startDateTime.getTime()-Ae.startDateTime.getTime())[0])==null?void 0:ue.task)??null},[t,a]);D.useMemo(()=>cm(($e==null?void 0:$e.date)??null),[$e]);const ut=Kq(z),_t=Array.from({length:7},(Ee,ue)=>{const pe=new Date(ut);return pe.setDate(ut.getDate()+ue),pe}),jt=Gq(ut),kt=D.useMemo(()=>{const Ee=new Map;return t.forEach(ue=>{const pe=Ee.get(ue.date)??[];pe.push(ue),Ee.set(ue.date,pe)}),Ee.forEach((ue,pe)=>{ue.sort((Ae,Ze)=>Ae.start.localeCompare(Ze.start)),Ee.set(pe,ue)}),Ee},[t,a]),Ot=G?kt.get(G)??[]:[],mt=D.useMemo(()=>cm(G),[G]);D.useMemo(()=>{const Ee=cm(H.repeatStart||null),ue=cm(H.repeatEnd||null);return!Ee||!ue?"":Ee===ue?Ee:`${Ee} -> ${ue}`},[H.repeatStart,H.repeatEnd]);const Rt=Ee=>{J(ue=>{const pe=new Date(ue);return pe.setDate(ue.getDate()+Ee*7),pe})},ot=Ee=>{_(ue=>{const pe=new Date(ue);return pe.setMonth(ue.getMonth()+Ee,1),pe})},xe=Ee=>{vt(Ee,{presetForm:!0})},le=Ee=>{const ue=t.find(pe=>pe.id===Ee);ue&&(oe(Ee),M({start:ue.start,end:ue.end,color:ue.color}))},_e=()=>{oe(null)},me=(Ee,ue)=>{M(pe=>({...pe,[Ee]:ue}))},Ye=(Ee,ue)=>{Ee.preventDefault();const pe=hu(K.start),Ae=hu(K.end);if(pe<Pu||pe>Mu||Ae<Pu||Ae>Mu){window.alert("Les horaires autoriss sont de 06:00  23:00.");return}n(ue,{start:K.start,end:K.end,color:K.color}),oe(null)},je=Ee=>{window.confirm("Supprimer cette tche ?")&&(i(Ee),oe(pe=>pe===Ee?null:pe))},Ue=Ee=>{const ue=window.prompt("Dupliquer sur combien de jours ? (ex : 3)");if(!ue)return;const pe=Number.parseInt(ue,10);if(!Number.isFinite(pe)||pe<=0){window.alert("Nombre de jours invalide.");return}const[Ae,Ze,st]=Ee.date.split("-").map(Number),Ut=new Date(Ae,(Ze??1)-1,st??1);for(let Lt=1;Lt<=pe;Lt+=1){const lt=new Date(Ut);lt.setDate(Ut.getDate()+Lt);const rt=gs(lt);e({id:`task-${rt}-${Math.random().toString(36).slice(2,8)}`,title:Ee.title,start:Ee.start,end:Ee.end,date:rt,color:Ee.color,tag:Ee.tag})}},be=Ee=>{U(ue=>({...Sx(Ee),color:ue.color,category:ue.category})),ae(null)},vt=(Ee,ue)=>{ne(Ee),ge(!0),oe(null),ue!=null&&ue.presetForm?be(Ee):U(pe=>pe.title.trim().length>0||pe.repeatStart===Ee&&pe.repeatEnd===Ee?pe:{...pe,repeatStart:Ee,repeatEnd:Ee})},Tt=()=>{ge(!1),ne(null),oe(null),ae(null)},Se=(Ee,ue)=>{U(pe=>({...pe,[Ee]:ue}))},Me=Ee=>{U(ue=>({...ue,category:Ee,color:Fm[Ee]??ue.color}))},He=()=>{if(!G||!window.confirm("Supprimer tous les vnements de cette journe ?"))return;(kt.get(G)??[]).forEach(pe=>i(pe.id)),U(Sx(G)),ae(null),oe(null),M({start:"",end:"",color:"#000000"})},De=Ee=>{Ee.preventDefault(),ae(null);const ue=H.title.trim();if(!ue){ae("Ajoute un titre  ton bloc.");return}if(!H.repeatStart||!H.repeatEnd){ae("Slectionne une priode valide.");return}const pe=h0(H.repeatStart),Ae=h0(H.repeatEnd);if(Number.isNaN(pe.getTime())||Number.isNaN(Ae.getTime())){ae("Impossible de comprendre ces dates.");return}if(pe.getTime()>Ae.getTime()){ae("La date de fin doit tre postrieure  la date de dbut.");return}const Ze=new Date(s);if(Ze.setHours(0,0,0,0),pe.getTime()<Ze.getTime()){ae("Impossible de programmer un vnement dans le pass.");return}const st=H.start.trim().length>0?H.start:"09:00",Ut=hu(st),Lt=hu(H.end.trim().length>0?H.end:"10:00");if(Ut<Pu||Ut>Mu||Lt<Pu||Lt>Mu){ae("Les horaires autoriss sont de 06:00  23:00.");return}if(pe.toDateString()===Ze.toDateString()){const Ce=s.getHours()*60+s.getMinutes();if(Ut<=Ce){ae("Choisis une heure de dbut future.");return}}const lt=[];for(let Ce=new Date(pe);Ce.getTime()<=Ae.getTime();Ce.setDate(Ce.getDate()+1))lt.push(gs(Ce));const rt=H.end.trim().length>0?H.end:"10:00",he=Fm[H.category]??(H.color||$q[0]);lt.forEach(Ce=>{e({id:`task-${Ce}-${Math.random().toString(36).slice(2,8)}`,title:ue,start:st,end:rt,date:Ce,color:he,tag:H.category})}),U(Ce=>({...Ce,title:""})),ae(null)},et=(Ee,ue)=>{(Ee.key==="Enter"||Ee.key===" ")&&(Ee.preventDefault(),vt(ue))},at=D.useMemo(()=>Array.from({length:Re},(Ee,ue)=>{const pe=ue-ft+1;if(pe<1||pe>Ke)return{key:`empty-${ue}`,day:null,dateKey:null,tasks:[],isToday:!1};const Ae=new Date(ie,pt,pe),Ze=gs(Ae);return{key:Ze,dateKey:Ze,day:pe,tasks:kt.get(Ze)??[],isToday:pe===s.getDate()&&pt===s.getMonth()&&ie===s.getFullYear()}}),[Ke,pt,ft,kt,s,Re,ie]);t.length;const ht=o.jsxs("div",{className:"calendar-view-toggle",role:"tablist","aria-label":"Vue calendrier",children:[o.jsx("button",{type:"button",role:"tab","aria-selected":I==="weekly",className:`calendar-view-toggle__button${I==="weekly"?" is-active":""}`,onClick:()=>j("weekly"),children:"Hebdomadaire"}),o.jsx("button",{type:"button",role:"tab","aria-selected":I==="monthly",className:`calendar-view-toggle__button${I==="monthly"?" is-active":""}`,onClick:()=>j("monthly"),children:"Mensuel"})]});return o.jsxs("div",{className:"calendar-page",children:[I==="weekly"?o.jsxs("section",{className:"calendar-weekly",children:[o.jsx("header",{className:"calendar-weekly__header",children:o.jsx(bi,{eyebrow:"calendrier hebdomadaire",title:`Semaine du ${jt}`,children:ht})}),o.jsxs("div",{className:"calendar-weekly__layout",children:[o.jsxs("div",{className:"calendar-weekly__toolbar",children:[o.jsxs("button",{type:"button",className:"calendar-weekly__create",onClick:()=>xe(gs(s)),children:[o.jsx("span",{className:"calendar-weekly__create-plus",children:"+"}),"Crer un vnement"]}),o.jsxs("div",{className:"calendar-month-nav",children:[o.jsx("button",{type:"button",onClick:()=>Rt(-1),"aria-label":"Semaine prcdente",children:"<"}),o.jsx("button",{type:"button",onClick:()=>Rt(1),"aria-label":"Semaine suivante",children:">"})]})]}),o.jsxs("div",{className:"calendar-weekly__grid",style:{"--hour-height":`${Cx}px`,"--hour-count":Tx.length},children:[o.jsx("div",{className:"calendar-weekly__corner","aria-hidden":"true"}),_t.map((Ee,ue)=>{const pe=gs(Ee),Ae=Ee.toDateString()===s.toDateString();return o.jsxs("button",{type:"button",className:`calendar-weekly__day-header${Ae?" is-today":""}`,onClick:()=>vt(pe),children:[o.jsx("span",{className:"calendar-weekly__day-name",children:nS[ue]}),o.jsx("span",{className:"calendar-weekly__day-date",children:Ee.getDate()})]},pe)}),o.jsx("div",{className:"calendar-weekly__time-column",children:Tx.map(Ee=>o.jsxs("div",{className:"calendar-weekly__time",children:[String(Ee).padStart(2,"0"),":00"]},Ee))}),_t.map(Ee=>{const ue=gs(Ee),pe=kt.get(ue)??[];return o.jsx("div",{className:"calendar-weekly__day-column",role:"button",tabIndex:0,onClick:()=>vt(ue),onKeyDown:Ae=>et(Ae,ue),"aria-label":`Voir la journe du ${ue}`,children:o.jsxs("div",{className:"calendar-weekly__day-grid",children:[Tx.map(Ae=>o.jsx("div",{className:"calendar-weekly__hour-cell"},`${ue}-${Ae}`)),pe.map(Ae=>{const Ze=hu(Ae.start),st=hu(Ae.end),Ut=a.getHours()*60+a.getMinutes();Ae.date===m&&Ut>=Ze&&Ut<st;const Lt=Math.max(30,st-Ze||30),rt=Math.max(0,Ze-6*60)/60*Cx,he=Lt/60*Cx;return o.jsxs("button",{type:"button",className:"calendar-weekly__task",draggable:!0,onDragStart:Ce=>{Ce.dataTransfer.setData("text/plain",Ae.id),Ce.dataTransfer.effectAllowed="move"},style:{top:`${rt}px`,height:`${he}px`,background:Ae.color},onClick:Ce=>{Ce.stopPropagation(),vt(ue)},children:[o.jsx("span",{className:"calendar-weekly__task-title",children:Ae.title}),o.jsxs("span",{className:"calendar-weekly__task-time",children:[Ae.start," - ",Ae.end]})]},Ae.id)})]})},ue)})]})]})]}):null,I==="monthly"?o.jsxs("section",{className:"calendar-monthly-preview",children:[o.jsx("header",{className:"calendar-header calendar-header--compact",children:o.jsx(bi,{eyebrow:"aperu mensuel",title:Wq(x),children:ht})}),o.jsxs("div",{className:"calendar-month-nav",children:[o.jsx("button",{type:"button",onClick:()=>ot(-1),"aria-label":"Mois prcdent",children:"<"}),o.jsx("button",{type:"button",onClick:()=>ot(1),"aria-label":"Mois suivant",children:">"})]}),o.jsxs("div",{className:"calendar-grid calendar-grid--preview",children:[nS.map(Ee=>o.jsx("div",{className:"calendar-grid__weekday",children:Ee},Ee)),at.map(Ee=>Ee.day===null||Ee.dateKey===null?o.jsx("div",{className:"calendar-day calendar-day--empty"},Ee.key):o.jsxs("div",{className:`calendar-day${Ee.isToday?" calendar-day--today":""}`,onClick:()=>vt(Ee.dateKey),onKeyDown:ue=>et(ue,Ee.dateKey),role:"button",tabIndex:0,"aria-label":`Voir la journe du ${Ee.dateKey}`,children:[o.jsxs("div",{className:"calendar-day__header",children:[o.jsx("span",{className:"calendar-day__number",children:Ee.day}),o.jsx("button",{type:"button",className:"calendar-day__add",onClick:ue=>{ue.stopPropagation(),xe(Ee.dateKey)},"aria-label":`Ajouter une tche le ${Ee.dateKey}`,children:"+"})]}),Ee.tasks.length>0?o.jsx("span",{className:"calendar-day__indicator","aria-label":`${Ee.tasks.length} vnement${Ee.tasks.length>1?"s":""}`,children:Ee.tasks.length>1?Ee.tasks.length:""}):null,Ee.tasks[0]?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"calendar-day__preview",style:{background:`linear-gradient(135deg, ${sS(Ee.tasks[0].color,.12)} 0%, ${sS(Ee.tasks[0].color,.32)} 100%)`},children:[o.jsxs("span",{className:"calendar-day__preview-time",children:[Ee.tasks[0].start," - ",Ee.tasks[0].end]}),o.jsx("span",{className:"calendar-day__preview-title",children:Ee.tasks[0].title})]}),Ee.tasks.length>1?o.jsxs("span",{className:"calendar-day__more",children:["+ ",Ee.tasks.length-1," autres moments"]}):null]}):o.jsx("span",{className:"calendar-day__empty",children:"Rien de prvu"})]},Ee.key))]})]}):null,ke&&G?o.jsxs("div",{className:"calendar-modal",role:"dialog","aria-modal":"true","aria-labelledby":"calendar-modal-title",children:[o.jsx("div",{className:"calendar-modal__backdrop",onClick:Tt,"aria-hidden":"true"}),o.jsxs("div",{className:"calendar-modal__panel",children:[o.jsxs("header",{className:"calendar-modal__header",children:[o.jsxs("div",{children:[o.jsx("h2",{id:"calendar-modal-title",children:mt}),o.jsx("p",{children:Ot.length>0?Ot.length===1?"1 crneau.":`${Ot.length} crneaux.`:"Aucun crneau pour l'instant, profite pour en poser un."})]}),o.jsx("button",{type:"button",className:"modal__close",onClick:Tt,"aria-label":"Fermer",children:o.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M6 6 18 18M18 6 6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),o.jsx("div",{className:"calendar-modal__actions",children:o.jsx("button",{type:"button",className:"calendar-hero__cta calendar-hero__cta--ghost",onClick:He,children:"Rinitialiser la journe"})}),o.jsxs("div",{className:"calendar-modal__columns",children:[o.jsxs("section",{className:"calendar-modal__section",children:[o.jsx("div",{className:"calendar-modal__section-header",children:o.jsx("h3",{children:"Programmer un bloc"})}),o.jsxs("form",{className:"calendar-new-task",onSubmit:De,children:[o.jsxs("label",{className:"calendar-task__field calendar-task__field--full",children:[o.jsx("span",{children:"Titre"}),o.jsx("input",{type:"text",value:H.title,onChange:Ee=>Se("title",Ee.target.value),placeholder:"Bloc deep work, rendez-vous, self-care...",required:!0})]}),o.jsxs("div",{className:"calendar-task__form-row",children:[o.jsxs("label",{className:"calendar-task__field",children:[o.jsx("span",{children:"Dbut"}),o.jsx("input",{type:"time",value:H.start,onChange:Ee=>Se("start",Ee.target.value),required:!0})]}),o.jsxs("label",{className:"calendar-task__field",children:[o.jsx("span",{children:"Fin"}),o.jsx("input",{type:"time",value:H.end,onChange:Ee=>Se("end",Ee.target.value),required:!0})]})]}),o.jsxs("div",{className:"calendar-task__form-row",children:[o.jsxs("label",{className:"calendar-task__field",children:[o.jsx("span",{children:"Du"}),o.jsx("input",{type:"date",value:H.repeatStart,onChange:Ee=>Se("repeatStart",Ee.target.value)})]}),o.jsxs("label",{className:"calendar-task__field",children:[o.jsx("span",{children:"Au"}),o.jsx("input",{type:"date",value:H.repeatEnd,min:H.repeatStart,onChange:Ee=>Se("repeatEnd",Ee.target.value)})]})]}),o.jsx("div",{className:"calendar-task__form-row calendar-task__form-row--split",children:o.jsxs("label",{className:"calendar-task__field",children:[o.jsx("span",{children:"Type"}),o.jsxs("div",{className:"calendar-select",ref:L,children:[o.jsxs("button",{type:"button",className:"calendar-select__trigger","aria-haspopup":"listbox","aria-expanded":se,onClick:()=>X(Ee=>!Ee),children:[o.jsx("span",{children:H.category}),o.jsx("svg",{className:"calendar-select__chevron",viewBox:"0 0 20 20","aria-hidden":"true",children:o.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})]}),se?o.jsx("div",{className:"calendar-select__menu",role:"listbox",children:Object.keys(Fm).map(Ee=>o.jsx("button",{type:"button",role:"option","aria-selected":H.category===Ee,className:H.category===Ee?"is-selected":void 0,onMouseDown:ue=>{ue.preventDefault(),ue.stopPropagation()},onClick:ue=>{ue.preventDefault(),ue.stopPropagation(),Me(Ee),X(!1)},children:Ee},Ee))}):null]})]})}),Y?o.jsx("p",{className:"calendar-new-task__error",children:Y}):null,o.jsx("button",{type:"submit",className:"calendar-hero__cta calendar-hero__cta--primary calendar-new-task__submit",children:"Programmer"})]})]}),o.jsx("div",{className:"calendar-modal__divider","aria-hidden":"true"}),o.jsxs("section",{className:"calendar-modal__section",children:[o.jsx("div",{className:"calendar-modal__section-header",children:o.jsx("h3",{children:"Agenda du jour"})}),o.jsx("div",{className:"calendar-modal__list",children:Ot.length===0?o.jsx("p",{className:"calendar-modal__empty",children:"Programme ton premier vnement de la journe."}):Ot.map(Ee=>o.jsx("div",{className:`calendar-task${te===Ee.id?" calendar-task--editing":""}`,style:{background:Ee.color},onClick:()=>{te!==Ee.id&&le(Ee.id)},children:te===Ee.id?o.jsxs("form",{className:"calendar-task__form",onSubmit:ue=>Ye(ue,Ee.id),children:[o.jsxs("div",{className:"calendar-task__form-row",children:[o.jsxs("label",{className:"calendar-task__field",children:[o.jsx("span",{children:"Dbut"}),o.jsx("input",{type:"time",value:K.start,onChange:ue=>me("start",ue.target.value),required:!0})]}),o.jsxs("label",{className:"calendar-task__field",children:[o.jsx("span",{children:"Fin"}),o.jsx("input",{type:"time",value:K.end,onChange:ue=>me("end",ue.target.value),required:!0})]})]}),o.jsxs("div",{className:"calendar-task__actions",children:[o.jsx("button",{type:"button",className:"calendar-task__button calendar-task__button--ghost",onClick:_e,children:"Annuler"}),o.jsx("button",{type:"button",className:"calendar-task__button calendar-task__button--ghost",onClick:()=>je(Ee.id),children:"Supprimer"}),o.jsx("button",{type:"submit",className:"calendar-task__button calendar-task__button--primary",children:"Sauvegarder"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"calendar-task__header",children:[o.jsxs("span",{className:"calendar-task__time",children:[Ee.start," - ",Ee.end]}),o.jsxs("div",{className:"calendar-task__header-actions",children:[o.jsx("button",{type:"button",className:"calendar-task__edit",onClick:ue=>{ue.stopPropagation(),Ue(Ee)},"aria-label":`Dupliquer ${Ee.title}`,children:o.jsxs("svg",{viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",children:[o.jsx("path",{d:"M6 6h9v9H6z",fill:"none",stroke:"currentColor",strokeWidth:"1.3",strokeLinejoin:"round"}),o.jsx("path",{d:"M4 4h9v9",fill:"none",stroke:"currentColor",strokeWidth:"1.3",strokeLinejoin:"round"})]})}),o.jsx("button",{type:"button",className:"calendar-task__edit",onClick:ue=>{ue.stopPropagation(),le(Ee.id)},"aria-label":`Modifier ${Ee.title}`,children:o.jsx("svg",{viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",children:o.jsx("path",{d:"M4.5 14.75 3.5 17l2.25-1 7.75-7.75-1.5-1.5L4.5 14.75Zm9.2-9.2 1.5 1.5 1.3-1.3a.75.75 0 0 0 0-1.06l-.94-.94a.75.75 0 0 0-1.06 0l-1.3 1.3Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.3"})})})]})]}),o.jsx("span",{className:"calendar-task__title",children:Ee.title})]})},Ee.id))})]})]})]})]}):null]})};var EP={exports:{}};(function(t,e){(function(n,i){n._Highcharts=i(),t.exports=n._Highcharts})(typeof window>"u"?wc:window,()=>(()=>{var ME;let n,i;var s,a,u,m,x,_,I,j,z,J,te,oe,se,X,L,G,ne,ke,ge={};ge.d=(w,r)=>{for(var l in r)ge.o(r,l)&&!ge.o(w,l)&&Object.defineProperty(w,l,{enumerable:!0,get:r[l]})},ge.o=(w,r)=>Object.prototype.hasOwnProperty.call(w,r);var K={};ge.d(K,{default:()=>hD}),function(w){var r,l,c,h,d,p,f;w.SVG_NS="http://www.w3.org/2000/svg",w.product="Highcharts",w.version="12.4.0",w.win=typeof window<"u"?window:{},w.doc=w.win.document,w.svg=!!((c=(l=(r=w.doc)==null?void 0:r.createElementNS)==null?void 0:l.call(r,w.SVG_NS,"svg"))!=null&&c.createSVGRect),w.pageLang=(p=(d=(h=w.doc)==null?void 0:h.documentElement)==null?void 0:d.closest("[lang]"))==null?void 0:p.lang,w.userAgent=((f=w.win.navigator)==null?void 0:f.userAgent)||"",w.isChrome=w.win.chrome,w.isFirefox=w.userAgent.indexOf("Firefox")!==-1,w.isMS=/(edge|msie|trident)/i.test(w.userAgent)&&!w.win.opera,w.isSafari=!w.isChrome&&w.userAgent.indexOf("Safari")!==-1,w.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(w.userAgent),w.isWebKit=w.userAgent.indexOf("AppleWebKit")!==-1,w.deg2rad=2*Math.PI/360,w.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],w.noop=function(){},w.supportsPassiveEvents=function(){let v=!1;if(!w.isMS){let b=Object.defineProperty({},"passive",{get:function(){v=!0}});w.win.addEventListener&&w.win.removeEventListener&&(w.win.addEventListener("testPassive",w.noop,b),w.win.removeEventListener("testPassive",w.noop,b))}return v}(),w.charts=[],w.composed=[],w.dateFormats={},w.seriesTypes={},w.symbolSizes={},w.chartCount=0}(s||(s={}));let M=s,{charts:H,doc:U,win:Y}=M;function ae(w,r,l,c){let h=r?"Highcharts error":"Highcharts warning";w===32&&(w=`${h}: Deprecated member`);let d=$e(w),p=d?`${h} #${w}: www.highcharts.com/errors/${w}/`:w.toString();if(c!==void 0){let f="";d&&(p+="?"),le(c,function(v,b){f+=`
 - ${b}: ${v}`,d&&(p+=encodeURI(b)+"="+encodeURI(v))}),p+=f}me(M,"displayError",{chart:l,code:w,message:p,params:c},function(){if(r)throw Error(p);Y.console&&ae.messages.indexOf(p)===-1&&console.warn(p)}),ae.messages.push(p)}function ie(w,r){return parseInt(w,r||10)}function pt(w){return typeof w=="string"}function Mt(w){let r=Object.prototype.toString.call(w);return r==="[object Array]"||r==="[object Array Iterator]"}function Ke(w,r){return!!w&&typeof w=="object"&&(!r||!Mt(w))}function ft(w){return Ke(w)&&typeof w.nodeType=="number"}function Re(w){let r=w==null?void 0:w.constructor;return!!(Ke(w,!0)&&!ft(w)&&(r!=null&&r.name)&&r.name!=="Object")}function $e(w){return typeof w=="number"&&!isNaN(w)&&w<1/0&&w>-1/0}function ut(w){return w!=null}function _t(w,r,l){let c,h=pt(r)&&!ut(l),d=(p,f)=>{ut(p)?w.setAttribute(f,p):h?(c=w.getAttribute(f))||f!=="class"||(c=w.getAttribute(f+"Name")):w.removeAttribute(f)};return pt(r)?d(l,r):le(r,d),c}function jt(w){return Mt(w)?w:[w]}function kt(w,r){let l;for(l in w||(w={}),r)w[l]=r[l];return w}function Ot(){let w=arguments,r=w.length;for(let l=0;l<r;l++){let c=w[l];if(c!=null)return c}}function mt(w,r){kt(w.style,r)}function Rt(w){return Math.pow(10,Math.floor(Math.log(w)/Math.LN10))}function ot(w,r){return w>1e14?w:parseFloat(w.toPrecision(r||14))}(ae||(ae={})).messages=[],Math.easeInOutSine=function(w){return-.5*(Math.cos(Math.PI*w)-1)};let xe=Array.prototype.find?function(w,r){return w.find(r)}:function(w,r){let l,c=w.length;for(l=0;l<c;l++)if(r(w[l],l))return w[l]};function le(w,r,l){for(let c in w)Object.hasOwnProperty.call(w,c)&&r.call(l||w[c],w[c],c,w)}function _e(w,r,l){function c(p,f){let v=w.removeEventListener;v&&v.call(w,p,f,!1)}function h(p){let f,v;w.nodeName&&(r?(f={})[r]=!0:f=p,le(f,function(b,T){if(p[T])for(v=p[T].length;v--;)c(T,p[T][v].fn)}))}let d=typeof w=="function"&&w.prototype||w;if(Object.hasOwnProperty.call(d,"hcEvents")){let p=d.hcEvents;if(r){let f=p[r]||[];l?(p[r]=f.filter(function(v){return l!==v.fn}),c(r,l)):(h(p),p[r]=[])}else h(p),delete d.hcEvents}}function me(w,r,l,c){if(l=l||{},(U==null?void 0:U.createEvent)&&(w.dispatchEvent||w.fireEvent&&w!==M)){let h=U.createEvent("Events");h.initEvent(r,!0,!0),l=kt(h,l),w.dispatchEvent?w.dispatchEvent(l):w.fireEvent(r,l)}else if(w.hcEvents){l.target||kt(l,{preventDefault:function(){l.defaultPrevented=!0},target:w,type:r});let h=[],d=w,p=!1;for(;d.hcEvents;)Object.hasOwnProperty.call(d,"hcEvents")&&d.hcEvents[r]&&(h.length&&(p=!0),h.unshift.apply(h,d.hcEvents[r])),d=Object.getPrototypeOf(d);p&&h.sort((f,v)=>f.order-v.order),h.forEach(f=>{f.fn.call(w,l)===!1&&l.preventDefault()})}c&&!l.defaultPrevented&&c.call(w,l)}let Ye=function(){let w=Math.random().toString(36).substring(2,9)+"-",r=0;return function(){return"highcharts-"+(n?"":w)+r++}}();Y.jQuery&&(Y.jQuery.fn.highcharts=function(){let w=[].slice.call(arguments);if(this[0])return w[0]?(new M[pt(w[0])?w.shift():"Chart"](this[0],w[0],w[1]),this):H[_t(this[0],"data-highcharts-chart")]});let je={addEvent:function(w,r,l,c={}){let h=typeof w=="function"&&w.prototype||w;Object.hasOwnProperty.call(h,"hcEvents")||(h.hcEvents={});let d=h.hcEvents;M.Point&&w instanceof M.Point&&w.series&&w.series.chart&&(w.series.chart.runTrackerClick=!0);let p=w.addEventListener;p&&p.call(w,r,l,!!M.supportsPassiveEvents&&{passive:c.passive===void 0?r.indexOf("touch")!==-1:c.passive,capture:!1}),d[r]||(d[r]=[]);let f={fn:l,order:typeof c.order=="number"?c.order:1/0};return d[r].push(f),d[r].sort((v,b)=>v.order-b.order),function(){_e(w,r,l)}},arrayMax:function(w){let r=w.length,l=w[0];for(;r--;)w[r]>l&&(l=w[r]);return l},arrayMin:function(w){let r=w.length,l=w[0];for(;r--;)w[r]<l&&(l=w[r]);return l},attr:_t,clamp:function(w,r,l){return w>r?w<l?w:l:r},clearTimeout:function(w){ut(w)&&clearTimeout(w)},correctFloat:ot,createElement:function(w,r,l,c,h){let d=U.createElement(w);return r&&kt(d,r),h&&mt(d,{padding:"0",border:"none",margin:"0"}),l&&mt(d,l),c&&c.appendChild(d),d},crisp:function(w,r=0,l){let c=r%2/2,h=l?-1:1;return(Math.round(w*h-c)+c)*h},css:mt,defined:ut,destroyObjectProperties:function(w,r,l){le(w,function(c,h){c!==r&&(c!=null&&c.destroy)&&c.destroy(),(c!=null&&c.destroy||!l)&&delete w[h]})},diffObjects:function(w,r,l,c){let h={};return function d(p,f,v,b){let T=l?f:p;le(p,function(E,A){if(!b&&c&&c.indexOf(A)>-1&&f[A]){E=jt(E),v[A]=[];for(let P=0;P<Math.max(E.length,f[A].length);P++)f[A][P]&&(E[P]===void 0?v[A][P]=f[A][P]:(v[A][P]={},d(E[P],f[A][P],v[A][P],b+1)))}else Ke(E,!0)&&!E.nodeType?(v[A]=Mt(E)?[]:{},d(E,f[A]||{},v[A],b+1),Object.keys(v[A]).length===0&&(A!=="colorAxis"||b!==0)&&delete v[A]):(p[A]!==f[A]||A in p&&!(A in f))&&A!=="__proto__"&&A!=="constructor"&&(v[A]=T[A])})}(w,r,h,0),h},discardElement:function(w){var r;(r=w==null?void 0:w.parentElement)==null||r.removeChild(w)},erase:function(w,r){let l=w.length;for(;l--;)if(w[l]===r){w.splice(l,1);break}},error:ae,extend:kt,extendClass:function(w,r){let l=function(){};return l.prototype=new w,kt(l.prototype,r),l},find:xe,fireEvent:me,getAlignFactor:(w="")=>({center:.5,right:1,middle:.5,bottom:1})[w]||0,getClosestDistance:function(w,r){let l,c,h,d=!r;return w.forEach(p=>{if(p.length>1)for(h=p.length-1;h>0;h--)(c=p[h]-p[h-1])<0&&!d?(r==null||r(),r=void 0):c&&(l===void 0||c<l)&&(l=c)}),l},getMagnitude:Rt,getNestedProperty:function(w,r){let l=w.split(".");for(;l.length&&ut(r);){let c=l.shift();if(c===void 0||c==="__proto__")return;if(c==="this"){let d;return Ke(r)&&(d=r["@this"]),d??r}let h=r[c.replace(/[\\'"]/g,"")];if(!ut(h)||typeof h=="function"||typeof h.nodeType=="number"||h===Y)return;r=h}return r},getStyle:function w(r,l,c){var p;let h;if(l==="width"){let f=Math.min(r.offsetWidth,r.scrollWidth),v=(p=r.getBoundingClientRect)==null?void 0:p.call(r).width;return v<f&&v>=f-1&&(f=Math.floor(v)),Math.max(0,f-(w(r,"padding-left",!0)||0)-(w(r,"padding-right",!0)||0))}if(l==="height")return Math.max(0,Math.min(r.offsetHeight,r.scrollHeight)-(w(r,"padding-top",!0)||0)-(w(r,"padding-bottom",!0)||0));let d=Y.getComputedStyle(r,void 0);return d&&(h=d.getPropertyValue(l),Ot(c,l!=="opacity")&&(h=ie(h))),h},insertItem:function(w,r){let l,c=w.options.index,h=r.length;for(l=w.options.isInternal?h:0;l<h+1;l++)if(!r[l]||$e(c)&&c<Ot(r[l].options.index,r[l]._i)||r[l].options.isInternal){r.splice(l,0,w);break}return l},isArray:Mt,isClass:Re,isDOMElement:ft,isFunction:function(w){return typeof w=="function"},isNumber:$e,isObject:Ke,isString:pt,merge:function(w,...r){let l,c=[w,...r],h={},d=function(f,v){return typeof f!="object"&&(f={}),le(v,function(b,T){T!=="__proto__"&&T!=="constructor"&&(!Ke(b,!0)||Re(b)||ft(b)?f[T]=v[T]:f[T]=d(f[T]||{},b))}),f};w===!0&&(h=c[1],c=Array.prototype.slice.call(c,2));let p=c.length;for(l=0;l<p;l++)h=d(h,c[l]);return h},normalizeTickInterval:function(w,r,l,c,h){let d,p=w;l=Ot(l,Rt(w));let f=w/l;for(!r&&(r=h?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],c===!1&&(l===1?r=r.filter(function(v){return v%1==0}):l<=.1&&(r=[1/l]))),d=0;d<r.length&&(p=r[d],(!h||!(p*l>=w))&&(h||!(f<=(r[d]+(r[d+1]||r[d]))/2)));d++);return ot(p*l,-Math.round(Math.log(.001)/Math.LN10))},objectEach:le,offset:function(w){let r=U.documentElement,l=w.parentElement||w.parentNode?w.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:l.top+(Y.pageYOffset||r.scrollTop)-(r.clientTop||0),left:l.left+(Y.pageXOffset||r.scrollLeft)-(r.clientLeft||0),width:l.width,height:l.height}},pad:function(w,r,l){return Array((r||2)+1-String(w).replace("-","").length).join(l||"0")+w},pick:Ot,pInt:ie,pushUnique:function(w,r){return 0>w.indexOf(r)&&!!w.push(r)},relativeLength:function(w,r,l){return/%$/.test(w)?r*parseFloat(w)/100+(l||0):parseFloat(w)},removeEvent:_e,replaceNested:function(w,...r){let l,c;do for(c of(l=w,r))w=w.replace(c[0],c[1]);while(w!==l);return w},splat:jt,stableSort:function(w,r){let l,c,h=w.length;for(c=0;c<h;c++)w[c].safeI=c;for(w.sort(function(d,p){return(l=r(d,p))===0?d.safeI-p.safeI:l}),c=0;c<h;c++)delete w[c].safeI},syncTimeout:function(w,r,l){return r>0?setTimeout(w,r,l):(w.call(0,l),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(w){return pt(w)?w.substring(0,1).toUpperCase()+w.substring(1):String(w)},uniqueKey:Ye,useSerialIds:function(w){return n=Ot(w,n)},wrap:function(w,r,l){let c=w[r];w[r]=function(){let h=arguments,d=this;return l.apply(this,[function(){return c.apply(d,arguments.length?arguments:h)}].concat([].slice.call(arguments)))}}},{pageLang:Ue,win:be}=M,{defined:vt,error:Tt,extend:Se,isNumber:Me,isObject:He,isString:De,merge:et,objectEach:at,pad:ht,splat:Ee,timeUnits:ue,ucfirst:pe}=je,Ae=M.isSafari&&be.Intl&&!be.Intl.DateTimeFormat.prototype.formatRange,Ze=w=>w.main===void 0,st=class{constructor(w,r){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=be.Date,this.update(w),this.lang=r}update(w={}){this.dTLCache={},this.options=w=et(!0,this.options,w);let{timezoneOffset:r,useUTC:l,locale:c}=w;this.Date=w.Date||be.Date||Date;let h=w.timezone;vt(l)&&(h=l?"UTC":void 0),r&&r%60==0&&(h="Etc/GMT"+(r>0?"+":"")+r/60),this.variableTimezone=h!=="UTC"&&(h==null?void 0:h.indexOf("Etc/GMT"))!==0,this.timezone=h,this.lang&&c&&(this.lang.locale=c),["months","shortMonths","weekdays","shortWeekdays"].forEach(d=>{let p=/months/i.test(d),f=/short/.test(d),v={timeZone:"UTC"};v[p?"month":"weekday"]=f?"short":"long",this[d]=(p?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(b=>this.dateFormat(v,(p?31:1)*24*36e5*b))})}toParts(w){let[r,l,c,h,d,p,f]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},w,"es").split(/(?:, | |\/|:)/g);return[h,c-1,l,d,p,f,Math.floor(Number(w)||0)%1e3,"DLMXJVS".indexOf(r)].map(Number)}dateTimeFormat(w,r,l=this.options.locale||Ue){let c=JSON.stringify(w)+l;De(w)&&(w=this.str2dtf(w));let h=this.dTLCache[c];if(!h){w.timeZone??(w.timeZone=this.timezone);try{h=new Intl.DateTimeFormat(l,w)}catch(d){/Invalid time zone/i.test(d.message)?(Tt(34),w.timeZone="UTC",h=new Intl.DateTimeFormat(l,w)):Tt(d.message,!1)}}return this.dTLCache[c]=h,(h==null?void 0:h.format(r))||""}str2dtf(w,r={}){let l={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(l).forEach(c=>{w.indexOf(c)!==-1&&Se(r,l[c])}),r}makeTime(w,r,l=1,c=0,h,d,p){let f=this.Date.UTC(w,r,l,c,h||0,d||0,p||0);if(this.timezone!=="UTC"){let v=this.getTimezoneOffset(f);if(f+=v,[2,3,8,9,10,11].indexOf(r)!==-1&&(c<5||c>20)){let b=this.getTimezoneOffset(f);v!==b?f+=b-v:v-36e5!==this.getTimezoneOffset(f-36e5)||Ae||(f-=36e5)}}return f}parse(w){if(!De(w))return w??void 0;let r=(w=w.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(w),l=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(w);r||l||(w+="Z");let c=Date.parse(w);if(Me(c))return c+(!r||l?this.getTimezoneOffset(c):0)}getTimezoneOffset(w){if(this.timezone!=="UTC"){let[r,l,c,h,d=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},w,"en").split(/(GMT|:)/).map(Number),p=-(60*(c+d/60)*6e4);if(Me(p))return p}return 0}dateFormat(w,r,l){let c=this.lang;if(!vt(r)||isNaN(r))return(c==null?void 0:c.invalidDate)||"";if(De(w=w??"%Y-%m-%d %H:%M:%S")){let h,d=/%\[([a-zA-Z]+)\]/g;for(;h=d.exec(w);)w=w.replace(h[0],this.dateTimeFormat(h[1],r,c==null?void 0:c.locale))}if(De(w)&&w.indexOf("%")!==-1){let h=this,[d,p,f,v,b,T,E,A]=this.toParts(r),P=(c==null?void 0:c.weekdays)||this.weekdays,O=(c==null?void 0:c.shortWeekdays)||this.shortWeekdays,$=(c==null?void 0:c.months)||this.months,q=(c==null?void 0:c.shortMonths)||this.shortMonths;at(Se({a:O?O[A]:P[A].substr(0,3),A:P[A],d:ht(f),e:ht(f,2," "),w:A,v:(c==null?void 0:c.weekFrom)??"",b:q[p],B:$[p],m:ht(p+1),o:p+1,y:d.toString().substr(2,2),Y:d,H:ht(v),k:v,I:ht(v%12||12),l:v%12||12,M:ht(b),p:v<12?"AM":"PM",P:v<12?"am":"pm",S:ht(T),L:ht(E,3)},M.dateFormats),function(V,Q){if(De(w))for(;w.indexOf("%"+Q)!==-1;)w=w.replace("%"+Q,typeof V=="function"?V.call(h,r):V)})}else if(He(w)){let h=(this.getTimezoneOffset(r)||0)/36e5,d=this.timezone||"Etc/GMT"+(h>=0?"+":"")+h,{prefix:p="",suffix:f=""}=w;w=p+this.dateTimeFormat(Se({timeZone:d},w),r)+f}return l?pe(w):w}resolveDTLFormat(w){return He(w,!0)?He(w,!0)&&Ze(w)?{main:w}:w:{main:(w=Ee(w))[0],from:w[1],to:w[2]}}getDateFormat(w,r,l,c){let h=this.dateFormat("%m-%d %H:%M:%S.%L",r),d="01-01 00:00:00.000",p={millisecond:15,second:12,minute:9,hour:6,day:3},f="millisecond",v=f;for(f in ue){if(w&&w===ue.week&&+this.dateFormat("%w",r)===l&&h.substr(6)===d.substr(6)){f="week";break}if(w&&ue[f]>w){f=v;break}if(p[f]&&h.substr(p[f])!==d.substr(p[f]))break;f!=="week"&&(v=f)}return this.resolveDTLFormat(c[f]).main}},{defined:Ut,extend:Lt,timeUnits:lt}=je,rt=class extends st{getTimeTicks(w,r,l,c){let h=this,d=[],p={},{count:f=1,unitRange:v}=w,[b,T,E,A,P,O]=h.toParts(r),$=(r||0)%1e3,q;if(c??(c=1),Ut(r)){if($=v>=lt.second?0:f*Math.floor($/f),v>=lt.second&&(O=v>=lt.minute?0:f*Math.floor(O/f)),v>=lt.minute&&(P=v>=lt.hour?0:f*Math.floor(P/f)),v>=lt.hour&&(A=v>=lt.day?0:f*Math.floor(A/f)),v>=lt.day&&(E=v>=lt.month?1:Math.max(1,f*Math.floor(E/f))),v>=lt.month&&(T=v>=lt.year?0:f*Math.floor(T/f)),v>=lt.year&&(b-=b%f),v===lt.week){f&&(r=h.makeTime(b,T,E,A,P,O,$));let ee=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},r,"es"),we="DLMXJVS".indexOf(ee);E+=-we+c+(we<c?-7:0)}r=h.makeTime(b,T,E,A,P,O,$),h.variableTimezone&&Ut(l)&&(q=l-r>4*lt.month||h.getTimezoneOffset(r)!==h.getTimezoneOffset(l));let V=r,Q=1;for(;V<l;)d.push(V),v===lt.year?V=h.makeTime(b+Q*f,0):v===lt.month?V=h.makeTime(b,T+Q*f):q&&(v===lt.day||v===lt.week)?V=h.makeTime(b,T,E+Q*f*(v===lt.day?1:7)):q&&v===lt.hour&&f>1?V=h.makeTime(b,T,E,A+Q*f):V+=v*f,Q++;d.push(V),v<=lt.hour&&d.length<1e4&&d.forEach(ee=>{ee%18e5==0&&h.dateFormat("%H%M%S%L",ee)==="000000000"&&(p[ee]="day")})}return d.info=Lt(w,{higherRanks:p,totalRange:v*f}),d}},{isTouchDevice:he}=M,{fireEvent:Ce,merge:Fe}=je,Pe={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{color:"#333333",fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:w=>Math.sqrt(1-Math.pow(w-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:he?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},Ve=new rt(Pe.time,Pe.lang),We={defaultOptions:Pe,defaultTime:Ve,getOptions:function(){return Pe},setOptions:function(w){var r;return Ce(M,"setOptions",{options:w}),Fe(!0,Pe,w),w.time&&Ve.update(Pe.time),w.lang&&"locale"in w.lang&&Ve.update({locale:w.lang.locale}),(r=w.lang)!=null&&r.chartTitle&&(Pe.title={...Pe.title,text:w.lang.chartTitle}),Pe}},{win:gt}=M,{isNumber:Pt,isString:At,merge:Vt,pInt:Qt,defined:nt}=je,zt=(w,r,l)=>`color-mix(in srgb,${w},${r} ${100*l}%)`,Jt=w=>At(w)&&!!w&&w!=="none";class Ft{static parse(r){return r?new Ft(r):Ft.None}constructor(r){let l,c,h,d;this.rgba=[NaN,NaN,NaN,NaN],this.input=r;let p=M.Color;if(p&&p!==Ft)return new p(r);if(typeof r=="object"&&r.stops!==void 0)this.stops=r.stops.map(f=>new Ft(f[1]));else if(typeof r=="string")for(this.input=r=Ft.names[r.toLowerCase()]||r,h=Ft.parsers.length;h--&&!c;)(l=(d=Ft.parsers[h]).regex.exec(r))&&(c=d.parse(l));c&&(this.rgba=c)}get(r){let l=this.input,c=this.rgba;if(this.output)return this.output;if(typeof l=="object"&&this.stops!==void 0){let h=Vt(l);return h.stops=[].slice.call(h.stops),this.stops.forEach((d,p)=>{h.stops[p]=[h.stops[p][0],d.get(r)]}),h}return c&&Pt(c[0])?r!=="rgb"&&(r||c[3]!==1)?r==="a"?`${c[3]}`:"rgba("+c.join(",")+")":"rgb("+c[0]+","+c[1]+","+c[2]+")":l}brighten(r){let l=this.rgba;if(this.stops)this.stops.forEach(function(c){c.brighten(r)});else if(Pt(r)&&r!==0)if(Pt(l[0]))for(let c=0;c<3;c++)l[c]+=Qt(255*r),l[c]<0&&(l[c]=0),l[c]>255&&(l[c]=255);else Ft.useColorMix&&Jt(this.input)&&(this.output=zt(this.input,r>0?"white":"black",Math.abs(r)));return this}setOpacity(r){return this.rgba[3]=r,this}tweenTo(r,l){let c=this.rgba,h=r.rgba;if(!Pt(c[0])||!Pt(h[0]))return Ft.useColorMix&&Jt(this.input)&&Jt(r.input)&&l<.99?zt(this.input,r.input,l):r.input||"none";let d=h[3]!==1||c[3]!==1,p=(v,b)=>v+(c[b]-v)*(1-l),f=h.slice(0,3).map(p).map(Math.round);return d&&f.push(p(h[3],3)),(d?"rgba(":"rgb(")+f.join(",")+")"}}Ft.names={white:"#ffffff",black:"#000000"},Ft.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(w){return[Qt(w[1]),Qt(w[2]),Qt(w[3]),parseFloat(w[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(w){return[Qt(w[1]),Qt(w[2]),Qt(w[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(w){return[Qt(w[1]+w[1],16),Qt(w[2]+w[2],16),Qt(w[3]+w[3],16),nt(w[4])?Qt(w[4]+w[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(w){return[Qt(w[1],16),Qt(w[2],16),Qt(w[3],16),nt(w[4])?Qt(w[4],16)/255:1]}}],Ft.useColorMix=(ME=gt.CSS)==null?void 0:ME.supports("color","color-mix(in srgb,red,blue 9%)"),Ft.None=new Ft("");let{parse:en}=Ft,{win:rn}=M,{isNumber:gn,objectEach:hn}=je;class Rn{constructor(r,l,c){this.pos=NaN,this.options=l,this.elem=r,this.prop=c}dSetter(){let r=this.paths,l=r==null?void 0:r[0],c=r==null?void 0:r[1],h=this.now||0,d=[];if(h!==1&&l&&c)if(l.length===c.length&&h<1)for(let p=0;p<c.length;p++){let f=l[p],v=c[p],b=[];for(let T=0;T<v.length;T++){let E=f[T],A=v[T];gn(E)&&gn(A)&&(v[0]!=="A"||T!==4&&T!==5)?b[T]=E+h*(A-E):b[T]=A}d.push(b)}else d=c;else d=this.toD||[];this.elem.attr("d",d,void 0,!0)}update(){let r=this.elem,l=this.prop,c=this.now,h=this.options.step;this[l+"Setter"]?this[l+"Setter"]():r.attr?r.element&&r.attr(l,c,null,!0):r.style[l]=c+this.unit,h&&h.call(r,c,this)}run(r,l,c){let h=this,d=h.options,p=function(b){return!p.stopped&&h.step(b)},f=rn.requestAnimationFrame||function(b){setTimeout(b,13)},v=function(){for(let b=0;b<Rn.timers.length;b++)Rn.timers[b]()||Rn.timers.splice(b--,1);Rn.timers.length&&f(v)};r!==l||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=r,this.end=l,this.unit=c,this.now=this.start,this.pos=0,p.elem=this.elem,p.prop=this.prop,p()&&Rn.timers.push(p)===1&&f(v)):(delete d.curAnim[this.prop],d.complete&&Object.keys(d.curAnim).length===0&&d.complete.call(this.elem))}step(r){let l,c,h=+new Date,d=this.options,p=this.elem,f=d.complete,v=d.duration,b=d.curAnim;return p.attr&&!p.element?l=!1:r||h>=v+this.startTime?(this.now=this.end,this.pos=1,this.update(),b[this.prop]=!0,c=!0,hn(b,function(T){T!==!0&&(c=!1)}),c&&f&&f.call(p),l=!1):(this.pos=d.easing((h-this.startTime)/v),this.now=this.start+(this.end-this.start)*this.pos,this.update(),l=!0),l}initPath(r,l,c){let h=r.startX,d=r.endX,p=c.slice(),f=r.isArea,v=f?2:1,b=l&&c.length>l.length&&c.hasStackedCliffs,T,E,A,P,O=l==null?void 0:l.slice();if(!O||b)return[p,p];function $(V,Q){for(;V.length<E;){let ee=V[0],we=Q[E-V.length];if(we&&ee[0]==="M"&&(we[0]==="C"?V[0]=["C",ee[1],ee[2],ee[1],ee[2],ee[1],ee[2]]:V[0]=["L",ee[1],ee[2]]),V.unshift(ee),f){let fe=V.pop();V.push(V[V.length-1],fe)}}}function q(V){for(;V.length<E;){let Q=V[Math.floor(V.length/v)-1].slice();if(Q[0]==="C"&&(Q[1]=Q[5],Q[2]=Q[6]),f){let ee=V[Math.floor(V.length/v)].slice();V.splice(V.length/2,0,Q,ee)}else V.push(Q)}}if(h&&d&&d.length){for(A=0;A<h.length;A++)if(h[A]===d[0]){T=A;break}else if(h[0]===d[d.length-h.length+A]){T=A,P=!0;break}else if(h[h.length-1]===d[d.length-h.length+A]){T=h.length-A;break}T===void 0&&(O=[])}return O.length&&gn(T)&&(E=p.length+T*v,P?($(O,p),q(p)):($(p,O),q(O))),[O,p]}fillSetter(){Rn.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,en(this.start).tweenTo(en(this.end),this.pos),void 0,!0)}}Rn.timers=[];let{defined:vn,getStyle:Kn,isArray:ji,isNumber:ar,isObject:Pn,merge:Te,objectEach:Ie,pick:ze}=je;function Je(w){return Pn(w)?Te({duration:500,defer:0},w):{duration:500*!!w,defer:0}}function xt(w,r){let l=Rn.timers.length;for(;l--;)Rn.timers[l].elem!==w||r&&r!==Rn.timers[l].prop||(Rn.timers[l].stopped=!0)}let Ct={animate:function(w,r,l){let c,h="",d,p,f;Pn(l)||(f=arguments,l={duration:f[2],easing:f[3],complete:f[4]}),ar(l.duration)||(l.duration=400),l.easing=typeof l.easing=="function"?l.easing:Math[l.easing]||Math.easeInOutSine,l.curAnim=Te(r),Ie(r,function(v,b){xt(w,b),p=new Rn(w,l,b),d=void 0,b==="d"&&ji(r.d)?(p.paths=p.initPath(w,w.pathArray,r.d),p.toD=r.d,c=0,d=1):w.attr?c=w.attr(b):(c=parseFloat(Kn(w,b))||0,b!=="opacity"&&(h="px")),d||(d=v),typeof d=="string"&&d.match("px")&&(d=d.replace(/px/g,"")),p.run(c,d,h)})},animObject:Je,getDeferredAnimation:function(w,r,l){let c=Je(r),h=l?[l]:w.series,d=0,p=0;return h.forEach(f=>{let v=Je(f.options.animation);d=Pn(r)&&vn(r.defer)?c.defer:Math.max(d,v.duration+v.defer),p=Math.min(c.duration,v.duration)}),w.renderer.forExport&&(d=0),{defer:Math.max(0,d-p),duration:Math.min(d,p)}},setAnimation:function(w,r){r.renderer.globalAnimation=ze(w,r.options.chart.animation,!0)},stop:xt},{SVG_NS:ct,win:ai}=M,{attr:ii,createElement:Gi,css:Ii,error:Ts,isFunction:aa,isString:Co,objectEach:Xs,splat:zr}=je,{trustedTypes:So}=ai,la=So&&aa(So.createPolicy)&&So.createPolicy("highcharts",{createHTML:w=>w}),jc=la?la.createHTML(""):"";class Vn{static filterUserAttributes(r){return Xs(r,(l,c)=>{let h=!0;Vn.allowedAttributes.indexOf(c)===-1&&(h=!1),["background","dynsrc","href","lowsrc","src"].indexOf(c)!==-1&&(h=Co(l)&&Vn.allowedReferences.some(d=>l.indexOf(d)===0)),h||(Ts(33,!1,void 0,{"Invalid attribute in config":`${c}`}),delete r[c]),Co(l)&&r[c]&&(r[c]=l.replace(/</g,"&lt;"))}),r}static parseStyle(r){return r.split(";").reduce((l,c)=>{let h=c.split(":").map(p=>p.trim()),d=h.shift();return d&&h.length&&(l[d.replace(/-([a-z])/g,p=>p[1].toUpperCase())]=h.join(":")),l},{})}static setElementHTML(r,l){r.innerHTML=Vn.emptyHTML,l&&new Vn(l).addToDOM(r)}constructor(r){this.nodes=typeof r=="string"?this.parseMarkup(r):r}addToDOM(r){return function l(c,h){let d;return zr(c).forEach(function(p){let f,v=p.tagName,b=p.textContent?M.doc.createTextNode(p.textContent):void 0,T=Vn.bypassHTMLFiltering;if(v)if(v==="#text")f=b;else if(Vn.allowedTags.indexOf(v)!==-1||T){let E=v==="svg"?ct:h.namespaceURI||ct,A=M.doc.createElementNS(E,v),P=p.attributes||{};Xs(p,function(O,$){$!=="tagName"&&$!=="attributes"&&$!=="children"&&$!=="style"&&$!=="textContent"&&(P[$]=O)}),ii(A,T?P:Vn.filterUserAttributes(P)),p.style&&Ii(A,p.style),b&&A.appendChild(b),l(p.children||[],A),f=A}else Ts(33,!1,void 0,{"Invalid tagName in config":v});f&&h.appendChild(f),d=f}),d}(this.nodes,r)}parseMarkup(r){let l,c=[];r=r.trim().replace(/ style=(["'])/g," data-style=$1");try{l=new DOMParser().parseFromString(la?la.createHTML(r):r,"text/html")}catch{}if(!l){let d=Gi("div");d.innerHTML=r,l={body:d}}let h=(d,p)=>{let f=d.nodeName.toLowerCase(),v={tagName:f};f==="#text"&&(v.textContent=d.textContent||"");let b=d.attributes;if(b){let T={};[].forEach.call(b,E=>{E.name==="data-style"?v.style=Vn.parseStyle(E.value):T[E.name]=E.value}),v.attributes=T}if(d.childNodes.length){let T=[];[].forEach.call(d.childNodes,E=>{h(E,T)}),T.length&&(v.children=T)}p.push(v)};return[].forEach.call(l.body.childNodes,d=>h(d,c)),c}}Vn.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],Vn.allowedReferences=["https://","http://","mailto:","/","../","./","#"],Vn.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],Vn.emptyHTML=jc,Vn.bypassHTMLFiltering=!1;let{defaultOptions:El,defaultTime:ca}=We,{pageLang:kl}=M,{extend:Ic,getNestedProperty:Tl,isArray:xh,isNumber:Pc,isObject:ua,isString:ha,pick:Cl,ucfirst:os}=je,lr={add:(w,r)=>w+r,divide:(w,r)=>r!==0?w/r:"",eq:(w,r)=>w==r,each:function(w){let r=arguments[arguments.length-1];return!!xh(w)&&w.map((l,c)=>Ar(r.body,Ic(ua(l)?l:{"@this":l},{"@index":c,"@first":c===0,"@last":c===w.length-1}))).join("")},ge:(w,r)=>w>=r,gt:(w,r)=>w>r,if:w=>!!w,le:(w,r)=>w<=r,lt:(w,r)=>w<r,multiply:(w,r)=>w*r,ne:(w,r)=>w!=r,subtract:(w,r)=>w-r,ucfirst:os,unless:w=>!w},Qs={},Js=w=>/^["'].+["']$/.test(w);function Ar(w="",r,l){var q;let c=/\{([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= #\(\)]+)\}/g,h=/\(([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/g,d=[],p=/f$/,f=/\.(\d)/,v=((q=l==null?void 0:l.options)==null?void 0:q.lang)||El.lang,b=(l==null?void 0:l.time)||ca,T=(l==null?void 0:l.numberFormatter)||Bn.bind(l),E=(V="")=>{let Q;return V==="true"||V!=="false"&&((Q=Number(V)).toString()===V?Q:Js(V)?V.slice(1,-1):Tl(V,r))},A,P,O=0,$;for(;(A=c.exec(w))!==null;){let V=A,Q=h.exec(A[1]);Q&&(A=Q,$=!0),P!=null&&P.isBlock||(P={ctx:r,expression:A[1],find:A[0],isBlock:A[1].charAt(0)==="#",start:A.index,startInner:A.index+A[0].length,length:A[0].length});let ee=(P.isBlock?V:A)[1].split(" ")[0].replace("#","");lr[ee]&&(P.isBlock&&ee===P.fn&&O++,P.fn||(P.fn=ee));let we=A[1]==="else";if(P.isBlock&&P.fn&&(A[1]===`/${P.fn}`||we))if(O)!we&&O--;else{let fe=P.startInner,ve=w.substr(fe,A.index-fe);P.body===void 0?(P.body=ve,P.startInner=A.index+A[0].length):P.elseBody=ve,P.find+=ve+A[0],we||(d.push(P),P=void 0)}else P.isBlock||d.push(P);if(Q&&!(P!=null&&P.isBlock))break}return d.forEach(V=>{let Q,ee,{body:we,elseBody:fe,expression:ve,fn:Be}=V;if(Be){let Ne=[V],Le=[],it=ve.length,dt=0,Et;for(ee=0;ee<=it;ee++){let Nt=ve.charAt(ee);Et||Nt!=='"'&&Nt!=="'"?Et===Nt&&(Et=""):Et=Nt,Et||Nt!==" "&&ee!==it||(Le.push(ve.substr(dt,ee-dt)),dt=ee+1)}for(ee=lr[Be].length;ee--;)Ne.unshift(E(Le[ee+1]));Q=lr[Be].apply(r,Ne),V.isBlock&&typeof Q=="boolean"&&(Q=Ar(Q?we:fe,r,l))}else{let Ne=Js(ve)?[ve]:ve.split(":"),Le=(Q=E(Ne.shift()||""))%1!=0;if(typeof Q=="number"&&(Ne.length||Le)){let it=Ne.join(":");if(p.test(it)||Le){let dt=parseInt((it.match(f)||["","-1"])[1],10);Q!==null&&(Q=T(Q,dt,v.decimalPoint,it.indexOf(",")>-1?v.thousandsSep:""))}else Q=b.dateFormat(it,Q)}h.lastIndex=0,h.test(V.find)&&ha(Q)&&(Q=`"${Q}"`)}w=w.replace(V.find,Cl(Q,""))}),$?Ar(w,r,l):w}function Bn(w,r,l,c){var $;r*=1;let h,d,[p,f]=(w=+w||0).toString().split("e").map(Number),v=(($=this==null?void 0:this.options)==null?void 0:$.lang)||El.lang,b=(w.toString().split(".")[1]||"").split("e")[0].length,T=r,E={};l??(l=v.decimalPoint),c??(c=v.thousandsSep),r===-1?r=Math.min(b,20):Pc(r)?r&&f<0&&((d=r+f)>=0?(p=+p.toExponential(d).split("e")[0],r=d):(p=Math.floor(p),w=r<20?+(p*Math.pow(10,f)).toFixed(r):0,f=0)):r=2,f&&(r??(r=2),w=p),Pc(r)&&r>=0&&(E.minimumFractionDigits=r,E.maximumFractionDigits=r),c===""&&(E.useGrouping=!1);let A=c||l,P=A?"en":(this==null?void 0:this.locale)||v.locale||kl,O=JSON.stringify(E)+P;return h=(Qs[O]??(Qs[O]=new Intl.NumberFormat(P,E))).format(w),A&&(h=h.replace(/([,\.])/g,"_$1").replace(/_\,/g,c??",").replace("_.",l??".")),(r||+h!=0)&&(!(f<0)||T)||(h="0"),f&&+h!=0&&(h+="e"+(f<0?"":"+")+f),h}let wi={dateFormat:function(w,r,l){return ca.dateFormat(w,r,l)},format:Ar,helpers:lr,numberFormat:Bn};(function(w){let r;w.rendererTypes={},w.getRendererType=function(l=r){return w.rendererTypes[l]||w.rendererTypes[r]},w.registerRendererType=function(l,c,h){w.rendererTypes[l]=c,(!r||h)&&(r=l,M.Renderer=c)}})(a||(a={}));let qr=a,{clamp:Ao,pick:bh,pushUnique:Mc,stableSort:Sl}=je;(u||(u={})).distribute=function w(r,l,c){let h=r,d=h.reducedLen||l,p=(ee,we)=>ee.target-we.target,f=[],v=r.length,b=[],T=f.push,E,A,P,O=!0,$,q,V=0,Q;for(E=v;E--;)V+=r[E].size;if(V>d){for(Sl(r,(ee,we)=>(we.rank||0)-(ee.rank||0)),P=(Q=r[0].rank===r[r.length-1].rank)?v/2:-1,A=Q?P:v-1;P&&V>d;)$=r[E=Math.floor(A)],Mc(b,E)&&(V-=$.size),A+=P,Q&&A>=r.length&&(P/=2,A=P);b.sort((ee,we)=>we-ee).forEach(ee=>T.apply(f,r.splice(ee,1)))}for(Sl(r,p),r=r.map(ee=>({size:ee.size,targets:[ee.target],align:bh(ee.align,.5)}));O;){for(E=r.length;E--;)$=r[E],q=(Math.min.apply(0,$.targets)+Math.max.apply(0,$.targets))/2,$.pos=Ao(q-$.size*$.align,0,l-$.size);for(E=r.length,O=!1;E--;)E>0&&r[E-1].pos+r[E-1].size>r[E].pos&&(r[E-1].size+=r[E].size,r[E-1].targets=r[E-1].targets.concat(r[E].targets),r[E-1].align=.5,r[E-1].pos+r[E-1].size>l&&(r[E-1].pos=l-r[E-1].size),r.splice(E,1),O=!0)}return T.apply(h,f),E=0,r.some(ee=>{let we=0;return(ee.targets||[]).some(()=>(h[E].pos=ee.pos+we,c!==void 0&&Math.abs(h[E].pos-h[E].target)>c?(h.slice(0,E+1).forEach(fe=>delete fe.pos),h.reducedLen=(h.reducedLen||l)-.1*l,h.reducedLen>.1*l&&w(h,l,c),!0):(we+=h[E].size,E++,!1)))}),Sl(h,p),h};let da=u,{animate:wh,animObject:_h,stop:Zs}=Ct,{deg2rad:$r,doc:as,svg:Al,SVG_NS:Cs,win:Ss,isFirefox:Rc}=M,{addEvent:Eh,attr:Nl,createElement:Nr,crisp:pa,css:Dc,defined:Ki,erase:No,extend:eo,fireEvent:As,getAlignFactor:Ns,isArray:Oc,isFunction:jl,isNumber:Zn,isObject:kh,isString:Lc,merge:fa,objectEach:js,pick:jr,pInt:ls,pushUnique:Fc,replaceNested:Hr,syncTimeout:Bc,uniqueKey:Vc}=je;class Hn{_defaultGetter(r){let l=jr(this[r+"Value"],this[r],this.element?this.element.getAttribute(r):null,0);return/^-?[\d\.]+$/.test(l)&&(l=parseFloat(l)),l}_defaultSetter(r,l,c){c.setAttribute(l,r)}add(r){let l,c=this.renderer,h=this.element;return r&&(this.parentGroup=r),this.textStr!==void 0&&this.element.nodeName==="text"&&c.buildText(this),this.added=!0,(!r||r.handleZ||this.zIndex)&&(l=this.zIndexSetter()),l||(r?r.element:c.box).appendChild(h),this.onAdd&&this.onAdd(),this}addClass(r,l){let c=l?"":this.attr("class")||"";return(r=(r||"").split(/ /g).reduce(function(h,d){return c.indexOf(d)===-1&&h.push(d),h},c?[c]:[]).join(" "))!==c&&this.attr("class",r),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(r,l,c,h=!0){let d=this.renderer,p=d.alignedObjects,f=!!r;r?(this.alignOptions=r,this.alignByTranslate=l,this.alignTo=c):(r=this.alignOptions||{},l=this.alignByTranslate,c=this.alignTo);let v=!c||Lc(c)?c||"renderer":void 0;v&&(f&&Fc(p,this),c=void 0);let b=jr(c,d[v],d),T=(b.x||0)+(r.x||0)+((b.width||0)-(r.width||0))*Ns(r.align),E=(b.y||0)+(r.y||0)+((b.height||0)-(r.height||0))*Ns(r.verticalAlign),A={"text-align":r==null?void 0:r.align};return A[l?"translateX":"x"]=Math.round(T),A[l?"translateY":"y"]=Math.round(E),h&&(this[this.placed?"animate":"attr"](A),this.placed=!0),this.alignAttr=A,this}alignSetter(r){let l={left:"start",center:"middle",right:"end"};l[r]&&(this.alignValue=r,this.element.setAttribute("text-anchor",l[r]))}animate(r,l,c){let h=_h(jr(l,this.renderer.globalAnimation,!0)),d=h.defer;return as.hidden&&(h.duration=0),h.duration!==0?(c&&(h.complete=c),Bc(()=>{this.element&&wh(this,r,h)},d)):(this.attr(r,void 0,c||h.complete),js(r,function(p,f){h.step&&h.step.call(this,p,{prop:f,pos:1,elem:this})},this)),this}applyTextOutline(r){let l=this.element;r.indexOf("contrast")!==-1&&(r=r.replace(/contrast/g,this.renderer.getContrast(l.style.fill)));let c=r.indexOf(" "),h=r.substring(c+1),d=r.substring(0,c);if(d&&d!=="none"&&M.svg){this.fakeTS=!0,d=d.replace(/(^[\d\.]+)(.*?)$/g,function(T,E,A){return 2*Number(E)+A}),this.removeTextOutline();let p=as.createElementNS(Cs,"tspan");Nl(p,{class:"highcharts-text-outline",fill:h,stroke:h,"stroke-width":d,"stroke-linejoin":"round"});let f=l.querySelector("textPath")||l;[].forEach.call(f.childNodes,T=>{let E=T.cloneNode(!0);E.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(A=>E.removeAttribute(A)),p.appendChild(E)});let v=0;[].forEach.call(f.querySelectorAll("text tspan"),T=>{v+=Number(T.getAttribute("dy"))});let b=as.createElementNS(Cs,"tspan");b.textContent="",Nl(b,{x:Number(l.getAttribute("x")),dy:-v}),p.appendChild(b),f.insertBefore(p,f.firstChild)}}attr(r,l,c,h){let{element:d}=this,p=Hn.symbolCustomAttribs,f,v,b=this,T;return typeof r=="string"&&l!==void 0&&(f=r,(r={})[f]=l),typeof r=="string"?b=(this[r+"Getter"]||this._defaultGetter).call(this,r,d):(js(r,function(E,A){T=!1,h||Zs(this,A),this.symbolName&&p.indexOf(A)!==-1&&(v||(this.symbolAttr(r),v=!0),T=!0),this.rotation&&(A==="x"||A==="y")&&(this.doTransform=!0),T||(this[A+"Setter"]||this._defaultSetter).call(this,E,A,d)},this),this.afterSetters()),c&&c.call(this),b}clip(r){if(r&&!r.clipPath){let l=Vc()+"-",c=this.renderer.createElement("clipPath").attr({id:l}).add(this.renderer.defs);eo(r,{clipPath:c,id:l,count:0}),r.add(c)}return this.attr("clip-path",r?`url(${this.renderer.url}#${r.id})`:"none")}crisp(r,l){l=Math.round(l||r.strokeWidth||0);let c=r.x||this.x||0,h=r.y||this.y||0,d=(r.width||this.width||0)+c,p=(r.height||this.height||0)+h,f=pa(c,l),v=pa(h,l);return eo(r,{x:f,y:v,width:pa(d,l)-f,height:pa(p,l)-v}),Ki(r.strokeWidth)&&(r.strokeWidth=l),r}complexColor(r,l,c){let h=this.renderer,d,p,f,v,b,T,E,A,P,O,$=[],q;As(this.renderer,"complexColor",{args:arguments},function(){if(r.radialGradient?p="radialGradient":r.linearGradient&&(p="linearGradient"),p){if(f=r[p],b=h.gradients,T=r.stops,P=c.radialReference,Oc(f)&&(r[p]=f={x1:f[0],y1:f[1],x2:f[2],y2:f[3],gradientUnits:"userSpaceOnUse"}),p==="radialGradient"&&P&&!Ki(f.gradientUnits)&&(v=f,f=fa(f,h.getRadialAttr(P,v),{gradientUnits:"userSpaceOnUse"})),js(f,function(V,Q){Q!=="id"&&$.push(Q,V)}),js(T,function(V){$.push(V)}),b[$=$.join(",")])O=b[$].attr("id");else{f.id=O=Vc();let V=b[$]=h.createElement(p).attr(f).add(h.defs);V.radAttr=v,V.stops=[],T.forEach(function(Q){Q[1].indexOf("rgba")===0?(E=(d=Ft.parse(Q[1])).get("rgb"),A=d.get("a")):(E=Q[1],A=1);let ee=h.createElement("stop").attr({offset:Q[0],"stop-color":E,"stop-opacity":A}).add(V);V.stops.push(ee)})}q="url("+h.url+"#"+O+")",c.setAttribute(l,q),c.gradient=$,r.toString=function(){return q}}})}css(r){let l=this.styles,c={},h=this.element,d,p=!l;if(l&&js(r,function(f,v){l&&l[v]!==f&&(c[v]=f,p=!0)}),p){l&&(r=eo(l,c)),r.width===null||r.width==="auto"?delete this.textWidth:h.nodeName.toLowerCase()==="text"&&r.width&&(d=this.textWidth=ls(r.width)),eo(this.styles,r),d&&!Al&&this.renderer.forExport&&delete r.width;let f=Rc&&r.fontSize||null;f&&(Zn(f)||/^\d+$/.test(f))&&(r.fontSize+="px");let v=fa(r);h.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(b=>v&&delete v[b]),v.color&&(v.fill=v.color,delete v.color)),Dc(h,v)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),r.textOutline&&this.applyTextOutline(r.textOutline)),this}dashstyleSetter(r){let l,c=this["stroke-width"];if(c==="inherit"&&(c=1),r){let h=(r=r.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(l=h.length;l--;)h[l]=""+ls(h[l])*jr(c,NaN);r=h.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",r)}}destroy(){let r=this,l=r.element||{},c=r.renderer,h=l.ownerSVGElement,d=l.nodeName==="SPAN"&&r.parentGroup||void 0,p,f;if(l.onclick=l.onmouseout=l.onmouseover=l.onmousemove=l.point=null,Zs(r),r.clipPath&&h){let v=r.clipPath;[].forEach.call(h.querySelectorAll("[clip-path],[CLIP-PATH]"),function(b){b.getAttribute("clip-path").indexOf(v.element.id)>-1&&b.removeAttribute("clip-path")}),r.clipPath=v.destroy()}if(r.stops){for(f=0;f<r.stops.length;f++)r.stops[f].destroy();r.stops.length=0,r.stops=void 0}for(r.safeRemoveChild(l);d!=null&&d.div&&d.div.childNodes.length===0;)p=d.parentGroup,r.safeRemoveChild(d.div),delete d.div,d=p;r.alignOptions&&No(c.alignedObjects,r),js(r,(v,b)=>{var T,E,A;(((T=r[b])==null?void 0:T.parentGroup)===r||["connector","foreignObject"].indexOf(b)!==-1)&&((A=(E=r[b])==null?void 0:E.destroy)==null||A.call(E)),delete r[b]})}dSetter(r,l,c){Oc(r)&&(typeof r[0]=="string"&&(r=this.renderer.pathToSegments(r)),this.pathArray=r,r=r.reduce((h,d,p)=>d!=null&&d.join?(p?h+" ":"")+d.join(" "):(d||"").toString(),"")),/(NaN| {2}|^$)/.test(r)&&(r="M 0 0"),this[l]!==r&&(c.setAttribute(l,r),this[l]=r)}fillSetter(r,l,c){typeof r=="string"?c.setAttribute(l,r):r&&this.complexColor(r,l,c)}hrefSetter(r,l,c){c.setAttributeNS("http://www.w3.org/1999/xlink",l,r)}getBBox(r,l){let c,h,d,p,{alignValue:f,element:v,renderer:b,styles:T,textStr:E}=this,{cache:A,cacheKeys:P}=b,O=v.namespaceURI===this.SVG_NS,$=jr(l,this.rotation,0),q=b.styledMode?v&&Hn.prototype.getStyle.call(v,"font-size"):T.fontSize;if(Ki(E)&&((p=E.toString()).indexOf("<")===-1&&(p=p.replace(/\d/g,"0")),p+=["",b.rootFontSize,q,$,this.textWidth,f,T.lineClamp,T.textOverflow,T.fontWeight].join(",")),p&&!r&&(c=A[p]),!c||c.polygon){if(O||b.forExport){try{d=this.fakeTS&&function(Q){let ee=v.querySelector(".highcharts-text-outline");ee&&Dc(ee,{display:Q})},jl(d)&&d("none"),c=v.getBBox?eo({},v.getBBox()):{width:v.offsetWidth,height:v.offsetHeight,x:0,y:0},jl(d)&&d("")}catch{}(!c||c.width<0)&&(c={x:0,y:0,width:0,height:0})}else c=this.htmlGetBBox();h=c.height,O&&(c.height=h={"11px,17":14,"13px,20":16}[`${q||""},${Math.round(h)}`]||h),$&&(c=this.getRotatedBox(c,$));let V={bBox:c};As(this,"afterGetBBox",V),c=V.bBox}if(p&&(E===""||c.height>0)){for(;P.length>250;)delete A[P.shift()];A[p]||P.push(p),A[p]=c}return c}getRotatedBox(r,l){let{x:c,y:h,width:d,height:p}=r,{alignValue:f,translateY:v,rotationOriginX:b=0,rotationOriginY:T=0}=this,E=Ns(f),A=Number(this.element.getAttribute("y")||0)-(v?0:h),P=l*$r,O=(l-90)*$r,$=Math.cos(P),q=Math.sin(P),V=d*$,Q=d*q,ee=Math.cos(O),we=Math.sin(O),[[fe,ve],[Be,Ne]]=[b,T].map(En=>[En-En*$,En*q]),Le=c+E*(d-V)+fe+Ne+A*ee,it=Le+V,dt=it-p*ee,Et=dt-V,Nt=h+A-E*Q-ve+Be+A*we,qt=Nt+Q,Bt=qt-p*we,Wt=Bt-Q,Dt=Math.min(Le,it,dt,Et),Yt=Math.min(Nt,qt,Bt,Wt),pn=Math.max(Le,it,dt,Et)-Dt,_n=Math.max(Nt,qt,Bt,Wt)-Yt;return{x:Dt,y:Yt,width:pn,height:_n,polygon:[[Le,Nt],[it,qt],[dt,Bt],[Et,Wt]]}}getStyle(r){return Ss.getComputedStyle(this.element||this,"").getPropertyValue(r)}hasClass(r){return(""+this.attr("class")).split(" ").indexOf(r)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(r,l){this.onEvents={},this.opacity=1,this.SVG_NS=Cs,this.element=l==="span"||l==="body"?Nr(l):as.createElementNS(this.SVG_NS,l),this.renderer=r,this.styles={},As(this,"afterInit")}on(r,l){let{onEvents:c}=this;return c[r]&&c[r](),c[r]=Eh(this.element,r,l),this}opacitySetter(r,l,c){let h=Number(Number(r).toFixed(3));this.opacity=h,c.setAttribute(l,h)}reAlign(){var r;(r=this.alignOptions)!=null&&r.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(r){return this.attr("class",(""+this.attr("class")).replace(Lc(r)?RegExp(`(^| )${r}( |$)`):r," ").replace(/ +/g," ").trim())}removeTextOutline(){let r=this.element.querySelector("tspan.highcharts-text-outline");r&&this.safeRemoveChild(r)}safeRemoveChild(r){let l=r.parentNode;l&&l.removeChild(r)}setRadialReference(r){let l=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=r,l!=null&&l.radAttr&&l.animate(this.renderer.getRadialAttr(r,l.radAttr)),this}shadow(r){var d;let{renderer:l}=this,c=fa(((d=this.parentGroup)==null?void 0:d.rotation)===90?{offsetX:-1,offsetY:-1}:{},kh(r)?r:{}),h=l.shadowDefinition(c);return this.attr({filter:r?`url(${l.url}#${h})`:"none"})}show(r=!0){return this.attr({visibility:r?"inherit":"visible"})}"stroke-widthSetter"(r,l,c){this[l]=r,c.setAttribute(l,r)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let r=this.getStyle("stroke-width"),l=0,c;return/px$/.test(r)?l=ls(r):r!==""&&(Nl(c=as.createElementNS(Cs,"rect"),{width:r,"stroke-width":0}),this.element.parentNode.appendChild(c),l=c.getBBox().width,c.parentNode.removeChild(c)),l}symbolAttr(r){let l=this;Hn.symbolCustomAttribs.forEach(function(c){l[c]=jr(r[c],l[c])}),l.attr({d:l.renderer.symbols[l.symbolName](l.x,l.y,l.width,l.height,l)})}textSetter(r){r!==this.textStr&&(delete this.textPxLength,this.textStr=r,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(r){let l=this.element,c=l.getElementsByTagName("title")[0]||as.createElementNS(this.SVG_NS,"title");l.insertBefore?l.insertBefore(c,l.firstChild):l.appendChild(c),c.textContent=Hr(jr(r,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let r=this.element;return r.parentNode.appendChild(r),this}translate(r,l){return this.attr({translateX:r,translateY:l})}updateTransform(r="transform"){let{element:l,foreignObject:c,matrix:h,padding:d,rotation:p=0,rotationOriginX:f,rotationOriginY:v,scaleX:b,scaleY:T,text:E,translateX:A=0,translateY:P=0}=this,O=["translate("+A+","+P+")"];Ki(h)&&O.push("matrix("+h.join(",")+")"),p&&(O.push("rotate("+p+" "+(f??l.getAttribute("x")??this.x??0)+" "+(v??l.getAttribute("y")??this.y??0)+")"),(E==null?void 0:E.element.tagName)!=="SPAN"||E!=null&&E.foreignObject||E.attr({rotation:p,rotationOriginX:(f||0)-d,rotationOriginY:(v||0)-d})),(Ki(b)||Ki(T))&&O.push("scale("+jr(b,1)+" "+jr(T,1)+")"),O.length&&!(E||this).textPath&&((c==null?void 0:c.element)||l).setAttribute(r,O.join(" "))}visibilitySetter(r,l,c){r==="inherit"?c.removeAttribute(l):this[l]!==r&&c.setAttribute(l,r),this[l]=r}xGetter(r){return this.element.nodeName==="circle"&&(r==="x"?r="cx":r==="y"&&(r="cy")),this._defaultGetter(r)}zIndexSetter(r,l){let c=this.renderer,h=this.parentGroup,d=(h||c).element||c.box,p=this.element,f=d===c.box,v,b,T,E=!1,A,P=this.added,O;if(Ki(r)?(p.setAttribute("data-z-index",r),r*=1,this[l]===r&&(P=!1)):Ki(this[l])&&p.removeAttribute("data-z-index"),this[l]=r,P){for((r=this.zIndex)&&h&&(h.handleZ=!0),O=(v=d.childNodes).length-1;O>=0&&!E;O--)A=!Ki(T=(b=v[O]).getAttribute("data-z-index")),b!==p&&(r<0&&A&&!f&&!O?(d.insertBefore(p,v[O]),E=!0):(ls(T)<=r||A&&(!Ki(r)||r>=0))&&(d.insertBefore(p,v[O+1]),E=!0));E||(d.insertBefore(p,v[3*!!f]),E=!0)}return E}}Hn.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],Hn.prototype.strokeSetter=Hn.prototype.fillSetter,Hn.prototype.yGetter=Hn.prototype.xGetter,Hn.prototype.matrixSetter=Hn.prototype.rotationOriginXSetter=Hn.prototype.rotationOriginYSetter=Hn.prototype.rotationSetter=Hn.prototype.scaleXSetter=Hn.prototype.scaleYSetter=Hn.prototype.translateXSetter=Hn.prototype.translateYSetter=Hn.prototype.verticalAlignSetter=function(w,r){this[r]=w,this.doTransform=!0};let cr=Hn,{defined:ma,extend:ga,getAlignFactor:Il,isNumber:cs,merge:ya,pick:to,removeEvent:ur}=je;class Wr extends cr{constructor(r,l,c,h,d,p,f,v,b,T){let E;super(r,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=l,this.x=c,this.y=h,this.anchorX=p,this.anchorY=f,this.baseline=b,this.className=T,this.addClass(T==="button"?"highcharts-no-tooltip":"highcharts-label"),T&&this.addClass("highcharts-"+T),this.text=r.text(void 0,0,0,v).attr({zIndex:1}),typeof d=="string"&&((E=/^url\((.*?)\)$/.test(d))||this.renderer.symbols[d])&&(this.symbolKey=d),this.bBox=Wr.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=r.styledMode||E,this.deferredAttr={},this.alignFactor=0}alignSetter(r){let l=Il(r);this.textAlign=r,l!==this.alignFactor&&(this.alignFactor=l,this.bBox&&cs(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(r,l){this.anchorX=r,this.boxAttr(l,Math.round(r)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(r,l){this.anchorY=r,this.boxAttr(l,r-this.ySetting)}boxAttr(r,l){this.box?this.box.attr(r,l):this.deferredAttr[r]=l}css(r){if(r){let l={};r=ya(r),Wr.textProps.forEach(c=>{r[c]!==void 0&&(l[c]=r[c],delete r[c])}),this.text.css(l),"fontSize"in l||"fontWeight"in l?this.updateTextPadding():("width"in l||"textOverflow"in l)&&this.updateBoxSize()}return cr.prototype.css.call(this,r)}destroy(){ur(this.element,"mouseenter"),ur(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),cr.prototype.destroy.call(this)}fillSetter(r,l){r&&(this.needsBox=!0),this.fill=r,this.boxAttr(l,r)}getBBox(r,l){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:c,height:h=0,translateX:d=0,translateY:p=0,width:f=0}=this,v=to(this.paddingLeft,c),b=l??(this.rotation||0),T={width:f,height:h,x:d+this.bBox.x-v,y:p+this.bBox.y-c+this.baselineOffset};return b&&(T=this.getRotatedBox(T,b)),T}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(r){this.heightSetting=r,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:to(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&ma(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(r,l){cs(r)?r!==this[l]&&(this[l]=r,this.updateTextPadding()):this[l]=void 0}rSetter(r,l){this.boxAttr(l,r)}strokeSetter(r,l){this.stroke=r,this.boxAttr(l,r)}"stroke-widthSetter"(r,l){r&&(this.needsBox=!0),this["stroke-width"]=r,this.boxAttr(l,r)}"text-alignSetter"(r){this.textAlign=this["text-align"]=r,this.updateTextPadding()}textSetter(r){r!==void 0&&this.text.attr({text:r}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let r,l=this.text,c={},h=this.padding,d=this.bBox=(!cs(this.widthSetting)||!cs(this.heightSetting)||this.textAlign)&&ma(l.textStr)?l.getBBox(void 0,0):Wr.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||d.height||0)+2*h;let p=this.renderer.fontMetrics(l);if(this.baselineOffset=h+Math.min((this.text.firstLineMetrics||p).b,d.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-p.h)/2),this.needsBox&&!l.textPath){if(!this.box){let f=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();f.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),f.add(this)}c.x=r=this.getCrispAdjust(),c.y=(this.baseline?-this.baselineOffset:0)+r,c.width=Math.round(this.width),c.height=Math.round(this.height),this.box.attr(ga(c,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let r=this.text,l=r.styles.textAlign||this.textAlign;if(!r.textPath){this.updateBoxSize();let c=this.baseline?0:this.baselineOffset,h=(this.paddingLeft??this.padding)+Il(l)*(this.widthSetting??this.bBox.width);(h!==r.x||c!==r.y)&&(r.attr({align:l,x:h}),c!==void 0&&r.attr("y",c)),r.x=h,r.y=c}}widthSetter(r){this.widthSetting=cs(r)?r:void 0,this.doUpdate=!0}getPaddedWidth(){let r=this.padding,l=to(this.paddingLeft,r),c=to(this.paddingRight,r);return(this.widthSetting||this.bBox.width||0)+l+c}xSetter(r){this.x=r,this.alignFactor&&(r-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.anchorX&&(this["forceAnimate:anchorX"]=!0),this.xSetting=Math.round(r),this.attr("translateX",this.xSetting)}ySetter(r){this.anchorY&&(this["forceAnimate:anchorY"]=!0),this.ySetting=this.y=Math.round(r),this.attr("translateY",this.ySetting)}}Wr.emptyBBox={width:0,height:0,x:0,y:0},Wr.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:Pl,isNumber:Ml,pick:Gr}=je;function va(w,r,l,c,h){let d=[];if(h){let p=h.start||0,f=h.end||0,v=Gr(h.r,l),b=Gr(h.r,c||l),T=2e-4/(h.borderRadius?1:Math.max(v,1)),E=Math.abs(f-p-2*Math.PI)<T;E&&(p=Math.PI/2,f=2.5*Math.PI-T);let A=h.innerR,P=Gr(h.open,E),O=Math.cos(p),$=Math.sin(p),q=Math.cos(f),V=Math.sin(f),Q=Gr(h.longArc,f-p-Math.PI<T?0:1),ee=["A",v,b,0,Q,Gr(h.clockwise,1),w+v*q,r+b*V];ee.params={start:p,end:f,cx:w,cy:r},d.push(["M",w+v*O,r+b*$],ee),Pl(A)&&((ee=["A",A,A,0,Q,Pl(h.clockwise)?1-h.clockwise:0,w+A*O,r+A*$]).params={start:f,end:p,cx:w,cy:r},d.push(P?["M",w+A*q,r+A*V]:["L",w+A*q,r+A*V],ee)),P||d.push(["Z"])}return d}function jo(w,r,l,c,h){return h!=null&&h.r?xa(w,r,l,c,h):[["M",w,r],["L",w+l,r],["L",w+l,r+c],["L",w,r+c],["Z"]]}function xa(w,r,l,c,h){let d=(h==null?void 0:h.r)||0;return[["M",w+d,r],["L",w+l-d,r],["A",d,d,0,0,1,w+l,r+d],["L",w+l,r+c-d],["A",d,d,0,0,1,w+l-d,r+c],["L",w+d,r+c],["A",d,d,0,0,1,w,r+c-d],["L",w,r+d],["A",d,d,0,0,1,w+d,r],["Z"]]}let Kr={arc:va,callout:function(w,r,l,c,h){let d=Math.min((h==null?void 0:h.r)||0,l,c),p=d+6,f=h==null?void 0:h.anchorX,v=(h==null?void 0:h.anchorY)||0,b=xa(w,r,l,c,{r:d});if(!Ml(f)||f<l&&f>0&&v<c&&v>0)return b;if(w+f>l-p)if(v>r+p&&v<r+c-p)b.splice(3,1,["L",w+l,v-6],["L",w+l+6,v],["L",w+l,v+6],["L",w+l,r+c-d]);else if(f<l){let T=v<r+p,E=T?r:r+c;b.splice(T?2:5,0,["L",f,v],["L",w+l-d,E])}else b.splice(3,1,["L",w+l,c/2],["L",f,v],["L",w+l,c/2],["L",w+l,r+c-d]);else if(w+f<p)if(v>r+p&&v<r+c-p)b.splice(7,1,["L",w,v+6],["L",w-6,v],["L",w,v-6],["L",w,r+d]);else if(f>0){let T=v<r+p,E=T?r:r+c;b.splice(T?1:6,0,["L",f,v],["L",w+d,E])}else b.splice(7,1,["L",w,c/2],["L",f,v],["L",w,c/2],["L",w,r+d]);else v>c&&f<l-p?b.splice(5,1,["L",f+6,r+c],["L",f,r+c+6],["L",f-6,r+c],["L",w+d,r+c]):v<0&&f>p&&b.splice(1,1,["L",f-6,r],["L",f,r-6],["L",f+6,r],["L",l-d,r]);return b},circle:function(w,r,l,c){return va(w+l/2,r+c/2,l/2,c/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(w,r,l,c){return[["M",w+l/2,r],["L",w+l,r+c/2],["L",w+l/2,r+c],["L",w,r+c/2],["Z"]]},rect:jo,roundedRect:xa,square:jo,triangle:function(w,r,l,c){return[["M",w+l/2,r],["L",w+l,r+c],["L",w,r+c],["Z"]]},"triangle-down":function(w,r,l,c){return[["M",w,r],["L",w+l,r],["L",w+l/2,r+c],["Z"]]}},{doc:hr,SVG_NS:Rl,win:Dl}=M,{attr:ba,extend:no,fireEvent:Io,isString:_i,objectEach:Uc,pick:zc}=je,Yi=(w,r)=>w.substring(0,r)+"",g=class{constructor(w){let r=w.styles;this.renderer=w.renderer,this.svgElement=w,this.width=w.textWidth,this.textLineHeight=r==null?void 0:r.lineHeight,this.textOutline=r==null?void 0:r.textOutline,this.ellipsis=(r==null?void 0:r.textOverflow)==="ellipsis",this.lineClamp=r==null?void 0:r.lineClamp,this.noWrap=(r==null?void 0:r.whiteSpace)==="nowrap"}buildSVG(){let w=this.svgElement,r=w.element,l=w.renderer,c=zc(w.textStr,"").toString(),h=c.indexOf("<")!==-1,d=r.childNodes,p=!w.added&&l.box,f=[c,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,w.getStyle("font-size"),w.styles.lineClamp,this.width].join(",");if(f!==w.textCache){w.textCache=f,delete w.actualWidth;for(let v=d.length;v--;)r.removeChild(d[v]);if(h||this.ellipsis||this.width||w.textPath||c.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(c))){if(c!==""){p&&p.appendChild(r);let v=new Vn(c);this.modifyTree(v.nodes),v.addToDOM(r),this.modifyDOM(),this.ellipsis&&(r.textContent||"").indexOf("")!==-1&&w.attr("title",this.unescapeEntities(w.textStr||"",["&lt;","&gt;"])),p&&p.removeChild(r)}}else r.appendChild(hr.createTextNode(this.unescapeEntities(c)));_i(this.textOutline)&&w.applyTextOutline&&w.applyTextOutline(this.textOutline)}}modifyDOM(){let w,r=this.svgElement,l=ba(r.element,"x");for(r.firstLineMetrics=void 0;(w=r.element.firstChild)&&/^[\s\u200B]*$/.test(w.textContent||" ");)r.element.removeChild(w);[].forEach.call(r.element.querySelectorAll("tspan.highcharts-br"),(p,f)=>{p.nextSibling&&p.previousSibling&&(f===0&&p.previousSibling.nodeType===1&&(r.firstLineMetrics=r.renderer.fontMetrics(p.previousSibling)),ba(p,{dy:this.getLineHeight(p.nextSibling),x:l}))});let c=this.width||0;if(!c)return;let h=(p,f)=>{var $;let v=p.textContent||"",b=v.replace(/([^\^])-/g,"$1- ").split(" "),T=!this.noWrap&&(b.length>1||r.element.childNodes.length>1),E=this.getLineHeight(f),A=Math.max(0,c-.8*E),P=0,O=r.actualWidth;if(T){let q=[],V=[];for(;f.firstChild&&f.firstChild!==p;)V.push(f.firstChild),f.removeChild(f.firstChild);for(;b.length;)if(b.length&&!this.noWrap&&P>0&&(q.push(p.textContent||""),p.textContent=b.join(" ").replace(/- /g,"-")),this.truncate(p,void 0,b,P===0&&O||0,c,A,(Q,ee)=>b.slice(0,ee).join(" ").replace(/- /g,"-")),O=r.actualWidth,P++,this.lineClamp&&P>=this.lineClamp){b.length&&(this.truncate(p,p.textContent||"",void 0,0,c,A,Yi),p.textContent=(($=p.textContent)==null?void 0:$.replace("",""))+"");break}V.forEach(Q=>{f.insertBefore(Q,p)}),q.forEach(Q=>{f.insertBefore(hr.createTextNode(Q),p);let ee=hr.createElementNS(Rl,"tspan");ee.textContent="",ba(ee,{dy:E,x:l}),f.insertBefore(ee,p)})}else this.ellipsis&&v&&this.truncate(p,v,void 0,0,c,A,Yi)},d=p=>{[].slice.call(p.childNodes).forEach(f=>{f.nodeType===Dl.Node.TEXT_NODE?h(f,p):(f.className.baseVal.indexOf("highcharts-br")!==-1&&(r.actualWidth=0),d(f))})};d(r.element)}getLineHeight(w){let r=w.nodeType===Dl.Node.TEXT_NODE?w.parentElement:w;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(r||this.svgElement.element).h}modifyTree(w){let r=(l,c)=>{let{attributes:h={},children:d,style:p={},tagName:f}=l,v=this.renderer.styledMode;if(f==="b"||f==="strong"?v?h.class="highcharts-strong":p.fontWeight="bold":(f==="i"||f==="em")&&(v?h.class="highcharts-emphasized":p.fontStyle="italic"),p!=null&&p.color&&(p.fill=p.color),f==="br"){h.class="highcharts-br",l.textContent="";let b=w[c+1];b!=null&&b.textContent&&(b.textContent=b.textContent.replace(/^ +/gm,""))}else f==="a"&&d&&d.some(b=>b.tagName==="#text")&&(l.children=[{children:d,tagName:"tspan"}]);f!=="#text"&&f!=="a"&&(l.tagName="tspan"),no(l,{attributes:h,style:p}),d&&d.filter(b=>b.tagName!=="#text").forEach(r)};w.forEach(r),Io(this.svgElement,"afterModifyTree",{nodes:w})}truncate(w,r,l,c,h,d,p){let f,v,b=this.svgElement,{rotation:T}=b,E=[],A=l&&!c?1:0,P=(r||l||"").length,O=P;l||(h=d);let $=function(q,V){let Q=V||q,ee=w.parentNode;if(ee&&E[Q]===void 0&&ee.getSubStringLength)try{E[Q]=c+ee.getSubStringLength(0,l?Q+1:Q)}catch{}return E[Q]};if(b.rotation=0,c+(v=$(w.textContent.length))>h){for(;A<=P;)O=Math.ceil((A+P)/2),l&&(f=p(l,O)),v=$(O,f&&f.length-1),A===P?A=P+1:v>h?P=O-1:A=O;P===0?w.textContent="":r&&P===r.length-1||(w.textContent=f||p(r||l,O)),this.ellipsis&&v>h&&this.truncate(w,w.textContent||"",void 0,0,h,d,Yi)}l&&l.splice(0,O),b.actualWidth=v,b.rotation=T}unescapeEntities(w,r){return Uc(this.renderer.escapes,function(l,c){r&&r.indexOf(l)!==-1||(w=w.toString().replace(RegExp(l,"g"),c))}),w}},{defaultOptions:N}=We,{charts:B,deg2rad:re,doc:Oe,isFirefox:Ge,isMS:It,isWebKit:jn,noop:Yn,SVG_NS:Tn,symbolSizes:Wn,win:yi}=M,{addEvent:Yr,attr:Pi,createElement:Po,crisp:Xi,css:Is,defined:Ei,destroyObjectProperties:qc,extend:io,isArray:$c,isNumber:us,isObject:Ol,isString:Th,merge:Ch,pick:Sh,pInt:_y,replaceNested:Ey,uniqueKey:ky}=je;class Hc{constructor(r,l,c,h,d,p,f){let v,b;this.x=0,this.y=0;let T=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),E=T.element;f||T.css(this.getStyle(h||{})),r.appendChild(E),Pi(r,"dir","ltr"),r.innerHTML.indexOf("xmlns")===-1&&Pi(E,"xmlns",this.SVG_NS),this.box=E,this.boxWrapper=T,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(Oe.createTextNode("Created with Highcharts 12.4.0")),this.defs=this.createElement("defs").add(),this.allowHTML=p,this.forExport=d,this.styledMode=f,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=T.getStyle("font-size"),this.setSize(l,c,!1),Ge&&r.getBoundingClientRect&&((v=function(){Is(r,{left:0,top:0}),b=r.getBoundingClientRect(),Is(r,{left:Math.ceil(b.left)-b.left+"px",top:Math.ceil(b.top)-b.top+"px"})})(),this.unSubPixelFix=Yr(yi,"resize",v))}definition(r){return new Vn([r]).addToDOM(this.defs.element)}getReferenceURL(){if((Ge||jn)&&Oe.getElementsByTagName("base").length){if(!Ei(i)){let r=ky(),l=new Vn([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:r},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${r})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(Oe.body);Is(l,{position:"fixed",top:0,left:0,zIndex:9e5});let c=Oe.elementFromPoint(6,6);i=(c==null?void 0:c.id)==="hitme",Oe.body.removeChild(l)}if(i)return Ey(yi.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(r){return this.style=io({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},r),this.style}setStyle(r){this.boxWrapper.css(this.getStyle(r))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let r=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),qc(this.gradients||{}),this.gradients=null,this.defs=r.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(r){return new this.Element(this,r)}getRadialAttr(r,l){return{cx:r[0]-r[2]/2+(l.cx||0)*r[2],cy:r[1]-r[2]/2+(l.cy||0)*r[2],r:(l.r||0)*r[2]}}shadowDefinition(r){let l=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(r).map(h=>`${h}-${r[h]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),c=Ch({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},r);return this.defs.element.querySelector(`#${l}`)||this.definition({tagName:"filter",attributes:{id:l,filterUnits:c.filterUnits},children:this.getShadowFilterContent(c)}),l}getShadowFilterContent(r){return[{tagName:"feDropShadow",attributes:{dx:r.offsetX,dy:r.offsetY,"flood-color":r.color,"flood-opacity":Math.min(5*r.opacity,1),stdDeviation:r.width/2}}]}buildText(r){new g(r).buildSVG()}getContrast(r){if(r==="transparent")return"#000000";let l=Ft.parse(r).rgba,c=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(us(l[0])||!Ft.useColorMix){let h=l.map(p=>{let f=p/255;return f<=.04?f/12.92:Math.pow((f+.055)/1.055,2.4)}),d=.2126*h[0]+.7152*h[1]+.0722*h[2];return 1.05/(d+.05)>(d+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+r+" srgb"+c+c+c+")"}button(r,l,c,h,d={},p,f,v,b,T){let E=this.label(r,l,c,b,void 0,void 0,T,void 0,"button"),A=this.styledMode,P=arguments,O=0;d=Ch(N.global.buttonTheme,d),A&&(delete d.fill,delete d.stroke,delete d["stroke-width"]);let $=d.states||{},q=d.style||{};delete d.states,delete d.style;let V=[Vn.filterUserAttributes(d)],Q=[q];return A||["hover","select","disabled"].forEach((ee,we)=>{V.push(Ch(V[0],Vn.filterUserAttributes(P[we+5]||$[ee]||{}))),Q.push(V[we+1].style),delete V[we+1].style}),Yr(E.element,It?"mouseover":"mouseenter",function(){O!==3&&E.setState(1)}),Yr(E.element,It?"mouseout":"mouseleave",function(){O!==3&&E.setState(O)}),E.setState=(ee=0)=>{if(ee!==1&&(E.state=O=ee),E.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][ee]),!A){E.attr(V[ee]);let we=Q[ee];Ol(we)&&E.css(we)}},E.attr(V[0]),!A&&(E.css(io({cursor:"default"},q)),T&&E.text.css({pointerEvents:"none"})),E.on("touchstart",ee=>ee.stopPropagation()).on("click",function(ee){O!==3&&(h==null||h.call(E,ee))})}crispLine(r,l){let[c,h]=r;return Ei(c[1])&&c[1]===h[1]&&(c[1]=h[1]=Xi(c[1],l)),Ei(c[2])&&c[2]===h[2]&&(c[2]=h[2]=Xi(c[2],l)),r}path(r){let l=this.styledMode?{}:{fill:"none"};return $c(r)?l.d=r:Ol(r)&&io(l,r),this.createElement("path").attr(l)}circle(r,l,c){let h=Ol(r)?r:r===void 0?{}:{x:r,y:l,r:c},d=this.createElement("circle");return d.xSetter=d.ySetter=function(p,f,v){v.setAttribute("c"+f,p)},d.attr(h)}arc(r,l,c,h,d,p){let f;Ol(r)?(l=(f=r).y,c=f.r,h=f.innerR,d=f.start,p=f.end,r=f.x):f={innerR:h,start:d,end:p};let v=this.symbol("arc",r,l,c,c,f);return v.r=c,v}rect(r,l,c,h,d,p){let f=Ol(r)?r:r===void 0?{}:{x:r,y:l,r:d,width:Math.max(c||0,0),height:Math.max(h||0,0)},v=this.createElement("rect");return this.styledMode||(p!==void 0&&(f["stroke-width"]=p,io(f,v.crisp(f))),f.fill="none"),v.rSetter=function(b,T,E){v.r=b,Pi(E,{rx:b,ry:b})},v.rGetter=function(){return v.r||0},v.attr(f)}roundedRect(r){return this.symbol("roundedRect").attr(r)}setSize(r,l,c){this.width=r,this.height=l,this.boxWrapper.animate({width:r,height:l},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Sh(c,!0)?void 0:0}),this.alignElements()}g(r){let l=this.createElement("g");return r?l.attr({class:"highcharts-"+r}):l}image(r,l,c,h,d,p){let f={preserveAspectRatio:"none"};us(l)&&(f.x=l),us(c)&&(f.y=c),us(h)&&(f.width=h),us(d)&&(f.height=d);let v=this.createElement("image").attr(f),b=function(T){v.attr({href:r}),p.call(v,T)};if(p){v.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let T=new yi.Image;Yr(T,"load",b),T.src=r,T.complete&&b({})}else v.attr({href:r});return v}symbol(r,l,c,h,d,p){var q,V;let f,v,b,T,E=this,A=/^url\((.*?)\)$/,P=A.test(r),O=!P&&(this.symbols[r]?r:"circle"),$=O&&this.symbols[O];if($)typeof l=="number"&&(v=$.call(this.symbols,l||0,c||0,h||0,d||0,p)),f=this.path(v),E.styledMode||f.attr("fill","none"),io(f,{symbolName:O||void 0,x:l,y:c,width:h,height:d}),p&&io(f,p);else if(P){b=r.match(A)[1];let Q=f=this.image(b);Q.imgwidth=Sh(p==null?void 0:p.width,(q=Wn[b])==null?void 0:q.width),Q.imgheight=Sh(p==null?void 0:p.height,(V=Wn[b])==null?void 0:V.height),T=ee=>ee.attr({width:ee.width,height:ee.height}),["width","height"].forEach(ee=>{Q[`${ee}Setter`]=function(we,fe){this[fe]=we;let{alignByTranslate:ve,element:Be,width:Ne,height:Le,imgwidth:it,imgheight:dt}=this,Et=fe==="width"?it:dt,Nt=1;p&&p.backgroundSize==="within"&&Ne&&Le&&it&&dt?(Nt=Math.min(Ne/it,Le/dt),Pi(Be,{width:Math.round(it*Nt),height:Math.round(dt*Nt)})):Be&&Et&&Be.setAttribute(fe,Et),!ve&&it&&dt&&this.translate(((Ne||0)-it*Nt)/2,((Le||0)-dt*Nt)/2)}}),Ei(l)&&Q.attr({x:l,y:c}),Q.isImg=!0,Q.symbolUrl=r,Ei(Q.imgwidth)&&Ei(Q.imgheight)?T(Q):(Q.attr({width:0,height:0}),Po("img",{onload:function(){let ee=B[E.chartIndex];this.width===0&&(Is(this,{position:"absolute",top:"-999em"}),Oe.body.appendChild(this)),Wn[b]={width:this.width,height:this.height},Q.imgwidth=this.width,Q.imgheight=this.height,Q.element&&T(Q),this.parentNode&&this.parentNode.removeChild(this),E.imgCount--,E.imgCount||!ee||ee.hasLoaded||ee.onload()},src:b}),this.imgCount++)}return f}clipRect(r,l,c,h){return this.rect(r,l,c,h,0)}text(r,l,c,h){let d={};if(h&&(this.allowHTML||!this.forExport))return this.html(r,l,c);d.x=Math.round(l||0),c&&(d.y=Math.round(c)),Ei(r)&&(d.text=r);let p=this.createElement("text").attr(d);return h&&(!this.forExport||this.allowHTML)||(p.xSetter=function(f,v,b){let T=b.getElementsByTagName("tspan"),E=b.getAttribute(v);for(let A=0,P;A<T.length;A++)(P=T[A]).getAttribute(v)===E&&P.setAttribute(v,f);b.setAttribute(v,f)}),p}fontMetrics(r){let l=us(r)?r:_y(cr.prototype.getStyle.call(r,"font-size")||0),c=l<24?l+3:Math.round(1.2*l),h=Math.round(.8*c);return{h:c,b:h,f:l}}rotCorr(r,l,c){let h=r;return l&&c&&(h=Math.max(h*Math.cos(l*re),4)),{x:-r/3*Math.sin(l*re),y:h}}pathToSegments(r){let l=[],c=[],h={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let d=0;d<r.length;d++)Th(c[0])&&us(r[d])&&c.length===h[c[0].toUpperCase()]&&r.splice(d,0,c[0].replace("M","L").replace("m","l")),typeof r[d]=="string"&&(c.length&&l.push(c.slice(0)),c.length=0),c.push(r[d]);return l.push(c.slice(0)),l}label(r,l,c,h,d,p,f,v,b){return new Wr(this,r,l,c,h,d,p,f,v,b)}alignElements(){this.alignedObjects.forEach(r=>r.align())}}io(Hc.prototype,{Element:cr,SVG_NS:Tn,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Kr,draw:Yn}),qr.registerRendererType("svg",Hc,!0);let{composed:Ty,isFirefox:Cy}=M,{attr:Sy,css:ro,createElement:Ay,defined:qp,extend:Wc,getAlignFactor:Ny,isNumber:Gc,pInt:$p,pushUnique:jy}=je;function Hp(w,r,l){var h;let c=(h=this.div)==null?void 0:h.style;cr.prototype[`${r}Setter`].call(this,w,r,l),c&&(l.style[r]=c[r]=w)}let Wp=(w,r)=>{var l;if(!w.div){let c=Sy(w.element,"class"),h=w.css,d=Ay("div",c?{className:c}:void 0,{position:"absolute",left:`${w.translateX||0}px`,top:`${w.translateY||0}px`,...w.styles,display:w.display,opacity:w.opacity,visibility:w.visibility},((l=w.parentGroup)==null?void 0:l.div)||r);w.classSetter=(p,f,v)=>{v.setAttribute("class",p),d.className=p},w.translateXSetter=w.translateYSetter=(p,f)=>{w[f]=p,d.style[f==="translateX"?"left":"top"]=`${p}px`,w.doTransform=!0},w.scaleXSetter=w.scaleYSetter=(p,f)=>{w[f]=p,w.doTransform=!0},w.opacitySetter=w.visibilitySetter=Hp,w.css=p=>(h.call(w,p),p.cursor&&(d.style.cursor=p.cursor),p.pointerEvents&&(d.style.pointerEvents=p.pointerEvents),w),w.on=function(){return cr.prototype.on.apply({element:d,onEvents:w.onEvents},arguments),w},w.div=d}return w.div};class Ir extends cr{static compose(r){jy(Ty,this.compose)&&(r.prototype.html=function(l,c,h){return new Ir(this,"span").attr({text:l,x:Math.round(c),y:Math.round(h)})})}constructor(r,l){super(r,l),Ir.useForeignObject?this.foreignObject=r.createElement("foreignObject").attr({zIndex:2}):this.css({position:"absolute",...r.styledMode?{}:{fontFamily:r.style.fontFamily,fontSize:r.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(r,l,c){this.xCorr=-r*c,this.yCorr=-l}css(r){let l,{element:c}=this,h=c.tagName==="SPAN"&&r&&"width"in r,d=h&&r.width;return h&&(delete r.width,this.textWidth=$p(d)||void 0,l=!0),(r==null?void 0:r.textOverflow)==="ellipsis"&&(r.overflow="hidden",r.whiteSpace="nowrap"),r!=null&&r.lineClamp&&(r.display="-webkit-box",r.WebkitLineClamp=r.lineClamp,r.WebkitBoxOrient="vertical",r.overflow="hidden"),Gc(Number(r==null?void 0:r.fontSize))&&(r.fontSize+="px"),Wc(this.styles,r),ro(c,r),l&&this.updateTransform(),this}htmlGetBBox(){let{element:r}=this;return{x:r.offsetLeft,y:r.offsetTop,width:r.offsetWidth,height:r.offsetHeight}}updateTransform(){var Q;if(!this.added){this.alignOnAdd=!0;return}let{element:r,foreignObject:l,oldTextWidth:c,renderer:h,rotation:d,rotationOriginX:p,rotationOriginY:f,scaleX:v,scaleY:b,styles:{display:T="inline-block",whiteSpace:E},textAlign:A="left",textWidth:P,translateX:O=0,translateY:$=0,x:q=0,y:V=0}=this;if(l||ro(r,{marginLeft:`${O}px`,marginTop:`${$}px`}),r.tagName==="SPAN"){let ee,we=[d,A,r.innerHTML,P,this.textAlign].join(","),fe=-(((Q=this.parentGroup)==null?void 0:Q.padding)*1)||0;if(P!==c){let Le=this.textPxLength?this.textPxLength:(ro(r,{width:"",whiteSpace:E||"nowrap"}),r.offsetWidth),it=P||0,dt=!h.styledMode&&r.style.textOverflow===""&&r.style.webkitLineClamp;(it>c||Le>it||dt)&&(/[\-\s\u00AD]/.test(r.textContent||r.innerText)||r.style.textOverflow==="ellipsis")&&(ro(r,{width:(d||v||Le>it||dt)&&Gc(P)?P+"px":"auto",display:T,whiteSpace:E||"normal"}),this.oldTextWidth=P)}l&&(ro(r,{display:"inline-block",verticalAlign:"top"}),l.attr({width:h.width,height:h.height})),we!==this.cTT&&(ee=h.fontMetrics(r).b,qp(d)&&!l&&(d!==(this.oldRotation||0)||A!==this.oldAlign)&&ro(r,{transform:`rotate(${d}deg)`,transformOrigin:`${fe}% ${fe}px`}),this.getSpanCorrection(!qp(d)&&!this.textWidth&&this.textPxLength||r.offsetWidth,ee,Ny(A)));let{xCorr:ve=0,yCorr:Be=0}=this,Ne={left:`${q+ve}px`,top:`${V+Be}px`,textAlign:A,transformOrigin:`${(p??q)-ve-q-fe}px ${(f??V)-Be-V-fe}px`};(v||b)&&(Ne.transform=`scale(${v??1},${b??1})`),l?(super.updateTransform(),Gc(q)&&Gc(V)?(l.attr({x:q+ve,y:V+Be,width:r.offsetWidth+3,height:r.offsetHeight,"transform-origin":r.getAttribute("transform-origin")||"0 0"}),ro(r,{display:T,textAlign:A})):Cy&&l.attr({width:0,height:0})):ro(r,Ne),this.cTT=we,this.oldRotation=d,this.oldAlign=A}}add(r){let{foreignObject:l,renderer:c}=this,h=c.box.parentNode,d=[];if(l)l.add(r),super.add(c.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(l));else{let p;if(this.parentGroup=r,r&&!(p=r.div)){let f=r;for(;f;)d.push(f),f=f.parentGroup;for(let v of d.reverse())p=Wp(v,h)}(p||h).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(r){r!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Vn.setElementHTML(this.element,r??""),this.textStr=r,this.doTransform=!0)}alignSetter(r){this.alignValue=this.textAlign=r,this.doTransform=!0}xSetter(r,l){this[l]=r,this.doTransform=!0}}let hs=Ir.prototype;hs.visibilitySetter=hs.opacitySetter=Hp,hs.ySetter=hs.rotationSetter=hs.rotationOriginXSetter=hs.rotationOriginYSetter=hs.xSetter,function(w){w.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},w.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:r}=this.axis.chart;return r(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}}(m||(m={}));let Gp=m,{addEvent:Kp,isFunction:Yp,objectEach:Xp,removeEvent:Qp}=je;(x||(x={})).registerEventOptions=function(w,r){w.eventOptions=w.eventOptions||{},Xp(r.events,function(l,c){w.eventOptions[c]!==l&&(w.eventOptions[c]&&(Qp(w,c,w.eventOptions[c]),delete w.eventOptions[c]),Yp(l)&&(w.eventOptions[c]=l,Kp(w,c,l,{order:0})))})};let wa=x,{deg2rad:Ah}=M,{clamp:Jp,correctFloat:Ll,defined:Nh,destroyObjectProperties:Iy,extend:Zp,fireEvent:Fl,getAlignFactor:jh,isNumber:_a,merge:Ih,objectEach:Ph,pick:ds}=je,Ea=class{constructor(w,r,l,c,h){this.isNew=!0,this.isNewLabel=!0,this.axis=w,this.pos=r,this.type=l||"",this.parameters=h||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,Fl(this,"init"),l||c||this.addLabel()}addLabel(){var Be,Ne;let w=this,r=w.axis,l=r.options,c=r.chart,h=r.categories,d=r.logarithmic,p=r.names,f=w.pos,v=ds((Be=w.options)==null?void 0:Be.labels,l.labels),b=r.tickPositions,T=f===b[0],E=f===b[b.length-1],A=(!v.step||v.step===1)&&r.tickInterval===1,P=b.info,O=w.label,$,q,V,Q=this.parameters.category||(h?ds(h[f],p[f],f):f);d&&_a(Q)&&(Q=Ll(d.lin2log(Q))),r.dateTime&&(P?$=(q=c.time.resolveDTLFormat(l.dateTimeLabelFormats[!((Ne=l.grid)!=null&&Ne.enabled)&&P.higherRanks[f]||P.unitName])).main:_a(Q)&&($=r.dateTime.getXDateFormat(Q,l.dateTimeLabelFormats||{}))),w.isFirst=T,w.isLast=E;let ee={axis:r,chart:c,dateTimeLabelFormat:$,isFirst:T,isLast:E,pos:f,tick:w,tickPositionInfo:P,value:Q};Fl(this,"labelFormat",ee);let we=Le=>v.formatter?v.formatter.call(Le,Le):v.format?(Le.text=r.defaultLabelFormatter.call(Le),wi.format(v.format,Le,c)):r.defaultLabelFormatter.call(Le),fe=we.call(ee,ee),ve=q==null?void 0:q.list;ve?w.shortenLabel=function(){for(V=0;V<ve.length;V++)if(Zp(ee,{dateTimeLabelFormat:ve[V]}),O.attr({text:we.call(ee,ee)}),O.getBBox().width<r.getSlotWidth(w)-2*(v.padding||0))return;O.attr({text:""})}:w.shortenLabel=void 0,A&&r._addedPlotLB&&w.moveLabel(fe,v),Nh(O)||w.movedLabel?O&&O.textStr!==fe&&!A&&(!O.textWidth||v.style.width||O.styles.width||O.css({width:null}),O.attr({text:fe}),O.textPxLength=O.getBBox().width):(w.label=O=w.createLabel(fe,v),w.rotation=0)}createLabel(w,r,l){let c=this.axis,{renderer:h,styledMode:d}=c.chart,p=r.style.whiteSpace,f=Nh(w)&&r.enabled?h.text(w,l==null?void 0:l.x,l==null?void 0:l.y,r.useHTML).add(c.labelGroup):void 0;return f&&(d||f.css(Ih(r.style)),f.textPxLength=f.getBBox().width,!d&&p&&f.css({whiteSpace:p})),f}destroy(){Iy(this,this.axis)}getPosition(w,r,l,c){let h=this.axis,d=h.chart,p=c&&d.oldChartHeight||d.chartHeight,f={x:w?Ll(h.translate(r+l,void 0,void 0,c)+h.transB):h.left+h.offset+(h.opposite?(c&&d.oldChartWidth||d.chartWidth)-h.right-h.left:0),y:w?p-h.bottom+h.offset-(h.opposite?h.height:0):Ll(p-h.translate(r+l,void 0,void 0,c)-h.transB)};return f.y=Jp(f.y,-1e9,1e9),Fl(this,"afterGetPosition",{pos:f}),f}getLabelPosition(w,r,l,c,h,d,p,f){let v,b,T=this.axis,E=T.transA,A=T.isLinked&&T.linkedParent?T.linkedParent.reversed:T.reversed,P=T.staggerLines,O=T.tickRotCorr||{x:0,y:0},$=c||T.reserveSpaceDefault?0:-T.labelOffset*(T.labelAlign==="center"?.5:1),q=h.distance,V={};return v=T.side===0?l.rotation?-q:-l.getBBox().height:T.side===2?O.y+q:Math.cos(l.rotation*Ah)*(O.y-l.getBBox(!1,0).height/2),Nh(h.y)&&(v=T.side===0&&T.horiz?h.y+v:h.y),w=w+ds(h.x,[0,1,0,-1][T.side]*q)+$+O.x-(d&&c?d*E*(A?-1:1):0),r=r+v-(d&&!c?d*E*(A?1:-1):0),P&&(b=p/(f||1)%P,T.opposite&&(b=P-b-1),r+=b*(T.labelOffset/P)),V.x=w,V.y=Math.round(r),Fl(this,"afterGetLabelPosition",{pos:V,tickmarkOffset:d,index:p}),V}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(w,r,l,c,h=!1,d){return d.crispLine([["M",w,r],["L",w+(h?0:-l),r+(h?l:0)]],c)}handleOverflow(w){var q;let r=this.axis,l=r.options.labels,c=w.x,h=r.chart.chartWidth,d=r.chart.spacing,p=ds(r.labelLeft,Math.min(r.pos,d[3])),f=ds(r.labelRight,Math.max(r.isRadial?0:r.pos+r.len,h-d[1])),v=this.label,b=this.rotation,T=jh(r.labelAlign||v.attr("align")),E=v.getBBox().width,A=r.getSlotWidth(this),P=A,O=1,$;b||l.overflow!=="justify"?b<0&&c-T*E<p?$=Math.round(c/Math.cos(b*Ah)-p):b>0&&c+T*E>f&&($=Math.round((h-c)/Math.cos(b*Ah))):(c-T*E<p?P=w.x+P*(1-T)-p:c+(1-T)*E>f&&(P=f-w.x+P*T,O=-1),(P=Math.min(A,P))<A&&r.labelAlign==="center"&&(w.x+=O*(A-P-T*(A-Math.min(E,P)))),(E>P||r.autoRotation&&((q=v==null?void 0:v.styles)!=null&&q.width))&&($=P)),$&&v&&(this.shortenLabel?this.shortenLabel():v.css(Zp({},{width:Math.floor($)+"px",lineClamp:+!r.isRadial})))}moveLabel(w,r){let l=this,c=l.label,h=l.axis,d=!1,p;c&&c.textStr===w?(l.movedLabel=c,d=!0,delete l.label):Ph(h.ticks,function(f){d||f.isNew||f===l||!f.label||f.label.textStr!==w||(l.movedLabel=f.label,d=!0,f.labelPos=l.movedLabel.xy,delete f.label)}),!d&&(l.labelPos||c)&&(p=l.labelPos||c.xy,l.movedLabel=l.createLabel(w,r,p),l.movedLabel&&l.movedLabel.attr({opacity:0}))}render(w,r,l){var O;let c=this.axis,h=c.horiz,d=this.pos,p=ds(this.tickmarkOffset,c.tickmarkOffset),f=this.getPosition(h,d,p,r),v=f.x,b=f.y,T=c.pos,E=T+c.len,A=h?v:b,P=ds(l,(O=this.label)==null?void 0:O.newOpacity,1);!c.chart.polar&&(Ll(A)<T||A>E)&&(l=0),l??(l=1),this.isActive=!0,this.renderGridLine(r,l),this.renderMark(f,l),this.renderLabel(f,r,P,w),this.isNew=!1,Fl(this,"afterRender")}renderGridLine(w,r){let l=this.axis,c=l.options,h={},d=this.pos,p=this.type,f=ds(this.tickmarkOffset,l.tickmarkOffset),v=l.chart.renderer,b=this.gridLine,T,E=c.gridLineWidth,A=c.gridLineColor,P=c.gridLineDashStyle;this.type==="minor"&&(E=c.minorGridLineWidth,A=c.minorGridLineColor,P=c.minorGridLineDashStyle),b||(l.chart.styledMode||(h.stroke=A,h["stroke-width"]=E||0,h.dashstyle=P),p||(h.zIndex=1),w&&(r=0),this.gridLine=b=v.path().attr(h).addClass("highcharts-"+(p?p+"-":"")+"grid-line").add(l.gridGroup)),b&&(T=l.getPlotLinePath({value:d+f,lineWidth:b.strokeWidth(),force:"pass",old:w,acrossPanes:!1}))&&b[w||this.isNew?"attr":"animate"]({d:T,opacity:r})}renderMark(w,r){let l=this.axis,c=l.options,h=l.chart.renderer,d=this.type,p=l.tickSize(d?d+"Tick":"tick"),f=w.x,v=w.y,b=ds(c[d!=="minor"?"tickWidth":"minorTickWidth"],!d&&l.isXAxis?1:0),T=c[d!=="minor"?"tickColor":"minorTickColor"],E=this.mark,A=!E;p&&(l.opposite&&(p[0]=-p[0]),!E&&(this.mark=E=h.path().addClass("highcharts-"+(d?d+"-":"")+"tick").add(l.axisGroup),l.chart.styledMode||E.attr({stroke:T,"stroke-width":b})),E[A?"attr":"animate"]({d:this.getMarkPath(f,v,p[0],E.strokeWidth(),l.horiz,h),opacity:r}))}renderLabel(w,r,l,c){let h=this.axis,d=h.horiz,p=h.options,f=this.label,v=p.labels,b=v.step,T=ds(this.tickmarkOffset,h.tickmarkOffset),E=w.x,A=w.y,P=!0;f&&_a(E)&&(f.xy=w=this.getLabelPosition(E,A,f,d,v,T,c,b),(!this.isFirst||this.isLast||p.showFirstLabel)&&(!this.isLast||this.isFirst||p.showLastLabel)?!d||v.step||v.rotation||r||l===0||this.handleOverflow(w):P=!1,b&&c%b&&(P=!1),P&&_a(w.y)?(w.opacity=l,f[this.isNewLabel?"attr":"animate"](w).show(!0),this.isNewLabel=!1):(f.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let w=this.label,r=this.axis;w&&!this.isNew&&(w.animate({opacity:0},void 0,w.destroy),delete this.label),r.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:ef}=Ct,{xAxis:tf,yAxis:nf}=Gp,{defaultOptions:Mh}=We,{registerEventOptions:Py}=wa,{deg2rad:My}=M,{arrayMax:rf,arrayMin:Ry,clamp:Rh,correctFloat:dr,defined:Un,destroyObjectProperties:sf,erase:Dh,error:Oh,extend:ka,fireEvent:Xn,getClosestDistance:Bl,insertItem:of,isArray:Kc,isNumber:tn,isString:af,merge:Mo,normalizeTickInterval:Yc,objectEach:Xc,pick:dn,relativeLength:Qc,removeEvent:Dy,splat:Oy,syncTimeout:Ly}=je,Lh=(w,r)=>Yc(r,void 0,void 0,dn(w.options.allowDecimals,r<.5||w.tickAmount!==void 0),!!w.tickAmount);ka(Mh,{xAxis:tf,yAxis:Mo(tf,nf)});class Ta{constructor(r,l,c){this.init(r,l,c)}init(r,l,c=this.coll){let h=c==="xAxis",d=this.isZAxis||(r.inverted?!h:h);this.chart=r,this.horiz=d,this.isXAxis=h,this.coll=c,Xn(this,"init",{userOptions:l}),this.opposite=dn(l.opposite,this.opposite),this.side=dn(l.side,this.side,d?2*!this.opposite:this.opposite?1:3),this.setOptions(l);let p=this.options,f=p.labels;this.type??(this.type=p.type||"linear"),this.uniqueNames??(this.uniqueNames=p.uniqueNames??!0),Xn(this,"afterSetType"),this.userOptions=l,this.minPixelPadding=0,this.reversed=dn(p.reversed,this.reversed),this.visible=p.visible,this.zoomEnabled=p.zoomEnabled,this.hasNames=this.type==="category"||p.categories===!0,this.categories=Kc(p.categories)&&p.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=Un(p.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=p.minRange||p.maxZoom,this.range=p.range,this.offset=p.offset||0,this.max=void 0,this.min=void 0;let v=dn(p.crosshair,Oy(r.options.tooltip.crosshairs)[+!h]);this.crosshair=v===!0?{}:v,r.axes.indexOf(this)===-1&&(h?r.axes.splice(r.xAxis.length,0,this):r.axes.push(this),of(this,r[this.coll])),r.orderItems(this.coll),this.series=this.series||[],r.inverted&&!this.isZAxis&&h&&!Un(this.reversed)&&(this.reversed=!0),this.labelRotation=tn(f.rotation)?f.rotation:void 0,Py(this,p),Xn(this,"afterInit")}setOptions(r){let l=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=Mo(l,this.coll==="yAxis"?{title:{text:this.chart.options.lang.yAxisTitle}}:{},Mh[this.coll],r),Xn(this,"afterSetOptions",{userOptions:r})}defaultLabelFormatter(){let r=this.axis,{numberFormatter:l}=this.chart,c=tn(this.value)?this.value:NaN,h=r.chart.time,d=r.categories,p=this.dateTimeLabelFormat,f=Mh.lang,v=f.numericSymbols,b=f.numericSymbolMagnitude||1e3,T=r.logarithmic?Math.abs(c):r.tickInterval,E=v==null?void 0:v.length,A,P;if(d)P=`${this.value}`;else if(p)P=h.dateFormat(p,c,!0);else if(E&&v&&T>=1e3)for(;E--&&P===void 0;)T>=(A=Math.pow(b,E+1))&&10*c%A==0&&v[E]!==null&&c!==0&&(P=l(c/A,-1)+v[E]);return P===void 0&&(P=Math.abs(c)>=1e4?l(c,-1):l(c,-1,void 0,"")),P}getSeriesExtremes(){let r,l=this;Xn(this,"getSeriesExtremes",null,function(){l.hasVisibleSeries=!1,l.dataMin=l.dataMax=l.threshold=void 0,l.softThreshold=!l.isXAxis,l.series.forEach(c=>{if(c.reserveSpace()){let h=c.options,d,p=h.threshold,f,v;if(l.hasVisibleSeries=!0,l.positiveValuesOnly&&0>=(p||0)&&(p=void 0),l.isXAxis)(d=c.getColumn("x")).length&&(d=l.logarithmic?d.filter(b=>b>0):d,f=(r=c.getXExtremes(d)).min,v=r.max,tn(f)||f instanceof Date||(d=d.filter(tn),f=(r=c.getXExtremes(d)).min,v=r.max),d.length&&(l.dataMin=Math.min(dn(l.dataMin,f),f),l.dataMax=Math.max(dn(l.dataMax,v),v)));else{let b=c.applyExtremes();tn(b.dataMin)&&(f=b.dataMin,l.dataMin=Math.min(dn(l.dataMin,f),f)),tn(b.dataMax)&&(v=b.dataMax,l.dataMax=Math.max(dn(l.dataMax,v),v)),Un(p)&&(l.threshold=p),(!h.softThreshold||l.positiveValuesOnly)&&(l.softThreshold=!1)}}})}),Xn(this,"afterGetSeriesExtremes")}translate(r,l,c,h,d,p){var $;let f=this.linkedParent||this,v=h&&f.old?f.old.min:f.min;if(!tn(v))return NaN;let b=f.minPixelPadding,T=(f.isOrdinal||(($=f.brokenAxis)==null?void 0:$.hasBreaks)||f.logarithmic&&d)&&!!f.lin2val,E=1,A=0,P=h&&f.old?f.old.transA:f.transA,O=0;return P||(P=f.transA),c&&(E*=-1,A=f.len),f.reversed&&(E*=-1,A-=E*(f.sector||f.len)),l?(O=(r=r*E+A-b)/P+v,T&&(O=f.lin2val(O))):(T&&(r=f.val2lin(r)),O=E*(r-v)*P+A+E*b+(tn(p)?P*p:0),f.isRadial||(O=dr(O))),O}toPixels(r,l){var c;return this.translate(((c=this.chart)==null?void 0:c.time.parse(r))??NaN,!1,!this.horiz,void 0,!0)+(l?0:this.pos)}toValue(r,l){return this.translate(r-(l?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(r){let l=this,c=l.chart,h=l.left,d=l.top,p=r.old,f=r.value,v=r.lineWidth,b=p&&c.oldChartHeight||c.chartHeight,T=p&&c.oldChartWidth||c.chartWidth,E=l.transB,A=r.translatedValue,P=r.force,O,$,q,V,Q;function ee(fe,ve,Be){return P!=="pass"&&(fe<ve||fe>Be)&&(P?fe=Rh(fe,ve,Be):Q=!0),fe}let we={value:f,lineWidth:v,old:p,force:P,acrossPanes:r.acrossPanes,translatedValue:A};return Xn(this,"getPlotLinePath",we,function(fe){O=q=(A=Rh(A=dn(A,l.translate(f,void 0,void 0,p)),-1e9,1e9))+E,$=V=b-A-E,tn(A)?l.horiz?($=d,V=b-l.bottom+(l.options.isInternal?0:c.scrollablePixelsY||0),O=q=ee(O,h,h+l.width)):(O=h,q=T-l.right+(c.scrollablePixelsX||0),$=V=ee($,d,d+l.height)):(Q=!0,P=!1),fe.path=Q&&!P?void 0:c.renderer.crispLine([["M",O,$],["L",q,V]],v||1)}),we.path}getLinearTickPositions(r,l,c){let h,d,p,f=dr(Math.floor(l/r)*r),v=dr(Math.ceil(c/r)*r),b=[];if(dr(f+r)===f&&(p=20),this.single)return[l];for(h=f;h<=v&&(b.push(h),(h=dr(h+r,p))!==d);)d=h;return b}getMinorTickInterval(){let{minorTicks:r,minorTickInterval:l}=this.options;return r===!0?dn(l,"auto"):r!==!1?l:void 0}getMinorTickPositions(){var T;let r=this.options,l=this.tickPositions,c=this.minorTickInterval,h=this.pointRangePadding||0,d=(this.min||0)-h,p=(this.max||0)+h,f=(T=this.brokenAxis)!=null&&T.hasBreaks?this.brokenAxis.unitLength:p-d,v=[],b;if(f&&f/c<this.len/3){let E=this.logarithmic;if(E)this.paddedTicks.forEach(function(A,P,O){P&&v.push.apply(v,E.getLogTickPositions(c,O[P-1],O[P],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")v=v.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(c),d,p,r.startOfWeek));else for(b=d+(l[0]-d)%c;b<=p&&b!==v[0];b+=c)v.push(b)}return v.length!==0&&this.trimTicks(v),v}adjustForMinRange(){let r=this.options,l=this.logarithmic,c=this.chart.time,{max:h,min:d,minRange:p}=this,f,v,b,T;this.isXAxis&&p===void 0&&!l&&(p=Un(r.min)||Un(r.max)||Un(r.floor)||Un(r.ceiling)?null:Math.min(5*(Bl(this.series.map(E=>{let A=E.getColumn("x");return E.xIncrement?A.slice(0,2):A}))||0),this.dataMax-this.dataMin)),tn(h)&&tn(d)&&tn(p)&&h-d<p&&(v=this.dataMax-this.dataMin>=p,f=(p-h+d)/2,b=[d-f,c.parse(r.min)??d-f],v&&(b[2]=l?l.log2lin(this.dataMin):this.dataMin),T=[(d=rf(b))+p,c.parse(r.max)??d+p],v&&(T[2]=l?l.log2lin(this.dataMax):this.dataMax),(h=Ry(T))-d<p&&(b[0]=h-p,b[1]=c.parse(r.min)??h-p,d=rf(b))),this.minRange=p,this.min=d,this.max=h}getClosest(){let r,l;if(this.categories)l=1;else{let c=[];this.series.forEach(function(h){let d=h.closestPointRange,p=h.getColumn("x");p.length===1?c.push(p[0]):h.sorted&&Un(d)&&h.reserveSpace()&&(l=Un(l)?Math.min(l,d):d)}),c.length&&(c.sort((h,d)=>h-d),r=Bl([c]))}return r&&l?Math.min(r,l):r||l}nameToX(r){let l=Kc(this.options.categories),c=l?this.categories:this.names,h=r.options.x,d;return r.series.requireSorting=!1,Un(h)||(h=this.uniqueNames&&c?l?c.indexOf(r.name):dn(c.keys[r.name],-1):r.series.autoIncrement()),h===-1?!l&&c&&(d=c.length):tn(h)&&(d=h),d!==void 0?(this.names[d]=r.name,this.names.keys[r.name]=d):r.x&&(d=r.x),d}updateNames(){let r=this,l=this.names;l.length>0&&(Object.keys(l.keys).forEach(function(c){delete l.keys[c]}),l.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(c=>{c.xIncrement=null,(!c.points||c.isDirtyData)&&(r.max=Math.max(r.max||0,c.dataTable.rowCount-1),c.processData(),c.generatePoints());let h=c.getColumn("x").slice();c.data.forEach((d,p)=>{let f=h[p];d!=null&&d.options&&d.name!==void 0&&(f=r.nameToX(d))!==void 0&&f!==d.x&&(h[p]=d.x=f)}),c.dataTable.setColumn("x",h)}))}setAxisTranslation(){var A;let r=this,l=r.max-r.min,c=r.linkedParent,h=!!r.categories,d=r.isXAxis,p=r.axisPointRange||0,f,v=0,b=0,T,E=r.transA;(d||h||p)&&(f=r.getClosest(),c?(v=c.minPointOffset,b=c.pointRangePadding):r.series.forEach(function(P){let O=h?1:d?dn(P.options.pointRange,f,0):r.axisPointRange||0,$=P.options.pointPlacement;if(p=Math.max(p,O),!r.single||h){let q=P.is("xrange")?!d:d;v=Math.max(v,q&&af($)?0:O/2),b=Math.max(b,q&&$==="on"?0:O)}}),T=(A=r.ordinal)!=null&&A.slope&&f?r.ordinal.slope/f:1,r.minPointOffset=v*=T,r.pointRangePadding=b*=T,r.pointRange=Math.min(p,r.single&&h?1:l),d&&(r.closestPointRange=f)),r.translationSlope=r.transA=E=r.staticScale||r.len/(l+b||1),r.transB=r.horiz?r.left:r.bottom,r.minPixelPadding=E*v,Xn(this,"afterSetAxisTranslation")}minFromRange(){let{max:r,min:l}=this;return tn(r)&&tn(l)&&r-l||void 0}setTickInterval(r){var Bt,Wt,Dt,Yt;let{categories:l,chart:c,dataMax:h,dataMin:d,dateTime:p,isXAxis:f,logarithmic:v,options:b,softThreshold:T}=this,E=c.time,A=tn(this.threshold)?this.threshold:void 0,P=this.minRange||0,{ceiling:O,floor:$,linkedTo:q,softMax:V,softMin:Q}=b,ee=tn(q)&&((Bt=c[this.coll])==null?void 0:Bt[q]),we=b.tickPixelInterval,fe=b.maxPadding,ve=b.minPadding,Be=0,Ne,Le=tn(b.tickInterval)&&b.tickInterval>=0?b.tickInterval:void 0,it,dt,Et,Nt;if(p||l||ee||this.getTickAmount(),Et=dn(this.userMin,E.parse(b.min)),Nt=dn(this.userMax,E.parse(b.max)),ee?(this.linkedParent=ee,Ne=ee.getExtremes(),this.min=dn(Ne.min,Ne.dataMin),this.max=dn(Ne.max,Ne.dataMax),this.type!==ee.type&&Oh(11,!0,c)):(T&&Un(A)&&tn(h)&&tn(d)&&(d>=A?(it=A,ve=0):h<=A&&(dt=A,fe=0)),this.min=dn(Et,it,d),this.max=dn(Nt,dt,h)),tn(this.max)&&tn(this.min)&&(v&&(this.positiveValuesOnly&&!r&&0>=Math.min(this.min,dn(d,this.min))&&Oh(10,!0,c),this.min=dr(v.log2lin(this.min),16),this.max=dr(v.log2lin(this.max),16)),this.range&&tn(d)&&(this.userMin=this.min=Et=Math.max(d,this.minFromRange()||0),this.userMax=Nt=this.max,this.range=void 0)),Xn(this,"foundExtremes"),this.adjustForMinRange(),tn(this.min)&&tn(this.max)){if(!tn(this.userMin)&&tn(Q)&&Q<this.min&&(this.min=Et=Q),!tn(this.userMax)&&tn(V)&&V>this.max&&(this.max=Nt=V),l||this.axisPointRange||(Wt=this.stacking)!=null&&Wt.usePercentage||ee||(Be=this.max-this.min)&&(!Un(Et)&&ve&&(this.min-=Be*ve),!Un(Nt)&&fe&&(this.max+=Be*fe)),!tn(this.userMin)&&tn($)&&(this.min=Math.max(this.min,$)),!tn(this.userMax)&&tn(O)&&(this.max=Math.min(this.max,O)),T&&tn(d)&&tn(h)){let pn=A||0;!Un(Et)&&this.min<pn&&d>=pn?this.min=b.minRange?Math.min(pn,this.max-P):pn:!Un(Nt)&&this.max>pn&&h<=pn&&(this.max=b.minRange?Math.max(pn,this.min+P):pn)}!c.polar&&this.min>this.max&&(Un(b.min)?this.max=this.min:Un(b.max)&&(this.min=this.max)),Be=this.max-this.min}if(this.min!==this.max&&tn(this.min)&&tn(this.max)?ee&&!Le&&we===ee.options.tickPixelInterval?this.tickInterval=Le=ee.tickInterval:this.tickInterval=dn(Le,this.tickAmount?Be/Math.max(this.tickAmount-1,1):void 0,l?1:Be*we/Math.max(this.len,we)):this.tickInterval=1,f&&!r){let pn=this.min!==((Dt=this.old)==null?void 0:Dt.min)||this.max!==((Yt=this.old)==null?void 0:Yt.max);this.series.forEach(function(_n){var En;_n.forceCrop=(En=_n.forceCropping)==null?void 0:En.call(_n),_n.processData(pn)}),Xn(this,"postProcessData",{hasExtremesChanged:pn})}this.setAxisTranslation(),Xn(this,"initialAxisTranslation"),this.pointRange&&!Le&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let qt=dn(b.minTickInterval,p&&!this.series.some(pn=>!pn.sorted)?this.closestPointRange:0);!Le&&qt&&this.tickInterval<qt&&(this.tickInterval=qt),p||v||Le||(this.tickInterval=Lh(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var T,E;let r=this.options,l=r.tickPositions,c=r.tickPositioner,h=this.getMinorTickInterval(),d=!this.isPanning,p=d&&r.startOnTick,f=d&&r.endOnTick,v=[],b;if(this.tickmarkOffset=this.categories&&r.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&Un(this.min)&&!this.tickAmount&&(this.min%1==0||r.allowDecimals!==!1),l)v=l.slice();else if(tn(this.min)&&tn(this.max)){if(!((T=this.ordinal)!=null&&T.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))v=[this.min,this.max],Oh(19,!1,this.chart);else if(this.dateTime)v=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,r.units),this.min,this.max,r.startOfWeek,(E=this.ordinal)==null?void 0:E.positions,this.closestPointRange,!0);else if(this.logarithmic)v=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let A=this.tickInterval,P=A;for(;P<=2*A&&(v=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&v.length>this.tickAmount);)this.tickInterval=Lh(this,P*=1.1)}v.length>this.len&&(v=[v[0],v[v.length-1]])[0]===v[1]&&(v.length=1),c&&(this.tickPositions=v,(b=c.apply(this,[this.min,this.max]))&&(v=b))}this.tickPositions=v,this.minorTickInterval=h==="auto"&&this.tickInterval?this.tickInterval/r.minorTicksPerMajor:h,this.paddedTicks=v.slice(0),this.trimTicks(v,p,f),!this.isLinked&&tn(this.min)&&tn(this.max)&&(this.single&&v.length<2&&!this.categories&&!this.series.some(A=>A.is("heatmap")&&A.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),l||b||this.adjustTickAmount()),Xn(this,"afterSetTickPositions")}trimTicks(r,l,c){let h=r[0],d=r[r.length-1],p=!this.isOrdinal&&this.minPointOffset||0;if(Xn(this,"trimTicks"),!this.isLinked||!this.grid){if(l&&h!==-1/0)this.min=h;else for(;this.min-p>r[0];)r.shift();if(c)this.max=d;else for(;this.max+p<r[r.length-1];)r.pop();r.length===0&&Un(h)&&!this.options.tickPositions&&r.push((d+h)/2)}}alignToOthers(){let r,l=this,c=l.chart,h=[this],d=l.options,p=c.options.chart,f=this.coll==="yAxis"&&p.alignThresholds,v=[];if(l.thresholdAlignment=void 0,(p.alignTicks!==!1&&d.alignTicks||f)&&d.startOnTick!==!1&&d.endOnTick!==!1&&!l.logarithmic){let b=E=>{let{horiz:A,options:P}=E;return[A?P.left:P.top,P.width,P.height,P.pane].join(",")},T=b(this);c[this.coll].forEach(function(E){let{series:A}=E;A.length&&A.some(P=>P.visible)&&E!==l&&b(E)===T&&(r=!0,h.push(E))})}if(r&&f){h.forEach(T=>{let E=T.getThresholdAlignment(l);tn(E)&&v.push(E)});let b=v.length>1?v.reduce((T,E)=>T+=E,0)/v.length:void 0;h.forEach(T=>{T.thresholdAlignment=b})}return r}getThresholdAlignment(r){if((!tn(this.dataMin)||this!==r&&this.series.some(l=>l.isDirty||l.isDirtyData))&&this.getSeriesExtremes(),tn(this.threshold)){let l=Rh((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(l=1-l),l}}getTickAmount(){let r=this.options,l=r.tickPixelInterval,c=r.tickAmount;Un(r.tickInterval)||c||!(this.len<l)||this.isRadial||this.logarithmic||!r.startOnTick||!r.endOnTick||(c=2),!c&&this.alignToOthers()&&(c=Math.ceil(this.len/l)+1),c<4&&(this.finalTickAmt=c,c=5),this.tickAmount=c}adjustTickAmount(){let r=this,{finalTickAmt:l,max:c,min:h,options:d,tickPositions:p,tickAmount:f,thresholdAlignment:v}=r,b=p==null?void 0:p.length,T=dn(r.threshold,r.softThreshold?0:null),E,A,P=r.tickInterval,O,$=()=>p.push(dr(p[p.length-1]+P)),q=()=>p.unshift(dr(p[0]-P));if(tn(v)&&(O=v<.5?Math.ceil(v*(f-1)):Math.floor(v*(f-1)),d.reversed&&(O=f-1-O)),r.hasData()&&tn(h)&&tn(c)){let V=()=>{r.transA*=(b-1)/(f-1),r.min=d.startOnTick?p[0]:Math.min(h,p[0]),r.max=d.endOnTick?p[p.length-1]:Math.max(c,p[p.length-1])};if(tn(O)&&tn(r.threshold)){for(;p[O]!==T||p.length!==f||p[0]>h||p[p.length-1]<c;){for(p.length=0,p.push(r.threshold);p.length<f;)p[O]===void 0||p[O]>r.threshold?q():$();if(P>8*r.tickInterval)break;P*=2}V()}else if(b<f){for(;p.length<f;)p.length%2||h===T?$():q();V()}if(Un(l)){for(A=E=p.length;A--;)(l===3&&A%2==1||l<=2&&A>0&&A<E-1)&&p.splice(A,1);r.finalTickAmt=void 0}}}setScale(){var p,f,v,b,T;let{coll:r,stacking:l}=this,c=!1,h=!1;this.series.forEach(E=>{var A;c=c||E.isDirtyData||E.isDirty,h=h||((A=E.xAxis)==null?void 0:A.isDirty)||!1}),this.setAxisSize();let d=this.len!==((p=this.old)==null?void 0:p.len);d||c||h||this.isLinked||this.forceRedraw||this.userMin!==((f=this.old)==null?void 0:f.userMin)||this.userMax!==((v=this.old)==null?void 0:v.userMax)||this.alignToOthers()?(l&&r==="yAxis"&&l.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),l&&r==="xAxis"&&l.buildStacks(),this.isDirty||(this.isDirty=d||this.min!==((b=this.old)==null?void 0:b.min)||this.max!==((T=this.old)==null?void 0:T.max))):l&&l.cleanStacks(),c&&delete this.allExtremes,Xn(this,"afterSetScale")}setExtremes(r,l,c=!0,h,d){let p=this.chart;this.series.forEach(f=>{delete f.kdTree}),r=p.time.parse(r),l=p.time.parse(l),Xn(this,"setExtremes",d=ka(d,{min:r,max:l}),f=>{this.userMin=f.min,this.userMax=f.max,this.eventArgs=f,c&&p.redraw(h)})}setAxisSize(){let r=this.chart,l=this.options,c=l.offsets||[0,0,0,0],h=this.horiz,d=this.width=Math.round(Qc(dn(l.width,r.plotWidth-c[3]+c[1]),r.plotWidth)),p=this.height=Math.round(Qc(dn(l.height,r.plotHeight-c[0]+c[2]),r.plotHeight)),f=this.top=Math.round(Qc(dn(l.top,r.plotTop+c[0]),r.plotHeight,r.plotTop)),v=this.left=Math.round(Qc(dn(l.left,r.plotLeft+c[3]),r.plotWidth,r.plotLeft));this.bottom=r.chartHeight-p-f,this.right=r.chartWidth-d-v,this.len=Math.max(h?d:p,0),this.pos=h?v:f}getExtremes(){let r=this.logarithmic;return{min:r?dr(r.lin2log(this.min)):this.min,max:r?dr(r.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(r){let l=this.logarithmic,c=l?l.lin2log(this.min):this.min,h=l?l.lin2log(this.max):this.max;return r===null||r===-1/0?r=c:r===1/0?r=h:c>r?r=c:h<r&&(r=h),this.translate(r,0,1,0,1)}autoLabelAlign(r){let l=(dn(r,0)-90*this.side+720)%360,c={align:"center"};return Xn(this,"autoLabelAlign",c,function(h){l>15&&l<165?h.align="right":l>195&&l<345&&(h.align="left")}),c.align}tickSize(r){let l=this.options,c=dn(l[r==="tick"?"tickWidth":"minorTickWidth"],r==="tick"&&this.isXAxis&&!this.categories?1:0),h=l[r==="tick"?"tickLength":"minorTickLength"],d;c&&h&&(l[r+"Position"]==="inside"&&(h=-h),d=[h,c]);let p={tickSize:d};return Xn(this,"afterTickSize",p),p.tickSize}labelMetrics(){let r=this.chart.renderer,l=this.ticks,c=l[Object.keys(l)[0]]||{};return this.chart.renderer.fontMetrics(c.label||c.movedLabel||r.box)}unsquish(){let r=this.options.labels,l=r.padding||0,c=this.horiz,h=this.tickInterval,d=this.len/((+!!this.categories+this.max-this.min)/h),p=r.rotation,f=dr(.8*this.labelMetrics().h),v=Math.max(this.max-this.min,0),b=function(O){let $=(O+2*l)/(d||1);return($=$>1?Math.ceil($):1)*h>v&&O!==1/0&&d!==1/0&&v&&($=Math.ceil(v/h)),dr($*h)},T=h,E,A=Number.MAX_VALUE,P;if(c){if(!r.staggerLines&&(tn(p)?P=[p]:d<r.autoRotationLimit&&(P=r.autoRotation)),P){let O,$;for(let q of P)(q===p||q&&q>=-90&&q<=90)&&($=(O=b(Math.abs(f/Math.sin(My*q))))+Math.abs(q/360))<A&&(A=$,E=q,T=O)}}else T=b(.75*f);return this.autoRotation=P,this.labelRotation=dn(E,tn(p)?p:0),r.step?h:T}getSlotWidth(r){let l=this.chart,c=this.horiz,h=this.options.labels,d=Math.max(this.tickPositions.length-!this.categories,1),p=l.margin[3];if(r&&tn(r.slotWidth))return r.slotWidth;if(c&&h.step<2&&!this.isRadial)return h.rotation?0:(this.staggerLines||1)*this.len/d;if(!c){let f=h.style.width;if(f!==void 0)return parseInt(String(f),10);if(!this.opposite&&p)return p-l.spacing[3]}return .33*l.chartWidth}renderUnsquish(){let r=this.chart,l=r.renderer,c=this.tickPositions,h=this.ticks,d=this.options.labels,p=d.style,f=this.horiz,v=this.getSlotWidth(),b=Math.max(1,Math.round(v-(f?2*(d.padding||0):d.distance||0))),T={},E=this.labelMetrics(),A=p.lineClamp,P,O=A??(Math.floor(this.len/(c.length*E.h))||1),$=0;af(d.rotation)||(T.rotation=d.rotation||0),c.forEach(function(q){var ee;let V=h[q];V.movedLabel&&V.replaceMovedLabel();let Q=((ee=V.label)==null?void 0:ee.textPxLength)||0;Q>$&&($=Q)}),this.maxLabelLength=$,this.autoRotation?$>b&&$>E.h?T.rotation=this.labelRotation:this.labelRotation=0:v&&(P=b),T.rotation&&(P=$>.5*r.chartHeight?.33*r.chartHeight:$,A||(O=1)),this.labelAlign=d.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(T.align=this.labelAlign),c.forEach(function(q){let V=h[q],Q=V==null?void 0:V.label,ee=p.width,we={};Q&&(Q.attr(T),V.shortenLabel?V.shortenLabel():P&&!ee&&p.whiteSpace!=="nowrap"&&(P<(Q.textPxLength||0)||Q.element.tagName==="SPAN")?Q.css(ka(we,{width:`${P}px`,lineClamp:O})):!Q.styles.width||we.width||ee||Q.css({width:"auto"}),V.rotation=T.rotation)},this),this.tickRotCorr=l.rotCorr(E.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(r){return r.hasData()})||this.options.showEmpty&&Un(this.min)&&Un(this.max)}addTitle(r){let l,c=this.chart.renderer,h=this.horiz,d=this.opposite,p=this.options.title,f=this.chart.styledMode;this.axisTitle||((l=p.textAlign)||(l=(h?{low:"left",middle:"center",high:"right"}:{low:d?"right":"left",middle:"center",high:d?"left":"right"})[p.align]),this.axisTitle=c.text(p.text||"",0,0,p.useHTML).attr({zIndex:7,rotation:p.rotation||0,align:l}).addClass("highcharts-axis-title"),f||this.axisTitle.css(Mo(p.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),f||p.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[r?"show":"hide"](r)}generateTick(r){let l=this.ticks;l[r]?l[r].addLabel():l[r]=new Ea(this,r)}createGroups(){let{axisParent:r,chart:l,coll:c,options:h}=this,d=l.renderer,p=(f,v,b)=>d.g(f).attr({zIndex:b}).addClass(`highcharts-${c.toLowerCase()}${v} `+(this.isRadial?`highcharts-radial-axis${v} `:"")+(h.className||"")).add(r);this.axisGroup||(this.gridGroup=p("grid","-grid",h.gridZIndex),this.axisGroup=p("axis","",h.zIndex),this.labelGroup=p("axis-labels","-labels",h.labels.zIndex))}getOffset(){let r=this,{chart:l,horiz:c,options:h,side:d,ticks:p,tickPositions:f,coll:v}=r,b=l.inverted&&!r.isZAxis?[1,0,3,2][d]:d,T=r.hasData(),E=h.title,A=h.labels,P=tn(h.crossing),O=l.axisOffset,$=l.clipOffset,q=[-1,1,1,-1][d],V,Q=0,ee,we=0,fe=0,ve,Be;if(r.showAxis=V=T||h.showEmpty,r.staggerLines=r.horiz&&A.staggerLines||void 0,r.createGroups(),T||r.isLinked?(f.forEach(function(Ne){r.generateTick(Ne)}),r.renderUnsquish(),r.reserveSpaceDefault=d===0||d===2||{1:"left",3:"right"}[d]===r.labelAlign,dn(A.reserveSpace,!P&&null,r.labelAlign==="center"||null,r.reserveSpaceDefault)&&f.forEach(function(Ne){fe=Math.max(p[Ne].getLabelSize(),fe)}),r.staggerLines&&(fe*=r.staggerLines),r.labelOffset=fe*(r.opposite?-1:1)):Xc(p,function(Ne,Le){Ne.destroy(),delete p[Le]}),E!=null&&E.text&&E.enabled!==!1&&(r.addTitle(V),V&&!P&&E.reserveSpace!==!1&&(r.titleOffset=Q=r.axisTitle.getBBox()[c?"height":"width"],we=Un(ee=E.offset)?0:dn(E.margin,c?5:10))),r.renderLine(),r.offset=q*dn(h.offset,O[d]?O[d]+(h.margin||0):0),r.tickRotCorr=r.tickRotCorr||{x:0,y:0},Be=d===0?-r.labelMetrics().h:d===2?r.tickRotCorr.y:0,ve=Math.abs(fe)+we,fe&&(ve-=Be,ve+=q*(c?dn(A.y,r.tickRotCorr.y+q*A.distance):dn(A.x,q*A.distance))),r.axisTitleMargin=dn(ee,ve),r.getMaxLabelDimensions&&(r.maxLabelDimensions=r.getMaxLabelDimensions(p,f)),v!=="colorAxis"&&$){let Ne=this.tickSize("tick");O[d]=Math.max(O[d],(r.axisTitleMargin||0)+Q+q*r.offset,ve,f!=null&&f.length&&Ne?Ne[0]+q*r.offset:0);let Le=!r.axisLine||h.offset?0:r.axisLine.strokeWidth()/2;$[b]=Math.max($[b],Le)}Xn(this,"afterGetOffset")}getLinePath(r){let l=this.chart,c=this.opposite,h=this.offset,d=this.horiz,p=this.left+(c?this.width:0)+h,f=l.chartHeight-this.bottom-(c?this.height:0)+h;return c&&(r*=-1),l.renderer.crispLine([["M",d?this.left:p,d?f:this.top],["L",d?l.chartWidth-this.right:p,d?f:l.chartHeight-this.bottom]],r)}renderLine(){!this.axisLine&&(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(r){let l=this.horiz,c=this.left,h=this.top,d=this.len,p=this.options.title,f=l?c:h,v=this.opposite,b=this.offset,T=p.x,E=p.y,A=this.chart.renderer.fontMetrics(r),P=r?Math.max(r.getBBox(!1,0).height-A.h-1,0):0,O={low:f+(l?0:d),middle:f+d/2,high:f+(l?d:0)}[p.align],$=(l?h+this.height:c)+(l?1:-1)*(v?-1:1)*(this.axisTitleMargin||0)+[-P,P,A.f,-P][this.side],q={x:l?O+T:$+(v?this.width:0)+b+T,y:l?$+E-(v?this.height:0)+b:O+E};return Xn(this,"afterGetTitlePosition",{titlePosition:q}),q}renderMinorTick(r,l){let c=this.minorTicks;c[r]||(c[r]=new Ea(this,r,"minor")),l&&c[r].isNew&&c[r].render(null,!0),c[r].render(null,!1,1)}renderTick(r,l,c){var p;let h=this.isLinked,d=this.ticks;(!h||r>=this.min&&r<=this.max||(p=this.grid)!=null&&p.isColumn)&&(d[r]||(d[r]=new Ea(this,r)),c&&d[r].isNew&&d[r].render(l,!0,-1),d[r].render(l))}render(){let r,l,c=this,h=c.chart,d=c.logarithmic,p=h.renderer,f=c.options,v=c.isLinked,b=c.tickPositions,T=c.axisTitle,E=c.ticks,A=c.minorTicks,P=c.alternateBands,O=f.stackLabels,$=f.alternateGridColor,q=f.crossing,V=c.tickmarkOffset,Q=c.axisLine,ee=c.showAxis,we=ef(p.globalAnimation);if(c.labelEdge.length=0,c.overlap=!1,[E,A,P].forEach(function(fe){Xc(fe,function(ve){ve.isActive=!1})}),tn(q)){let fe=this.isXAxis?h.yAxis[0]:h.xAxis[0],ve=[1,-1,-1,1][this.side];if(fe){let Be=fe.toPixels(q,!0);c.horiz&&(Be=fe.len-Be),c.offset=ve*Be}}if(c.hasData()||v){let fe=c.chart.hasRendered&&c.old&&tn(c.old.min);c.minorTickInterval&&!c.categories&&c.getMinorTickPositions().forEach(function(ve){c.renderMinorTick(ve,fe)}),b.length&&(b.forEach(function(ve,Be){c.renderTick(ve,Be,fe)}),V&&(c.min===0||c.single)&&(E[-1]||(E[-1]=new Ea(c,-1,null,!0)),E[-1].render(-1))),$&&b.forEach(function(ve,Be){l=b[Be+1]!==void 0?b[Be+1]+V:c.max-V,Be%2==0&&ve<c.max&&l<=c.max+(h.polar?-V:V)&&(P[ve]||(P[ve]=new M.PlotLineOrBand(c,{})),r=ve+V,P[ve].options={from:d?d.lin2log(r):r,to:d?d.lin2log(l):l,color:$,className:"highcharts-alternate-grid"},P[ve].render(),P[ve].isActive=!0)}),c._addedPlotLB||(c._addedPlotLB=!0,(f.plotLines||[]).concat(f.plotBands||[]).forEach(function(ve){c.addPlotBandOrLine(ve)}))}[E,A,P].forEach(function(fe){let ve=[],Be=we.duration;Xc(fe,function(Ne,Le){Ne.isActive||(Ne.render(Le,!1,0),Ne.isActive=!1,ve.push(Le))}),Ly(function(){let Ne=ve.length;for(;Ne--;)fe[ve[Ne]]&&!fe[ve[Ne]].isActive&&(fe[ve[Ne]].destroy(),delete fe[ve[Ne]])},fe!==P&&h.hasRendered&&Be?Be:0)}),Q&&(Q[Q.isPlaced?"animate":"attr"]({d:this.getLinePath(Q.strokeWidth())}),Q.isPlaced=!0,Q[ee?"show":"hide"](ee)),T&&ee&&(T[T.isNew?"attr":"animate"](c.getTitlePosition(T)),T.isNew=!1),O!=null&&O.enabled&&c.stacking&&c.stacking.renderStackTotals(),c.old={len:c.len,max:c.max,min:c.min,transA:c.transA,userMax:c.userMax,userMin:c.userMin},c.isDirty=!1,Xn(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(r){r.render()})),this.series.forEach(function(r){r.isDirty=!0})}getKeepProps(){return this.keepProps||Ta.keepProps}destroy(r){let l=this,c=l.plotLinesAndBands,h=this.eventOptions;if(Xn(this,"destroy",{keepEvents:r}),r||Dy(l),[l.ticks,l.minorTicks,l.alternateBands].forEach(function(d){sf(d)}),c){let d=c.length;for(;d--;)c[d].destroy()}for(let d in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(p){l[p]&&(l[p]=l[p].destroy())}),l.plotLinesAndBandsGroups)l.plotLinesAndBandsGroups[d]=l.plotLinesAndBandsGroups[d].destroy();Xc(l,function(d,p){l.getKeepProps().indexOf(p)===-1&&delete l[p]}),this.eventOptions=h}drawCrosshair(r,l){var E;let c=this.crosshair,h=(c==null?void 0:c.snap)??!0,d=this.chart,p,f,v,b=this.cross,T;if(Xn(this,"drawCrosshair",{e:r,point:l}),r||(r=(E=this.cross)==null?void 0:E.e),c&&(Un(l)||!h)!==!1){if(h?Un(l)&&(f=dn(this.coll!=="colorAxis"?l.crosshairPos:null,this.isXAxis?l.plotX:this.len-l.plotY)):f=r&&(this.horiz?r.chartX-this.pos:this.len-r.chartY+this.pos),Un(f)&&(T={value:l&&(this.isXAxis?l.x:dn(l.stackY,l.y)),translatedValue:f},d.polar&&ka(T,{isCrosshair:!0,chartX:r==null?void 0:r.chartX,chartY:r==null?void 0:r.chartY,point:l}),p=this.getPlotLinePath(T)||null),!Un(p))return void this.hideCrosshair();v=this.categories&&!this.isRadial,b||(this.cross=b=d.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(v?"category ":"thin ")+(c.className||"")).attr({zIndex:dn(c.zIndex,2)}).add(),!d.styledMode&&(b.attr({stroke:c.color||(v?Ft.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":dn(c.width,1)}).css({"pointer-events":"none"}),c.dashStyle&&b.attr({dashstyle:c.dashStyle}))),b.show().attr({d:p}),v&&!c.width&&b.attr({"stroke-width":this.transA}),this.cross.e=r}else this.hideCrosshair();Xn(this,"afterDrawCrosshair",{e:r,point:l})}hideCrosshair(){this.cross&&this.cross.hide(),Xn(this,"afterHideCrosshair")}update(r,l){let c=this.chart;r=Mo(this.userOptions,r),this.destroy(!0),this.init(c,r),c.isDirtyBox=!0,dn(l,!0)&&c.redraw()}remove(r){let l=this.chart,c=this.coll,h=this.series,d=h.length;for(;d--;)h[d]&&h[d].remove(!1);Dh(l.axes,this),Dh(l[c]||[],this),l.orderItems(c),this.destroy(),l.isDirtyBox=!0,dn(r,!0)&&l.redraw()}setTitle(r,l){this.update({title:r},l)}setCategories(r,l){this.update({categories:r},l)}}Ta.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:Ps,getMagnitude:Fy,normalizeTickInterval:By,timeUnits:Jc}=je;(function(w){function r(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function l(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new c(this))}w.compose=function(h){return h.keepProps.includes("dateTime")||(h.keepProps.push("dateTime"),h.prototype.getTimeTicks=r,Ps(h,"afterSetType",l)),h};class c{constructor(d){this.axis=d}normalizeTimeTickInterval(d,p){let f=p||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],v=f[f.length-1],b=Jc[v[0]],T=v[1],E;for(E=0;E<f.length&&(b=Jc[(v=f[E])[0]],T=v[1],!f[E+1]||!(d<=(b*T[T.length-1]+Jc[f[E+1][0]])/2));E++);b===Jc.year&&d<5*b&&(T=[1,2,5]);let A=By(d/b,T,v[0]==="year"?Math.max(Fy(d/b),1):1);return{unitRange:b,count:A,unitName:v[0]}}getXDateFormat(d,p){let{axis:f}=this,v=f.chart.time;return f.closestPointRange?v.getDateFormat(f.closestPointRange,d,f.options.startOfWeek,p)||v.resolveDTLFormat(p.year).main:v.resolveDTLFormat(p.day).main}}w.Additions=c})(_||(_={}));let Vy=_,{addEvent:Fh,normalizeTickInterval:Vl,pick:Ul}=je;(function(w){function r(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new c(this))}function l(){let h=this.logarithmic;h&&(this.lin2val=function(d){return h.lin2log(d)},this.val2lin=function(d){return h.log2lin(d)})}w.compose=function(h){return h.keepProps.includes("logarithmic")||(h.keepProps.push("logarithmic"),Fh(h,"afterSetType",r),Fh(h,"afterInit",l)),h};class c{constructor(d){this.axis=d}getLogTickPositions(d,p,f,v){let b=this.axis,T=b.len,E=b.options,A=[];if(v||(this.minorAutoInterval=void 0),d>=.5)d=Math.round(d),A=b.getLinearTickPositions(d,p,f);else if(d>=.08){let P,O,$,q,V,Q,ee,we=Math.floor(p);for(P=d>.3?[1,2,4]:d>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],O=we;O<f+1&&!ee;O++)for($=0,q=P.length;$<q&&!ee;$++)(V=this.log2lin(this.lin2log(O)*P[$]))>p&&(!v||Q<=f)&&Q!==void 0&&A.push(Q),Q>f&&(ee=!0),Q=V}else{let P=this.lin2log(p),O=this.lin2log(f),$=v?b.getMinorTickInterval():E.tickInterval,q=E.tickPixelInterval/(v?5:1),V=v?T/b.tickPositions.length:T;d=Vl(d=Ul($==="auto"?null:$,this.minorAutoInterval,(O-P)*q/(V||1))),A=b.getLinearTickPositions(d,P,O).map(this.log2lin),v||(this.minorAutoInterval=d/5)}return v||(b.tickInterval=d),A}lin2log(d){return Math.pow(10,d)}log2lin(d){return Math.log(d)/Math.LN10}}w.Additions=c})(I||(I={}));let Zc=I,{erase:lf,extend:Bh,isNumber:eu}=je;(function(w){let r;function l(b){return this.addPlotBandOrLine(b,"plotBands")}function c(b,T){let E=this.userOptions,A=new r(this,b);if(this.visible&&(A=A.render()),A){if(this._addedPlotLB||(this._addedPlotLB=!0,(E.plotLines||[]).concat(E.plotBands||[]).forEach(P=>{this.addPlotBandOrLine(P)})),T){let P=E[T]||[];P.push(b),E[T]=P}this.plotLinesAndBands.push(A)}return A}function h(b){return this.addPlotBandOrLine(b,"plotLines")}function d(b,T,E){E=E||this.options;let A=this.getPlotLinePath({value:T,force:!0,acrossPanes:E.acrossPanes}),P=[],O=this.horiz,$=!eu(this.min)||!eu(this.max)||b<this.min&&T<this.min||b>this.max&&T>this.max,q=this.getPlotLinePath({value:b,force:!0,acrossPanes:E.acrossPanes}),V,Q=1,ee;if(q&&A)for($&&(ee=q.toString()===A.toString(),Q=0),V=0;V<q.length;V+=2){let we=q[V],fe=q[V+1],ve=A[V],Be=A[V+1];(we[0]==="M"||we[0]==="L")&&(fe[0]==="M"||fe[0]==="L")&&(ve[0]==="M"||ve[0]==="L")&&(Be[0]==="M"||Be[0]==="L")&&(O&&ve[1]===we[1]?(ve[1]+=Q,Be[1]+=Q):O||ve[2]!==we[2]||(ve[2]+=Q,Be[2]+=Q),P.push(["M",we[1],we[2]],["L",fe[1],fe[2]],["L",Be[1],Be[2]],["L",ve[1],ve[2]],["Z"])),P.isFlat=ee}return P}function p(b){this.removePlotBandOrLine(b)}function f(b){let T=this.plotLinesAndBands,E=this.options,A=this.userOptions;if(T){let P=T.length;for(;P--;)T[P].id===b&&T[P].destroy();[E.plotLines||[],A.plotLines||[],E.plotBands||[],A.plotBands||[]].forEach(function(O){var $;for(P=O.length;P--;)(($=O[P])==null?void 0:$.id)===b&&lf(O,O[P])})}}function v(b){this.removePlotBandOrLine(b)}w.compose=function(b,T){let E=T.prototype;return E.addPlotBand||(r=b,Bh(E,{addPlotBand:l,addPlotLine:h,addPlotBandOrLine:c,getPlotBandPath:d,removePlotBand:p,removePlotLine:v,removePlotBandOrLine:f})),T}})(j||(j={}));let cf=j,{addEvent:Uy,arrayMax:uf,arrayMin:Vh,defined:ps,destroyObjectProperties:Uh,erase:zy,fireEvent:qy,merge:hf,objectEach:zh,pick:$y}=je;class Ro{static compose(r,l){return Uy(r,"afterInit",function(){this.labelCollectors.push(()=>{var h;let c=[];for(let d of this.axes)for(let{label:p,options:f}of d.plotLinesAndBands)p&&!((h=f==null?void 0:f.label)!=null&&h.allowOverlap)&&c.push(p);return c})}),cf.compose(Ro,l)}constructor(r,l){this.axis=r,this.options=l,this.id=l.id}render(){qy(this,"render");let{axis:r,options:l}=this,{horiz:c,logarithmic:h}=r,{color:d,events:p,zIndex:f=0}=l,{renderer:v,time:b}=r.chart,T={},E=b.parse(l.to),A=b.parse(l.from),P=b.parse(l.value),O=l.borderWidth,$=l.label,{label:q,svgElem:V}=this,Q=[],ee,we=ps(A)&&ps(E),fe=ps(P),ve=!V,Be={class:"highcharts-plot-"+(we?"band ":"line ")+(l.className||"")},Ne=we?"bands":"lines";if(!r.chart.styledMode&&(fe?(Be.stroke=d||"#999999",Be["stroke-width"]=$y(l.width,1),l.dashStyle&&(Be.dashstyle=l.dashStyle)):we&&(Be.fill=d||"#e6e9ff",O&&(Be.stroke=l.borderColor,Be["stroke-width"]=O))),T.zIndex=f,Ne+="-"+f,(ee=r.plotLinesAndBandsGroups[Ne])||(r.plotLinesAndBandsGroups[Ne]=ee=v.g("plot-"+Ne).attr(T).add()),V||(this.svgElem=V=v.path().attr(Be).add(ee)),ps(P))Q=r.getPlotLinePath({value:(h==null?void 0:h.log2lin(P))??P,lineWidth:V.strokeWidth(),acrossPanes:l.acrossPanes});else{if(!(ps(A)&&ps(E)))return;Q=r.getPlotBandPath((h==null?void 0:h.log2lin(A))??A,(h==null?void 0:h.log2lin(E))??E,l)}return!this.eventsAdded&&p&&(zh(p,(Le,it)=>{V==null||V.on(it,dt=>{p[it].apply(this,[dt])})}),this.eventsAdded=!0),(ve||!V.d)&&(Q!=null&&Q.length)?V.attr({d:Q}):V&&(Q?(V.show(),V.animate({d:Q})):V.d&&(V.hide(),q&&(this.label=q=q.destroy()))),$&&(ps($.text)||ps($.formatter))&&(Q!=null&&Q.length)&&r.width>0&&r.height>0&&!Q.isFlat?($=hf({align:c&&we?"center":void 0,x:c?!we&&4:10,verticalAlign:!c&&we?"middle":void 0,y:c?we?16:10:we?6:-4,rotation:c&&!we?90:0,...we?{inside:!0}:{}},$),this.renderLabel($,Q,we,f)):q&&q.hide(),this}renderLabel(r,l,c,h){var O,$,q;let d=this.axis,p=d.chart.renderer,f=r.inside,v=this.label;v||(this.label=v=p.text(this.getLabelText(r),0,0,r.useHTML).attr({align:r.textAlign||r.align,rotation:r.rotation,class:"highcharts-plot-"+(c?"band":"line")+"-label "+(r.className||""),zIndex:h}),d.chart.styledMode||v.css(hf({color:($=(O=d.chart.options.title)==null?void 0:O.style)==null?void 0:$.color,fontSize:"0.8em",textOverflow:c&&!f?"":"ellipsis"},r.style)),v.add());let b=l.xBounds||[l[0][1],l[1][1],c?l[2][1]:l[0][1]],T=l.yBounds||[l[0][2],l[1][2],c?l[2][2]:l[0][2]],E=Vh(b),A=Vh(T),P=uf(b)-E;v.align(r,!1,{x:E,y:A,width:P,height:uf(T)-A}),v.alignAttr.y-=p.fontMetrics(v).b,(!v.alignValue||v.alignValue==="left"||ps(f))&&v.css({width:(((q=r.style)==null?void 0:q.width)||(c&&f?P:v.rotation===90?d.height-(v.alignAttr.y-d.top):(r.clip?d.width:d.chart.chartWidth)-(v.alignAttr.x-d.left)))+"px"}),v.show(!0)}getLabelText(r){return ps(r.formatter)?r.formatter.call(this):r.text}destroy(){zy(this.axis.plotLinesAndBands,this),delete this.axis,Uh(this)}}let{animObject:df}=Ct,{format:pf}=wi,{composed:tu,dateFormats:Hy,doc:qh,isSafari:$h}=M,{distribute:Wy}=da,{addEvent:Gy,clamp:so,css:oo,discardElement:Ky,extend:Hh,fireEvent:nu,getAlignFactor:ff,isArray:Wh,isNumber:mf,isObject:Pr,isString:Gh,merge:C,pick:y,pushUnique:k,splat:S,syncTimeout:R}=je;class W{constructor(r,l,c){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=r,this.init(r,l),this.pointer=c}bodyFormatter(r){return r.map(l=>{let c=l.series.tooltipOptions,h=l.formatPrefix||"point";return(c[h+"Formatter"]||l.tooltipFormatter).call(l,c[h+"Format"]||"")})}cleanSplit(r){this.chart.series.forEach(function(l){let c=l==null?void 0:l.tt;c&&(!c.isActive||r?l.tt=c.destroy():c.isActive=!1)})}defaultFormatter(r){let l,c=this.points||S(this);return(l=(l=[r.headerFooterFormatter(c[0])]).concat(r.bodyFormatter(c))).push(r.headerFooterFormatter(c[0],!0)),l}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),Ky(this.container)),je.clearTimeout(this.hideTimer)}getAnchor(r,l){var T;let c,{chart:h,pointer:d}=this,p=h.inverted,f=h.plotTop,v=h.plotLeft;if(r=S(r),(T=r[0].series)!=null&&T.yAxis&&!r[0].series.yAxis.options.reversedStacks&&(r=r.slice().reverse()),this.followPointer&&l)l.chartX===void 0&&(l=d.normalize(l)),c=[l.chartX-v,l.chartY-f];else if(r[0].tooltipPos)c=r[0].tooltipPos;else{let E=0,A=0;r.forEach(function(P){let O=P.pos(!0);O&&(E+=O[0],A+=O[1])}),E/=r.length,A/=r.length,this.shared&&r.length>1&&l&&(p?E=l.chartX:A=l.chartY),c=[E-v,A-f]}let b={point:r[0],ret:c};return nu(this,"getAnchor",b),b.ret.map(Math.round)}getClassName(r,l,c){let h=this.options,d=r.series,p=d.options;return[h.className,"highcharts-label",c&&"highcharts-tooltip-header",l?"highcharts-tooltip-box":"highcharts-tooltip",!c&&"highcharts-color-"+y(r.colorIndex,d.colorIndex),p==null?void 0:p.className].filter(Gh).join(" ")}getLabel({anchorX:r,anchorY:l}={anchorX:0,anchorY:0}){let c=this,h=this.chart.styledMode,d=this.options,p=this.split&&this.allowShared,f=this.container,v=this.chart.renderer;if(this.label){let b=!this.label.hasClass("highcharts-label");(!p&&b||p&&!b)&&this.destroy()}if(!this.label){if(this.outside){let b=this.chart,T=b.options.chart.style,E=qr.getRendererType();this.container=f=M.doc.createElement("div"),f.className="highcharts-tooltip-container "+(b.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),oo(f,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,((T==null?void 0:T.zIndex)||0)+3)}),this.renderer=v=new E(f,0,0,T,void 0,void 0,v.styledMode)}if(p?this.label=v.g("tooltip"):(this.label=v.label("",r,l,d.shape||"callout",void 0,void 0,d.useHTML,void 0,"tooltip").attr({padding:d.padding,r:d.borderRadius}),h||this.label.attr({fill:d.backgroundColor,"stroke-width":d.borderWidth||0}).css(d.style).css({pointerEvents:d.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),c.outside){let b=this.label;[b.xSetter,b.ySetter].forEach((T,E)=>{b[E?"ySetter":"xSetter"]=A=>{T.call(b,c.distance),b[E?"y":"x"]=A,f&&(f.style[E?"top":"left"]=`${A}px`)}})}this.label.attr({zIndex:8}).shadow(d.shadow??!d.fixed).add()}return f&&!f.parentElement&&M.doc.body.appendChild(f),this.label}getPlayingField(){let{body:r,documentElement:l}=qh,{chart:c,distance:h,outside:d}=this;return{width:d?Math.max(r.scrollWidth,l.scrollWidth,r.offsetWidth,l.offsetWidth,l.clientWidth)-2*h-2:c.chartWidth,height:d?Math.max(r.scrollHeight,l.scrollHeight,r.offsetHeight,l.offsetHeight,l.clientHeight):c.chartHeight}}getPosition(r,l,c){var Bt,Wt;let{distance:h,chart:d,outside:p,pointer:f}=this,{inverted:v,plotLeft:b,plotTop:T,polar:E}=d,{plotX:A=0,plotY:P=0}=c,O={},$=v&&c.h||0,{height:q,width:V}=this.getPlayingField(),Q=f.getChartPosition(),ee=Dt=>Dt*Q.scaleX,we=Dt=>Dt*Q.scaleY,fe=Dt=>{let Yt=Dt==="x";return[Dt,Yt?V:q,Yt?r:l].concat(p?[Yt?ee(r):we(l),Yt?Q.left-h+ee(A+b):Q.top-h+we(P+T),0,Yt?V:q]:[Yt?r:l,Yt?A+b:P+T,Yt?b:T,Yt?b+d.plotWidth:T+d.plotHeight])},ve=fe("y"),Be=fe("x"),Ne,Le=!!c.negative;!E&&((Wt=(Bt=d.hoverSeries)==null?void 0:Bt.yAxis)!=null&&Wt.reversed)&&(Le=!Le);let it=!this.followPointer&&y(c.ttBelow,!E&&!v===Le),dt=function(Dt,Yt,pn,_n,En,Qi,bn){let On=p?Dt==="y"?we(h):ee(h):h,ln=(pn-_n)/2,sn=_n<En-h,vi=En+h+_n<Yt,Ln=En-On-pn+ln,Gn=En+On-ln;if(it&&vi)O[Dt]=Gn;else if(!it&&sn)O[Dt]=Ln;else if(sn)O[Dt]=Math.min(bn-_n,Ln-$<0?Ln:Ln-$);else{if(!vi)return O[Dt]=0,!1;O[Dt]=Math.max(Qi,Gn+$+pn>Yt?Gn:Gn+$)}},Et=function(Dt,Yt,pn,_n,En){if(En<h||En>Yt-h)return!1;En<pn/2?O[Dt]=1:En>Yt-_n/2?O[Dt]=Yt-_n-2:O[Dt]=En-pn/2},Nt=function(Dt){[ve,Be]=[Be,ve],Ne=Dt},qt=()=>{dt.apply(0,ve)!==!1?Et.apply(0,Be)!==!1||Ne||(Nt(!0),qt()):Ne?O.x=O.y=0:(Nt(!0),qt())};return(v&&!E||this.len>1)&&Nt(),qt(),O}getFixedPosition(r,l,c){var A;let h=c.series,{chart:d,options:p,split:f}=this,v=p.position,b=v.relativeTo,T=p.shared||(A=h==null?void 0:h.yAxis)!=null&&A.isRadial&&(b==="pane"||!b)?"plotBox":b,E=T==="chart"?d.renderer:d[T]||d.getClipBox(h,!0);return{x:E.x+(E.width-r)*ff(v.align)+v.x,y:E.y+(E.height-l)*ff(v.verticalAlign)+(!f&&v.y||0)}}hide(r){let l=this;je.clearTimeout(this.hideTimer),r=y(r,this.options.hideDelay),this.isHidden||(this.hideTimer=R(function(){let c=l.getLabel();l.getLabel().animate({opacity:0},{duration:r&&150,complete:()=>{c.hide(),l.container&&l.container.remove()}}),l.isHidden=!0},r))}init(r,l){this.chart=r,this.options=l,this.crosshairs=[],this.isHidden=!0,this.split=l.split&&!r.inverted&&!r.polar,this.shared=l.shared||this.split,this.outside=y(l.outside,!!(r.scrollablePixelsX||r.scrollablePixelsY))}shouldStickOnContact(r){return!!(!this.followPointer&&this.options.stickOnContact&&(!r||this.pointer.inClass(r.target,"highcharts-tooltip")))}move(r,l,c,h){let{followPointer:d,options:p}=this,f=df(!d&&!this.isHidden&&!p.fixed&&p.animation),v=d||(this.len||0)>1,b={x:r,y:l};v?b.anchorX=b.anchorY=NaN:(b.anchorX=c,b.anchorY=h),f.step=()=>this.drawTracker(),this.getLabel().animate(b,f)}refresh(r,l){let{chart:c,options:h,pointer:d,shared:p}=this,f=S(r),v=f[0],b=h.format,T=h.formatter||this.defaultFormatter,E=c.styledMode,A=this.allowShared;if(!h.enabled||!v.series)return;je.clearTimeout(this.hideTimer),this.allowShared=!(!Wh(r)&&r.series&&r.series.noSharedTooltip),A=A&&!this.allowShared,this.followPointer=!this.split&&v.series.tooltipOptions.followPointer;let P=this.getAnchor(r,l),O=P[0],$=P[1];p&&this.allowShared&&(d.applyInactiveState(f),f.forEach(Q=>Q.setState("hover")),v.points=f),this.len=f.length;let q=Gh(b)?pf(b,v,c):T.call(v,this);v.points=void 0;let V=v.series;if(this.distance=y(V.tooltipOptions.distance,16),q===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(q,f);else{let Q=O,ee=$;if(l&&d.isDirectTouch&&(Q=l.chartX-c.plotLeft,ee=l.chartY-c.plotTop),!(c.polar||V.options.clip===!1||f.some(we=>d.isDirectTouch||we.series.shouldShowTooltip(Q,ee))))return void this.hide();{let we=this.getLabel(A&&this.tt||{});(!h.style.width||E)&&we.css({width:(this.outside?this.getPlayingField():c.spacingBox).width+"px"}),we.attr({class:this.getClassName(v),text:q&&q.join?q.join(""):q}),this.outside&&we.attr({x:so(we.x||0,0,this.getPlayingField().width-(we.width||0)-1)}),E||we.attr({stroke:h.borderColor||v.color||V.color||"#666666"}),this.updatePosition({plotX:O,plotY:$,negative:v.negative,ttBelow:v.ttBelow,series:V,h:P[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}nu(this,"refresh")}renderSplit(r,l){var En,Qi;let c=this,{chart:h,chart:{chartWidth:d,chartHeight:p,plotHeight:f,plotLeft:v,plotTop:b,scrollablePixelsY:T=0,scrollablePixelsX:E,styledMode:A},distance:P,options:O,options:{fixed:$,position:q,positioner:V},pointer:Q}=c,{scrollLeft:ee=0,scrollTop:we=0}=((En=h.scrollablePlotArea)==null?void 0:En.scrollingContainer)||{},fe=c.outside&&typeof E!="number"?qh.documentElement.getBoundingClientRect():{left:ee,right:ee+d},ve=c.getLabel(),Be=this.renderer||h.renderer,Ne=!!((Qi=h.xAxis[0])!=null&&Qi.opposite),{left:Le,top:it}=Q.getChartPosition(),dt=V||$,Et=b+we,Nt=0,qt=f-T,Bt=function(bn,On,ln,sn=[0,0],vi=!0){let Ln,Gn;if(ln.isHeader)Gn=Ne?0:qt,Ln=so(sn[0]-bn/2,fe.left,fe.right-bn-(c.outside?Le:0));else if($&&ln){let Bi=c.getFixedPosition(bn,On,ln);Ln=Bi.x,Gn=Bi.y-Et}else Gn=sn[1]-Et,Ln=so(Ln=vi?sn[0]-bn-P:sn[0]+P,vi?Ln:fe.left,fe.right);return{x:Ln,y:Gn}};Gh(r)&&(r=[!1,r]);let Wt=r.slice(0,l.length+1).reduce(function(bn,On,ln){if(On!==!1&&On!==""){let sn=l[ln-1]||{isHeader:!0,plotX:l[0].plotX,plotY:f,series:{}},vi=sn.isHeader,Ln=vi?c:sn.series,Gn=Ln.tt=function(qi,Qn,sd){let Pa=qi,{isHeader:Wl,series:od}=Qn,Ls=od.tooltipOptions||O;if(!Pa){let au={padding:Ls.padding,r:Ls.borderRadius};A||(au.fill=Ls.backgroundColor,au["stroke-width"]=Ls.borderWidth??($&&!Wl?0:1)),Pa=Be.label("",0,0,Ls[Wl?"headerShape":"shape"]||($&&!Wl?"rect":"callout"),void 0,void 0,Ls.useHTML).addClass(c.getClassName(Qn,!0,Wl)).attr(au).add(ve)}return Pa.isActive=!0,Pa.attr({text:sd}),A||Pa.css(Ls.style).attr({stroke:Ls.borderColor||Qn.color||od.color||"#333333"}),Pa}(Ln.tt,sn,On.toString()),Bi=Gn.getBBox(),Oo=Bi.width+Gn.strokeWidth();vi&&(Nt=Bi.height,qt+=Nt,Ne&&(Et-=Nt));let{anchorX:ms,anchorY:Ji}=function(qi){let Qn,sd,{isHeader:Pa,plotX:Wl=0,plotY:od=0,series:Ls}=qi;if(Pa)Qn=Math.max(v+Wl,v),sd=b+f/2;else{let{xAxis:au,yAxis:RE}=Ls;Qn=au.pos+so(Wl,-P,au.len+P),Ls.shouldShowTooltip(0,RE.pos-b+od,{ignoreX:!0})&&(sd=RE.pos+od)}return{anchorX:Qn=so(Qn,fe.left-P,fe.right+P),anchorY:sd}}(sn);if(typeof Ji=="number"){let qi=Bi.height+1,Qn=(V||Bt).call(c,Oo,qi,sn,[ms,Ji]);bn.push({align:dt?0:void 0,anchorX:ms,anchorY:Ji,boxWidth:Oo,point:sn,rank:y(Qn.rank,+!!vi),size:qi,target:Qn.y,tt:Gn,x:Qn.x})}else Gn.isActive=!1}return bn},[]);!dt&&Wt.some(bn=>{let{outside:On}=c,ln=(On?Le:0)+bn.anchorX;return ln<fe.left&&ln+bn.boxWidth<fe.right||ln<Le-fe.left+bn.boxWidth&&fe.right-ln>ln})&&(Wt=Wt.map(bn=>{let{x:On,y:ln}=Bt.call(this,bn.boxWidth,bn.size,bn.point,[bn.anchorX,bn.anchorY],!1);return Hh(bn,{target:ln,x:On})})),c.cleanSplit(),Wy(Wt,qt);let Dt={left:Le,right:Le};Wt.forEach(function(bn){let{x:On,boxWidth:ln,isHeader:sn}=bn;!sn&&(c.outside&&Le+On<Dt.left&&(Dt.left=Le+On),!sn&&c.outside&&Dt.left+ln>Dt.right&&(Dt.right=Le+On))}),Wt.forEach(function(bn){let{x:On,anchorX:ln,anchorY:sn,pos:vi,point:{isHeader:Ln}}=bn,Gn={visibility:vi===void 0?"hidden":"inherit",x:On,y:(vi||0)+Et+($&&q.y||0),anchorX:ln,anchorY:sn};if(c.outside&&On<ln){let Bi=Le-Dt.left;Bi>0&&(Ln||(Gn.x=On+Bi,Gn.anchorX=ln+Bi),Ln&&(Gn.x=(Dt.right-Dt.left)/2,Gn.anchorX=ln+Bi))}bn.tt.attr(Gn)});let{container:Yt,outside:pn,renderer:_n}=c;if(pn&&Yt&&_n){let{width:bn,height:On,x:ln,y:sn}=ve.getBBox();_n.setSize(bn+ln,On+sn,!1),Yt.style.left=Dt.left+"px",Yt.style.top=it+"px"}$h&&ve.attr({opacity:ve.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let r=this.chart,l=this.label,c=this.shared?r.hoverPoints:r.hoverPoint;if(!l||!c)return;let h={x:0,y:0,width:0,height:0},d=this.getAnchor(c),p=l.getBBox();d[0]+=r.plotLeft-(l.translateX||0),d[1]+=r.plotTop-(l.translateY||0),h.x=Math.min(0,d[0]),h.y=Math.min(0,d[1]),h.width=d[0]<0?Math.max(Math.abs(d[0]),p.width-d[0]):Math.max(Math.abs(d[0]),p.width),h.height=d[1]<0?Math.max(Math.abs(d[1]),p.height-Math.abs(d[1])):Math.max(Math.abs(d[1]),p.height),this.tracker?this.tracker.attr(h):(this.tracker=l.renderer.rect(h).addClass("highcharts-tracker").add(l),r.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(r){return r.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(r,l){let c=r.series,h=c.tooltipOptions,d=c.xAxis,p=d==null?void 0:d.dateTime,f={isFooter:l,point:r},v=h.xDateFormat||"",b=h[l?"footerFormat":"headerFormat"];return nu(this,"headerFormatter",f,function(T){if(p&&!v&&mf(r.key)&&(v=p.getXDateFormat(r.key,h.dateTimeLabelFormats)),p&&v){if(Pr(v)){let E=v;Hy[0]=A=>c.chart.time.dateFormat(E,A),v="%0"}(r.tooltipDateKeys||["key"]).forEach(E=>{b=b.replace(RegExp("point\\."+E+"([ \\)}])"),`(point.${E}:${v})$1`)})}c.chart.styledMode&&(b=this.styledModeFormat(b)),T.text=pf(b,r,this.chart)}),f.text||""}update(r){this.destroy(),this.init(this.chart,C(!0,this.options,r))}updatePosition(r){var fe;let{chart:l,container:c,distance:h,options:d,pointer:p,renderer:f}=this,{height:v=0,width:b=0}=this.getLabel(),{fixed:T,positioner:E}=d,{left:A,top:P,scaleX:O,scaleY:$}=p.getChartPosition(),q=(E||T&&this.getFixedPosition||this.getPosition).call(this,b,v,r),V=M.doc,Q=(r.plotX||0)+l.plotLeft,ee=(r.plotY||0)+l.plotTop,we;if(f&&c){if(E||T){let{scrollLeft:ve=0,scrollTop:Be=0}=((fe=l.scrollablePlotArea)==null?void 0:fe.scrollingContainer)||{};q.x+=ve+A-h,q.y+=Be+P-h}we=(d.borderWidth||0)+2*h+2,f.setSize(so(b+we,0,V.documentElement.clientWidth)-1,v+we,!1),(O!==1||$!==1)&&(oo(c,{transform:`scale(${O}, ${$})`}),Q*=O,ee*=$),Q+=A-q.x,ee+=P-q.y}this.move(Math.round(q.x),Math.round(q.y||0),Q,ee)}}(function(w){w.compose=function(r){k(tu,"Core.Tooltip")&&Gy(r,"afterInit",function(){let l=this.chart;l.options.tooltip&&(l.tooltip=new w(l,l.options.tooltip,this))})}})(W||(W={}));let F=W,{animObject:Z}=Ct,{defaultOptions:ce}=We,{format:de}=wi,{addEvent:ye,crisp:qe,erase:Xe,extend:tt,fireEvent:Qe,getNestedProperty:bt,isArray:Gt,isFunction:Kt,isNumber:an,isObject:xn,merge:nn,pick:Zt,syncTimeout:yn,removeEvent:wn,uniqueKey:li}=je;class Dn{animateBeforeDestroy(){let r=this,l={x:r.startXPos,opacity:0},c=r.getGraphicalProps();c.singular.forEach(function(h){r[h]=r[h].animate(h==="dataLabel"?{x:r[h].startXPos,y:r[h].startYPos,opacity:0}:l)}),c.plural.forEach(function(h){r[h].forEach(function(d){d.element&&d.animate(tt({x:r.startXPos},d.startYPos?{x:d.startXPos,y:d.startYPos}:{}))})})}applyOptions(r,l){let c=this.series,h=c.options.pointValKey||c.pointValKey;return tt(this,r=Dn.prototype.optionsToObject.call(this,r)),this.options=this.options?tt(this.options,r):r,r.group&&delete this.group,r.dataLabels&&delete this.dataLabels,h&&(this.y=Dn.prototype.getNestedProperty.call(this,h)),this.selected&&(this.state="select"),"name"in this&&l===void 0&&c.xAxis&&c.xAxis.hasNames&&(this.x=c.xAxis.nameToX(this)),this.x===void 0&&c?this.x=l??c.autoIncrement():an(r.x)&&c.options.relativeXValue?this.x=c.autoIncrement(r.x):typeof this.x=="string"&&(l??(l=c.chart.time.parse(this.x)),an(l)&&(this.x=l)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let r=this,l=r.series,c=l.chart,h=l.options.dataSorting,d=c.hoverPoints,p=Z(r.series.chart.renderer.globalAnimation),f=()=>{for(let v in(r.graphic||r.graphics||r.dataLabel||r.dataLabels)&&(wn(r),r.destroyElements()),r)delete r[v]};r.legendItem&&c.legend.destroyItem(r),d&&(r.setState(),Xe(d,r),d.length||(c.hoverPoints=null)),r===c.hoverPoint&&r.onMouseOut(),h!=null&&h.enabled?(this.animateBeforeDestroy(),yn(f,p.duration)):f(),c.pointCount--}this.destroyed=!0}destroyElements(r){let l=this,c=l.getGraphicalProps(r);c.singular.forEach(function(h){l[h]=l[h].destroy()}),c.plural.forEach(function(h){l[h].forEach(function(d){d!=null&&d.element&&d.destroy()}),delete l[h]})}firePointEvent(r,l,c){let h=this,d=this.series.options;h.manageEvent(r),r==="click"&&d.allowPointSelect&&(c=function(p){!h.destroyed&&h.select&&h.select(null,p.ctrlKey||p.metaKey||p.shiftKey)}),Qe(h,r,l,c)}getClassName(){var r;return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+((r=this.zone)!=null&&r.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(r){let l,c,h=this,d=[],p={singular:[],plural:[]};for((r=r||{graphic:1,dataLabel:1}).graphic&&d.push("graphic","connector"),r.dataLabel&&d.push("dataLabel","dataLabelPath","dataLabelUpper"),c=d.length;c--;)h[l=d[c]]&&p.singular.push(l);return["graphic","dataLabel"].forEach(function(f){let v=f+"s";r[f]&&h[v]&&p.plural.push(v)}),p}getNestedProperty(r){if(r)return r.indexOf("custom.")===0?bt(r,this.options):this[r]}getZone(){let r=this.series,l=r.zones,c=r.zoneAxis||"y",h,d=0;for(h=l[0];this[c]>=h.value;)h=l[++d];return this.nonZonedColor||(this.nonZonedColor=this.color),h!=null&&h.color&&!this.options.color?this.color=h.color:this.color=this.nonZonedColor,h}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(r,l,c){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=r,this.applyOptions(l,c),this.id??(this.id=li()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=r.options.nullInteraction),r.chart.pointCount++,Qe(this,"afterInit")}isValid(){return(an(this.x)||this.x instanceof Date)&&an(this.y)}optionsToObject(r){var T;let l=this.series,c=l.options.keys,h=c||l.pointArrayMap||["y"],d=h.length,p={},f,v=0,b=0;if(an(r)||r===null)p[h[0]]=r;else if(Gt(r))for(!c&&r.length>d&&((f=typeof r[0])=="string"?(T=l.xAxis)!=null&&T.dateTime?p.x=l.chart.time.parse(r[0]):p.name=r[0]:f==="number"&&(p.x=r[0]),v++);b<d;)c&&r[v]===void 0||(h[b].indexOf(".")>0?Dn.prototype.setNestedProperty(p,r[v],h[b]):p[h[b]]=r[v]),v++,b++;else typeof r=="object"&&(p=r,r.dataLabels&&(l.hasDataLabels=()=>!0),r.marker&&(l._hasPointMarkers=!0));return p}pos(r,l=this.plotY){if(!this.destroyed){let{plotX:c,series:h}=this,{chart:d,xAxis:p,yAxis:f}=h,v=0,b=0;if(an(c)&&an(l))return r&&(v=p?p.pos:d.plotLeft,b=f?f.pos:d.plotTop),d.inverted&&p&&f?[f.len-l+b,p.len-c+v]:[c+v,l+b]}}resolveColor(){let r=this.series,l=r.chart.options.chart,c=r.chart.styledMode,h,d,p=l.colorCount,f;delete this.nonZonedColor,r.options.colorByPoint?(c||(h=(d=r.options.colors||r.chart.options.colors)[r.colorCounter],p=d.length),f=r.colorCounter,r.colorCounter++,r.colorCounter===p&&(r.colorCounter=0)):(c||(h=r.color),f=r.colorIndex),this.colorIndex=Zt(this.options.colorIndex,f),this.color=Zt(this.options.color,h)}setNestedProperty(r,l,c){return c.split(".").reduce(function(h,d,p,f){let v=f.length-1===p;return h[d]=v?l:xn(h[d],!0)?h[d]:{},h[d]},r),r}shouldDraw(){return!this.isNull}tooltipFormatter(r){var v;let{chart:l,pointArrayMap:c=["y"],tooltipOptions:h}=this.series,{valueDecimals:d="",valuePrefix:p="",valueSuffix:f=""}=h;return l.styledMode&&(r=((v=l.tooltip)==null?void 0:v.styledModeFormat(r))||r),c.forEach(b=>{b="{point."+b,(p||f)&&(r=r.replace(RegExp(b+"}","g"),p+b+"}"+f)),r=r.replace(RegExp(b+"}","g"),b+":,."+d+"f}")}),de(r,this,l)}update(r,l,c,h){let d,p=this,f=p.series,v=p.graphic,b=f.chart,T=f.options;function E(){p.applyOptions(r);let A=v&&p.hasMockGraphic,P=p.y===null?!A:A;v&&P&&(p.graphic=v.destroy(),delete p.hasMockGraphic),xn(r,!0)&&(v!=null&&v.element&&r&&r.marker&&r.marker.symbol!==void 0&&(p.graphic=v.destroy()),r!=null&&r.dataLabels&&p.dataLabel&&(p.dataLabel=p.dataLabel.destroy())),d=p.index;let O={};for(let $ of f.dataColumnKeys())O[$]=p[$];f.dataTable.setRow(O,d),T.data[d]=xn(T.data[d],!0)||xn(r,!0)?p.options:Zt(r,T.data[d]),f.isDirty=f.isDirtyData=!0,!f.fixedBox&&f.hasCartesianSeries&&(b.isDirtyBox=!0),T.legendType==="point"&&(b.isDirtyLegend=!0),l&&b.redraw(c)}l=Zt(l,!0),h===!1?E():p.firePointEvent("update",{options:r},E)}remove(r,l){this.series.removePoint(this.series.data.indexOf(this),r,l)}select(r,l){let c=this,h=c.series,d=h.chart;r=Zt(r,!c.selected),this.selectedStaging=r,c.firePointEvent(r?"select":"unselect",{accumulate:l},function(){c.selected=c.options.selected=r,h.options.data[h.data.indexOf(c)]=c.options,c.setState(r&&"select"),l||d.getSelectedPoints().forEach(function(p){let f=p.series;p.selected&&p!==c&&(p.selected=p.options.selected=!1,f.options.data[f.data.indexOf(p)]=p.options,p.setState(d.hoverPoints&&f.options.inactiveOtherPoints?"inactive":""),p.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(r){let{inverted:l,pointer:c}=this.series.chart;c&&(r=r?c.normalize(r):c.getChartCoordinatesFromPoint(this,l),c.runPointActions(r,this))}onMouseOut(){let r=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(r.hoverPoints||[]).forEach(function(l){l.setState()}),r.hoverPoints=r.hoverPoint=null}manageEvent(r){var h,d,p,f,v,b,T;let l=nn(this.series.options.point,this.options),c=(h=l.events)==null?void 0:h[r];Kt(c)&&(!((d=this.hcEvents)!=null&&d[r])||((f=(p=this.hcEvents)==null?void 0:p[r])==null?void 0:f.map(E=>E.fn).indexOf(c))===-1)?((v=this.importedUserEvent)==null||v.call(this),this.importedUserEvent=ye(this,r,c),this.hcEvents&&(this.hcEvents[r].userEvent=!0)):this.importedUserEvent&&!c&&((b=this.hcEvents)!=null&&b[r])&&((T=this.hcEvents)!=null&&T[r].userEvent)&&(wn(this,r),delete this.hcEvents[r],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(r,l){var ve,Be;let c=this.series,h=this.state,d=c.options.states[r||"normal"]||{},p=ce.plotOptions[c.type].marker&&c.options.marker,f=p&&p.enabled===!1,v=((ve=p==null?void 0:p.states)==null?void 0:ve[r||"normal"])||{},b=v.enabled===!1,T=this.marker||{},E=c.chart,A=p&&c.markerAttribs,P=c.halo,O,$,q,V=c.stateMarkerGraphic,Q;if((r=r||"")===this.state&&!l||this.selected&&r!=="select"||d.enabled===!1||r&&(b||f&&v.enabled===!1)||r&&T.states&&T.states[r]&&T.states[r].enabled===!1)return;if(this.state=r,A&&(O=c.markerAttribs(this,r)),this.graphic&&!this.hasMockGraphic){if(h&&this.graphic.removeClass("highcharts-point-"+h),r&&this.graphic.addClass("highcharts-point-"+r),!E.styledMode){$=c.pointAttribs(this,r),q=Zt(E.options.chart.animation,d.animation);let Ne=$.opacity;c.options.inactiveOtherPoints&&an(Ne)&&(this.dataLabels||[]).forEach(function(Le){Le&&!Le.hasClass("highcharts-data-label-hidden")&&(Le.animate({opacity:Ne},q),Le.connector&&Le.connector.animate({opacity:Ne},q))}),this.graphic.animate($,q)}O&&this.graphic.animate(O,Zt(E.options.chart.animation,v.animation,p.animation)),V&&V.hide()}else r&&v&&(Q=T.symbol||c.symbol,V&&V.currentSymbol!==Q&&(V=V.destroy()),O&&(V?V[l?"animate":"attr"]({x:O.x,y:O.y}):Q&&(c.stateMarkerGraphic=V=E.renderer.symbol(Q,O.x,O.y,O.width,O.height,nn(p,v)).add(c.markerGroup),V.currentSymbol=Q)),!E.styledMode&&V&&this.state!=="inactive"&&V.attr(c.pointAttribs(this,r))),V&&(V[r&&this.isInside?"show":"hide"](),V.element.point=this,V.addClass(this.getClassName(),!0));let ee=d.halo,we=this.graphic||V,fe=(we==null?void 0:we.visibility)||"inherit";ee!=null&&ee.size&&we&&fe!=="hidden"&&!this.isCluster?(P||(c.halo=P=E.renderer.path().add(we.parentGroup)),P.show()[l?"animate":"attr"]({d:this.haloPath(ee.size)}),P.attr({class:"highcharts-halo highcharts-color-"+Zt(this.colorIndex,c.colorIndex)+(this.className?" "+this.className:""),visibility:fe,zIndex:-1}),P.point=this,E.styledMode||P.attr(tt({fill:this.color||c.color,"fill-opacity":ee.opacity},Vn.filterUserAttributes(ee.attributes||{})))):(Be=P==null?void 0:P.point)!=null&&Be.haloPath&&!P.point.destroyed&&P.animate({d:P.point.haloPath(0)},null,P.hide),Qe(this,"afterSetState",{state:r})}haloPath(r){let l=this.pos();return l?this.series.chart.renderer.symbols.circle(qe(l[0],1)-r,l[1]-r,2*r,2*r):[]}}let ci=Dn,{parse:Ms}=Ft,{charts:iu,composed:LP,isTouchDevice:FP}=M,{addEvent:fs,attr:BP,css:Yy,extend:Xy,find:w_,fireEvent:Ca,isNumber:gf,isObject:yf,objectEach:VP,offset:UP,pick:ao,pushUnique:zP,splat:__}=je;class Li{applyInactiveState(r=[]){var c,h;let l=[];for(let d of(r.forEach(p=>{let f=p.series;l.push(f),f.linkedParent&&l.push(f.linkedParent),f.linkedSeries&&l.push.apply(l,f.linkedSeries),f.navigatorSeries&&l.push(f.navigatorSeries),f.boosted&&f.markerGroup&&l.push.apply(l,this.chart.series.filter(v=>v.markerGroup===f.markerGroup))}),this.chart.series)){let p=d.options;((h=(c=p.states)==null?void 0:c.inactive)==null?void 0:h.enabled)!==!1&&(l.indexOf(d)===-1?d.setState("inactive",!0):p.inactiveOtherPoints&&d.setAllPointsToState("inactive"))}}destroy(){let r=this;this.eventsToUnbind.forEach(l=>l()),this.eventsToUnbind=[],!M.chartCount&&(Li.unbindDocumentMouseUp.forEach(l=>l.unbind()),Li.unbindDocumentMouseUp.length=0,Li.unbindDocumentTouchEnd&&(Li.unbindDocumentTouchEnd=Li.unbindDocumentTouchEnd())),clearInterval(r.tooltipTimeout),VP(r,function(l,c){r[c]=void 0})}getSelectionMarkerAttrs(r,l){let c={args:{chartX:r,chartY:l},attrs:{},shapeType:"rect"};return Ca(this,"getSelectionMarkerAttrs",c,h=>{let d,{chart:p,zoomHor:f,zoomVert:v}=this,{mouseDownX:b=0,mouseDownY:T=0}=p,E=h.attrs;E.x=p.plotLeft,E.y=p.plotTop,E.width=f?1:p.plotWidth,E.height=v?1:p.plotHeight,f&&(E.width=Math.max(1,Math.abs(d=r-b)),E.x=(d>0?0:d)+b),v&&(E.height=Math.max(1,Math.abs(d=l-T)),E.y=(d>0?0:d)+T)}),c}drag(r){let{chart:l}=this,{mouseDownX:c=0,mouseDownY:h=0}=l,{panning:d,panKey:p,selectionMarkerFill:f}=l.options.chart,v=l.plotLeft,b=l.plotTop,T=l.plotWidth,E=l.plotHeight,A=yf(d)?d.enabled:d,P=p&&r[`${p}Key`],O=r.chartX,$=r.chartY,q,V=this.selectionMarker;if((!V||!V.touch)&&(O<v?O=v:O>v+T&&(O=v+T),$<b?$=b:$>b+E&&($=b+E),this.hasDragged=Math.sqrt(Math.pow(c-O,2)+Math.pow(h-$,2)),this.hasDragged>10)){q=l.isInsidePlot(c-v,h-b,{visiblePlotOnly:!0});let{shapeType:Q,attrs:ee}=this.getSelectionMarkerAttrs(O,$);this.hasZoom&&q&&!P&&!V&&(this.selectionMarker=V=l.renderer[Q](),V.attr({class:"highcharts-selection-marker",zIndex:7}).add(),l.styledMode||V.attr({fill:f||Ms("#334eff").setOpacity(.25).get()})),V&&V.attr(ee),q&&!V&&A&&l.pan(r,d)}}dragStart(r){let l=this.chart;l.mouseIsDown=r.type,l.cancelClick=!1,l.mouseDownX=r.chartX,l.mouseDownY=r.chartY}getSelectionBox(r){let l={args:{marker:r},result:r.getBBox()};return Ca(this,"getSelectionBox",l),l.result}drop(r){let l,{chart:c,selectionMarker:h}=this;for(let d of c.axes)d.isPanning&&(d.isPanning=!1,(d.options.startOnTick||d.options.endOnTick||d.series.some(p=>p.boosted))&&(d.forceRedraw=!0,d.setExtremes(d.userMin,d.userMax,!1),l=!0));if(l&&c.redraw(),h&&r){if(this.hasDragged){let d=this.getSelectionBox(h);c.transform({axes:c.axes.filter(p=>p.zoomEnabled&&(p.coll==="xAxis"&&this.zoomX||p.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:r,xAxis:[],yAxis:[],...d},from:d})}gf(c.index)&&(this.selectionMarker=h.destroy())}c&&gf(c.index)&&(Yy(c.container,{cursor:c._cursor}),c.cancelClick=this.hasDragged>10,c.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[],this.hasPinchMoved=!1)}findNearestKDPoint(r,l,c){let h;return r.forEach(function(d){let p=!(d.noSharedTooltip&&l)&&0>d.options.findNearestPointBy.indexOf("y"),f=d.searchPoint(c,p);yf(f,!0)&&f.series&&(!yf(h,!0)||function(v,b){var P,O;let T=v.distX-b.distX,E=v.dist-b.dist,A=((P=b.series.group)==null?void 0:P.zIndex)-((O=v.series.group)==null?void 0:O.zIndex);return T!==0&&l?T:E!==0?E:A!==0?A:v.series.index>b.series.index?-1:1}(h,f)>0)&&(h=f)}),h}getChartCoordinatesFromPoint(r,l){let{xAxis:c,yAxis:h}=r.series,d=r.shapeArgs;if(c&&h){let p=r.clientX??r.plotX??0,f=r.plotY||0;return r.isNode&&d&&gf(d.x)&&gf(d.y)&&(p=d.x,f=d.y),l?{chartX:h.len+h.pos-f,chartY:c.len+c.pos-p}:{chartX:p+c.pos,chartY:f+h.pos}}if(d!=null&&d.x&&d.y)return{chartX:d.x,chartY:d.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:r}=this.chart,l=UP(r);this.chartPosition={left:l.left,top:l.top,scaleX:1,scaleY:1};let{offsetHeight:c,offsetWidth:h}=r;return h>2&&c>2&&(this.chartPosition.scaleX=l.width/h,this.chartPosition.scaleY=l.height/c),this.chartPosition}getCoordinates(r){let l={xAxis:[],yAxis:[]};for(let c of this.chart.axes)l[c.isXAxis?"xAxis":"yAxis"].push({axis:c,value:c.toValue(r[c.horiz?"chartX":"chartY"])});return l}getHoverData(r,l,c,h,d,p){let f=[],v=function(P){return P.visible&&!(!d&&P.directTouch)&&ao(P.options.enableMouseTracking,!0)},b=l,T,E={chartX:p?p.chartX:void 0,chartY:p?p.chartY:void 0,shared:d};Ca(this,"beforeGetHoverData",E),T=b&&!b.stickyTracking?[b]:c.filter(P=>P.stickyTracking&&(E.filter||v)(P));let A=h&&r||!p?r:this.findNearestKDPoint(T,d,p);return b=A==null?void 0:A.series,A&&(d&&!b.noSharedTooltip?(T=c.filter(function(P){return E.filter?E.filter(P):v(P)&&!P.noSharedTooltip})).forEach(function(P){var q;let O=(q=P.options)==null?void 0:q.nullInteraction,$=w_(P.points,function(V){return V.x===A.x&&(!V.isNull||!!O)});yf($)&&(P.boosted&&P.boost&&($=P.boost.getPoint($)),f.push($))}):f.push(A)),Ca(this,"afterGetHoverData",E={hoverPoint:A}),{hoverPoint:E.hoverPoint,hoverSeries:b,hoverPoints:f}}getPointFromEvent(r){let l=r.target,c;for(;l&&!c;)c=l.point,l=l.parentNode;return c}onTrackerMouseOut(r){let l=this.chart,c=r.relatedTarget,h=l.hoverSeries;this.isDirectTouch=!1,!h||!c||h.stickyTracking||this.inClass(c,"highcharts-tooltip")||this.inClass(c,"highcharts-series-"+h.index)&&this.inClass(c,"highcharts-tracker")||h.onMouseOut()}inClass(r,l){let c=r,h;for(;c;){if(h=BP(c,"class")){if(h.indexOf(l)!==-1)return!0;if(h.indexOf("highcharts-container")!==-1)return!1}c=c.parentElement}}constructor(r,l){var c;this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=l,this.chart=r,this.runChartClick=!!((c=l.chart.events)!=null&&c.click),this.pinchDown=[],this.setDOMEvents(),Ca(this,"afterInit")}normalize(r,l){let c=r.touches,h=c?c.length?c.item(0):ao(c.changedTouches,r.changedTouches)[0]:r;l||(l=this.getChartPosition());let d=h.pageX-l.left,p=h.pageY-l.top;return Xy(r,{chartX:Math.round(d/=l.scaleX),chartY:Math.round(p/=l.scaleY)})}onContainerClick(r){let l=this.chart,c=l.hoverPoint,h=this.normalize(r),d=l.plotLeft,p=l.plotTop;!l.cancelClick&&(c&&this.inClass(h.target,"highcharts-tracker")?(Ca(c.series,"click",Xy(h,{point:c})),l.hoverPoint&&c.firePointEvent("click",h)):(Xy(h,this.getCoordinates(h)),l.isInsidePlot(h.chartX-d,h.chartY-p,{visiblePlotOnly:!0})&&Ca(l,"click",h)))}onContainerMouseDown(r){var c;let l=(1&(r.buttons||r.button))==1;r=this.normalize(r),M.isFirefox&&r.button!==0&&this.onContainerMouseMove(r),(r.button===void 0||l)&&(this.zoomOption(r),l&&((c=r.preventDefault)==null||c.call(r)),this.dragStart(r))}onContainerMouseLeave(r){let{pointer:l}=iu[ao(Li.hoverChartIndex,-1)]||{};r=this.normalize(r),this.onContainerMouseMove(r),l&&!this.inClass(r.relatedTarget,"highcharts-tooltip")&&(l.reset(),l.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(r){var d;let l=this.chart,c=l.tooltip,h=this.normalize(r);this.setHoverChartIndex(r),(l.mouseIsDown==="mousedown"||this.touchSelect(h))&&this.drag(h),!((d=l.exporting)!=null&&d.openMenu)&&(this.inClass(h.target,"highcharts-tracker")||l.isInsidePlot(h.chartX-l.plotLeft,h.chartY-l.plotTop,{visiblePlotOnly:!0}))&&!(c!=null&&c.shouldStickOnContact(h))&&(this.inClass(h.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(h))}onDocumentTouchEnd(r){this.onDocumentMouseUp(r)}onContainerTouchMove(r){this.touchSelect(r)?this.onContainerMouseMove(r):this.touch(r)}onContainerTouchStart(r){this.touchSelect(r)?this.onContainerMouseDown(r):(this.zoomOption(r),this.touch(r,!0))}onDocumentMouseMove(r){let l=this.chart,c=l.tooltip,h=this.chartPosition,d=this.normalize(r,h);!h||l.isInsidePlot(d.chartX-l.plotLeft,d.chartY-l.plotTop,{visiblePlotOnly:!0})||c!=null&&c.shouldStickOnContact(d)||d.target!==l.container.ownerDocument&&this.inClass(d.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(r){var l,c,h;r!=null&&r.touches&&this.hasPinchMoved&&((l=r==null?void 0:r.preventDefault)==null||l.call(r)),(h=(c=iu[ao(Li.hoverChartIndex,-1)])==null?void 0:c.pointer)==null||h.drop(r)}pinch(r){let l=this,{chart:c,hasZoom:h,lastTouches:d}=l,p=[].map.call(r.touches||[],E=>l.normalize(E)),f=p.length,v=f===1&&(l.inClass(r.target,"highcharts-tracker")&&c.runTrackerClick||l.runChartClick),b=c.tooltip,T=f===1&&ao(b==null?void 0:b.options.followTouchMove,!0);f>1?l.initiated=!0:T&&(l.initiated=!1),h&&l.initiated&&!v&&r.cancelable!==!1&&r.preventDefault(),r.type==="touchstart"?(l.pinchDown=p,l.res=!0,c.mouseDownX=r.chartX):T?this.runPointActions(l.normalize(r)):d&&(Ca(c,"touchpan",{originalEvent:r,touches:p},()=>{let E=A=>{let P=A[0],O=A[1]||P;return{x:P.chartX,y:P.chartY,width:O.chartX-P.chartX,height:O.chartY-P.chartY}};c.transform({axes:c.axes.filter(A=>A.zoomEnabled&&(this.zoomHor&&A.horiz||this.zoomVert&&!A.horiz)),to:E(p),from:E(d),trigger:r.type})}),l.res&&(l.res=!1,this.reset(!1,0))),l.lastTouches=p}reset(r,l){let c=this.chart,h=c.hoverSeries,d=c.hoverPoint,p=c.hoverPoints,f=c.tooltip,v=f!=null&&f.shared?p:d;r&&v&&__(v).forEach(function(b){b.series.isCartesian&&b.plotX===void 0&&(r=!1)}),r?f&&v&&__(v).length&&(f.refresh(v),f.shared&&p?p.forEach(function(b){b.setState(b.state,!0),b.series.isCartesian&&(b.series.xAxis.crosshair&&b.series.xAxis.drawCrosshair(null,b),b.series.yAxis.crosshair&&b.series.yAxis.drawCrosshair(null,b))}):d&&(d.setState(d.state,!0),c.axes.forEach(function(b){b.crosshair&&d.series[b.coll]===b&&b.drawCrosshair(null,d)}))):(d&&d.onMouseOut(),p&&p.forEach(function(b){b.setState()}),h&&h.onMouseOut(),f&&f.hide(l),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),c.axes.forEach(function(b){b.hideCrosshair()}),c.hoverPoints=c.hoverPoint=void 0)}runPointActions(r,l,c){var $;let h=this.chart,d=h.series,p=($=h.tooltip)!=null&&$.options.enabled?h.tooltip:void 0,f=!!p&&p.shared,v=l||h.hoverPoint,b=(v==null?void 0:v.series)||h.hoverSeries,T=(!r||r.type!=="touchmove")&&(!!l||(b==null?void 0:b.directTouch)&&this.isDirectTouch),E=this.getHoverData(v,b,d,T,f,r);v=E.hoverPoint,b=E.hoverSeries;let A=E.hoverPoints,P=(b==null?void 0:b.tooltipOptions.followPointer)&&!b.tooltipOptions.split,O=f&&b&&!b.noSharedTooltip;if(v&&(c||v!==h.hoverPoint||p!=null&&p.isHidden)){if((h.hoverPoints||[]).forEach(function(q){A.indexOf(q)===-1&&q.setState()}),h.hoverSeries!==b&&b.onMouseOver(),this.applyInactiveState(A),(A||[]).forEach(function(q){q.setState("hover")}),h.hoverPoint&&h.hoverPoint.firePointEvent("mouseOut"),!v.series)return;h.hoverPoints=A,h.hoverPoint=v,v.firePointEvent("mouseOver",void 0,()=>{p&&v&&p.refresh(O?A:v,r)})}else if(P&&p&&!p.isHidden){let q=p.getAnchor([{}],r);h.isInsidePlot(q[0],q[1],{visiblePlotOnly:!0})&&p.updatePosition({plotX:q[0],plotY:q[1]})}this.unDocMouseMove||(this.unDocMouseMove=fs(h.container.ownerDocument,"mousemove",q=>{var V,Q;return(Q=(V=iu[Li.hoverChartIndex??-1])==null?void 0:V.pointer)==null?void 0:Q.onDocumentMouseMove(q)}),this.eventsToUnbind.push(this.unDocMouseMove)),h.axes.forEach(function(q){var ee;let V,Q=((ee=q.crosshair)==null?void 0:ee.snap)??!0;Q&&((V=h.hoverPoint)&&V.series[q.coll]===q||(V=w_(A,we=>{var fe;return((fe=we.series)==null?void 0:fe[q.coll])===q}))),V||!Q?q.drawCrosshair(r,V):q.hideCrosshair()})}setDOMEvents(){let r=this.chart.container,l=r.ownerDocument;r.onmousedown=this.onContainerMouseDown.bind(this),r.onmousemove=this.onContainerMouseMove.bind(this),r.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(fs(r,"mouseenter",this.onContainerMouseEnter.bind(this)),fs(r,"mouseleave",this.onContainerMouseLeave.bind(this))),Li.unbindDocumentMouseUp.some(h=>h.doc===l)||Li.unbindDocumentMouseUp.push({doc:l,unbind:fs(l,"mouseup",this.onDocumentMouseUp.bind(this))});let c=this.chart.renderTo.parentElement;for(;c&&c.tagName!=="BODY";)this.eventsToUnbind.push(fs(c,"scroll",()=>{delete this.chartPosition})),c=c.parentElement;this.eventsToUnbind.push(fs(r,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),fs(r,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),Li.unbindDocumentTouchEnd||(Li.unbindDocumentTouchEnd=fs(l,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),fs(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){var d,p;if(!FP)return;let r=this.pointerCaptureEventsToUnbind,l=this.chart,c=l.container,h=ao((d=l.options.tooltip)==null?void 0:d.followTouchMove,!0)&&l.series.some(f=>f.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&h?(r.push(fs(c,"pointerdown",f=>{var v,b;(v=f.target)!=null&&v.hasPointerCapture(f.pointerId)&&((b=f.target)==null||b.releasePointerCapture(f.pointerId))}),fs(c,"pointermove",f=>{var v,b;(b=(v=l.pointer)==null?void 0:v.getPointFromEvent(f))==null||b.onMouseOver(f)})),l.styledMode||Yy(c,{"touch-action":"none"}),c.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!h&&(r.forEach(f=>f()),r.length=0,l.styledMode||Yy(c,{"touch-action":ao((p=l.options.chart.style)==null?void 0:p["touch-action"],"manipulation")}),c.className=c.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(r){var h;let l=this.chart,c=M.charts[ao(Li.hoverChartIndex,-1)];if(c&&c!==l){let d={relatedTarget:l.container};r&&!(r!=null&&r.relatedTarget)&&Object.assign({},r,d),(h=c.pointer)==null||h.onContainerMouseLeave(r||d)}c!=null&&c.mouseIsDown||(Li.hoverChartIndex=l.index)}touch(r,l){var p;let c,{chart:h,pinchDown:d=[]}=this;this.setHoverChartIndex(),(r=this.normalize(r)).touches.length===1?h.isInsidePlot(r.chartX-h.plotLeft,r.chartY-h.plotTop,{visiblePlotOnly:!0})&&!((p=h.exporting)!=null&&p.openMenu)?(l&&this.runPointActions(r),r.type==="touchmove"&&(this.hasPinchMoved=c=!!d[0]&&Math.pow(d[0].chartX-r.chartX,2)+Math.pow(d[0].chartY-r.chartY,2)>=16),ao(c,!0)&&this.pinch(r)):l&&this.reset():r.touches.length===2&&this.pinch(r)}touchSelect(r){return!!(this.chart.zooming.singleTouch&&r.touches&&r.touches.length===1)}zoomOption(r){let l=this.chart,c=l.inverted,h=l.zooming.type||"",d,p;/touch/.test(r.type)&&(h=ao(l.zooming.pinchType,h)),this.zoomX=d=/x/.test(h),this.zoomY=p=/y/.test(h),this.zoomHor=d&&!c||p&&c,this.zoomVert=p&&!c||d&&c,this.hasZoom=d||p}}Li.unbindDocumentMouseUp=[],function(w){w.compose=function(r){zP(LP,"Core.Pointer")&&fs(r,"beforeRender",function(){this.pointer=new w(this,this.options)})}}(Li||(Li={}));let E_=Li;(function(w){w.setLength=function(r,l,c){return Array.isArray(r)?(r.length=l,r):r[c?"subarray":"slice"](0,l)},w.splice=function(r,l,c,h,d=[]){if(Array.isArray(r))return Array.isArray(d)||(d=Array.from(d)),{removed:r.splice(l,c,...d),array:r};let p=Object.getPrototypeOf(r).constructor,f=r[h?"subarray":"slice"](l,l+c),v=new p(r.length-c+d.length);return v.set(r.subarray(0,l),0),v.set(d,l),v.set(r.subarray(l+c),l+d.length),{removed:f,array:v}}})(z||(z={}));let{setLength:qP,splice:k_}=z,{fireEvent:Qy,objectEach:Kh,uniqueKey:Yh}=je,vf=class{constructor(w={}){this.autoId=!w.id,this.columns={},this.id=w.id||Yh(),this.modified=this,this.rowCount=0,this.versionTag=Yh();let r=0;Kh(w.columns||{},(l,c)=>{this.columns[c]=l.slice(),r=Math.max(r,l.length)}),this.applyRowCount(r)}applyRowCount(w){this.rowCount=w,Kh(this.columns,(r,l)=>{r.length!==w&&(this.columns[l]=qP(r,w))})}deleteRows(w,r=1){if(r>0&&w<this.rowCount){let l=0;Kh(this.columns,(c,h)=>{this.columns[h]=k_(c,w,r).array,l=c.length}),this.rowCount=l}Qy(this,"afterDeleteRows",{rowIndex:w,rowCount:r}),this.versionTag=Yh()}getColumn(w,r){return this.columns[w]}getColumns(w,r){return(w||Object.keys(this.columns)).reduce((l,c)=>(l[c]=this.columns[c],l),{})}getRow(w,r){return(r||Object.keys(this.columns)).map(l=>{var c;return(c=this.columns[l])==null?void 0:c[w]})}setColumn(w,r=[],l=0,c){this.setColumns({[w]:r},l,c)}setColumns(w,r,l){let c=this.rowCount;Kh(w,(h,d)=>{this.columns[d]=h.slice(),c=h.length}),this.applyRowCount(c),l!=null&&l.silent||(Qy(this,"afterSetColumns"),this.versionTag=Yh())}setRow(w,r=this.rowCount,l,c){let{columns:h}=this,d=l?this.rowCount+1:r+1;Kh(w,(p,f)=>{let v=h[f]||(c==null?void 0:c.addColumns)!==!1&&Array(d);v&&(l?v=k_(v,r,0,!0,[p]).array:v[r]=p,h[f]=v)}),d>this.rowCount&&this.applyRowCount(d),c!=null&&c.silent||(Qy(this,"afterSetRows"),this.versionTag=Yh())}},{extend:$P,merge:HP,pick:T_}=je;(function(w){function r(l,c,h){var we,fe;let d=this.legendItem=this.legendItem||{},{chart:p,options:f}=this,{baseline:v=0,symbolWidth:b,symbolHeight:T}=l,E=this.symbol||"circle",A=T/2,P=p.renderer,O=d.group,$=v-Math.round((((we=l.fontMetrics)==null?void 0:we.b)||T)*(h?.4:.3)),q={},V,Q=f.marker,ee=0;if(p.styledMode||(q["stroke-width"]=Math.min(f.lineWidth||0,24),f.dashStyle?q.dashstyle=f.dashStyle:f.linecap!=="square"&&(q["stroke-linecap"]="round")),d.line=P.path().addClass("highcharts-graph").attr(q).add(O),h&&(d.area=P.path().addClass("highcharts-area").add(O)),q["stroke-linecap"]&&(ee=Math.min(d.line.strokeWidth(),b)/2),b){let ve=[["M",ee,$],["L",b-ee,$]];d.line.attr({d:ve}),(fe=d.area)==null||fe.attr({d:[...ve,["L",b-ee,v],["L",ee,v]]})}if(Q&&Q.enabled!==!1&&b){let ve=Math.min(T_(Q.radius,A),A);E.indexOf("url")===0&&(Q=HP(Q,{width:T,height:T}),ve=0),d.symbol=V=P.symbol(E,b/2-ve,$-ve,2*ve,2*ve,$P({context:"legend"},Q)).addClass("highcharts-point").add(O),V.isMarker=!0}}w.areaMarker=function(l,c){r.call(this,l,c,!0)},w.lineMarker=r,w.rectangle=function(l,c){let h=c.legendItem||{},d=l.options,p=l.symbolHeight,f=d.squareSymbol,v=f?p:l.symbolWidth;h.symbol=this.chart.renderer.rect(f?(l.symbolWidth-p)/2:0,l.baseline-p+1,v,p,T_(l.options.symbolRadius,p/2)).addClass("highcharts-point").attr({zIndex:3}).add(h.group)}})(J||(J={}));let C_=J,{defaultOptions:S_}=We,{extend:WP,extendClass:GP,merge:KP}=je;(function(w){function r(l,c){let h=S_.plotOptions||{},d=c.defaultOptions,p=c.prototype;return p.type=l,p.pointClass||(p.pointClass=ci),!w.seriesTypes[l]&&(d&&(h[l]=d),w.seriesTypes[l]=c,!0)}w.seriesTypes=M.seriesTypes,w.registerSeriesType=r,w.seriesType=function(l,c,h,d,p){let f=S_.plotOptions||{};if(c=c||"",f[l]=KP(f[c],h),delete w.seriesTypes[l],r(l,GP(w.seriesTypes[c]||Mr,d)),w.seriesTypes[l].prototype.type=l,p){class v extends ci{}WP(v.prototype,p),w.seriesTypes[l].prototype.pointClass=v}return w.seriesTypes[l]}})(te||(te={}));let ui=te,{animObject:A_,setAnimation:YP}=Ct,{defaultOptions:xf}=We,{registerEventOptions:XP}=wa,{svg:QP,win:JP}=M,{seriesTypes:ru}=ui,{format:ZP}=wi,{arrayMax:Jy,arrayMin:N_,clamp:j_,correctFloat:I_,crisp:eM,defined:Mi,destroyObjectProperties:tM,diffObjects:nM,erase:P_,error:bf,extend:su,find:iM,fireEvent:ri,getClosestDistance:rM,getNestedProperty:M_,insertItem:R_,isArray:D_,isNumber:Fi,isString:sM,merge:Xh,objectEach:Zy,pick:si,removeEvent:oM,syncTimeout:O_}=je;class Rs{constructor(){this.zoneAxis="y"}init(r,l){var v,b,T;let c;ri(this,"init",{options:l}),this.dataTable??(this.dataTable=new vf);let h=r.series;this.eventsToUnbind=[],this.chart=r,this.options=this.setOptions(l);let d=this.options,p=d.visible!==!1;this.linkedSeries=[],this.bindAxes(),su(this,{name:d.name,state:"",visible:p,selected:d.selected===!0}),XP(this,d);let f=d.events;(f!=null&&f.click||(b=(v=d.point)==null?void 0:v.events)!=null&&b.click||d.allowPointSelect)&&(r.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(r.hasCartesianSeries=!0),h.length&&(c=h[h.length-1]),this._i=si(c==null?void 0:c._i,-1)+1,this.opacity=this.options.opacity,r.orderItems("series",R_(this,h)),(T=d.dataSorting)!=null&&T.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(d.data,!1),ri(this,"afterInit")}is(r){return ru[r]&&this instanceof ru[r]}bindAxes(){let r,l=this,c=l.options,h=l.chart;ri(this,"bindAxes",null,function(){(l.axisTypes||[]).forEach(function(d){(h[d]||[]).forEach(function(p){r=p.options,(si(c[d],0)===p.index||c[d]!==void 0&&c[d]===r.id)&&(R_(l,p.series),l[d]=p,p.isDirty=!0)}),l[d]||l.optionalAxis===d||bf(18,!0,h)})}),ri(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(r,l){let c=r.marker,h=l.marker||{};return c&&(h.enabled&&!c.enabled||h.symbol!==c.symbol||h.height!==c.height||h.width!==c.width)}autoIncrement(r){let l,c=this.options,{pointIntervalUnit:h,relativeXValue:d}=this.options,p=this.chart.time,f=this.xIncrement??p.parse(c.pointStart)??0;if(this.pointInterval=l=si(this.pointInterval,c.pointInterval,1),d&&Fi(r)&&(l*=r),h){let v=p.toParts(f);h==="day"?v[2]+=l:h==="month"?v[1]+=l:h==="year"&&(v[0]+=l),l=p.makeTime.apply(p,v)-f}return d&&Fi(r)?f+l:(this.xIncrement=f+l,f)}setDataSortingOptions(){let r=this.options;su(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),Mi(r.pointRange)||(r.pointRange=1)}setOptions(r){var q,V;let l,c=this.chart,h=c.options.plotOptions,d=c.userOptions||{},p=Xh(r),f=c.styledMode,v={plotOptions:h,userOptions:p};ri(this,"setOptions",v);let b=v.plotOptions[this.type],T=d.plotOptions||{},E=T.series||{},A=xf.plotOptions[this.type]||{},P=T[this.type]||{};b.dataLabels=this.mergeArrays(A.dataLabels,b.dataLabels),this.userOptions=v.userOptions;let O=Xh(b,h.series,P,p);this.tooltipOptions=Xh(xf.tooltip,(q=xf.plotOptions.series)==null?void 0:q.tooltip,A==null?void 0:A.tooltip,c.userOptions.tooltip,(V=T.series)==null?void 0:V.tooltip,P.tooltip,p.tooltip),this.stickyTracking=si(p.stickyTracking,P.stickyTracking,E.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||O.stickyTracking),b.marker===null&&delete O.marker,this.zoneAxis=O.zoneAxis||"y";let $=this.zones=(O.zones||[]).map(Q=>({...Q}));return(O.negativeColor||O.negativeFillColor)&&!O.zones&&(l={value:O[this.zoneAxis+"Threshold"]||O.threshold||0,className:"highcharts-negative"},f||(l.color=O.negativeColor,l.fillColor=O.negativeFillColor),$.push(l)),$.length&&Mi($[$.length-1].value)&&$.push(f?{}:{color:this.color,fillColor:this.fillColor}),ri(this,"afterSetOptions",{options:O}),O}getName(){return this.options.name??ZP(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(r,l,c){let h,d,p=this.chart,f=`${r}Index`,v=`${r}Counter`,b=(c==null?void 0:c.length)||p.options.chart.colorCount;!l&&(Mi(d=si(r==="color"?this.options.colorIndex:void 0,this[f]))?h=d:(p.series.length||(p[v]=0),h=p[v]%b,p[v]+=1),c&&(l=c[h])),h!==void 0&&(this[f]=h),this[r]=l}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||xf.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let r=this.options.marker;this.getCyclic("symbol",r.symbol,this.chart.options.symbols)}getColumn(r,l){return(l?this.dataTable.modified:this.dataTable).getColumn(r,!0)||[]}findPointIndex(r,l){var E;let c,h,d,{id:p,x:f}=r,v=this.points,b=this.options.dataSorting,T=this.cropStart||0;if(p){let A=this.chart.get(p);A instanceof ci&&(c=A)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let A=P=>!P.touched&&P.index===r.index;if(b!=null&&b.matchByName?A=P=>!P.touched&&P.name===r.name:this.options.relativeXValue&&(A=P=>!P.touched&&P.options.x===r.x),!(c=iM(v,A)))return}return c&&(d=c==null?void 0:c.index)!==void 0&&(h=!0),d===void 0&&Fi(f)&&(d=this.getColumn("x").indexOf(f,l)),d!==-1&&d!==void 0&&this.cropped&&(d=d>=T?d-T:d),!h&&Fi(d)&&((E=v[d])!=null&&E.touched)&&(d=void 0),d}updateData(r,l){var $;let{options:c,requireSorting:h}=this,d=c.dataSorting,p=this.points,f=[],v=r.length===p.length,b,T,E,A,P=!0;if(this.xIncrement=null,r.forEach((q,V)=>{var ve;let Q,ee=Mi(q)&&this.pointClass.prototype.optionsToObject.call({series:this},q)||{},{id:we,x:fe}=ee;we||Fi(fe)?((Q=this.findPointIndex(ee,A))===-1||Q===void 0?f.push(q):p[Q]&&q!==((ve=c.data)==null?void 0:ve[Q])?(p[Q].update(q,!1,void 0,!1),p[Q].touched=!0,h&&(A=Q+1)):p[Q]&&(p[Q].touched=!0),(!v||V!==Q||d!=null&&d.enabled||this.hasDerivedData)&&(b=!0)):f.push(q)},this),b)for(T=p.length;T--;)(E=p[T])&&!E.touched&&(($=E.remove)==null||$.call(E,!1,l));else v&&!(d!=null&&d.enabled)?(r.forEach((q,V)=>{q===p[V].y||p[V].destroyed||p[V].update(q,!1,void 0,!1)}),f.length=0):P=!1;if(p.forEach(q=>{q&&(q.touched=!1)}),!P)return!1;f.forEach(q=>{this.addPoint(q,!1,void 0,void 0,!1)},this);let O=this.getColumn("x");return this.xIncrement===null&&O.length&&(this.xIncrement=Jy(O),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(r,l=!0,c,h){var Be,Ne;let d=this.points,p=(d==null?void 0:d.length)||0,f=this.options,v=this.chart,b=f.dataSorting,T=this.xAxis,E=f.turboThreshold,A=this.dataTable,P=this.dataColumnKeys(),O=this.pointValKey||"y",$=(this.pointArrayMap||[]).length,q=f.keys,V,Q,ee=0,we=1,fe;v.options.chart.allowMutatingData||(f.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,fe=Xh(!0,r));let ve=(r=fe||r||[]).length;if(b!=null&&b.enabled&&(r=this.sortData(r)),v.options.chart.allowMutatingData&&h!==!1&&ve&&p&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(Q=this.updateData(r,c)),!Q){this.xIncrement=null,this.colorCounter=0;let Le=E&&!f.relativeXValue&&ve>E;if(Le){let it=this.getFirstValidPoint(r),dt=this.getFirstValidPoint(r,ve-1,-1),Et=Nt=>!!(D_(Nt)&&(q||Fi(Nt[0])));if(Fi(it)&&Fi(dt)){let Nt=[],qt=[];for(let Bt of r)Nt.push(this.autoIncrement()),qt.push(Bt);A.setColumns({x:Nt,[O]:qt})}else if(Et(it)&&Et(dt))if($){let Nt=+(it.length===$),qt=Array(P.length).fill(0).map(()=>[]);for(let Bt of r){Nt&&qt[0].push(this.autoIncrement());for(let Wt=Nt;Wt<=$;Wt++)(Be=qt[Wt])==null||Be.push(Bt[Wt-Nt])}A.setColumns(P.reduce((Bt,Wt,Dt)=>(Bt[Wt]=qt[Dt],Bt),{}))}else{q&&(ee=q.indexOf("x"),we=q.indexOf("y"),ee=ee>=0?ee:0,we=we>=0?we:1),it.length===1&&(we=0);let Nt=[],qt=[];if(ee===we)for(let Bt of r)Nt.push(this.autoIncrement()),qt.push(Bt[we]);else for(let Bt of r)Nt.push(Bt[ee]),qt.push(Bt[we]);A.setColumns({x:Nt,[O]:qt})}else Le=!1}if(!Le){let it=P.reduce((dt,Et)=>(dt[Et]=[],dt),{});for(V=0;V<ve;V++){let dt=this.pointClass.prototype.applyOptions.apply({series:this},[r[V]]);for(let Et of P)it[Et][V]=dt[Et]}A.setColumns(it)}for(sM(this.getColumn("y")[0])&&bf(14,!0,v),this.data=[],this.options.data=this.userOptions.data=r,V=p;V--;)(Ne=d[V])==null||Ne.destroy();T&&(T.minRange=T.userMinRange),this.isDirty=v.isDirtyBox=!0,this.isDirtyData=!!d,c=!1}f.legendType==="point"&&(this.processData(),this.generatePoints()),l&&v.redraw(c)}sortData(r){let l=this,c=l.options.dataSorting.sortKey||"y",h=function(d,p){return Mi(p)&&d.pointClass.prototype.optionsToObject.call({series:d},p)||{}};return r.forEach(function(d,p){r[p]=h(l,d),r[p].index=p},this),r.concat().sort((d,p)=>{let f=M_(c,d),v=M_(c,p);return v<f?-1:+(v>f)}).forEach(function(d,p){d.x=p},this),l.linkedSeries&&l.linkedSeries.forEach(function(d){var v;let p=d.options,f=p.data;!((v=p.dataSorting)!=null&&v.enabled)&&f&&(f.forEach(function(b,T){f[T]=h(d,b),r[T]&&(f[T].x=r[T].x,f[T].index=T)}),d.setData(f,!1))}),r}getProcessedData(r){let l=this,{dataTable:c,isCartesian:h,options:d,xAxis:p}=l,f=d.cropThreshold,v=r||l.getExtremesFromAll,b=p==null?void 0:p.logarithmic,T=c.rowCount,E,A,P=0,O,$,q,V=l.getColumn("x"),Q=c,ee=!1;return p&&($=(O=p.getExtremes()).min,q=O.max,ee=!!(p.categories&&!p.names.length),h&&l.sorted&&!v&&(!f||T>f||l.forceCrop)&&(V[T-1]<$||V[0]>q?Q=new vf:l.getColumn(l.pointValKey||"y").length&&(V[0]<$||V[T-1]>q)&&(Q=(E=this.cropData(c,$,q)).modified,P=E.start,A=!0))),V=Q.getColumn("x")||[],{modified:Q,cropped:A,cropStart:P,closestPointRange:rM([b?V.map(b.log2lin):V],()=>l.requireSorting&&!ee&&bf(15,!1,l.chart))}}processData(r){let l=this.xAxis,c=this.dataTable;if(this.isCartesian&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!r)return!1;let h=this.getProcessedData();c.modified=h.modified,this.cropped=h.cropped,this.cropStart=h.cropStart,this.closestPointRange=this.basePointRange=h.closestPointRange,ri(this,"afterProcessData")}cropData(r,l,c){let h=r.getColumn("x",!0)||[],d=h.length,p={},f,v,b=0,T=d;for(f=0;f<d;f++)if(h[f]>=l){b=Math.max(0,f-1);break}for(v=f;v<d;v++)if(h[v]>c){T=v+1;break}for(let E of this.dataColumnKeys()){let A=r.getColumn(E,!0);A&&(p[E]=A.slice(b,T))}return{modified:new vf({columns:p}),start:b,end:T}}generatePoints(){var fe,ve,Be;let r=this.options,l=this.processedData||r.data,c=this.dataTable.modified,h=this.getColumn("x",!0),d=this.pointClass,p=c.rowCount,f=this.cropStart||0,v=this.hasGroupedData,b=r.keys,T=[],E=(fe=r.dataGrouping)!=null&&fe.groupAll?f:0,A=(ve=this.xAxis)==null?void 0:ve.categories,P=this.pointArrayMap||["y"],O=this.dataColumnKeys(),$,q,V,Q,ee=this.data,we;if(!ee&&!v){let Ne=[];Ne.length=(l==null?void 0:l.length)||0,ee=this.data=Ne}for(b&&v&&(this.options.keys=!1),Q=0;Q<p;Q++)q=f+Q,v?((V=new d(this,c.getRow(Q,O)||[])).dataGroup=this.groupMap[E+Q],(Be=V.dataGroup)!=null&&Be.options&&(V.options=V.dataGroup.options,su(V,V.dataGroup.options),delete V.dataLabels)):(V=ee[q],we=l?l[q]:c.getRow(Q,P),V||we===void 0||(ee[q]=V=new d(this,we,h[Q]))),V&&(V.index=v?E+Q:q,T[Q]=V,V.category=(A==null?void 0:A[V.x])??V.x,V.key=V.name??V.category);if(this.options.keys=b,ee&&(p!==($=ee.length)||v))for(Q=0;Q<$;Q++)Q!==f||v||(Q+=p),ee[Q]&&(ee[Q].destroyElements(),ee[Q].plotX=void 0);this.data=ee,this.points=T,ri(this,"afterGeneratePoints")}getXExtremes(r){return{min:N_(r),max:Jy(r)}}getExtremes(r,l){var fe;let{xAxis:c,yAxis:h}=this,d=l||this.getExtremesFromAll||this.options.getExtremesFromAll,p=d&&this.cropped?this.dataTable:this.dataTable.modified,f=p.rowCount,v=r||this.stackedYData,b=v?[v]:((fe=this.keysAffectYAxis||this.pointArrayMap||["y"])==null?void 0:fe.map(ve=>p.getColumn(ve,!0)||[]))||[],T=this.getColumn("x",!0),E=[],A=this.requireSorting&&!this.is("column")?1:0,P=!!h&&h.positiveValuesOnly,O=d||this.cropped||!c,$,q,V,Q=0,ee=0;for(c&&(Q=($=c.getExtremes()).min,ee=$.max),V=0;V<f;V++)if(q=T[V],O||(T[V+A]||q)>=Q&&(T[V-A]||q)<=ee)for(let ve of b){let Be=ve[V];Fi(Be)&&(Be>0||!P)&&E.push(Be)}let we={activeYData:E,dataMin:N_(E),dataMax:Jy(E)};return ri(this,"afterGetExtremes",{dataExtremes:we}),we}applyExtremes(){let r=this.getExtremes();return this.dataMin=r.dataMin,this.dataMax=r.dataMax,r}getFirstValidPoint(r,l=0,c=1){let h=r.length,d=l;for(;d>=0&&d<h;){if(Mi(r[d]))return r[d];d+=c}}translate(){var ee;this.generatePoints();let r=this.options,l=r.stacking,c=this.xAxis,h=this.enabledDataSorting,d=this.yAxis,p=this.points,f=p.length,v=this.pointPlacementToXValue(),b=!!v,T=r.threshold,E=r.startFromThreshold?T:0,A=(r==null?void 0:r.nullInteraction)&&d.len,P,O,$,q,V=Number.MAX_VALUE;function Q(we){return j_(we,-1e9,1e9)}for(P=0;P<f;P++){let we,fe=p[P],ve=fe.x,Be,Ne,Le=fe.y,it=fe.low,dt=l&&((ee=d.stacking)==null?void 0:ee.stacks[(this.negStacks&&Le<(E?0:T)?"-":"")+this.stackKey]);fe.plotX=Fi(O=c.translate(ve,!1,!1,!1,!0,v))?I_(Q(O)):void 0,l&&this.visible&&dt&&dt[ve]&&(q=this.getStackIndicator(q,ve,this.index),!fe.isNull&&q.key&&(Ne=(Be=dt[ve]).points[q.key]),Be&&D_(Ne)&&(it=Ne[0],Le=Ne[1],it===E&&q.key===dt[ve].base&&(it=si(Fi(T)?T:d.min)),d.positiveValuesOnly&&Mi(it)&&it<=0&&(it=void 0),fe.total=fe.stackTotal=si(Be.total),fe.percentage=Mi(fe.y)&&Be.total?fe.y/Be.total*100:void 0,fe.stackY=Le,this.irregularWidths||Be.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),fe.yBottom=Mi(it)?Q(d.translate(it,!1,!0,!1,!0)):void 0,this.dataModify&&(Le=this.dataModify.modifyValue(Le,P)),Fi(Le)&&fe.plotX!==void 0?we=Fi(we=d.translate(Le,!1,!0,!1,!0))?Q(we):void 0:!Fi(Le)&&A&&(we=A),fe.plotY=we,fe.isInside=this.isPointInside(fe),fe.clientX=b?I_(c.translate(ve,!1,!1,!1,!0,v)):O,fe.negative=(fe.y||0)<(T||0),fe.isNull||fe.visible===!1||($!==void 0&&(V=Math.min(V,Math.abs(O-$))),$=O),fe.zone=this.zones.length?fe.getZone():void 0,!fe.graphic&&this.group&&h&&(fe.isNew=!0)}this.closestPointRangePx=V,ri(this,"afterTranslate")}getValidPoints(r,l,c){let h=this.chart;return(r||this.points||[]).filter(function(d){let{plotX:p,plotY:f}=d;return(!!c||!d.isNull&&!!Fi(f))&&(!l||!!h.isInsidePlot(p,f,{inverted:h.inverted}))&&d.visible!==!1})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:r,group:l,markerGroup:c}=this,h=r.sharedClips,d=r.renderer,p=r.getClipBox(this),f=this.getSharedClipKey(),v=h[f];v?v.animate(p):h[f]=v=d.clipRect(p),l&&l.clip(this.options.clip===!1?void 0:v),c&&c.clip()}animate(r){let{chart:l,group:c,markerGroup:h}=this,d=l.inverted,p=A_(this.options.animation),f=[this.getSharedClipKey(),p.duration,p.easing,p.defer].join(","),v=l.sharedClips[f],b=l.sharedClips[f+"m"];if(r&&c){let T=l.getClipBox(this);if(v)v.attr("height",T.height);else{T.width=0,d&&(T.x=l.plotHeight),v=l.renderer.clipRect(T),l.sharedClips[f]=v;let E={x:-99,y:-99,width:d?l.plotWidth+199:99,height:d?99:l.plotHeight+199};b=l.renderer.clipRect(E),l.sharedClips[f+"m"]=b}c.clip(v),h==null||h.clip(b)}else if(v&&!v.hasClass("highcharts-animating")){let T=l.getClipBox(this),E=p.step;(h!=null&&h.element.childNodes.length||l.series.length>1)&&(p.step=function(A,P){E&&E.apply(P,arguments),P.prop==="width"&&(b!=null&&b.element)&&b.attr(d?"height":"width",A+99)}),v.addClass("highcharts-animating").animate(T,p)}}afterAnimate(){this.setClip(),Zy(this.chart.sharedClips,(r,l,c)=>{r&&!this.chart.container.querySelector(`[clip-path="url(#${r.id})"]`)&&(r.destroy(),delete c[l])}),this.finishedAnimating=!0,ri(this,"afterAnimate")}drawPoints(r=this.points){let l,c,h,d,p,f,v,b=this.chart,T=b.styledMode,{colorAxis:E,options:A}=this,P=A.marker,O=A.nullInteraction,$=this[this.specialGroup||"markerGroup"],q=this.xAxis,V=si(P.enabled,!q||!!q.isRadial||null,this.closestPointRangePx>=P.enabledThreshold*P.radius);if(P.enabled!==!1||this._hasPointMarkers)for(l=0;l<r.length;l++){d=(h=(c=r[l]).graphic)?"animate":"attr",p=c.marker||{},f=!!c.marker;let Q=c.isNull;if((V&&!Mi(p.enabled)||p.enabled)&&(!Q||O)&&c.visible!==!1){let ee=si(p.symbol,this.symbol,"rect");v=this.markerAttribs(c,c.selected&&"select"),this.enabledDataSorting&&(c.startXPos=q.reversed?-(v.width||0):q.width);let we=c.isInside!==!1;if(!h&&we&&((v.width||0)>0||c.hasImage)&&(c.graphic=h=b.renderer.symbol(ee,v.x,v.y,v.width,v.height,f?p:P).add($),this.enabledDataSorting&&b.hasRendered&&(h.attr({x:c.startXPos}),d="animate")),h&&d==="animate"&&h[we?"show":"hide"](we).animate(v),h){let fe=this.pointAttribs(c,T||!c.selected?void 0:"select");T?E&&h.css({fill:fe.fill}):h[d](fe)}h&&h.addClass(c.getClassName(),!0)}else h&&(c.graphic=h.destroy())}}markerAttribs(r,l){let c=this.options,h=c.marker,d=r.marker||{},p=d.symbol||h.symbol,f={},v,b,T=si(d.radius,h==null?void 0:h.radius);l&&(v=h.states[l],b=d.states&&d.states[l],T=si(b==null?void 0:b.radius,v==null?void 0:v.radius,T&&T+((v==null?void 0:v.radiusPlus)||0))),r.hasImage=p&&p.indexOf("url")===0,r.hasImage&&(T=0);let E=r.pos();return Fi(T)&&E&&(c.crisp&&(E[0]=eM(E[0],r.hasImage?0:p==="rect"?(h==null?void 0:h.lineWidth)||0:1)),f.x=E[0]-T,f.y=E[1]-T),T&&(f.width=f.height=2*T),f}pointAttribs(r,l){var V;let c=this.options,h=c.marker,d=r==null?void 0:r.options,p=(d==null?void 0:d.marker)||{},f=d==null?void 0:d.color,v=r==null?void 0:r.color,b=(V=r==null?void 0:r.zone)==null?void 0:V.color,T,E,A=this.color,P,O,$=si(p.lineWidth,h.lineWidth),q=r!=null&&r.isNull&&c.nullInteraction?0:1;return A=f||b||v||A,P=p.fillColor||h.fillColor||A,O=p.lineColor||h.lineColor||A,l=l||"normal",T=h.states[l]||{},$=si((E=p.states&&p.states[l]||{}).lineWidth,T.lineWidth,$+si(E.lineWidthPlus,T.lineWidthPlus,0)),P=E.fillColor||T.fillColor||P,O=E.lineColor||T.lineColor||O,{stroke:O,"stroke-width":$,fill:P,opacity:q=si(E.opacity,T.opacity,q)}}destroy(r){var v,b;let l,c,h=this,d=h.chart,p=/AppleWebKit\/533/.test(JP.navigator.userAgent),f=h.data||[];for(ri(h,"destroy",{keepEventsForUpdate:r}),this.removeEvents(r),(h.axisTypes||[]).forEach(function(T){c=h[T],c!=null&&c.series&&(P_(c.series,h),c.isDirty=c.forceRedraw=!0)}),h.legendItem&&h.chart.legend.destroyItem(h),l=f.length;l--;)(b=(v=f[l])==null?void 0:v.destroy)==null||b.call(v);for(let T of h.zones)tM(T,void 0,!0);je.clearTimeout(h.animationTimeout),Zy(h,function(T,E){T instanceof cr&&!T.survive&&T[p&&E==="group"?"hide":"destroy"]()}),d.hoverSeries===h&&(d.hoverSeries=void 0),P_(d.series,h),d.orderItems("series"),Zy(h,function(T,E){r&&E==="hcEvents"||delete h[E]})}applyZones(){let{area:r,chart:l,graph:c,zones:h,points:d,xAxis:p,yAxis:f,zoneAxis:v}=this,{inverted:b,renderer:T}=l,E=this[`${v}Axis`],{isXAxis:A,len:P=0,minPointOffset:O=0}=E||{},$=((c==null?void 0:c.strokeWidth())||0)/2+1,q=(V,Q=0,ee=0)=>{b&&(ee=P-ee);let{translated:we=0,lineClip:fe}=V,ve=ee-we;fe==null||fe.push(["L",Q,Math.abs(ve)<$?ee-$*(ve<=0?-1:1):we])};if(h.length&&(c||r)&&E&&Fi(E.min)){let V=E.getExtremes().max+O,Q=fe=>{fe.forEach((ve,Be)=>{(ve[0]==="M"||ve[0]==="L")&&(fe[Be]=[ve[0],A?P-ve[1]:ve[1],A?ve[2]:P-ve[2]])})};if(h.forEach(fe=>{fe.lineClip=[],fe.translated=j_(E.toPixels(si(fe.value,V),!0)||0,0,P)}),c&&!this.showLine&&c.hide(),r&&r.hide(),v==="y"&&d.length<p.len)for(let fe of d){let{plotX:ve,plotY:Be,zone:Ne}=fe,Le=Ne&&h[h.indexOf(Ne)-1];Ne&&q(Ne,ve,Be),Le&&q(Le,ve,Be)}let ee=[],we=E.toPixels(E.getExtremes().min-O,!0);h.forEach(fe=>{var Wt,Dt;let ve=fe.lineClip||[],Be=Math.round(fe.translated||0);p.reversed&&ve.reverse();let{clip:Ne,simpleClip:Le}=fe,it=0,dt=0,Et=p.len,Nt=f.len;A?(it=Be,Et=we):(dt=Be,Nt=we);let qt=[["M",it,dt],["L",Et,dt],["L",Et,Nt],["L",it,Nt],["Z"]],Bt=[qt[0],...ve,qt[1],qt[2],...ee,qt[3],qt[4]];ee=ve.reverse(),we=Be,b&&(Q(Bt),r&&Q(qt)),Ne?(Ne.animate({d:Bt}),Le==null||Le.animate({d:qt})):(Ne=fe.clip=T.path(Bt),r&&(Le=fe.simpleClip=T.path(qt))),c&&((Wt=fe.graph)==null||Wt.clip(Ne)),r&&((Dt=fe.area)==null||Dt.clip(Le))})}else this.visible&&(c&&c.show(),r&&r.show())}plotGroup(r,l,c,h,d){let p=this[r],f=!p,v={visibility:c,zIndex:h||.1};return Mi(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(v.opacity=this.opacity),p||(this[r]=p=this.chart.renderer.g().add(d)),p.addClass("highcharts-"+l+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(Mi(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(p.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),p.attr(v)[f?"attr":"animate"](this.getPlotBox(l)),p}getPlotBox(r){let l=this.xAxis,c=this.yAxis,h=this.chart,d=h.inverted&&!h.polar&&l&&this.invertible&&r==="series";h.inverted&&(l=c,c=this.xAxis);let p={scale:1,translateX:l?l.left:h.plotLeft,translateY:c?c.top:h.plotTop,name:r};ri(this,"getPlotBox",p);let{scale:f,translateX:v,translateY:b}=p;return{translateX:v,translateY:b,rotation:90*!!d,rotationOriginX:d?f*(l.len-c.len)/2:0,rotationOriginY:d?f*(l.len+c.len)/2:0,scaleX:d?-f:f,scaleY:f}}removeEvents(r){let{eventsToUnbind:l}=this;r||oM(this),l.length&&(l.forEach(c=>{c()}),l.length=0)}render(){var T,E,A,P,O;let r=this,{chart:l,options:c,hasRendered:h}=r,d=A_(c.animation),p=r.visible?"inherit":"hidden",f=c.zIndex,v=l.seriesGroup,b=r.finishedAnimating?0:d.duration;ri(this,"render"),r.plotGroup("group","series",p,f,v),r.markerGroup=r.plotGroup("markerGroup","markers",p,f,v),c.clip!==!1&&r.setClip(),b&&((T=r.animate)==null||T.call(r,!0)),r.drawGraph&&(r.drawGraph(),r.applyZones()),r.visible&&r.drawPoints(),(E=r.drawDataLabels)==null||E.call(r),(A=r.redrawPoints)==null||A.call(r),c.enableMouseTracking&&((P=r.drawTracker)==null||P.call(r)),b&&((O=r.animate)==null||O.call(r)),h||(b&&d.defer&&(b+=d.defer),r.animationTimeout=O_(()=>{r.afterAnimate()},b||0)),r.isDirty=!1,r.hasRendered=!0,ri(r,"afterRender")}redraw(){let r=this.isDirty||this.isDirtyData;this.translate(),this.render(),r&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(r,l){let{xAxis:c,yAxis:h}=this,d=this.chart.inverted;return this.searchKDTree({clientX:d?c.len-r.chartY+c.pos:r.chartX-c.pos,plotY:d?h.len-r.chartX+h.pos:r.chartY-h.pos},l,r)}buildKDTree(r){this.buildingKdTree=!0;let l=this,c=l.options,h=c.findNearestPointBy.indexOf("y")>-1?2:1;delete l.kdTree,O_(function(){l.kdTree=function d(p,f,v){let b,T,E=p==null?void 0:p.length;if(E)return b=l.kdAxisArray[f%v],p.sort((A,P)=>(A[b]||0)-(P[b]||0)),{point:p[T=Math.floor(E/2)],left:d(p.slice(0,T),f+1,v),right:d(p.slice(T+1),f+1,v)}}(l.getValidPoints(void 0,!l.directTouch,c==null?void 0:c.nullInteraction),h,h),l.buildingKdTree=!1},c.kdNow||(r==null?void 0:r.type)==="touchstart"?0:1)}searchKDTree(r,l,c,h,d){let p=this,[f,v]=this.kdAxisArray,b=l?"distX":"dist",T=(p.options.findNearestPointBy||"").indexOf("y")>-1?2:1,E=!!p.isBubble,A=h||((O,$,q)=>{let V=O[q]||0,Q=$[q]||0;return[V===Q&&O.index>$.index||V<Q?O:$,!1]}),P=d||((O,$)=>O<$);if(this.kdTree||this.buildingKdTree||this.buildKDTree(c),this.kdTree)return function O($,q,V,Q){var it;let ee=q.point,we=p.kdAxisArray[V%Q],fe=ee,ve=!1;(function(dt,Et){var _n;let Nt=dt[f],qt=Et[f],Bt=Mi(Nt)&&Mi(qt)?Nt-qt:null,Wt=dt[v],Dt=Et[v],Yt=Mi(Wt)&&Mi(Dt)?Wt-Dt:0,pn=E&&((_n=Et.marker)==null?void 0:_n.radius)||0;Et.dist=Math.sqrt((Bt&&Bt*Bt||0)+Yt*Yt)-pn,Et.distX=Mi(Bt)?Math.abs(Bt)-pn:Number.MAX_VALUE})($,ee);let Be=($[we]||0)-(ee[we]||0)+(E&&((it=ee.marker)==null?void 0:it.radius)||0),Ne=Be<0?"left":"right",Le=Be<0?"right":"left";return q[Ne]&&([fe,ve]=A(ee,O($,q[Ne],V+1,Q),b)),q[Le]&&P(Math.sqrt(Be*Be),fe[b],ve)&&(fe=A(fe,O($,q[Le],V+1,Q),b)[0]),fe}(r,this.kdTree,T,T)}pointPlacementToXValue(){let{options:r,xAxis:l}=this,c=r.pointPlacement;return c==="between"&&(c=l.reversed?-.5:.5),Fi(c)?c*(r.pointRange||l.pointRange):0}isPointInside(r){let{chart:l,xAxis:c,yAxis:h}=this,{plotX:d=-1,plotY:p=-1}=r;return p>=0&&p<=(h?h.len:l.plotHeight)&&d>=0&&d<=(c?c.len:l.plotWidth)}drawTracker(){var A;let r=this,l=r.options,c=l.trackByArea,h=[].concat((c?r.areaPath:r.graphPath)||[]),d=r.chart,p=d.pointer,f=d.renderer,v=((A=d.options.tooltip)==null?void 0:A.snap)||0,b=()=>{l.enableMouseTracking&&d.hoverSeries!==r&&r.onMouseOver()},T="rgba(192,192,192,"+(QP?1e-4:.002)+")",E=r.tracker;E?E.attr({d:h}):r.graph&&(r.tracker=E=f.path(h).attr({visibility:r.visible?"inherit":"hidden",zIndex:2}).addClass(c?"highcharts-tracker-area":"highcharts-tracker-line").add(r.group),d.styledMode||E.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:T,fill:c?T:"none","stroke-width":r.graph.strokeWidth()+(c?0:2*v)}),[r.tracker,r.markerGroup,r.dataLabelsGroup].forEach(P=>{P&&(P.addClass("highcharts-tracker").on("mouseover",b).on("mouseout",O=>{p==null||p.onTrackerMouseOut(O)}),l.cursor&&!d.styledMode&&P.css({cursor:l.cursor}),P.on("touchstart",b))})),ri(this,"afterDrawTracker")}addPoint(r,l,c,h,d){let p,f,v=this.options,{chart:b,data:T,dataTable:E,xAxis:A}=this,P=(A==null?void 0:A.hasNames)&&A.names,O=v.data,$=this.getColumn("x");l=si(l,!0);let q={series:this};this.pointClass.prototype.applyOptions.apply(q,[r]);let V=q.x;if(f=$.length,this.requireSorting&&V<$[f-1])for(p=!0;f&&$[f-1]>V;)f--;E.setRow(q,f,!0,{addColumns:!1}),P&&q.name&&(P[V]=q.name),O==null||O.splice(f,0,r),(p||this.processedData)&&(this.data.splice(f,0,null),this.processData()),v.legendType==="point"&&this.generatePoints(),c&&(T[0]&&T[0].remove?T[0].remove(!1):([T,O].filter(Mi).forEach(Q=>{Q.shift()}),E.deleteRows(0))),d!==!1&&ri(this,"addPoint",{point:q}),this.isDirty=!0,this.isDirtyData=!0,l&&b.redraw(h)}removePoint(r,l,c){let h=this,{chart:d,data:p,points:f,dataTable:v}=h,b=p[r],T=function(){[(f==null?void 0:f.length)===p.length?f:void 0,p,h.options.data].filter(Mi).forEach(E=>{E.splice(r,1)}),v.deleteRows(r),b==null||b.destroy(),h.isDirty=!0,h.isDirtyData=!0,l&&d.redraw()};YP(c,d),l=si(l,!0),b?b.firePointEvent("remove",null,T):T()}remove(r,l,c,h){let d=this,p=d.chart;function f(){d.destroy(h),p.isDirtyLegend=p.isDirtyBox=!0,p.linkSeries(h),si(r,!0)&&p.redraw(l)}c!==!1?ri(d,"remove",null,f):f()}update(r,l){var V,Q;ri(this,"update",{options:r=nM(r,this.userOptions)});let c=this,h=c.chart,d=c.userOptions,p=c.initialType||c.type,f=h.options.plotOptions,v=ru[p].prototype,b=c.finishedAnimating&&{animation:!1},T={},E,A,P=Rs.keepProps.slice(),O=r.type||d.type||h.options.chart.type,$=!(this.hasDerivedData||O&&O!==this.type||r.keys!==void 0||r.pointStart!==void 0||r.pointInterval!==void 0||r.relativeXValue!==void 0||r.joinBy||r.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(ee=>c.hasOptionChanged(ee)));O=O||p,$?(P.push.apply(P,Rs.keepPropsForPoints),r.visible!==!1&&P.push("area","graph"),c.parallelArrays.forEach(function(ee){P.push(ee+"Data")}),r.data&&(r.dataSorting&&su(c.options.dataSorting,r.dataSorting),this.setData(r.data,!1))):this.dataTable.modified=this.dataTable,r=Xh(d,{index:d.index===void 0?c.index:d.index,pointStart:((V=f==null?void 0:f.series)==null?void 0:V.pointStart)??d.pointStart??c.getColumn("x")[0]},!$&&{data:c.options.data},r,b),$&&r.data&&(r.data=c.options.data),(P=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(P)).forEach(function(ee){P[ee]=c[ee],delete c[ee]});let q=!1;if(ru[O]){if(q=O!==c.type,c.remove(!1,!1,!1,!0),q)if(h.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(c,ru[O].prototype);else{let ee=Object.hasOwnProperty.call(c,"hcEvents")&&c.hcEvents;for(A in v)c[A]=void 0;su(c,ru[O].prototype),ee?c.hcEvents=ee:delete c.hcEvents}}else bf(17,!0,h,{missingModuleFor:O});if(P.forEach(function(ee){c[ee]=P[ee]}),c.init(h,r),$&&this.points)for(let ee of((E=c.options).visible===!1?(T.graphic=1,T.dataLabel=1):(this.hasMarkerChanged(E,d)&&(T.graphic=1),(Q=c.hasDataLabels)!=null&&Q.call(c)||(T.dataLabel=1)),this.points))ee!=null&&ee.series&&(ee.resolveColor(),Object.keys(T).length&&ee.destroyElements(T),E.showInLegend===!1&&ee.legendItem&&h.legend.destroyItem(ee));c.initialType=p,h.linkSeries(),h.setSortedData(),q&&c.linkedSeries.length&&(c.isDirtyData=!0),ri(this,"afterUpdate"),si(l,!0)&&h.redraw(!!$&&void 0)}setName(r){this.name=this.options.name=this.userOptions.name=r,this.chart.isDirtyLegend=!0}hasOptionChanged(r){var f,v;let l=this.chart,c=this.options[r],h=l.options.plotOptions,d=this.userOptions[r],p=si((f=h==null?void 0:h[this.type])==null?void 0:f[r],(v=h==null?void 0:h.series)==null?void 0:v[r]);return d&&!Mi(p)?c!==d:c!==si(p,c)}onMouseOver(){let r=this.chart,l=r.hoverSeries,c=r.pointer;c==null||c.setHoverChartIndex(),l&&l!==this&&l.onMouseOut(),this.options.events.mouseOver&&ri(this,"mouseOver"),this.setState("hover"),r.hoverSeries=this}onMouseOut(){let r=this.options,l=this.chart,c=l.tooltip,h=l.hoverPoint;l.hoverSeries=null,h&&h.onMouseOut(),this&&r.events.mouseOut&&ri(this,"mouseOut"),c&&!this.stickyTracking&&(!c.shared||this.noSharedTooltip)&&c.hide(),l.series.forEach(function(d){d.setState("",!0)})}setState(r,l){let c=this,h=c.options,d=c.graph,p=h.inactiveOtherPoints,f=h.states,v=si(f[r||"normal"]&&f[r||"normal"].animation,c.chart.options.chart.animation),b=h.lineWidth,T=h.opacity;if(r=r||"",c.state!==r&&([c.group,c.markerGroup,c.dataLabelsGroup].forEach(function(E){E&&(c.state&&E.removeClass("highcharts-series-"+c.state),r&&E.addClass("highcharts-series-"+r))}),c.state=r,!c.chart.styledMode)){if(f[r]&&f[r].enabled===!1)return;if(r&&(b=f[r].lineWidth||b+(f[r].lineWidthPlus||0),T=si(f[r].opacity,T)),d&&!d.dashstyle&&Fi(b))for(let E of[d,...this.zones.map(A=>A.graph)])E==null||E.animate({"stroke-width":b},v);p||[c.group,c.markerGroup,c.dataLabelsGroup,c.labelBySeries].forEach(function(E){E&&E.animate({opacity:T},v)})}l&&p&&c.points&&c.setAllPointsToState(r||void 0)}setAllPointsToState(r){this.points.forEach(function(l){l.setState&&l.setState(r)})}setVisible(r,l){var v;let c=this,h=c.chart,d=h.options.chart.ignoreHiddenSeries,p=c.visible;c.visible=r=c.options.visible=c.userOptions.visible=r===void 0?!p:r;let f=r?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(b=>{var T;(T=c[b])==null||T[f]()}),(h.hoverSeries===c||((v=h.hoverPoint)==null?void 0:v.series)===c)&&c.onMouseOut(),c.legendItem&&h.legend.colorizeItem(c,r),c.isDirty=!0,c.options.stacking&&h.series.forEach(b=>{b.options.stacking&&b.visible&&(b.isDirty=!0)}),c.linkedSeries.forEach(b=>{b.setVisible(r,!1)}),d&&(h.isDirtyBox=!0),ri(c,f),l!==!1&&h.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(r){this.selected=r=this.options.selected=r===void 0?!this.selected:r,this.checkbox&&(this.checkbox.checked=r),ri(this,r?"select":"unselect")}shouldShowTooltip(r,l,c={}){return c.series=this,c.visiblePlotOnly=!0,this.chart.isInsidePlot(r,l,c)}drawLegendSymbol(r,l){var c;(c=C_[this.options.legendSymbol||"rectangle"])==null||c.call(this,r,l)}}Rs.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:w}=this.series.chart;return typeof this.y!="number"?"":w(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},Rs.types=ui.seriesTypes,Rs.registerType=ui.registerSeriesType,Rs.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],Rs.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],su(Rs.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:ci,requireSorting:!0,sorted:!0}),ui.series=Rs;let Mr=Rs,{animObject:aM,setAnimation:lM}=Ct,{registerEventOptions:L_}=wa,{composed:cM,marginNames:F_}=M,{distribute:uM}=da,{format:hM}=wi,{addEvent:wf,createElement:dM,css:pM,defined:ev,discardElement:fM,find:mM,fireEvent:Do,isNumber:B_,merge:zl,pick:Ds,pushUnique:gM,relativeLength:yM,stableSort:vM,syncTimeout:xM}=je;class tv{constructor(r,l){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=r,this.setOptions(l),l.enabled&&(this.render(),L_(this,l),wf(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),wf(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(r){let l=Ds(r.padding,8);this.options=r,this.chart.styledMode||(this.itemStyle=r.itemStyle,this.itemHiddenStyle=zl(this.itemStyle,r.itemHiddenStyle)),this.itemMarginTop=r.itemMarginTop,this.itemMarginBottom=r.itemMarginBottom,this.padding=l,this.initialItemY=l-5,this.symbolWidth=Ds(r.symbolWidth,16),this.pages=[],this.proximate=r.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(r,l){let c=this.chart;this.setOptions(zl(!0,this.options,r)),"events"in this.options&&L_(this,this.options),this.destroy(),c.isDirtyLegend=c.isDirtyBox=!0,Ds(l,!0)&&c.redraw(),Do(this,"afterUpdate",{redraw:l})}colorizeItem(r,l){var b;let c=r.color,{area:h,group:d,label:p,line:f,symbol:v}=r.legendItem||{};if((r instanceof Mr||r instanceof ci)&&(r.color=((b=r.options)==null?void 0:b.legendSymbolColor)||c),d==null||d[l?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:T={}}=this,E=T.color,{fillColor:A,fillOpacity:P,lineColor:O,marker:$}=r.options,q=V=>(!l&&(V.fill&&(V.fill=E),V.stroke&&(V.stroke=E)),V);p==null||p.css(zl(l?this.itemStyle:T)),f==null||f.attr(q({stroke:O||r.color})),v&&v.attr(q($&&v.isMarker?r.pointAttribs():{fill:r.color})),h==null||h.attr(q({fill:A||r.color,"fill-opacity":A?1:P??.75}))}r.color=c,Do(this,"afterColorizeItem",{item:r,visible:l})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(r){let{group:l,x:c=0,y:h=0}=r.legendItem||{},d=this.options,p=d.symbolPadding,f=!d.rtl,v=r.checkbox;if(l!=null&&l.element){let b={translateX:f?c:this.legendWidth-c-2*p-4,translateY:h};l[ev(l.translateY)?"animate":"attr"](b,void 0,()=>{Do(this,"afterPositionItem",{item:r})})}v&&(v.x=c,v.y=h)}destroyItem(r){let l=r.legendItem||{};for(let c of["group","label","line","symbol"])l[c]&&(l[c]=l[c].destroy());r.checkbox=fM(r.checkbox),r.legendItem=void 0}destroy(){for(let r of this.getAllItems())this.destroyItem(r);for(let r of["clipRect","up","down","pager","nav","box","title","group"])this[r]&&(this[r]=this[r].destroy());this.display=null}positionCheckboxes(){var d;let r,l=(d=this.group)==null?void 0:d.alignAttr,c=this.clipHeight||this.legendHeight,h=this.titleHeight;l&&(r=l.translateY,this.allItems.forEach(function(p){let f,v=p.checkbox;v&&(f=r+h+v.y+(this.scrollOffset||0)+3,pM(v,{left:l.translateX+p.checkboxOffset+v.x-20+"px",top:f+"px",display:this.proximate||f>r-6&&f<r+c-6?"":"none"}))},this))}renderTitle(){let r=this.options,l=this.padding,c=r.title,h,d=0;c.text&&(this.title||(this.title=this.chart.renderer.label(c.text,l-3,l-4,void 0,void 0,void 0,r.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(c.style),this.title.add(this.group)),c.width||this.title.css({width:this.maxLegendWidth+"px"}),d=(h=this.title.getBBox()).height,this.offsetWidth=h.width,this.contentGroup.attr({translateY:d})),this.titleHeight=d}setText(r){let l=this.options;r.legendItem.label.attr({text:l.labelFormat?hM(l.labelFormat,r,this.chart):l.labelFormatter.call(r)})}renderItem(r){var Be;let l=r.legendItem=r.legendItem||{},c=this.chart,h=c.renderer,d=this.options,p=d.layout==="horizontal",f=this.symbolWidth,v=d.symbolPadding||0,b=this.itemStyle,T=this.itemHiddenStyle,E=p?Ds(d.itemDistance,20):0,A=!d.rtl,P=!r.series,O=!P&&r.series.drawLegendSymbol?r.series:r,$=O.options,q=!!this.createCheckboxForItem&&$&&$.showCheckbox,V=d.useHTML,Q=r.options.className,ee=l.label,we=f+v+E+20*!!q;!ee&&(l.group=h.g("legend-item").addClass("highcharts-"+O.type+"-series highcharts-color-"+r.colorIndex+(Q?" "+Q:"")+(P?" highcharts-series-"+r.index:"")).attr({zIndex:1}).add(this.scrollGroup),l.label=ee=h.text("",A?f+v:-v,this.baseline||0,V),c.styledMode||ee.css(zl(r.visible?b:T)),ee.attr({align:A?"left":"right",zIndex:2}).add(l.group),!this.baseline&&(this.fontMetrics=h.fontMetrics(ee),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,ee.attr("y",this.baseline),this.symbolHeight=Ds(d.symbolHeight,this.fontMetrics.f),d.squareSymbol&&(this.symbolWidth=Ds(d.symbolWidth,Math.max(this.symbolHeight,16)),we=this.symbolWidth+v+E+20*!!q,A&&ee.attr("x",this.symbolWidth+v))),O.drawLegendSymbol(this,r),this.setItemEvents&&this.setItemEvents(r,ee,V)),q&&!r.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(r),this.colorizeItem(r,r.visible),(c.styledMode||!b.width)&&ee.css({width:(d.itemWidth||this.widthOption||c.spacingBox.width)-we+"px"}),this.setText(r);let fe=ee.getBBox(),ve=((Be=this.fontMetrics)==null?void 0:Be.h)||0;r.itemWidth=r.checkboxOffset=d.itemWidth||l.labelWidth||fe.width+we,this.maxItemWidth=Math.max(this.maxItemWidth,r.itemWidth),this.totalItemWidth+=r.itemWidth,this.itemHeight=r.itemHeight=Math.round(l.labelHeight||(fe.height>1.5*ve?fe.height:ve))}layoutItem(r){let l=this.options,c=this.padding,h=l.layout==="horizontal",d=r.itemHeight,p=this.itemMarginBottom,f=this.itemMarginTop,v=h?Ds(l.itemDistance,20):0,b=this.maxLegendWidth,T=l.alignColumns&&this.totalItemWidth>b?this.maxItemWidth:r.itemWidth,E=r.legendItem||{};h&&this.itemX-c+T>b&&(this.itemX=c,this.lastLineHeight&&(this.itemY+=f+this.lastLineHeight+p),this.lastLineHeight=0),this.lastItemY=f+this.itemY+p,this.lastLineHeight=Math.max(d,this.lastLineHeight),E.x=this.itemX,E.y=this.itemY,h?this.itemX+=T:(this.itemY+=f+d+p,this.lastLineHeight=d),this.offsetWidth=this.widthOption||Math.max((h?this.itemX-c-(r.checkbox?0:v):T)+c,this.offsetWidth)}getAllItems(){let r=[];return this.chart.series.forEach(function(l){var h;let c=l==null?void 0:l.options;l&&Ds(c.showInLegend,!ev(c.linkedTo)&&void 0,!0)&&(r=r.concat(((h=l.legendItem)==null?void 0:h.labels)||(c.legendType==="point"?l.data:l)))}),Do(this,"afterGetAllItems",{allItems:r}),r}getAlignment(){let r=this.options;return this.proximate?r.align.charAt(0)+"tv":r.floating?"":r.align.charAt(0)+r.verticalAlign.charAt(0)+r.layout.charAt(0)}adjustMargins(r,l){let c=this.chart,h=this.options,d=this.getAlignment();d&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((p,f)=>{p.test(d)&&!ev(r[f])&&(c[F_[f]]=Math.max(c[F_[f]],c.legend[(f+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][f]*h[f%2?"x":"y"]+(h.margin??12)+l[f]+(c.titleOffset[f]||0)))})}proximatePositions(){let r,l=this.chart,c=[],h=this.options.align==="left";for(let d of(this.allItems.forEach(function(p){let f,v,b=h,T,E;p.yAxis&&(p.xAxis.options.reversed&&(b=!b),p.points&&(f=mM(b?p.points:p.points.slice(0).reverse(),function(A){return B_(A.plotY)})),v=this.itemMarginTop+p.legendItem.label.getBBox().height+this.itemMarginBottom,E=p.yAxis.top-l.plotTop,T=p.visible?(f?f.plotY:p.yAxis.height)+(E-.3*v):E+p.yAxis.height,c.push({target:T,size:v,item:p}))},this),uM(c,l.plotHeight)))r=d.item.legendItem||{},B_(d.pos)&&(r.y=l.plotTop-l.spacing[0]+d.pos)}render(){let r=this.chart,l=r.renderer,c=this.options,h=this.padding,d=this.getAllItems(),p,f,v,b=this.group,T,E=this.box;this.itemX=h,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=yM(c.width,r.spacingBox.width-h),T=r.spacingBox.width-2*h-c.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(T/=2),this.maxLegendWidth=this.widthOption||T,b||(this.group=b=l.g("legend").addClass(c.className||"").attr({zIndex:7}).add(),this.contentGroup=l.g().attr({zIndex:1}).add(b),this.scrollGroup=l.g().add(this.contentGroup)),this.renderTitle(),vM(d,(A,P)=>{var O,$;return(((O=A.options)==null?void 0:O.legendIndex)||0)-((($=P.options)==null?void 0:$.legendIndex)||0)}),c.reversed&&d.reverse(),this.allItems=d,this.display=p=!!d.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,d.forEach(this.renderItem,this),d.forEach(this.layoutItem,this),f=(this.widthOption||this.offsetWidth)+h,v=this.lastItemY+this.lastLineHeight+this.titleHeight,v=this.handleOverflow(v)+h,E||(this.box=E=l.rect().addClass("highcharts-legend-box").attr({r:c.borderRadius}).add(b)),r.styledMode||E.attr({stroke:c.borderColor,"stroke-width":c.borderWidth||0,fill:c.backgroundColor||"none"}).shadow(c.shadow),f>0&&v>0&&E[E.placed?"animate":"attr"](E.crisp.call({},{x:0,y:0,width:f,height:v},E.strokeWidth())),b[p?"show":"hide"](),r.styledMode&&b.getStyle("display")==="none"&&(f=v=0),this.legendWidth=f,this.legendHeight=v,p&&this.align(),this.proximate||this.positionItems(),Do(this,"afterRender")}align(r=this.chart.spacingBox){let l=this.chart,c=this.options,h=r.y;/(lth|ct|rth)/.test(this.getAlignment())&&l.titleOffset[0]>0?h+=l.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&l.titleOffset[2]>0&&(h-=l.titleOffset[2]),h!==r.y&&(r=zl(r,{y:h})),l.hasRendered||(this.group.placed=!1),this.group.align(zl(c,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":c.verticalAlign}),!0,r)}handleOverflow(r){let l=this,c=this.chart,h=c.renderer,d=this.options,p=d.y,f=d.verticalAlign==="top",v=this.padding,b=d.maxHeight,T=d.navigation,E=Ds(T.animation,!0),A=T.arrowSize||12,P=this.pages,O=this.allItems,$=function(Ne){typeof Ne=="number"?Be.attr({height:Ne}):Be&&(l.clipRect=Be.destroy(),l.contentGroup.clip()),l.contentGroup.div&&(l.contentGroup.div.style.clip=Ne?"rect("+v+"px,9999px,"+(v+Ne)+"px,0)":"auto")},q=function(Ne){return l[Ne]=h.circle(0,0,1.3*A).translate(A/2,A/2).add(ve),c.styledMode||l[Ne].attr("fill","rgba(0,0,0,0.0001)"),l[Ne]},V,Q,ee,we,fe=c.spacingBox.height+(f?-p:p)-v,ve=this.nav,Be=this.clipRect;return d.layout!=="horizontal"||d.verticalAlign==="middle"||d.floating||(fe/=2),b&&(fe=Math.min(fe,b)),P.length=0,r&&fe>0&&r>fe&&T.enabled!==!1?(this.clipHeight=V=Math.max(fe-20-this.titleHeight-v,0),this.currentPage=Ds(this.currentPage,1),this.fullHeight=r,O.forEach((Ne,Le)=>{let it=(ee=Ne.legendItem||{}).y||0,dt=Math.round(ee.label.getBBox().height),Et=P.length;(!Et||it-P[Et-1]>V&&(Q||it)!==P[Et-1])&&(P.push(Q||it),Et++),ee.pageIx=Et-1,Q&&we&&(we.pageIx=Et-1),Le===O.length-1&&it+dt-P[Et-1]>V&&it>P[Et-1]&&(P.push(it),ee.pageIx=Et),it!==Q&&(Q=it),we=ee}),Be||(Be=l.clipRect=h.clipRect(0,v-2,9999,0),l.contentGroup.clip(Be)),$(V),ve||(this.nav=ve=h.g().attr({zIndex:1}).add(this.group),this.up=h.symbol("triangle",0,0,A,A).add(ve),q("upTracker").on("click",function(){l.scroll(-1,E)}),this.pager=h.text("",15,10).addClass("highcharts-legend-navigation"),!c.styledMode&&T.style&&this.pager.css(T.style),this.pager.add(ve),this.down=h.symbol("triangle-down",0,0,A,A).add(ve),q("downTracker").on("click",function(){l.scroll(1,E)})),l.scroll(0),r=fe):ve&&($(),this.nav=ve.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),r}scroll(r,l){let c=this.chart,h=this.pages,d=h.length,p=this.clipHeight,f=this.options.navigation,v=this.pager,b=this.padding,T=this.currentPage+r;T>d&&(T=d),T>0&&(l!==void 0&&lM(l,c),this.nav.attr({translateX:b,translateY:p+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(E){E.attr({class:T===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),v.attr({text:T+"/"+d}),[this.down,this.downTracker].forEach(function(E){E.attr({x:18+this.pager.getBBox().width,class:T===d?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),c.styledMode||(this.up.attr({fill:T===1?f.inactiveColor:f.activeColor}),this.upTracker.css({cursor:T===1?"default":"pointer"}),this.down.attr({fill:T===d?f.inactiveColor:f.activeColor}),this.downTracker.css({cursor:T===d?"default":"pointer"})),this.scrollOffset=-h[T-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=T,this.positionCheckboxes(),xM(()=>{Do(this,"afterScroll",{currentPage:T})},aM(Ds(l,c.renderer.globalAnimation,!0)).duration))}setItemEvents(r,l,c){let h=this,d=r.legendItem||{},p=h.chart.renderer.boxWrapper,f=r instanceof ci,v=r instanceof Mr,b="highcharts-legend-"+(f?"point":"series")+"-active",T=h.chart.styledMode,E=c?[l,d.symbol]:[d.group],A=P=>{h.allItems.forEach(O=>{r!==O&&[O].concat(O.linkedSeries||[]).forEach($=>{$.setState(P,!f)})})};for(let P of E)P&&P.on("mouseover",function(){r.visible&&A("inactive"),r.setState("hover"),r.visible&&p.addClass(b),T||l.css(h.options.itemHoverStyle)}).on("mouseout",function(){h.chart.styledMode||l.css(zl(r.visible?h.itemStyle:h.itemHiddenStyle)),A(""),p.removeClass(b),r.setState()}).on("click",function(O){let $=function(){r.setVisible&&r.setVisible(),A(r.visible?"inactive":"")};p.removeClass(b),Do(h,"itemClick",{browserEvent:O,legendItem:r},$),f?r.firePointEvent("legendItemClick",{browserEvent:O}):v&&Do(r,"legendItemClick",{browserEvent:O})})}createCheckboxForItem(r){r.checkbox=dM("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:r.selected,defaultChecked:r.selected},this.options.itemCheckboxStyle,this.chart.container),wf(r.checkbox,"click",function(l){let c=l.target;Do(r.series||r,"checkboxClick",{checked:c.checked,item:r},function(){r.select()})})}}(function(w){w.compose=function(r){gM(cM,"Core.Legend")&&wf(r,"beforeMargins",function(){this.legend=new w(this,this.options.legend)})}})(tv||(tv={}));let V_=tv,{animate:nv,animObject:bM,setAnimation:iv}=Ct,{defaultOptions:rv}=We,{numberFormat:wM}=wi,{registerEventOptions:U_}=wa,{charts:ql,doc:Qh,marginNames:z_,svg:_M,win:q_}=M,{seriesTypes:sv}=ui,{addEvent:ov,attr:$_,createElement:av,css:Os,defined:Sa,diffObjects:H_,discardElement:EM,erase:kM,error:lv,extend:Aa,find:cv,fireEvent:Cn,getAlignFactor:TM,getStyle:uv,isArray:CM,isNumber:ou,isObject:SM,isString:_f,merge:lo,objectEach:hv,pick:wr,pInt:AM,relativeLength:W_,removeEvent:G_,splat:Ef,syncTimeout:NM,uniqueKey:jM}=je;class Na{static chart(r,l,c){return new Na(r,l,c)}constructor(r,l,c){this.sharedClips={};let h=[...arguments];(_f(r)||r.nodeName)&&(this.renderTo=h.shift()),this.init(h[0],h[1])}setZoomOptions(){let r=this.options.chart,l=r.zooming;this.zooming={...l,type:wr(r.zoomType,l.type),key:wr(r.zoomKey,l.key),pinchType:wr(r.pinchType,l.pinchType),singleTouch:wr(r.zoomBySingleTouch,l.singleTouch,!1),resetButton:lo(l.resetButton,r.resetZoomButton)}}init(r,l){Cn(this,"init",{args:arguments},function(){var p;let c=lo(rv,r),h=c.chart,d=this.renderTo||h.renderTo;this.userOptions=Aa({},r),(this.renderTo=_f(d)?Qh.getElementById(d):d)||lv(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=l,this.isResizing=0,this.options=c,this.axes=[],this.series=[],this.locale=c.lang.locale??((p=this.renderTo.closest("[lang]"))==null?void 0:p.lang),this.time=new rt(Aa(c.time||{},{locale:this.locale}),c.lang),c.time=this.time.options,this.numberFormatter=(h.numberFormatter||wM).bind(this),this.styledMode=h.styledMode,this.hasCartesianSeries=h.showAxes,this.index=ql.length,ql.push(this),M.chartCount++,U_(this,h),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),Cn(this,"afterInit"),this.firstRender()})}initSeries(r){let l=this.options.chart,c=r.type||l.type,h=sv[c];h||lv(17,!0,this,{missingModuleFor:c});let d=new h;return typeof d.init=="function"&&d.init(this,r),d}setSortedData(){this.getSeriesOrderByLinks().forEach(function(r){r.points||r.data||!r.enabledDataSorting||r.setData(r.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(r,l){return r.linkedSeries.length||l.linkedSeries.length?l.linkedSeries.length-r.linkedSeries.length:0})}orderItems(r,l=0){let c=this[r],h=this.options[r]=Ef(this.options[r]).slice(),d=this.userOptions[r]=this.userOptions[r]?Ef(this.userOptions[r]).slice():[];if(this.hasRendered&&(h.splice(l),d.splice(l)),c)for(let p=l,f=c.length;p<f;++p){let v=c[p];v&&(v.index=p,v instanceof Mr&&(v.name=v.getName()),v.options.isInternal||(h[p]=v.options,d[p]=v.userOptions))}}getClipBox(r,l){var T,E;let c=this.inverted,{xAxis:h,yAxis:d}=r||{},{x:p,y:f,width:v,height:b}=lo(this.clipBox);return r&&(h&&h.len!==this.plotSizeX&&(v=h.len),d&&d.len!==this.plotSizeY&&(b=d.len),c&&!r.invertible&&([v,b]=[b,v])),l&&(p+=((T=c?d:h)==null?void 0:T.pos)??this.plotLeft,f+=((E=c?h:d)==null?void 0:E.pos)??this.plotTop),{x:p,y:f,width:v,height:b}}isInsidePlot(r,l,c={}){var q;let{inverted:h,plotBox:d,plotLeft:p,plotTop:f,scrollablePlotBox:v}=this,{scrollLeft:b=0,scrollTop:T=0}=c.visiblePlotOnly&&((q=this.scrollablePlotArea)==null?void 0:q.scrollingContainer)||{},E=c.series,A=c.visiblePlotOnly&&v||d,P=c.inverted?l:r,O=c.inverted?r:l,$={x:P,y:O,isInsidePlot:!0,options:c};if(!c.ignoreX){let V=E&&(h&&!this.polar?E.yAxis:E.xAxis)||{pos:p,len:1/0},Q=c.paneCoordinates?V.pos+P:p+P;Q>=Math.max(b+p,V.pos)&&Q<=Math.min(b+p+A.width,V.pos+V.len)||($.isInsidePlot=!1)}if(!c.ignoreY&&$.isInsidePlot){let V=!h&&c.axis&&!c.axis.isXAxis&&c.axis||E&&(h?E.xAxis:E.yAxis)||{pos:f,len:1/0},Q=c.paneCoordinates?V.pos+O:f+O;Q>=Math.max(T+f,V.pos)&&Q<=Math.min(T+f+A.height,V.pos+V.len)||($.isInsidePlot=!1)}return Cn(this,"afterIsInsidePlot",$),$.isInsidePlot}redraw(r){Cn(this,"beforeRedraw");let l=this.hasCartesianSeries?this.axes:this.colorAxis||[],c=this.series,h=this.pointer,d=this.legend,p=this.userOptions.legend,f=this.renderer,v=f.isHidden(),b=[],T,E,A,P=this.isDirtyBox,O=this.isDirtyLegend,$;for(f.rootFontSize=f.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),iv(!!this.hasRendered&&r,this),v&&this.temporaryDisplay(),this.layOutTitles(!1),A=c.length;A--;)if((($=c[A]).options.stacking||$.options.centerInCategory)&&(E=!0,$.isDirty)){T=!0;break}if(T)for(A=c.length;A--;)($=c[A]).options.stacking&&($.isDirty=!0);c.forEach(function(q){q.isDirty&&(q.options.legendType==="point"?(typeof q.updateTotals=="function"&&q.updateTotals(),O=!0):p&&(p.labelFormatter||p.labelFormat)&&(O=!0)),q.isDirtyData&&Cn(q,"updatedData")}),O&&d&&d.options.enabled&&(d.render(),this.isDirtyLegend=!1),E&&this.getStacks(),l.forEach(function(q){q.updateNames(),q.setScale()}),this.getMargins(),l.forEach(function(q){q.isDirty&&(P=!0)}),l.forEach(function(q){let V=q.min+","+q.max;q.extKey!==V&&(q.extKey=V,b.push(function(){Cn(q,"afterSetExtremes",Aa(q.eventArgs,q.getExtremes())),delete q.eventArgs})),(P||E)&&q.redraw()}),P&&this.drawChartBox(),Cn(this,"predraw"),c.forEach(function(q){(P||q.isDirty)&&q.visible&&q.redraw(),q.isDirtyData=!1}),h&&h.reset(!0),f.draw(),Cn(this,"redraw"),Cn(this,"render"),v&&this.temporaryDisplay(!0),b.forEach(function(q){q.call()})}get(r){let l=this.series;function c(d){return d.id===r||d.options&&d.options.id===r}let h=cv(this.axes,c)||cv(this.series,c);for(let d=0;!h&&d<l.length;d++)h=cv(l[d].points||[],c);return h}createAxes(){let r=this.userOptions;for(let l of(Cn(this,"createAxes"),["xAxis","yAxis"]))for(let c of r[l]=Ef(r[l]||{}))new Ta(this,c,l);Cn(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((r,l)=>(l.getPointsCollection().forEach(c=>{wr(c.selectedStaging,c.selected)&&r.push(c)}),r),[])}getSelectedSeries(){return this.series.filter(r=>r.selected)}setTitle(r,l,c){this.applyDescription("title",r),this.applyDescription("subtitle",l),this.applyDescription("caption",void 0),this.layOutTitles(c)}applyDescription(r,l){var p;let c=this,h=this.options[r]=lo(this.options[r],l),d=this[r];d&&l&&(this[r]=d=d.destroy()),h&&!d&&((d=this.renderer.text(h.text,0,0,h.useHTML).attr({align:h.align,class:"highcharts-"+r,zIndex:h.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(f,v){c.applyDescription(r,f),c.layOutTitles(v)},this.styledMode||d.css(Aa(r==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},h.style)),d.textPxLength=d.getBBox().width,d.css({whiteSpace:(p=h.style)==null?void 0:p.whiteSpace}),this[r]=d)}layOutTitles(r=!0){var f,v,b,T;let l=[0,0,0],{options:c,renderer:h,spacingBox:d}=this;["title","subtitle","caption"].forEach(E=>{var q;let A=this[E],P=this.options[E],O=lo(d),$=(A==null?void 0:A.textPxLength)||0;if(A&&P){Cn(this,"layOutTitle",{alignTo:O,key:E,textPxLength:$});let V=h.fontMetrics(A),Q=V.b,ee=V.h,we=P.verticalAlign||"top",fe=we==="top",ve=fe&&P.minScale||1,Be=E==="title"?fe?-3:0:fe?l[0]+2:0,Ne=Math.min(O.width/$,1),Le=Math.max(ve,Ne),it=lo({y:we==="bottom"?Q:Be+Q},{align:E==="title"?Ne<ve?"left":"center":(q=this.title)==null?void 0:q.alignValue},P),dt=(P.width||(Ne>ve?this.chartWidth:O.width)/Le)+"px";A.alignValue!==it.align&&(A.placed=!1);let Et=Math.round(A.css({width:dt}).getBBox(P.useHTML).height);if(it.height=Et,A.align(it,!1,O).attr({align:it.align,scaleX:Le,scaleY:Le,"transform-origin":`${O.x+$*Le*TM(it.align)} ${ee}`}),!P.floating){let Nt=Et*(Et<1.2*ee?1:Le);we==="top"?l[0]=Math.ceil(l[0]+Nt):we==="bottom"&&(l[2]=Math.ceil(l[2]+Nt))}}},this),l[0]&&(((f=c.title)==null?void 0:f.verticalAlign)||"top")==="top"&&(l[0]+=((v=c.title)==null?void 0:v.margin)||0),l[2]&&((b=c.caption)==null?void 0:b.verticalAlign)==="bottom"&&(l[2]+=((T=c.caption)==null?void 0:T.margin)||0);let p=!this.titleOffset||this.titleOffset.join(",")!==l.join(",");this.titleOffset=l,Cn(this,"afterLayOutTitles"),!this.isDirtyBox&&p&&(this.isDirtyBox=this.isDirtyLegend=p,this.hasRendered&&r&&this.isDirtyBox&&this.redraw())}getContainerBox(){let r=[].map.call(this.renderTo.children,c=>{if(c!==this.container){let h=c.style.display;return c.style.display="none",[c,h]}}),l={width:uv(this.renderTo,"width",!0)||0,height:uv(this.renderTo,"height",!0)||0};return r.filter(Boolean).forEach(([c,h])=>{c.style.display=h}),l}getChartSize(){var p;let r=this.options.chart,l=r.width,c=r.height,h=this.getContainerBox(),d=h.height<=1||!((p=this.renderTo.parentElement)!=null&&p.style.height)&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,l||h.width||600),this.chartHeight=Math.max(0,W_(c,this.chartWidth)||(d?400:h.height)),this.containerBox=h}temporaryDisplay(r){let l=this.renderTo,c;if(r)for(;l!=null&&l.style;)l.hcOrigStyle&&(Os(l,l.hcOrigStyle),delete l.hcOrigStyle),l.hcOrigDetached&&(Qh.body.removeChild(l),l.hcOrigDetached=!1),l=l.parentNode;else for(;l!=null&&l.style&&(Qh.body.contains(l)||l.parentNode||(l.hcOrigDetached=!0,Qh.body.appendChild(l)),(uv(l,"display",!1)==="none"||l.hcOricDetached)&&(l.hcOrigStyle={display:l.style.display,height:l.style.height,overflow:l.style.overflow},c={display:"block",overflow:"hidden"},l!==this.renderTo&&(c.height=0),Os(l,c),l.offsetWidth||l.style.setProperty("display","block","important")),(l=l.parentNode)!==Qh.body););}setClassName(r){this.container.className="highcharts-container "+(r||"")}getContainer(){var A,P;let r,l=this.options,c=l.chart,h="data-highcharts-chart",d=jM(),p=this.renderTo,f=AM($_(p,h));ou(f)&&ql[f]&&ql[f].hasRendered&&ql[f].destroy(),$_(p,h,this.index),p.innerHTML=Vn.emptyHTML,c.skipClone||p.offsetWidth||this.temporaryDisplay(),this.getChartSize();let v=this.chartHeight,b=this.chartWidth;Os(p,{overflow:"hidden"}),this.styledMode||(r=Aa({position:"relative",overflow:"hidden",width:b+"px",height:v+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},c.style||{}));let T=av("div",{id:d},r,p);this.container=T,this.getChartSize(),b!==this.chartWidth&&(b=this.chartWidth,this.styledMode||Os(T,{width:wr((A=c.style)==null?void 0:A.width,b+"px")})),this.containerBox=this.getContainerBox(),this._cursor=T.style.cursor;let E=c.renderer||!_M?qr.getRendererType(c.renderer):Hc;if(this.renderer=new E(T,b,v,void 0,c.forExport,(P=l.exporting)==null?void 0:P.allowHTML,this.styledMode),iv(void 0,this),this.setClassName(c.className),this.styledMode)for(let O in l.defs)this.renderer.definition(l.defs[O]);else this.renderer.setStyle(c.style);this.renderer.chartIndex=this.index,Cn(this,"afterGetContainer")}getMargins(r){var d;let{spacing:l,margin:c,titleOffset:h}=this;this.resetMargins(),h[0]&&!Sa(c[0])&&(this.plotTop=Math.max(this.plotTop,h[0]+l[0])),h[2]&&!Sa(c[2])&&(this.marginBottom=Math.max(this.marginBottom,h[2]+l[2])),(d=this.legend)!=null&&d.display&&this.legend.adjustMargins(c,l),Cn(this,"getMargins"),r||this.getAxisMargins()}getAxisMargins(){let r=this,l=r.axisOffset=[0,0,0,0],c=r.colorAxis,h=r.margin,d=p=>{p.forEach(f=>{f.visible&&f.getOffset()})};r.hasCartesianSeries?d(r.axes):c!=null&&c.length&&d(c),z_.forEach((p,f)=>{Sa(h[f])||(r[p]+=l[f])}),r.setChartSize()}getOptions(){return H_(this.userOptions,rv)}reflow(r){var d,p;let l=this,c=l.containerBox,h=l.getContainerBox();(d=l.pointer)==null||delete d.chartPosition,!((p=l.exporting)!=null&&p.isPrinting)&&!l.isResizing&&c&&h.width&&((h.width!==c.width||h.height!==c.height)&&(je.clearTimeout(l.reflowTimeout),l.reflowTimeout=NM(function(){l.container&&l.setSize(void 0,void 0,!1)},100*!!r)),l.containerBox=h)}setReflow(){let r=this,l=c=>{var h;(h=r.options)!=null&&h.chart.reflow&&r.hasLoaded&&r.reflow(c)};if(typeof ResizeObserver=="function")new ResizeObserver(l).observe(r.renderTo);else{let c=ov(q_,"resize",l);ov(this,"destroy",c)}}setSize(r,l,c){let h=this,d=h.renderer;h.isResizing+=1,iv(c,h);let p=d.globalAnimation;h.oldChartHeight=h.chartHeight,h.oldChartWidth=h.chartWidth,r!==void 0&&(h.options.chart.width=r),l!==void 0&&(h.options.chart.height=l),h.getChartSize();let{chartWidth:f,chartHeight:v,scrollablePixelsX:b=0,scrollablePixelsY:T=0}=h;(h.isDirtyBox||f!==h.oldChartWidth||v!==h.oldChartHeight)&&(h.styledMode||(p?nv:Os)(h.container,{width:`${f+b}px`,height:`${v+T}px`},p),h.setChartSize(!0),d.setSize(f,v,p),h.axes.forEach(function(E){E.isDirty=!0,E.setScale()}),h.isDirtyLegend=!0,h.isDirtyBox=!0,h.layOutTitles(),h.getMargins(),h.redraw(p),h.oldChartHeight=void 0,Cn(h,"resize"),setTimeout(()=>{h&&Cn(h,"endResize")},bM(p).duration)),h.isResizing-=1}setChartSize(r){let l,c,h,d,{chartHeight:p,chartWidth:f,inverted:v,spacing:b,renderer:T}=this,E=this.clipOffset,A=Math[v?"floor":"round"];this.plotLeft=l=Math.round(this.plotLeft),this.plotTop=c=Math.round(this.plotTop),this.plotWidth=h=Math.max(0,Math.round(f-l-(this.marginRight??0))),this.plotHeight=d=Math.max(0,Math.round(p-c-(this.marginBottom??0))),this.plotSizeX=v?d:h,this.plotSizeY=v?h:d,this.spacingBox=T.spacingBox={x:b[3],y:b[0],width:f-b[3]-b[1],height:p-b[0]-b[2]},this.plotBox=T.plotBox={x:l,y:c,width:h,height:d},E&&(this.clipBox={x:A(E[3]),y:A(E[0]),width:A(this.plotSizeX-E[1]-E[3]),height:A(this.plotSizeY-E[0]-E[2])}),r||(this.axes.forEach(function(P){P.setAxisSize(),P.setAxisTranslation()}),T.alignElements()),Cn(this,"afterSetChartSize",{skipAxes:r})}resetMargins(){Cn(this,"resetMargins");let r=this,l=r.options.chart,c=l.plotBorderWidth||0,h=Math.round(c)/2;["margin","spacing"].forEach(d=>{let p=l[d],f=SM(p)?p:[p,p,p,p];["Top","Right","Bottom","Left"].forEach((v,b)=>{r[d][b]=l[`${d}${v}`]??f[b]})}),z_.forEach((d,p)=>{r[d]=r.margin[p]??r.spacing[p]}),r.axisOffset=[0,0,0,0],r.clipOffset=[h,h,h,h],r.plotBorderWidth=c}drawChartBox(){let r=this.options.chart,l=this.renderer,c=this.chartWidth,h=this.chartHeight,d=this.styledMode,p=this.plotBGImage,f=r.backgroundColor,v=r.plotBackgroundColor,b=r.plotBackgroundImage,T=this.plotLeft,E=this.plotTop,A=this.plotWidth,P=this.plotHeight,O=this.plotBox,$=this.clipRect,q=this.clipBox,V=this.chartBackground,Q=this.plotBackground,ee=this.plotBorder,we,fe,ve,Be="animate";V||(this.chartBackground=V=l.rect().addClass("highcharts-background").add(),Be="attr"),d?we=fe=V.strokeWidth():(fe=(we=r.borderWidth||0)+8*!!r.shadow,ve={fill:f||"none"},(we||V["stroke-width"])&&(ve.stroke=r.borderColor,ve["stroke-width"]=we),V.attr(ve).shadow(r.shadow)),V[Be]({x:fe/2,y:fe/2,width:c-fe-we%2,height:h-fe-we%2,r:r.borderRadius}),Be="animate",Q||(Be="attr",this.plotBackground=Q=l.rect().addClass("highcharts-plot-background").add()),Q[Be](O),!d&&(Q.attr({fill:v||"none"}).shadow(r.plotShadow),b&&(p?(b!==p.attr("href")&&p.attr("href",b),p.animate(O)):this.plotBGImage=l.image(b,T,E,A,P).add())),$?$.animate({width:q.width,height:q.height}):this.clipRect=l.clipRect(q),Be="animate",ee||(Be="attr",this.plotBorder=ee=l.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),d||ee.attr({stroke:r.plotBorderColor,"stroke-width":r.plotBorderWidth||0,fill:"none"}),ee[Be](ee.crisp(O,-ee.strokeWidth())),this.isDirtyBox=!1,Cn(this,"afterDrawChartBox")}propFromSeries(){let r,l,c,h=this,d=h.options.chart,p=h.options.series;["inverted","angular","polar"].forEach(function(f){for(l=sv[d.type],c=d[f]||l&&l.prototype[f],r=p==null?void 0:p.length;!c&&r--;)(l=sv[p[r].type])&&l.prototype[f]&&(c=!0);h[f]=c})}linkSeries(r){let l=this,c=l.series;c.forEach(function(h){h.linkedSeries.length=0}),c.forEach(function(h){let{linkedTo:d}=h.options;if(_f(d)){let p;(p=d===":previous"?l.series[h.index-1]:l.get(d))&&p.linkedParent!==h&&(p.linkedSeries.push(h),h.linkedParent=p,p.enabledDataSorting&&h.setDataSortingOptions(),h.visible=wr(h.options.visible,p.options.visible,h.visible))}}),Cn(this,"afterLinkSeries",{isUpdating:r})}renderSeries(){this.series.forEach(function(r){r.translate(),r.render()})}render(){var T;let r=this.axes,l=this.colorAxis,c=this.renderer,h=this.options.chart.axisLayoutRuns||2,d=E=>{E.forEach(A=>{A.visible&&A.render()})},p=0,f=!0,v,b=0;for(let E of(this.setTitle(),Cn(this,"beforeMargins"),(T=this.getStacks)==null||T.call(this),this.getMargins(!0),this.setChartSize(),r)){let{options:A}=E,{labels:P}=A;if(this.hasCartesianSeries&&E.horiz&&E.visible&&P.enabled&&E.series.length&&E.coll!=="colorAxis"&&!this.polar){p=A.tickLength,E.createGroups();let O=new Ea(E,0,"",!0),$=O.createLabel("x",P);if(O.destroy(),$&&wr(P.reserveSpace,!ou(A.crossing))&&(p=$.getBBox().height+P.distance+Math.max(A.offset||0,0)),p){$==null||$.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-p,0);(f||v||h>1)&&b<h;){let E=this.plotWidth,A=this.plotHeight;for(let P of r)b===0?P.setScale():(P.horiz&&f||!P.horiz&&v)&&P.setTickInterval(!0);b===0?this.getAxisMargins():this.getMargins(),f=E/this.plotWidth>(b?1:1.1),v=A/this.plotHeight>(b?1:1.05),b++}this.drawChartBox(),this.hasCartesianSeries?d(r):l!=null&&l.length&&d(l),this.seriesGroup||(this.seriesGroup=c.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.dataLabelsGroup||(this.dataLabelsGroup=c.g("datalabels-group").attr({zIndex:6}).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(r){let l=this,c=lo(!0,this.options.credits,r);c.enabled&&!this.credits&&(this.credits=this.renderer.text(c.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){c.href&&(q_.location.href=c.href)}).attr({align:c.position.align,zIndex:8}),l.styledMode||this.credits.css(c.style),this.credits.add().align(c.position),this.credits.update=function(h){l.credits=l.credits.destroy(),l.addCredits(h)})}destroy(){var f,v;let r,l=this,c=l.axes,h=l.series,d=l.container,p=d==null?void 0:d.parentNode;for(Cn(l,"destroy"),l.renderer.forExport?kM(ql,l):ql[l.index]=void 0,M.chartCount--,l.renderTo.removeAttribute("data-highcharts-chart"),G_(l),r=c.length;r--;)c[r]=c[r].destroy();for((v=(f=this.scroller)==null?void 0:f.destroy)==null||v.call(f),r=h.length;r--;)h[r]=h[r].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(b=>{var T,E;l[b]=(E=(T=l[b])==null?void 0:T.destroy)==null?void 0:E.call(T)}),d&&(d.innerHTML=Vn.emptyHTML,G_(d),p&&EM(d)),hv(l,function(b,T){delete l[T]})}firstRender(){var h;let r=this,l=r.options;r.getContainer(),r.resetMargins(),r.setChartSize(),r.propFromSeries(),r.createAxes();let c=CM(l.series)?l.series:[];l.series=[],c.forEach(function(d){r.initSeries(d)}),r.linkSeries(),r.setSortedData(),Cn(r,"beforeRender"),r.render(),(h=r.pointer)==null||h.getChartPosition(),r.renderer.imgCount||r.hasLoaded||r.onload(),r.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(r){r&&this.index!==void 0&&r.apply(this,[this])},this),Cn(this,"load"),Cn(this,"render"),Sa(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:r,title:l}=this;r&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":((l==null?void 0:l.element.textContent)||"").replace(/</g,"&lt;")}),r.accessibility&&r.accessibility.enabled===!1||lv('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(r,l,c){let h,d=this;return r&&(l=wr(l,!0),Cn(d,"addSeries",{options:r},function(){h=d.initSeries(r),d.isDirtyLegend=!0,d.linkSeries(),h.enabledDataSorting&&h.setData(r.data,!1),Cn(d,"afterAddSeries",{series:h}),l&&d.redraw(c)})),h}addAxis(r,l,c,h){return this.createAxis(l?"xAxis":"yAxis",{axis:r,redraw:c,animation:h})}addColorAxis(r,l,c){return this.createAxis("colorAxis",{axis:r,redraw:l,animation:c})}createAxis(r,l){let c=new Ta(this,l.axis,r);return wr(l.redraw,!0)&&this.redraw(l.animation),c}showLoading(r){let l=this,c=l.options,h=c.loading,d=function(){p&&Os(p,{left:l.plotLeft+"px",top:l.plotTop+"px",width:l.plotWidth+"px",height:l.plotHeight+"px"})},p=l.loadingDiv,f=l.loadingSpan;p||(l.loadingDiv=p=av("div",{className:"highcharts-loading highcharts-loading-hidden"},null,l.container)),f||(l.loadingSpan=f=av("span",{className:"highcharts-loading-inner"},null,p),ov(l,"redraw",d)),p.className="highcharts-loading",Vn.setElementHTML(f,wr(r,c.lang.loading,"")),!l.styledMode&&(Os(p,Aa(h.style,{zIndex:10})),Os(f,h.labelStyle),l.loadingShown||(Os(p,{opacity:0,display:""}),nv(p,{opacity:h.style.opacity||.5},{duration:h.showDuration||0}))),l.loadingShown=!0,d()}hideLoading(){let r=this.options,l=this.loadingDiv;l&&(l.className="highcharts-loading highcharts-loading-hidden",this.styledMode||nv(l,{opacity:0},{duration:r.loading.hideDuration||100,complete:function(){Os(l,{display:"none"})}})),this.loadingShown=!1}update(r,l,c,h){let d,p,f,v=this,b={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},T=r.isResponsiveOptions,E=[];Cn(v,"update",{options:r}),T||v.setResponsive(!1,!0),r=H_(r,v.options),v.userOptions=lo(v.userOptions,r);let A=r.chart;A&&(lo(!0,v.options.chart,A),this.setZoomOptions(),"className"in A&&v.setClassName(A.className),("inverted"in A||"polar"in A||"type"in A)&&(v.propFromSeries(),d=!0),"alignTicks"in A&&(d=!0),"events"in A&&U_(this,A),hv(A,function($,q){v.propsRequireUpdateSeries.indexOf("chart."+q)!==-1&&(p=!0),v.propsRequireDirtyBox.indexOf(q)!==-1&&(v.isDirtyBox=!0),v.propsRequireReflow.indexOf(q)!==-1&&(v.isDirtyBox=!0,T||(f=!0))}),!v.styledMode&&A.style&&v.renderer.setStyle(v.options.chart.style||{})),!v.styledMode&&r.colors&&(this.options.colors=r.colors),hv(r,function($,q){v[q]&&typeof v[q].update=="function"?v[q].update($,!1):typeof v[b[q]]=="function"?v[b[q]]($):q!=="colors"&&v.collectionsWithUpdate.indexOf(q)===-1&&lo(!0,v.options[q],r[q]),q!=="chart"&&v.propsRequireUpdateSeries.indexOf(q)!==-1&&(p=!0)}),this.collectionsWithUpdate.forEach(function($){r[$]&&(Ef(r[$]).forEach(function(q,V){let Q,ee=Sa(q.id);ee&&(Q=v.get(q.id)),!Q&&v[$]&&(Q=v[$][wr(q.index,V)])&&(ee&&Sa(Q.options.id)||Q.options.isInternal)&&(Q=void 0),Q&&Q.coll===$&&(Q.update(q,!1),c&&(Q.touched=!0)),!Q&&c&&v.collectionsWithInit[$]&&(v.collectionsWithInit[$][0].apply(v,[q].concat(v.collectionsWithInit[$][1]||[]).concat([!1])).touched=!0)}),c&&v[$].forEach(function(q){q.touched||q.options.isInternal?delete q.touched:E.push(q)}))}),E.forEach(function($){$.chart&&$.remove&&$.remove(!1)}),d&&v.axes.forEach(function($){$.update({},!1)}),p&&v.getSeriesOrderByLinks().forEach(function($){$.chart&&$.update({},!1)},this);let P=A==null?void 0:A.width,O=A&&(_f(A.height)?W_(A.height,P||v.chartWidth):A.height);f||ou(P)&&P!==v.chartWidth||ou(O)&&O!==v.chartHeight?v.setSize(P,O,h):wr(l,!0)&&v.redraw(h),Cn(v,"afterUpdate",{options:r,redraw:l,animation:h})}setSubtitle(r,l){this.applyDescription("subtitle",r),this.layOutTitles(l)}setCaption(r,l){this.applyDescription("caption",r),this.layOutTitles(l)}showResetZoom(){let r=this,l=rv.lang,c=r.zooming.resetButton,h=c.theme,d=c.relativeTo==="chart"||c.relativeTo==="spacingBox"?null:"plotBox";function p(){r.zoomOut()}Cn(this,"beforeShowResetZoom",null,function(){r.resetZoomButton=r.renderer.button(l.resetZoom,null,null,p,h).attr({align:c.position.align,title:l.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(c.position,!1,d)}),Cn(this,"afterShowResetZoom")}zoomOut(){Cn(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(r,l){let c=this,h=typeof l=="object"?l:{enabled:l,type:"x"},d=h.type,p=d&&c[{x:"xAxis",xy:"axes",y:"yAxis"}[d]].filter(v=>v.options.panningEnabled&&!v.options.isInternal),f=c.options.chart;f!=null&&f.panning&&(f.panning=h),Cn(this,"pan",{originalEvent:r},()=>{c.transform({axes:p,event:r,to:{x:r.chartX-(c.mouseDownX||0),y:r.chartY-(c.mouseDownY||0)},trigger:"pan"}),Os(c.container,{cursor:"move"})})}transform(r){var O;let{axes:l=this.axes,event:c,from:h={},reset:d,selection:p,to:f={},trigger:v}=r,{inverted:b,time:T}=this;(O=this.hoverPoints)==null||O.forEach($=>$.setState()),Cn(this,"transform",r);let E=r.hasZoomed||!1,A,P;for(let $ of l){let{horiz:q,len:V,minPointOffset:Q=0,options:ee,reversed:we}=$,fe=q?"width":"height",ve=q?"x":"y",Be=wr(f[fe],$.len),Ne=wr(h[fe],$.len),Le=10>Math.abs(Be)?1:Be/Ne,it=(h[ve]||0)+Ne/2-$.pos,dt=it-((f[ve]??$.pos)+Be/2-$.pos)/Le,Et=we&&!b||!we&&b?-1:1;if(!d&&(it<0||it>$.len))continue;let Nt=$.chart.polar||$.isOrdinal?0:Q*Et||0,qt=$.toValue(dt,!0),Bt=$.toValue(dt+V/Le,!0),Wt=qt+Nt,Dt=Bt-Nt,Yt=$.allExtremes;if(p&&p[$.coll].push({axis:$,min:Math.min(qt,Bt),max:Math.max(qt,Bt)}),Wt>Dt&&([Wt,Dt]=[Dt,Wt]),Le===1&&!d&&$.coll==="yAxis"&&!Yt){for(let qi of $.series){let Qn=qi.getExtremes(qi.getProcessedData(!0).modified.getColumn("y")||[],!0);Yt??(Yt={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),ou(Qn.dataMin)&&ou(Qn.dataMax)&&(Yt.dataMin=Math.min(Qn.dataMin,Yt.dataMin),Yt.dataMax=Math.max(Qn.dataMax,Yt.dataMax))}$.allExtremes=Yt}let{dataMin:pn,dataMax:_n,min:En,max:Qi}=Aa($.getExtremes(),Yt||{}),bn=T.parse(ee.min),On=T.parse(ee.max),ln=pn??bn,sn=_n??On,vi=Dt-Wt,Ln=$.categories?0:Math.min(vi,sn-ln),Gn=ln-Ln*(Sa(bn)?0:ee.minPadding),Bi=sn+Ln*(Sa(On)?0:ee.maxPadding),Oo=$.allowZoomOutside||Le===1||v!=="zoom"&&Le>1,ms=Math.min(bn??Gn,Gn,Oo?En:Gn),Ji=Math.max(On??Bi,Bi,Oo?Qi:Bi);(!$.isOrdinal||Le!==1||d)&&(Wt<ms&&(Wt=ms,Le>=1&&(Dt=Wt+vi)),Dt>Ji&&(Dt=Ji,Le>=1&&(Wt=Dt-vi)),(d||$.series.length&&(Wt!==En||Dt!==Qi)&&Wt>=ms&&Dt<=Ji)&&(p?p[$.coll].push({axis:$,min:Wt,max:Dt}):($.isPanning=v!=="zoom",$.isPanning&&(P=!0),$.setExtremes(d?void 0:Wt,d?void 0:Dt,!1,!1,{move:dt,trigger:v,scale:Le}),!d&&(Wt>ms||Dt<Ji)&&v!=="mousewheel"&&(A=!0)),E=!0),this.hasCartesianSeries||d||v==="mousewheel"||(A=!0),c&&(this[q?"mouseDownX":"mouseDownY"]=c[q?"chartX":"chartY"]))}return E&&(p?Cn(this,"selection",p,()=>{delete r.selection,r.trigger="zoom",this.transform(r)}):(!A||P||this.resetZoomButton?!A&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(v==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),E}}Aa(Na.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Na.prototype.addAxis,[!0]],yAxis:[Na.prototype.addAxis,[!1]],series:[Na.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:IM}=Ct,{composed:PM}=M,{addEvent:ja,createElement:kf,css:dv,defined:pv,erase:MM,merge:K_,pushUnique:Y_}=je;function RM(){let w=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!w&&(this.scrollablePlotArea=w=new Jh(this)),w==null||w.applyFixed()}function X_(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class Jh{static compose(r,l,c){Y_(PM,this.compose)&&(ja(r,"afterInit",X_),ja(l,"afterSetChartSize",h=>this.afterSetSize(h.target,h)),ja(l,"render",RM),ja(c,"show",X_))}static afterSetSize(r,l){let c,h,d,{minWidth:p,minHeight:f}=r.options.chart.scrollablePlotArea||{},{clipBox:v,plotBox:b,inverted:T,renderer:E}=r;if(!E.forExport)if(p?(r.scrollablePixelsX=c=Math.max(0,p-r.chartWidth),c&&(r.scrollablePlotBox=K_(r.plotBox),b.width=r.plotWidth+=c,v[T?"height":"width"]+=c,d=!0)):f&&(r.scrollablePixelsY=h=Math.max(0,f-r.chartHeight),pv(h)&&(r.scrollablePlotBox=K_(r.plotBox),b.height=r.plotHeight+=h,v[T?"width":"height"]+=h,d=!1)),pv(d)){if(!l.skipAxes)for(let A of r.axes)(A.horiz===d||r.hasParallelCoordinates&&A.coll==="yAxis")&&(A.setAxisSize(),A.setAxisTranslation())}else delete r.scrollablePlotBox}constructor(r){var P;let l,c=r.options.chart,h=qr.getRendererType(),d=c.scrollablePlotArea||{},p=this.moveFixedElements.bind(this),f={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};r.scrollablePixelsX&&(f.overflowX="auto"),r.scrollablePixelsY&&(f.overflowY="auto"),this.chart=r;let v=this.parentDiv=kf("div",{className:"highcharts-scrolling-parent"},{position:"relative"},r.renderTo),b=this.scrollingContainer=kf("div",{className:"highcharts-scrolling"},f,v),T=this.innerContainer=kf("div",{className:"highcharts-inner-container"},void 0,b),E=this.fixedDiv=kf("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(((P=c.style)==null?void 0:P.zIndex)||0)+2,top:0},void 0,!0),A=this.fixedRenderer=new h(E,r.chartWidth,r.chartHeight,c.style);this.mask=A.path().attr({fill:c.backgroundColor||"#fff","fill-opacity":d.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),b.parentNode.insertBefore(E,b),dv(r.renderTo,{overflow:"visible"}),ja(r,"afterShowResetZoom",p),ja(r,"afterApplyDrilldown",p),ja(r,"afterLayOutTitles",p),ja(b,"scroll",()=>{let{pointer:O,hoverPoint:$}=r;O&&(delete O.chartPosition,$&&(l=$),O.runPointActions(void 0,l,!0))}),T.appendChild(r.container)}applyFixed(){var it;let{chart:r,fixedRenderer:l,isDirty:c,scrollingContainer:h}=this,{axisOffset:d,chartWidth:p,chartHeight:f,container:v,plotHeight:b,plotLeft:T,plotTop:E,plotWidth:A,scrollablePixelsX:P=0,scrollablePixelsY:O=0}=r,{scrollPositionX:$=0,scrollPositionY:q=0}=r.options.chart.scrollablePlotArea||{},V=p+P,Q=f+O;l.setSize(p,f),(c??!0)&&(this.isDirty=!1,this.moveFixedElements()),IM(r.container),dv(v,{width:`${V}px`,height:`${Q}px`}),r.renderer.boxWrapper.attr({width:V,height:Q,viewBox:[0,0,V,Q].join(" ")}),(it=r.chartBackground)==null||it.attr({width:V,height:Q}),dv(h,{width:`${p}px`,height:`${f}px`}),pv(c)||(h.scrollLeft=P*$,h.scrollTop=O*q);let ee=E-d[0]-1,we=T-d[3]-1,fe=E+b+d[2]+1,ve=T+A+d[1]+1,Be=T+A-P,Ne=E+b-O,Le=[["M",0,0]];P?Le=[["M",0,ee],["L",T-1,ee],["L",T-1,fe],["L",0,fe],["Z"],["M",Be,ee],["L",p,ee],["L",p,fe],["L",Be,fe],["Z"]]:O&&(Le=[["M",we,0],["L",we,E-1],["L",ve,E-1],["L",ve,0],["Z"],["M",we,Ne],["L",we,f],["L",ve,f],["L",ve,Ne],["Z"]]),r.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:Le})}moveFixedElements(){let r,{container:l,inverted:c,scrollablePixelsX:h,scrollablePixelsY:d}=this.chart,p=this.fixedRenderer,f=Jh.fixedSelectors;if(h&&!c?r=".highcharts-yaxis":h&&c||d&&!c?r=".highcharts-xaxis":d&&c&&(r=".highcharts-yaxis"),r&&!(this.chart.hasParallelCoordinates&&r===".highcharts-yaxis"))for(let v of[`${r}:not(.highcharts-radial-axis)`,`${r}-labels:not(.highcharts-radial-axis-labels)`])Y_(f,v);else for(let v of[".highcharts-xaxis",".highcharts-yaxis"])for(let b of[`${v}:not(.highcharts-radial-axis)`,`${v}-labels:not(.highcharts-radial-axis-labels)`])MM(f,b);for(let v of f)[].forEach.call(l.querySelectorAll(v),b=>{(b.namespaceURI===p.SVG_NS?p.box:p.box.parentNode).appendChild(b),b.style.pointerEvents="auto"})}}Jh.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:DM}=wi,{series:OM}=ui,{destroyObjectProperties:LM,fireEvent:Q_,getAlignFactor:fv,isNumber:mv,pick:Zh}=je,J_=class{constructor(w,r,l,c,h){let d=w.chart.inverted,p=w.reversed;this.axis=w;let f=this.isNegative=!!l!=!!p;this.options=r=r||{},this.x=c,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=h,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:r.align||(d?f?"left":"right":"center"),verticalAlign:r.verticalAlign||(d?"middle":f?"bottom":"top"),y:r.y,x:r.x},this.textAlign=r.textAlign||(d?f?"right":"left":"center")}destroy(){LM(this,this.axis)}render(w){let r=this.axis.chart,l=this.options,c=l.format,h=c?DM(c,this,r):l.formatter.call(this);if(this.label)this.label.attr({text:h,visibility:"hidden"});else{this.label=r.renderer.label(h,null,void 0,l.shape,void 0,void 0,l.useHTML,!1,"stack-labels");let d={r:l.borderRadius||0,text:h,padding:Zh(l.padding,5),visibility:"hidden"};r.styledMode||(d.fill=l.backgroundColor,d.stroke=l.borderColor,d["stroke-width"]=l.borderWidth,this.label.css(l.style||{})),this.label.attr(d),this.label.added||this.label.add(w)}this.label.labelrank=r.plotSizeY,Q_(this,"afterRender")}setOffset(w,r,l,c,h,d){let{alignOptions:p,axis:f,label:v,options:b,textAlign:T}=this,E=f.chart,A=this.getStackBox({xOffset:w,width:r,boxBottom:l,boxTop:c,defaultX:h,xAxis:d}),{verticalAlign:P}=p;if(v&&A){let O=v.getBBox(void 0,0),$=v.padding,q=Zh(b.overflow,"justify")==="justify",V;p.x=b.x||0,p.y=b.y||0;let{x:Q,y:ee}=this.adjustStackPosition({labelBox:O,verticalAlign:P,textAlign:T});A.x-=Q,A.y-=ee,v.align(p,!1,A),(V=E.isInsidePlot(v.alignAttr.x+p.x+Q,v.alignAttr.y+p.y+ee))||(q=!1),q&&OM.prototype.justifyDataLabel.call(f,v,p,v.alignAttr,O,A),v.attr({x:v.alignAttr.x,y:v.alignAttr.y,rotation:b.rotation,rotationOriginX:O.width*fv(b.textAlign||"center"),rotationOriginY:O.height/2}),Zh(!q&&b.crop,!0)&&(V=mv(v.x)&&mv(v.y)&&E.isInsidePlot(v.x-$+(v.width||0),v.y)&&E.isInsidePlot(v.x+$,v.y)),v[V?"show":"hide"]()}Q_(this,"afterSetOffset",{xOffset:w,width:r})}adjustStackPosition({labelBox:w,verticalAlign:r,textAlign:l}){return{x:w.width/2+w.width/2*(2*fv(l)-1),y:w.height/2*2*(1-fv(r))}}getStackBox(w){let r=this.axis,l=r.chart,{boxTop:c,defaultX:h,xOffset:d,width:p,boxBottom:f}=w,v=r.stacking.usePercentage?100:Zh(c,this.total,0),b=r.toPixels(v),T=w.xAxis||l.xAxis[0],E=Zh(h,T.translate(this.x))+d,A=Math.abs(b-r.toPixels(f||mv(r.min)&&r.logarithmic&&r.logarithmic.lin2log(r.min)||0)),P=l.inverted,O=this.isNegative;return P?{x:(O?b:b-A)-l.plotLeft,y:T.height-E-p+T.top-l.plotTop,width:A,height:p}:{x:E+T.transB-l.plotLeft,y:(O?b-A:b)-l.plotTop,width:p,height:A}}},{getDeferredAnimation:FM}=Ct,{series:{prototype:BM}}=ui,{addEvent:Z_,correctFloat:ed,defined:eE,destroyObjectProperties:VM,fireEvent:UM,isNumber:gv,objectEach:$l,pick:yv}=je;function zM(){let w=this.inverted;this.axes.forEach(r=>{var l;(l=r.stacking)!=null&&l.stacks&&r.hasVisibleSeries&&(r.stacking.oldStacks=r.stacking.stacks)}),this.series.forEach(r=>{var c;let l=((c=r.xAxis)==null?void 0:c.options)||{};r.options.stacking&&r.reserveSpace()&&(r.stackKey=[r.type,yv(r.options.stack,""),w?l.top:l.left,w?l.height:l.width].join(","))})}function qM(){var r;let w=this.stacking;if(w){let l=w.stacks;$l(l,(c,h)=>{VM(c),delete l[h]}),(r=w.stackTotalGroup)==null||r.destroy()}}function $M(){this.stacking||(this.stacking=new XM(this))}function HM(w,r,l,c){return!eE(w)||w.x!==r||c&&w.stackKey!==c?w={x:r,index:0,key:c,stackKey:c}:w.index++,w.key=[l,r,w.index].join(","),w}function WM(){let w,r=this,l=r.yAxis,c=r.stackKey||"",h=l.stacking.stacks,d=r.getColumn("x",!0),p=r.options.stacking,f=r[p+"Stacker"];f&&[c,"-"+c].forEach(v=>{var P;let b=d.length,T,E,A;for(;b--;)T=d[b],w=r.getStackIndicator(w,T,r.index,v),E=(P=h[v])==null?void 0:P[T],(A=E==null?void 0:E.points[w.key||""])&&f.call(r,A,E,b)})}function GM(w,r,l){let c=r.total?100/r.total:0;w[0]=ed(w[0]*c),w[1]=ed(w[1]*c),this.stackedYData[l]=w[1]}function KM(w){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?BM.setStackedPoints.call(this,w,"group"):w.stacking.resetStacks())}function YM(w,r){var Ne,Le;let l,c,h,d,p,f,v,b=r||this.options.stacking;if(!b||!this.reserveSpace()||({group:"xAxis"}[b]||"yAxis")!==w.coll)return;let T=this.getColumn("x",!0),E=this.getColumn(this.pointValKey||"y",!0),A=[],P=E.length,O=this.options,$=O.threshold||0,q=O.startFromThreshold?$:0,V=O.stack,Q=r?`${this.type},${b}`:this.stackKey||"",ee="-"+Q,we=this.negStacks,fe=w.stacking,ve=fe.stacks,Be=fe.oldStacks;for(fe.stacksTouched+=1,v=0;v<P;v++){let it=T[v]||0,dt=E[v],Et=gv(dt)&&dt||0;f=(l=this.getStackIndicator(l,it,this.index)).key||"",ve[p=(c=we&&Et<(q?0:$))?ee:Q]||(ve[p]={}),ve[p][it]||((Ne=Be[p])!=null&&Ne[it]?(ve[p][it]=Be[p][it],ve[p][it].total=null):ve[p][it]=new J_(w,w.options.stackLabels,!!c,it,V)),h=ve[p][it],dt!==null?(h.points[f]=h.points[this.index]=[yv(h.cumulative,q)],eE(h.cumulative)||(h.base=f),h.touched=fe.stacksTouched,l.index>0&&this.singleStacks===!1&&(h.points[f][0]=h.points[this.index+","+it+",0"][0])):(delete h.points[f],delete h.points[this.index]);let Nt=h.total||0;b==="percent"?(d=c?Q:ee,Nt=we&&((Le=ve[d])!=null&&Le[it])?(d=ve[d][it]).total=Math.max(d.total||0,Nt)+Math.abs(Et):ed(Nt+Math.abs(Et))):b==="group"?gv(dt)&&Nt++:Nt=ed(Nt+Et),b==="group"?h.cumulative=(Nt||1)-1:h.cumulative=ed(yv(h.cumulative,q)+Et),h.total=Nt,dt!==null&&(h.points[f].push(h.cumulative),A[v]=h.cumulative,h.hasValidPoints=!0)}b==="percent"&&(fe.usePercentage=!0),b!=="group"&&(this.stackedYData=A),fe.oldStacks={}}class XM{constructor(r){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=r}buildStacks(){let r,l,c=this.axis,h=c.series,d=c.coll==="xAxis",p=c.options.reversedStacks,f=h.length;for(this.resetStacks(),this.usePercentage=!1,l=f;l--;)r=h[p?l:f-l-1],d&&r.setGroupedPoints(c),r.setStackedPoints(c);if(!d)for(l=0;l<f;l++)h[l].modifyStacks();UM(c,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,$l(this.stacks,r=>{$l(r,l=>{l.cumulative=l.total})}))}resetStacks(){$l(this.stacks,r=>{$l(r,(l,c)=>{gv(l.touched)&&l.touched<this.stacksTouched?(l.destroy(),delete r[c]):(l.total=null,l.cumulative=null)})})}renderStackTotals(){var f;let r=this.axis,l=r.chart,c=l.renderer,h=this.stacks,d=FM(l,((f=r.options.stackLabels)==null?void 0:f.animation)||!1),p=this.stackTotalGroup=this.stackTotalGroup||c.g("stack-labels").attr({zIndex:6,opacity:0}).add();p.translate(l.plotLeft,l.plotTop),$l(h,v=>{$l(v,b=>{b.render(p)})}),p.animate({opacity:1},d)}}(oe||(oe={})).compose=function(w,r,l){let c=r.prototype,h=l.prototype;c.getStacks||(Z_(w,"init",$M),Z_(w,"destroy",qM),c.getStacks=zM,h.getStackIndicator=HM,h.modifyStacks=WM,h.percentStacker=GM,h.setGroupedPoints=KM,h.setStackedPoints=YM)};let QM=oe,{defined:JM,merge:tE,isObject:ZM}=je;class nE extends Mr{drawGraph(){let r=this.options,l=(this.gappedPath||this.getGraphPath).call(this),c=this.chart.styledMode;[this,...this.zones].forEach((h,d)=>{let p,f=h.graph,v=f?"animate":"attr",b=h.dashStyle||r.dashStyle;f?(f.endX=this.preventGraphAnimation?null:l.xMap,f.animate({d:l})):l.length&&(h.graph=f=this.chart.renderer.path(l).addClass("highcharts-graph"+(d?` highcharts-zone-graph-${d-1} `:" ")+(d&&h.className||"")).attr({zIndex:1}).add(this.group)),f&&!c&&(p={stroke:!d&&r.lineColor||h.color||this.color||"#cccccc","stroke-width":r.lineWidth||0,fill:this.fillGraph&&this.color||"none"},b?p.dashstyle=b:r.linecap!=="square"&&(p["stroke-linecap"]=p["stroke-linejoin"]="round"),f[v](p).shadow(r.shadow&&tE({filterUnits:"userSpaceOnUse"},ZM(r.shadow)?r.shadow:{}))),f&&(f.startX=l.xMap,f.isArea=l.isArea)})}getGraphPath(r,l,c){let h=this,d=h.options,p=[],f=[],v,b=d.step,T=(r=r||h.points).reversed;return T&&r.reverse(),(b={right:1,center:2}[b]||b&&3)&&T&&(b=4-b),(r=this.getValidPoints(r,!1,d.nullInteraction||!(d.connectNulls&&!l&&!c))).forEach(function(E,A){let P,O=E.plotX,$=E.plotY,q=r[A-1],V=E.isNull||typeof $!="number";(E.leftCliff||q!=null&&q.rightCliff)&&!c&&(v=!0),V&&!JM(l)&&A>0?v=!d.connectNulls:V&&!l?v=!0:(A===0||v?P=[["M",E.plotX,E.plotY]]:h.getPointSpline?P=[h.getPointSpline(r,E,A)]:b?(P=b===1?[["L",q.plotX,$]]:b===2?[["L",(q.plotX+O)/2,q.plotY],["L",(q.plotX+O)/2,$]]:[["L",O,q.plotY]]).push(["L",O,$]):P=[["L",O,$]],f.push(E.x),b&&(f.push(E.x),b===2&&f.push(E.x)),p.push.apply(p,P),v=!1)}),p.xMap=f,h.graphPath=p,p}}nE.defaultOptions=tE(Mr.defaultOptions,{legendSymbol:"lineMarker"}),ui.registerSeriesType("line",nE);let{seriesTypes:{line:vv}}=ui,{extend:eR,merge:tR,objectEach:nR,pick:Tf}=je;class xv extends vv{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:r,options:l}=this;[this,...this.zones].forEach((c,h)=>{let d={},p=c.fillColor||l.fillColor,f=c.area,v=f?"animate":"attr";f?(f.endX=this.preventGraphAnimation?null:r.xMap,f.animate({d:r})):(d.zIndex=0,(f=c.area=this.chart.renderer.path(r).addClass("highcharts-area"+(h?` highcharts-zone-area-${h-1} `:" ")+(h&&c.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(d.fill=p||c.color||this.color,d["fill-opacity"]=p?1:l.fillOpacity??.75,f.css({pointerEvents:this.stickyTracking?"none":"auto"})),f[v](d),f.startX=r.xMap,f.shiftUnit=l.step?2:1})}getGraphPath(r){let l,c,h,d=vv.prototype.getGraphPath,p=this.options,f=p.stacking,v=this.yAxis,b=[],T=[],E=this.index,A=v.stacking.stacks[this.stackKey],P=p.threshold,O=Math.round(v.getThreshold(p.threshold)),$=Tf(p.connectNulls,f==="percent"),q=function(ve,Be,Ne){let Le=r[ve],it=f&&A[Le.x].points[E],dt=Le[Ne+"Null"]||0,Et=Le[Ne+"Cliff"]||0,Nt,qt,Bt=!0;Et||dt?(Nt=(dt?it[0]:it[1])+Et,qt=it[0]+Et,Bt=!!dt):!f&&r[Be]&&r[Be].isNull&&(Nt=qt=P),Nt!==void 0&&(T.push({plotX:l,plotY:Nt===null?O:v.getThreshold(Nt),isNull:Bt,isCliff:!0}),b.push({plotX:l,plotY:qt===null?O:v.getThreshold(qt),doCurve:!1}))};r=r||this.points,f&&(r=this.getStackPoints(r));for(let ve=0,Be=r.length;ve<Be;++ve)f||(r[ve].leftCliff=r[ve].rightCliff=r[ve].leftNull=r[ve].rightNull=void 0),c=r[ve].isNull,l=Tf(r[ve].rectPlotX,r[ve].plotX),h=f?Tf(r[ve].yBottom,O):O,(!c||$)&&($||q(ve,ve-1,"left"),c&&!f&&$||(T.push(r[ve]),b.push({x:ve,plotX:l,plotY:h})),$||q(ve,ve+1,"right"));let V=d.call(this,T,!0,!0);b.reversed=!0;let Q=d.call(this,b,!0,!0),ee=Q[0];ee&&ee[0]==="M"&&(Q[0]=["L",ee[1],ee[2]]);let we=V.concat(Q);we.length&&we.push(["Z"]);let fe=d.call(this,T,!1,$);return this.chart.series.length>1&&f&&T.some(ve=>ve.isCliff)&&(we.hasStackedCliffs=fe.hasStackedCliffs=!0),we.xMap=V.xMap,this.areaPath=we,fe}getStackPoints(r){let l=this,c=[],h=[],d=this.xAxis,p=this.yAxis,f=p.stacking.stacks[this.stackKey],v={},b=p.series,T=b.length,E=p.options.reversedStacks?1:-1,A=b.indexOf(l);if(r=r||this.points,this.options.stacking){for(let O=0;O<r.length;O++)r[O].leftNull=r[O].rightNull=void 0,v[r[O].x]=r[O];nR(f,function(O,$){O.total!==null&&h.push($)}),h.sort(function(O,$){return O-$});let P=b.map(O=>O.visible);h.forEach(function(O,$){let q=0,V,Q;if(v[O]&&!v[O].isNull)c.push(v[O]),[-1,1].forEach(function(ee){let we=ee===1?"rightNull":"leftNull",fe=f[h[$+ee]],ve=0;if(fe){let Be=A;for(;Be>=0&&Be<T;){let Ne=b[Be].index;!(V=fe.points[Ne])&&(Ne===l.index?v[O][we]=!0:P[Be]&&(Q=f[O].points[Ne])&&(ve-=Q[1]-Q[0])),Be+=E}}v[O][ee===1?"rightCliff":"leftCliff"]=ve});else{let ee=A;for(;ee>=0&&ee<T;){let we=b[ee].index;if(V=f[O].points[we]){q=V[1];break}ee+=E}q=Tf(q,0),q=p.translate(q,0,1,0,1),c.push({isNull:!0,plotX:d.translate(O,0,0,0,1),x:O,plotY:q,yBottom:q})}})}return c}}xv.defaultOptions=tR(vv.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),eR(xv.prototype,{singleStacks:!1}),ui.registerSeriesType("area",xv);let{line:iE}=ui.seriesTypes,{merge:iR,pick:Cf}=je;class bv extends iE{getPointSpline(r,l,c){let h,d,p,f,v=l.plotX||0,b=l.plotY||0,T=r[c-1],E=r[c+1];function A(O){return O&&!O.isNull&&O.doCurve!==!1&&!l.isCliff}if(A(T)&&A(E)){let O=T.plotX||0,$=T.plotY||0,q=E.plotX||0,V=E.plotY||0,Q=0;h=(1.5*v+O)/2.5,d=(1.5*b+$)/2.5,p=(1.5*v+q)/2.5,f=(1.5*b+V)/2.5,p!==h&&(Q=(f-d)*(p-v)/(p-h)+b-f),d+=Q,f+=Q,d>$&&d>b?(d=Math.max($,b),f=2*b-d):d<$&&d<b&&(d=Math.min($,b),f=2*b-d),f>V&&f>b?(f=Math.max(V,b),d=2*b-f):f<V&&f<b&&(f=Math.min(V,b),d=2*b-f),l.rightContX=p,l.rightContY=f,l.controlPoints={low:[h,d],high:[p,f]}}let P=["C",Cf(T.rightContX,T.plotX,0),Cf(T.rightContY,T.plotY,0),Cf(h,v,0),Cf(d,b,0),v,b];return T.rightContX=T.rightContY=void 0,P}}bv.defaultOptions=iR(iE.defaultOptions),ui.registerSeriesType("spline",bv);let rE=bv,{area:rR,area:{prototype:wv}}=ui.seriesTypes,{extend:sR,merge:oR}=je;class _v extends rE{}_v.defaultOptions=oR(rE.defaultOptions,rR.defaultOptions),sR(_v.prototype,{getGraphPath:wv.getGraphPath,getStackPoints:wv.getStackPoints,drawGraph:wv.drawGraph}),ui.registerSeriesType("areaspline",_v);let{animObject:aR}=Ct,{parse:lR}=Ft,{noop:cR}=M,{clamp:Sf,crisp:Af,defined:sE,extend:oE,fireEvent:aE,isArray:lE,isNumber:Nf,merge:Ev,pick:td,objectEach:uR}=je;class jf extends Mr{animate(r){let l,c,h=this,d=this.yAxis,p=d.pos,f=d.reversed,v=h.options,{clipOffset:b,inverted:T}=this.chart,E={},A=T?"translateX":"translateY";r&&b?(E.scaleY=.001,c=Sf(d.toPixels(v.threshold||0),p,p+d.len),T?E.translateX=(c+=f?-Math.floor(b[0]):Math.ceil(b[2]))-d.len:E.translateY=c+=f?Math.ceil(b[0]):-Math.floor(b[2]),h.clipBox&&h.setClip(),h.group.attr(E)):(l=Number(h.group.attr(A)),h.group.animate({scaleY:1},oE(aR(h.options.animation),{step:function(P,O){h.group&&(E[A]=l+O.pos*(p-l),h.group.attr(E))}})))}init(r,l){super.init.apply(this,arguments);let c=this;(r=c.chart).hasRendered&&r.series.forEach(function(h){h.type===c.type&&(h.isDirty=!0)})}getColumnMetrics(){var $,q;let r=this,l=r.options,c=r.xAxis,h=r.yAxis,d=c.options.reversedStacks,p=c.reversed&&!d||!c.reversed&&d,f={},v,b=0;l.grouping===!1?b=1:r.chart.series.forEach(function(V){let Q,ee=V.yAxis,we=V.options;V.type===r.type&&V.reserveSpace()&&h.len===ee.len&&h.pos===ee.pos&&(we.stacking&&we.stacking!=="group"?(f[v=V.stackKey]===void 0&&(f[v]=b++),Q=f[v]):we.grouping!==!1&&(Q=b++),V.columnIndex=Q)});let T=Math.min(Math.abs(c.transA)*(!(($=c.brokenAxis)!=null&&$.hasBreaks)&&((q=c.ordinal)==null?void 0:q.slope)||l.pointRange||c.closestPointRange||c.tickInterval||1),c.len),E=T*l.groupPadding,A=(T-2*E)/(b||1),P=Math.min(l.maxPointWidth||c.len,td(l.pointWidth,A*(1-2*l.pointPadding))),O=(r.columnIndex||0)+ +!!p;return r.columnMetrics={width:P,offset:(A-P)/2+(E+O*A-T/2)*(p?-1:1),paddedWidth:A,columnCount:b},r.columnMetrics}crispCol(r,l,c,h){let d=this.borderWidth,p=this.chart.inverted;return h=Af(l+h,d,p)-(l=Af(l,d,p)),this.options.crisp&&(c=Af(r+c,d)-(r=Af(r,d))),{x:r,y:l,width:c,height:h}}adjustForMissingColumns(r,l,c,h){var d;if(!c.isNull&&h.columnCount>1){let p=this.xAxis.series.filter(T=>T.visible).map(T=>T.index),f=0,v=0;uR((d=this.xAxis.stacking)==null?void 0:d.stacks,T=>{var O;let E=typeof c.x=="number"?(O=T[c.x.toString()])==null?void 0:O.points:void 0,A=E==null?void 0:E[this.index],P={};if(E&&lE(A)){let $=this.index,q=Object.keys(E).filter(V=>!V.match(",")&&E[V]&&E[V].length>1).map(parseFloat).filter(V=>p.indexOf(V)!==-1).filter(V=>{let Q=this.chart.series[V].options,ee=Q.stacking&&Q.stack;if(sE(ee)){if(Nf(P[ee]))return $===V&&($=P[ee]),!1;P[ee]=V}return!0}).sort((V,Q)=>Q-V);f=q.indexOf($),v=q.length}}),f=this.xAxis.reversed?v-1-f:f;let b=(v-1)*h.paddedWidth+l;r=(c.plotX||0)+b/2-l-f*h.paddedWidth}return r}translate(){let r=this,l=r.chart,c=r.options,h=r.dense=r.closestPointRange*r.xAxis.transA<2,d=r.borderWidth=td(c.borderWidth,+!h),p=r.xAxis,f=r.yAxis,v=c.threshold,b=td(c.minPointLength,5),T=r.getColumnMetrics(),E=T.width,A=r.pointXOffset=T.offset,P=r.dataMin,O=r.dataMax,$=r.translatedThreshold=f.getThreshold(v),q=r.barW=Math.max(E,1+2*d);c.pointPadding&&c.crisp&&(q=Math.ceil(q)),Mr.prototype.translate.apply(r),r.points.forEach(function(V){let Q=td(V.yBottom,$),ee=999+Math.abs(Q),we=V.plotX||0,fe=Sf(V.plotY,-ee,f.len+ee),ve,Be=Math.min(fe,Q),Ne=Math.max(fe,Q)-Be,Le=E,it=we+A,dt=q;b&&Math.abs(Ne)<b&&(Ne=b,ve=!f.reversed&&!V.negative||f.reversed&&V.negative,Nf(v)&&Nf(O)&&V.y===v&&O<=v&&(f.min||0)<v&&(P!==O||(f.max||0)<=v)&&(ve=!ve,V.negative=!V.negative),Be=Math.abs(Be-$)>b?Q-b:$-(ve?b:0)),sE(V.options.pointWidth)&&(it-=Math.round(((Le=dt=Math.ceil(V.options.pointWidth))-E)/2)),c.centerInCategory&&(it=r.adjustForMissingColumns(it,Le,V,T)),V.barX=it,V.pointWidth=Le,V.tooltipPos=l.inverted?[Sf(f.len+f.pos-l.plotLeft-fe,f.pos-l.plotLeft,f.len+f.pos-l.plotLeft),p.len+p.pos-l.plotTop-it-dt/2,Ne]:[p.left-l.plotLeft+it+dt/2,Sf(fe+f.pos-l.plotTop,f.pos-l.plotTop,f.len+f.pos-l.plotTop),Ne],V.shapeType=r.pointClass.prototype.shapeType||"roundedRect",V.shapeArgs=r.crispCol(it,Be,dt,V.isNull?0:Ne)}),aE(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(r,l){let c=this.options,h=this.pointAttrToOptions||{},d=h.stroke||"borderColor",p=h["stroke-width"]||"borderWidth",f,v,b,T=r&&r.color||this.color,E=r&&r[d]||c[d]||T,A=r&&r.options.dashStyle||c.dashStyle,P=r&&r[p]||c[p]||this[p]||0,O=r!=null&&r.isNull&&c.nullInteraction?0:(r==null?void 0:r.opacity)??c.opacity??1;r&&this.zones.length&&(v=r.getZone(),T=r.options.color||v&&(v.color||r.nonZonedColor)||this.color,v&&(E=v.borderColor||E,A=v.dashStyle||A,P=v.borderWidth||P)),l&&r&&(b=(f=Ev(c.states[l],r.options.states&&r.options.states[l]||{})).brightness,T=f.color||b!==void 0&&lR(T).brighten(f.brightness).get()||T,E=f[d]||E,P=f[p]||P,A=f.dashStyle||A,O=td(f.opacity,O));let $={fill:T,stroke:E,"stroke-width":P,opacity:O};return A&&($.dashstyle=A),$}drawPoints(r=this.points){let l,c=this,h=this.chart,d=c.options,p=d.nullInteraction,f=h.renderer,v=d.animationLimit||250;r.forEach(function(b){let T=b.plotY,E=b.graphic,A=!!E,P=E&&h.pointCount<v?"animate":"attr";Nf(T)&&(b.y!==null||p)?(l=b.shapeArgs,E&&b.hasNewShapeType()&&(E=E.destroy()),c.enabledDataSorting&&(b.startXPos=c.xAxis.reversed?-(l&&l.width||0):c.xAxis.width),!E&&(b.graphic=E=f[b.shapeType](l).add(b.group||c.group),E&&c.enabledDataSorting&&h.hasRendered&&h.pointCount<v&&(E.attr({x:b.startXPos}),A=!0,P="animate")),E&&A&&E[P](Ev(l)),h.styledMode||E[P](c.pointAttribs(b,b.selected&&"select")).shadow(b.allowShadow!==!1&&d.shadow),E&&(E.addClass(b.getClassName(),!0),E.attr({visibility:b.visible?"inherit":"hidden"}))):E&&(b.graphic=E.destroy())})}drawTracker(r=this.points){let l,c=this,h=c.chart,d=h.pointer,p=function(f){d==null||d.normalize(f);let v=d==null?void 0:d.getPointFromEvent(f);d&&v&&c.options.enableMouseTracking&&(h.isInsidePlot(f.chartX-h.plotLeft,f.chartY-h.plotTop,{visiblePlotOnly:!0})||d!=null&&d.inClass(f.target,"highcharts-data-label"))&&(d.isDirectTouch=!0,v.onMouseOver(f))};r.forEach(function(f){l=lE(f.dataLabels)?f.dataLabels:f.dataLabel?[f.dataLabel]:[],f.graphic&&(f.graphic.element.point=f),l.forEach(function(v){(v.div||v.element).point=f})}),c._hasTracking||(c.trackerGroups.forEach(function(f){c[f]&&(c[f].addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(v){d==null||d.onTrackerMouseOut(v)}).on("touchstart",p),!h.styledMode&&c.options.cursor&&c[f].css({cursor:c.options.cursor}))}),c._hasTracking=!0),aE(this,"afterDrawTracker")}remove(){let r=this,l=r.chart;l.hasRendered&&l.series.forEach(function(c){c.type===r.type&&(c.isDirty=!0)}),Mr.prototype.remove.apply(r,arguments)}}jf.defaultOptions=Ev(Mr.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),oE(jf.prototype,{directTouch:!0,getSymbol:cR,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),ui.registerSeriesType("column",jf);let If=jf,{getDeferredAnimation:hR}=Ct,{format:dR}=wi,{defined:Hl,extend:cE,fireEvent:kv,getAlignFactor:uE,isArray:Ia,isString:nd,merge:id,objectEach:pR,pick:rd,pInt:fR,splat:hE}=je;(function(w){function r(){return v(this).some(T=>T==null?void 0:T.enabled)}function l(T,E,A,P,O){var it;let{chart:$,enabledDataSorting:q}=this,V=this.isCartesian&&$.inverted,Q=T.plotX,ee=T.plotY,we=A.rotation||0,fe=Hl(Q)&&Hl(ee)&&$.isInsidePlot(Q,Math.round(ee),{inverted:V,paneCoordinates:!0,series:this}),ve=we===0&&rd(A.overflow,q?"none":"justify")==="justify",Be=this.visible&&T.visible!==!1&&Hl(Q)&&(T.series.forceDL||q&&!ve||fe||rd(A.inside,!!this.options.stacking)&&P&&$.isInsidePlot(Q,V?P.x+1:P.y+P.height-1,{inverted:V,paneCoordinates:!0,series:this})),Ne=T.pos();if(Be&&Ne){var Le;let dt=E.getBBox(),Et=E.getBBox(void 0,0);if(P=cE({x:Ne[0],y:Math.round(Ne[1]),width:0,height:0},P||{}),A.alignTo==="plotEdges"&&this.isCartesian&&(P[V?"x":"y"]=0,P[V?"width":"height"]=((it=this.yAxis)==null?void 0:it.len)||0),cE(A,{width:dt.width,height:dt.height}),Le=P,q&&this.xAxis&&!ve&&this.setDataLabelStartPos(T,E,O,fe,Le),E.align(id(A,{width:Et.width,height:Et.height}),!1,P,!1),E.alignAttr.x+=uE(A.align)*(Et.width-dt.width),E.alignAttr.y+=uE(A.verticalAlign)*(Et.height-dt.height),E[E.placed?"animate":"attr"]({"text-align":E.alignAttr["text-align"]||"center",x:E.alignAttr.x+(dt.width-Et.width)/2,y:E.alignAttr.y+(dt.height-Et.height)/2,rotationOriginX:(E.width||0)/2,rotationOriginY:(E.height||0)/2}),ve&&P.height>=0)this.justifyDataLabel(E,A,E.alignAttr,dt,P,O);else if(rd(A.crop,!0)){let{x:Nt,y:qt}=E.alignAttr;Be=$.isInsidePlot(Nt,qt,{paneCoordinates:!0,series:this})&&$.isInsidePlot(Nt+dt.width-1,qt+dt.height-1,{paneCoordinates:!0,series:this})}A.shape&&!we&&E[O?"attr":"animate"]({anchorX:Ne[0],anchorY:Ne[1]})}O&&q&&(E.placed=!1),Be||q&&!ve?(E.show(),E.placed=!0):(E.hide(),E.placed=!1)}function c(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6,this.chart.dataLabelsGroup)}function h(T){let E=this.hasRendered||0,A=this.initDataLabelsGroup().attr({opacity:+E});return!E&&A&&(this.visible&&A.show(),this.options.animation?A.animate({opacity:1},T):A.attr({opacity:1})),A}function d(T){var Be;let E;T=T||this.points;let A=this,P=A.chart,O=A.options,$=P.renderer,{backgroundColor:q,plotBackgroundColor:V}=P.options.chart,Q=$.getContrast(nd(V)&&V||nd(q)&&q||"#000000"),ee=v(A),{animation:we,defer:fe}=ee[0],ve=fe?hR(P,we,A):{defer:0,duration:0};kv(this,"drawDataLabels"),(Be=A.hasDataLabels)!=null&&Be.call(A)&&(E=this.initDataLabels(ve),T.forEach(Ne=>{var Et,Nt,qt;let Le=Ne.dataLabels||[],it=Ne.color||A.color;hE(f(ee,Ne.dlOptions||((Et=Ne.options)==null?void 0:Et.dataLabels))).forEach((Bt,Wt)=>{var Gn;let Dt=Bt.enabled&&(Ne.visible||Ne.dataLabelOnHidden)&&(!Ne.isNull||Ne.dataLabelOnNull)&&function(Bi,Oo){let ms=Oo.filter;if(ms){let Ji=ms.operator,qi=Bi[ms.property],Qn=ms.value;return Ji===">"&&qi>Qn||Ji==="<"&&qi<Qn||Ji===">="&&qi>=Qn||Ji==="<="&&qi<=Qn||Ji==="=="&&qi==Qn||Ji==="==="&&qi===Qn||Ji==="!="&&qi!=Qn||Ji==="!=="&&qi!==Qn||!1}return!0}(Ne,Bt),{backgroundColor:Yt,borderColor:pn,distance:_n,style:En={}}=Bt,Qi,bn,On,ln={},sn=Le[Wt],vi=!sn,Ln;Dt&&(bn=Hl(Qi=rd(Bt[Ne.formatPrefix+"Format"],Bt.format))?dR(Qi,Ne,P):(Bt[Ne.formatPrefix+"Formatter"]||Bt.formatter).call(Ne,Bt),On=Bt.rotation,!P.styledMode&&(En.color=rd(Bt.color,En.color,nd(A.color)?A.color:void 0,"#000000"),En.color==="contrast"?(Yt!=="none"&&(Ln=Yt),Ne.contrastColor=$.getContrast(Ln!=="auto"&&nd(Ln)&&Ln||(nd(it)?it:"")),En.color=Ln||!Hl(_n)&&Bt.inside||0>fR(_n||0)||O.stacking?Ne.contrastColor:Q):delete Ne.contrastColor,O.cursor&&(En.cursor=O.cursor)),ln={r:Bt.borderRadius||0,rotation:On,padding:Bt.padding,zIndex:1},P.styledMode||(ln.fill=Yt==="auto"?Ne.color:Yt,ln.stroke=pn==="auto"?Ne.color:pn,ln["stroke-width"]=Bt.borderWidth),pR(ln,(Bi,Oo)=>{Bi===void 0&&delete ln[Oo]})),!sn||Dt&&Hl(bn)&&!!(sn.div||(Gn=sn.text)!=null&&Gn.foreignObject)==!!Bt.useHTML&&(sn.rotation&&Bt.rotation||sn.rotation===Bt.rotation)||(sn=void 0,vi=!0),Dt&&Hl(bn)&&bn!==""&&(sn?ln.text=bn:(sn=$.label(bn,0,0,Bt.shape,void 0,void 0,Bt.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+Ne.colorIndex+" "+(Bt.className||"")+(Bt.useHTML?" highcharts-tracker":"")),sn&&(sn.options=Bt,sn.attr(ln),P.styledMode?En.width&&sn.css({width:En.width,textOverflow:En.textOverflow,whiteSpace:En.whiteSpace}):sn.css(En).shadow(Bt.shadow),kv(sn,"beforeAddingDataLabel",{labelOptions:Bt,point:Ne}),sn.added||sn.add(E),A.alignDataLabel(Ne,sn,Bt,void 0,vi),sn.isActive=!0,Le[Wt]&&Le[Wt]!==sn&&Le[Wt].destroy(),Le[Wt]=sn))});let dt=Le.length;for(;dt--;)(Nt=Le[dt])!=null&&Nt.isActive?Le[dt].isActive=!1:((qt=Le[dt])==null||qt.destroy(),Le.splice(dt,1));Ne.dataLabel=Le[0],Ne.dataLabels=Le})),kv(this,"afterDrawDataLabels")}function p(T,E,A,P,O,$){let q=this.chart,V=E.align,Q=E.verticalAlign,ee=T.box?0:T.padding||0,we=q.inverted?this.yAxis:this.xAxis,fe=we?we.left-q.plotLeft:0,ve=q.inverted?this.xAxis:this.yAxis,Be=ve?ve.top-q.plotTop:0,{x:Ne=0,y:Le=0}=E,it,dt;return(it=(A.x||0)+ee+fe)<0&&(V==="right"&&Ne>=0?(E.align="left",E.inside=!0):Ne-=it,dt=!0),(it=(A.x||0)+P.width-ee+fe)>q.plotWidth&&(V==="left"&&Ne<=0?(E.align="right",E.inside=!0):Ne+=q.plotWidth-it,dt=!0),(it=A.y+ee+Be)<0&&(Q==="bottom"&&Le>=0?(E.verticalAlign="top",E.inside=!0):Le-=it,dt=!0),(it=(A.y||0)+P.height-ee+Be)>q.plotHeight&&(Q==="top"&&Le<=0?(E.verticalAlign="bottom",E.inside=!0):Le+=q.plotHeight-it,dt=!0),dt&&(E.x=Ne,E.y=Le,T.placed=!$,T.align(E,void 0,O)),dt}function f(T,E){let A=[],P;if(Ia(T)&&!Ia(E))A=T.map(function(O){return id(O,E)});else if(Ia(E)&&!Ia(T))A=E.map(function(O){return id(T,O)});else if(Ia(T)||Ia(E)){if(Ia(T)&&Ia(E))for(P=Math.max(T.length,E.length);P--;)A[P]=id(T[P],E[P])}else A=id(T,E);return A}function v(T){var A,P;let E=T.chart.options.plotOptions;return hE(f(f((A=E==null?void 0:E.series)==null?void 0:A.dataLabels,(P=E==null?void 0:E[T.type])==null?void 0:P.dataLabels),T.options.dataLabels))}function b(T,E,A,P,O){let $=this.chart,q=$.inverted,V=this.xAxis,Q=V.reversed,ee=((q?E.height:E.width)||0)/2,we=T.pointWidth,fe=we?we/2:0;E.startXPos=q?O.x:Q?-ee-fe:V.width-ee+fe,E.startYPos=q?Q?this.yAxis.height-ee+fe:-ee-fe:O.y,P?E.visibility==="hidden"&&(E.show(),E.attr({opacity:0}).animate({opacity:1})):E.attr({opacity:1}).animate({opacity:0},void 0,E.hide),$.hasRendered&&(A&&E.attr({x:E.startXPos,y:E.startYPos}),E.placed=!0)}w.compose=function(T){let E=T.prototype;E.initDataLabels||(E.initDataLabels=h,E.initDataLabelsGroup=c,E.alignDataLabel=l,E.drawDataLabels=d,E.justifyDataLabel=p,E.mergeArrays=f,E.setDataLabelStartPos=b,E.hasDataLabels=r)}})(se||(se={}));let Pf=se,{composed:mR}=M,{series:dE}=ui,{merge:gR,pushUnique:yR}=je;(function(w){function r(l,c,h,d,p){var $,q;let{chart:f,options:v}=this,b=f.inverted,T=(($=this.xAxis)==null?void 0:$.len)||f.plotSizeX||0,E=((q=this.yAxis)==null?void 0:q.len)||f.plotSizeY||0,A=l.dlBox||l.shapeArgs,P=l.below??(l.plotY||0)>(this.translatedThreshold??E),O=h.inside??!!v.stacking;if(A){if(d=gR(A),h.overflow!=="allow"||h.crop!==!1||v.clip!==!1){d.y<0&&(d.height+=d.y,d.y=0);let V=d.y+d.height-E;V>0&&V<d.height-1&&(d.height-=V)}b&&(d={x:E-d.y-d.height,y:T-d.x-d.width,width:d.height,height:d.width}),O||(b?(d.x+=P?0:d.width,d.width=0):(d.y+=P?d.height:0,d.height=0))}h.align??(h.align=!b||O?"center":P?"right":"left"),h.verticalAlign??(h.verticalAlign=b||O?"middle":P?"top":"bottom"),dE.prototype.alignDataLabel.call(this,l,c,h,d,p),h.inside&&l.contrastColor&&c.css({color:l.contrastColor})}w.compose=function(l){Pf.compose(dE),yR(mR,"ColumnDataLabel")&&(l.prototype.alignDataLabel=r)}})(X||(X={}));let vR=X,{extend:xR,merge:bR}=je;class Tv extends If{}Tv.defaultOptions=bR(If.defaultOptions,{}),xR(Tv.prototype,{inverted:!0}),ui.registerSeriesType("bar",Tv);let{column:wR,line:pE}=ui.seriesTypes,{addEvent:_R,extend:ER,merge:kR}=je;class Mf extends pE{applyJitter(){let r=this,l=this.options.jitter,c=this.points.length;l&&this.points.forEach(function(h,d){["x","y"].forEach(function(p,f){if(l[p]&&!h.isNull){let v=`plot${p.toUpperCase()}`,b=r[`${p}Axis`],T=l[p]*b.transA;if(b&&!b.logarithmic){let E=Math.max(0,(h[v]||0)-T),A=Math.min(b.len,(h[v]||0)+T);h[v]=E+(A-E)*function(P){let O=1e4*Math.sin(P);return O-Math.floor(O)}(d+f*c),p==="x"&&(h.clientX=h.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}Mf.defaultOptions=kR(pE.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),ER(Mf.prototype,{drawTracker:wR.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),_R(Mf,"afterTranslate",function(){this.applyJitter()}),ui.registerSeriesType("scatter",Mf);let{deg2rad:fE}=M,{fireEvent:TR,isNumber:Cv,pick:Rf,relativeLength:CR}=je;(function(w){w.getCenter=function(){let r=this.options,l=this.chart,c=2*(r.slicedOffset||0),h=l.plotWidth-2*c,d=l.plotHeight-2*c,p=r.center,f=Math.min(h,d),v=r.thickness,b,T=r.size,E=r.innerSize||0,A,P;typeof T=="string"&&(T=parseFloat(T)),typeof E=="string"&&(E=parseFloat(E));let O=[Rf(p==null?void 0:p[0],"50%"),Rf(p==null?void 0:p[1],"50%"),Rf(T&&T<0?void 0:r.size,"100%"),Rf(E&&E<0?void 0:r.innerSize||0,"0%")];for(!l.angular||this instanceof Mr||(O[3]=0),A=0;A<4;++A)P=O[A],b=A<2||A===2&&/%$/.test(P),O[A]=CR(P,[h,d,f,O[2]][A])+(b?c:0);return O[3]>O[2]&&(O[3]=O[2]),Cv(v)&&2*v<O[2]&&v>0&&(O[3]=O[2]-2*v),TR(this,"afterGetCenter",{positions:O}),O},w.getStartAndEndRadians=function(r,l){let c=Cv(r)?r:0,h=Cv(l)&&l>c&&l-c<360?l:c+360;return{start:fE*(c+-90),end:fE*(h+-90)}}})(L||(L={}));let mE=L,{setAnimation:SR}=Ct,{addEvent:gE,defined:AR,extend:NR,isNumber:jR,pick:IR,relativeLength:PR}=je;class yE extends ci{getConnectorPath(r){let l=r.dataLabelPosition,c=r.options||{},h=c.connectorShape,d=this.connectorShapes[h]||h;return l&&d.call(this,{...l.computed,alignment:l.alignment},l.connectorPosition,c)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(r){let l=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(l.x,l.y,l.r+r,l.r+r,{innerR:l.r-1,start:l.start,end:l.end,borderRadius:l.borderRadius})}constructor(r,l,c){super(r,l,c),this.half=0,this.name??(this.name=r.chart.options.lang.pieSliceName);let h=d=>{this.slice(d.type==="select")};gE(this,"select",h),gE(this,"unselect",h)}isValid(){return jR(this.y)&&this.y>=0}setVisible(r,l=!0){r!==this.visible&&this.update({visible:r??!this.visible},l,void 0,!1)}slice(r,l,c){let h=this.series;SR(c,h.chart),l=IR(l,!0),this.sliced=this.options.sliced=r=AR(r)?r:!this.sliced,h.options.data[h.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}NR(yE.prototype,{connectorShapes:{fixedOffset:function(w,r,l){let c=r.breakAt,h=r.touchingSliceAt,d=l.softConnector?["C",w.x+(w.alignment==="left"?-5:5),w.y,2*c.x-h.x,2*c.y-h.y,c.x,c.y]:["L",c.x,c.y];return[["M",w.x,w.y],d,["L",h.x,h.y]]},straight:function(w,r){let l=r.touchingSliceAt;return[["M",w.x,w.y],["L",l.x,l.y]]},crookedLine:function(w,r,l){let{angle:c=this.angle||0,breakAt:h,touchingSliceAt:d}=r,{series:p}=this,[f,v,b]=p.center,T=b/2,{plotLeft:E,plotWidth:A}=p.chart,P=w.alignment==="left",{x:O,y:$}=w,q=h.x;if(l.crookDistance){let Q=PR(l.crookDistance,1);q=P?f+T+(A+E-f-T)*(1-Q):E+(f-T)*Q}else q=f+(v-$)*Math.tan(c-Math.PI/2);let V=[["M",O,$]];return(P?q<=O&&q>=h.x:q>=O&&q<=h.x)&&V.push(["L",q,$]),V.push(["L",h.x,h.y],["L",d.x,d.y]),V}}});let{getStartAndEndRadians:MR}=mE,{noop:vE}=M,{clamp:RR,extend:DR,fireEvent:xE,merge:Sv,pick:OR}=je;class Av extends Mr{animate(r){let l=this,c=l.points,h=l.startAngleRad;r||c.forEach(function(d){let p=d.graphic,f=d.shapeArgs;p&&f&&(p.attr({r:OR(d.startR,l.center&&l.center[3]/2),start:h,end:h}),p.animate({r:f.r,start:f.start,end:f.end},l.options.animation))})}drawEmpty(){let r,l,c=this.startAngleRad,h=this.endAngleRad,d=this.options;this.total===0&&this.center?(r=this.center[0],l=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(r,l,this.center[1]/2,0,c,h).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Kr.arc(r,l,this.center[2]/2,0,{start:c,end:h,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":d.borderWidth,fill:d.fillColor||"none",stroke:d.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let r=this.chart.renderer;this.points.forEach(function(l){l.graphic&&l.hasNewShapeType()&&(l.graphic=l.graphic.destroy()),l.graphic||(l.graphic=r[l.shapeType](l.shapeArgs).add(l.series.group),l.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(r,l,c,h){let d=this.center,p=this.radii?this.radii[c.index]||0:d[2]/2,f=h.dataLabelPosition,v=(f==null?void 0:f.distance)||0,b=Math.asin(RR((r-d[1])/(p+v),-1,1));return d[0]+Math.cos(b)*(p+v)*(l?-1:1)+(v>0?(l?-1:1)*(h.padding||0):0)}hasData(){return this.points.some(r=>r.visible)}redrawPoints(){let r,l,c,h,d=this,p=d.chart;this.drawEmpty(),d.group&&!p.styledMode&&d.group.shadow(d.options.shadow),d.points.forEach(function(f){let v={};l=f.graphic,!f.isNull&&l?(h=f.shapeArgs,r=f.getTranslate(),p.styledMode||(c=d.pointAttribs(f,f.selected&&"select")),f.delayedRendering?(l.setRadialReference(d.center).attr(h).attr(r),p.styledMode||l.attr(c).attr({"stroke-linejoin":"round"}),f.delayedRendering=!1):(l.setRadialReference(d.center),p.styledMode||Sv(!0,v,c),Sv(!0,v,h,r),l.animate(v)),l.attr({visibility:f.visible?"inherit":"hidden"}),l.addClass(f.getClassName(),!0)):l&&(f.graphic=l.destroy())})}sortByAngle(r,l){r.sort(function(c,h){return c.angle!==void 0&&(h.angle-c.angle)*l})}translate(r){xE(this,"translate"),this.generatePoints();let l=this.options,c=l.slicedOffset,h=MR(l.startAngle,l.endAngle),d=this.startAngleRad=h.start,p=(this.endAngleRad=h.end)-d,f=this.points,v=l.ignoreHiddenPoint,b=f.length,T,E,A,P,O,$,q,V=0;for(r||(this.center=r=this.getCenter()),$=0;$<b;$++){q=f[$],T=d+V*p,q.isValid()&&(!v||q.visible)&&(V+=q.percentage/100),E=d+V*p;let Q={x:r[0],y:r[1],r:r[2]/2,innerR:r[3]/2,start:Math.round(1e3*T)/1e3,end:Math.round(1e3*E)/1e3};q.shapeType="arc",q.shapeArgs=Q,(A=(E+T)/2)>1.5*Math.PI?A-=2*Math.PI:A<-Math.PI/2&&(A+=2*Math.PI),q.slicedTranslation={translateX:Math.round(Math.cos(A)*c),translateY:Math.round(Math.sin(A)*c)},P=Math.cos(A)*r[2]/2,O=Math.sin(A)*r[2]/2,q.tooltipPos=[r[0]+.7*P,r[1]+.7*O],q.half=+(A<-Math.PI/2||A>Math.PI/2),q.angle=A}xE(this,"afterTranslate")}updateTotals(){let r=this.points,l=r.length,c=this.options.ignoreHiddenPoint,h,d,p=0;for(h=0;h<l;h++)(d=r[h]).isValid()&&(!c||d.visible)&&(p+=d.y);for(h=0,this.total=p;h<l;h++)(d=r[h]).percentage=p>0&&(d.visible||!c)?d.y/p*100:0,d.total=p}}Av.defaultOptions=Sv(Mr.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),DR(Av.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:If.prototype.drawTracker,getCenter:mE.getCenter,getSymbol:vE,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:If.prototype.pointAttribs,pointClass:yE,requireSorting:!1,searchPoint:vE,trackerGroups:["group","dataLabelsGroup"]}),ui.registerSeriesType("pie",Av);let{composed:LR,noop:FR}=M,{distribute:BR}=da,{series:bE}=ui,{arrayMax:VR,clamp:wE,defined:_E,isNumber:UR,pick:zR,pushUnique:qR,relativeLength:EE}=je;(function(w){let r={radialDistributionY:function(p,f){var v;return(((v=f.dataLabelPosition)==null?void 0:v.top)||0)+p.distributeBox.pos},radialDistributionX:function(p,f,v,b,T){let E=T.dataLabelPosition;return p.getX(v<((E==null?void 0:E.top)||0)+2||v>((E==null?void 0:E.bottom)||0)-2?b:v,f.half,f,T)},justify:function(p,f,v,b){var T;return b[0]+(p.half?-1:1)*(v+(((T=f.dataLabelPosition)==null?void 0:T.distance)||0))},alignToPlotEdges:function(p,f,v,b){let T=p.getBBox().width;return f?T+b:v-T-b},alignToConnectors:function(p,f,v,b){let T=0,E;return p.forEach(function(A){(E=A.dataLabel.getBBox().width)>T&&(T=E)}),f?T+b:v-T-b}};function l(p,f){let v=Math.PI/2,{start:b=0,end:T=0}=p.shapeArgs||{},E=p.angle||0;f>0&&b<v&&T>v&&E>v/2&&E<1.5*v&&(E=E<=v?Math.max(v/2,(b+v)/2):Math.min(1.5*v,(v+T)/2));let{center:A,options:P}=this,O=A[2]/2,$=Math.cos(E),q=Math.sin(E),V=A[0]+$*O,Q=A[1]+q*O,ee=Math.min((P.slicedOffset||0)+(P.borderWidth||0),f/5);return{natural:{x:V+$*f,y:Q+q*f},computed:{},alignment:f<0?"center":p.half?"right":"left",connectorPosition:{angle:E,breakAt:{x:V+$*ee,y:Q+q*ee},touchingSliceAt:{x:V,y:Q}},distance:f}}function c(){var Be;let p=this,f=p.points,v=p.chart,b=v.plotWidth,T=v.plotHeight,E=v.plotLeft,A=Math.round(v.chartWidth/3),P=p.center,O=P[2]/2,$=P[1],q=[[],[]],V=[0,0,0,0],Q=p.dataLabelPositioners,ee,we,fe,ve=0;p.visible&&((Be=p.hasDataLabels)!=null&&Be.call(p))&&(f.forEach(Ne=>{(Ne.dataLabels||[]).forEach(Le=>{Le.shortened&&(Le.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),Le.shortened=!1)})}),bE.prototype.drawDataLabels.apply(p),f.forEach(Ne=>{(Ne.dataLabels||[]).forEach((Le,it)=>{var qt;let dt=P[2]/2,Et=Le.options,Nt=EE((Et==null?void 0:Et.distance)||0,dt);it===0&&q[Ne.half].push(Ne),!_E((qt=Et==null?void 0:Et.style)==null?void 0:qt.width)&&Le.getBBox().width>A&&(Le.css({width:Math.round(.7*A)+"px"}),Le.shortened=!0),Le.dataLabelPosition=this.getDataLabelPosition(Ne,Nt),ve=Math.max(ve,Nt)})}),q.forEach((Ne,Le)=>{let it=Ne.length,dt=[],Et,Nt,qt=0,Bt;it&&(p.sortByAngle(Ne,Le-.5),ve>0&&(Et=Math.max(0,$-O-ve),Nt=Math.min($+O+ve,v.plotHeight),Ne.forEach(Wt=>{(Wt.dataLabels||[]).forEach(Dt=>{var pn;let Yt=Dt.dataLabelPosition;Yt&&Yt.distance>0&&(Yt.top=Math.max(0,$-O-Yt.distance),Yt.bottom=Math.min($+O+Yt.distance,v.plotHeight),qt=Dt.getBBox().height||21,Dt.lineHeight=v.renderer.fontMetrics(Dt.text||Dt).h+2*Dt.padding,Wt.distributeBox={target:(((pn=Dt.dataLabelPosition)==null?void 0:pn.natural.y)||0)-Yt.top+Dt.lineHeight/2,size:qt,rank:Wt.y},dt.push(Wt.distributeBox))})}),BR(dt,Bt=Nt+qt-Et,Bt/5)),Ne.forEach(Wt=>{(Wt.dataLabels||[]).forEach(Dt=>{let Yt=Dt.options||{},pn=Wt.distributeBox,_n=Dt.dataLabelPosition,En=(_n==null?void 0:_n.natural.y)||0,Qi=Yt.connectorPadding||0,bn=Dt.lineHeight||21,On=(bn-Dt.getBBox().height)/2,ln=0,sn=En,vi="inherit";if(_n){if(dt&&_E(pn)&&_n.distance>0&&(pn.pos===void 0?vi="hidden":(fe=pn.size,sn=Q.radialDistributionY(Wt,Dt))),Yt.justify)ln=Q.justify(Wt,Dt,O,P);else switch(Yt.alignTo){case"connectors":ln=Q.alignToConnectors(Ne,Le,b,E);break;case"plotEdges":ln=Q.alignToPlotEdges(Dt,Le,b,E);break;default:ln=Q.radialDistributionX(p,Wt,sn-On,En,Dt)}if(_n.attribs={visibility:vi,align:_n.alignment},_n.posAttribs={x:ln+(Yt.x||0)+({left:Qi,right:-Qi}[_n.alignment]||0),y:sn+(Yt.y||0)-bn/2},_n.computed.x=ln,_n.computed.y=sn-On,zR(Yt.crop,!0)){let Ln;ln-(we=Dt.getBBox().width)<Qi&&Le===1?(Ln=Math.round(we-ln+Qi),V[3]=Math.max(Ln,V[3])):ln+we>b-Qi&&Le===0&&(Ln=Math.round(ln+we-b+Qi),V[1]=Math.max(Ln,V[1])),sn-fe/2<0?V[0]=Math.max(Math.round(-sn+fe/2),V[0]):sn+fe/2>T&&(V[2]=Math.max(Math.round(sn+fe/2-T),V[2])),_n.sideOverflow=Ln}}})}))}),(VR(V)===0||this.verifyDataLabelOverflow(V))&&(this.placeDataLabels(),this.points.forEach(Ne=>{(Ne.dataLabels||[]).forEach(Le=>{var Nt;let{connectorColor:it,connectorWidth:dt=1}=Le.options||{},Et=Le.dataLabelPosition;if(UR(dt)){let qt;ee=Le.connector,Et&&Et.distance>0?(qt=!ee,ee||(Le.connector=ee=v.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Ne.colorIndex+(Ne.className?" "+Ne.className:"")).add(p.dataLabelsGroup)),v.styledMode||ee.attr({"stroke-width":dt,stroke:it||Ne.color||"#666666"}),ee[qt?"attr":"animate"]({d:Ne.getConnectorPath(Le)}),ee.attr({visibility:(Nt=Et.attribs)==null?void 0:Nt.visibility})):ee&&(Le.connector=ee.destroy())}})})))}function h(){this.points.forEach(p=>{(p.dataLabels||[]).forEach(f=>{var b,T;let v=f.dataLabelPosition;v?(v.sideOverflow&&(f.css({width:Math.max(f.getBBox().width-v.sideOverflow,0)+"px",textOverflow:((T=(b=f.options)==null?void 0:b.style)==null?void 0:T.textOverflow)||"ellipsis"}),f.shortened=!0),f.attr(v.attribs),f[f.moved?"animate":"attr"](v.posAttribs),f.moved=!0):f&&f.attr({y:-9999})}),delete p.distributeBox},this)}function d(p){let f=this.center,v=this.options,b=v.center,T=v.minSize||80,E=T,A=v.size!==null;return!A&&(b[0]!==null?E=Math.max(f[2]-Math.max(p[1],p[3]),T):(E=Math.max(f[2]-p[1]-p[3],T),f[0]+=(p[3]-p[1])/2),b[1]!==null?E=wE(E,T,f[2]-Math.max(p[0],p[2])):(E=wE(E,T,f[2]-p[0]-p[2]),f[1]+=(p[0]-p[2])/2),E<f[2]?(f[2]=E,f[3]=Math.min(v.thickness?Math.max(0,E-2*v.thickness):Math.max(0,EE(v.innerSize||0,E)),E),this.translate(f),this.drawDataLabels&&this.drawDataLabels()):A=!0),A}w.compose=function(p){if(Pf.compose(bE),qR(LR,"PieDataLabel")){let f=p.prototype;f.dataLabelPositioners=r,f.alignDataLabel=FR,f.drawDataLabels=c,f.getDataLabelPosition=l,f.placeDataLabels=h,f.verifyDataLabelOverflow=d}}})(G||(G={}));let $R=G;(function(w){w.getCenterOfPoints=function(r){let l=r.reduce((c,h)=>(c.x+=h.x,c.y+=h.y,c),{x:0,y:0});return{x:l.x/r.length,y:l.y/r.length}},w.getDistanceBetweenPoints=function(r,l){return Math.sqrt(Math.pow(l.x-r.x,2)+Math.pow(l.y-r.y,2))},w.getAngleBetweenPoints=function(r,l){return Math.atan2(l.x-r.x,l.y-r.y)},w.pointInPolygon=function({x:r,y:l},c){let h=c.length,d,p,f=!1;for(d=0,p=h-1;d<h;p=d++){let[v,b]=c[d],[T,E]=c[p];b>l!=E>l&&r<(T-v)*(l-b)/(E-b)+v&&(f=!f)}return f}})(ne||(ne={}));let{pointInPolygon:HR}=ne,{addEvent:WR,getAlignFactor:GR,fireEvent:kE,objectEach:TE,pick:KR}=je;function YR(w){let r=w.length,l=(T,E)=>!(E.x>=T.x+T.width||E.x+E.width<=T.x||E.y>=T.y+T.height||E.y+E.height<=T.y),c=(T,E)=>{for(let A of T)if(HR({x:A[0],y:A[1]},E))return!0;return!1},h,d,p,f,v,b=!1;for(let T=0;T<r;T++)(h=w[T])&&(h.oldOpacity=h.opacity,h.newOpacity=1,h.absoluteBox=function(E){var A,P;if(E&&(!E.alignAttr||E.placed)){let O=E.box?0:E.padding||0,$=E.alignAttr||{x:E.attr("x"),y:E.attr("y")},{height:q,polygon:V,width:Q}=E.getBBox(),ee=GR(E.alignValue)*Q;return E.width=Q,E.height=q,{x:$.x+(((A=E.parentGroup)==null?void 0:A.translateX)||0)+O-ee,y:$.y+(((P=E.parentGroup)==null?void 0:P.translateY)||0)+O,width:Q-2*O,height:q-2*O,polygon:V}}}(h));w.sort((T,E)=>(E.labelrank||0)-(T.labelrank||0));for(let T=0;T<r;++T){f=(d=w[T])&&d.absoluteBox;let E=f==null?void 0:f.polygon;for(let A=T+1;A<r;++A){v=(p=w[A])&&p.absoluteBox;let P=!1;if(f&&v&&d!==p&&d.newOpacity!==0&&p.newOpacity!==0&&d.visibility!=="hidden"&&p.visibility!=="hidden"){let O=v.polygon;if(E&&O&&E!==O?c(E,O)&&(P=!0):l(f,v)&&(P=!0),P){let $=d.labelrank<p.labelrank?d:p,q=$.text;$.newOpacity=0,q!=null&&q.element.querySelector("textPath")&&q.hide()}}}}for(let T of w)CE(T,this)&&(b=!0);b&&kE(this,"afterHideAllOverlappingLabels")}function CE(w,r){let l,c=!1;return w&&(l=w.newOpacity,w.oldOpacity!==l&&(w.hasClass("highcharts-data-label")?(w[l?"removeClass":"addClass"]("highcharts-data-label-hidden"),c=!0,w[w.isOld?"animate":"attr"]({opacity:l},void 0,function(){r.styledMode||w.css({pointerEvents:l?"auto":"none"})}),kE(r,"afterHideOverlappingLabel")):w.attr({opacity:l})),w.isOld=!0),c}function XR(){var l;let w=this,r=[];for(let c of w.labelCollectors||[])r=r.concat(c());for(let c of w.yAxis||[])c.stacking&&c.options.stackLabels&&!c.options.stackLabels.allowOverlap&&TE(c.stacking.stacks,h=>{TE(h,d=>{d.label&&r.push(d.label)})});for(let c of w.series||[])if(c.visible&&((l=c.hasDataLabels)!=null&&l.call(c))){let h=d=>{for(let p of d)p.visible&&(p.dataLabels||[]).forEach(f=>{var b;let v=f.options||{};f.labelrank=KR(v.labelrank,p.labelrank,(b=p.shapeArgs)==null?void 0:b.height),v.allowOverlap??Number(v.distance)>0?(f.oldOpacity=f.opacity,f.newOpacity=1,CE(f,w)):r.push(f)})};h(c.nodes||[]),h(c.points)}this.hideOverlappingLabels(r)}let SE={compose:function(w){let r=w.prototype;r.hideOverlappingLabels||(r.hideOverlappingLabels=YR,WR(w,"render",XR))}},{defaultOptions:QR}=We,{noop:AE}=M,{addEvent:NE,extend:JR,isObject:jE,merge:ZR,relativeLength:Nv}=je,eD={radius:0,scope:"stack",where:void 0},IE=AE,PE=AE;function tD(w,r,l,c,h={}){let d=IE(w,r,l,c,h),{brStart:p=!0,brEnd:f=!0,innerR:v=0,r:b=l,start:T=0,end:E=0}=h;if(h.open||!h.borderRadius)return d;let A=E-T,P=Math.sin(A/2),O=Math.max(Math.min(Nv(h.borderRadius||0,b-v),(b-v)/2,b*P/(1+P)),0),$=Math.min(O,A/Math.PI*2*v),q=d.length-1;for(;q--;)(p||q!==0&&q!==3)&&(f||q!==1&&q!==2)&&function(V,Q,ee){let we,fe,ve,Be=V[Q],Ne=V[Q+1];if(Ne[0]==="Z"&&(Ne=V[0]),(Be[0]==="M"||Be[0]==="L")&&Ne[0]==="A"?(we=Be,fe=Ne,ve=!0):Be[0]==="A"&&(Ne[0]==="M"||Ne[0]==="L")&&(we=Ne,fe=Be),we&&fe&&fe.params){let Le=fe[1],it=fe[5],dt=fe.params,{start:Et,end:Nt,cx:qt,cy:Bt}=dt,Wt=it?Le-ee:Le+ee,Dt=Wt?Math.asin(ee/Wt):0,Yt=it?Dt:-Dt,pn=Math.cos(Dt)*Wt;ve?(dt.start=Et+Yt,we[1]=qt+pn*Math.cos(Et),we[2]=Bt+pn*Math.sin(Et),V.splice(Q+1,0,["A",ee,ee,0,0,1,qt+Le*Math.cos(dt.start),Bt+Le*Math.sin(dt.start)])):(dt.end=Nt-Yt,fe[6]=qt+Le*Math.cos(dt.end),fe[7]=Bt+Le*Math.sin(dt.end),V.splice(Q+1,0,["A",ee,ee,0,0,1,qt+pn*Math.cos(Nt),Bt+pn*Math.sin(Nt)])),fe[4]=Math.abs(dt.end-dt.start)<Math.PI?0:1}}(d,q,q>1?$:O);return d}function nD(){var w,r;if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:l,yAxis:c}=this,h=l.stacking==="percent",d=(r=(w=QR.plotOptions)==null?void 0:w[this.type])==null?void 0:r.borderRadius,p=jv(l.borderRadius,jE(d)?d:{}),f=c.options.reversed;for(let v of this.points){let{shapeArgs:b}=v;if(v.shapeType==="roundedRect"&&b){let{width:T=0,height:E=0,y:A=0}=b,P=A,O=E;if(p.scope==="stack"&&v.stackTotal){let Q=c.translate(h?100:v.stackTotal,!1,!0,!1,!0),ee=c.translate(l.threshold||0,!1,!0,!1,!0),we=this.crispCol(0,Math.min(Q,ee),0,Math.abs(Q-ee));P=we.y,O=we.height}let $=(v.negative?-1:1)*(f?-1:1)==-1,q=p.where;!q&&this.is("waterfall")&&Math.abs((v.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(q="all"),q||(q="end");let V=Math.min(Nv(p.radius,T),T/2,q==="all"?E/2:1/0)||0;q==="end"&&($&&(P-=V),O+=V),JR(b,{brBoxHeight:O,brBoxY:P,r:V})}}}}function jv(w,r){return jE(w)||(w={radius:w||0}),ZR(eD,r,w)}function iD(){let w=jv(this.options.borderRadius);for(let r of this.points){let l=r.shapeArgs;l&&(l.borderRadius=Nv(w.radius,(l.r||0)-(l.innerR||0)))}}function rD(w,r,l,c,h={}){let d=PE(w,r,l,c,h),{r:p=0,brBoxHeight:f=c,brBoxY:v=r}=h,b=r-v,T=v+f-(r+c),E=b-p>-.1?0:p,A=T-p>-.1?0:p,P=Math.max(E&&b,0),O=Math.max(A&&T,0),$=[w+E,r],q=[w+l-E,r],V=[w+l,r+E],Q=[w+l,r+c-A],ee=[w+l-A,r+c],we=[w+A,r+c],fe=[w,r+c-A],ve=[w,r+E],Be=(Ne,Le)=>Math.sqrt(Math.pow(Ne,2)-Math.pow(Le,2));if(P){let Ne=Be(E,E-P);$[0]-=Ne,q[0]+=Ne,V[1]=ve[1]=r+E-P}if(c<E-P){let Ne=Be(E,E-P-c);V[0]=Q[0]=w+l-E+Ne,ee[0]=Math.min(V[0],ee[0]),we[0]=Math.max(Q[0],we[0]),fe[0]=ve[0]=w+E-Ne,V[1]=ve[1]=r+c}if(O){let Ne=Be(A,A-O);ee[0]+=Ne,we[0]-=Ne,Q[1]=fe[1]=r+c-A+O}if(c<A-O){let Ne=Be(A,A-O-c);V[0]=Q[0]=w+l-A+Ne,q[0]=Math.min(V[0],q[0]),$[0]=Math.max(Q[0],$[0]),fe[0]=ve[0]=w+A-Ne,Q[1]=fe[1]=r}return d.length=0,d.push(["M",...$],["L",...q],["A",E,E,0,0,1,...V],["L",...Q],["A",A,A,0,0,1,...ee],["L",...we],["A",A,A,0,0,1,...fe],["L",...ve],["A",E,E,0,0,1,...$],["Z"]),d}let{diffObjects:sD,extend:oD,find:aD,merge:lD,pick:Df,uniqueKey:cD}=je;(function(w){function r(c,h){let d=c.condition;(d.callback||function(){return this.chartWidth<=Df(d.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=Df(d.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=Df(d.minWidth,0)&&this.chartHeight>=Df(d.minHeight,0)}).call(this)&&h.push(c._id)}function l(c,h){let d=this.options.responsive,p=this.currentResponsive,f=[],v;!h&&d&&d.rules&&d.rules.forEach(E=>{E._id===void 0&&(E._id=cD()),this.matchResponsiveRule(E,f)},this);let b=lD(...f.map(E=>aD((d==null?void 0:d.rules)||[],A=>A._id===E)).map(E=>E==null?void 0:E.chartOptions));b.isResponsiveOptions=!0,f=f.toString()||void 0;let T=p==null?void 0:p.ruleIds;f!==T&&(p&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(p.undoOptions,c,!0),this.updatingResponsive=!1),f?((v=sD(b,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:f,mergedOptions:b,undoOptions:v},this.updatingResponsive||this.update(b,c,!0)):this.currentResponsive=void 0)}w.compose=function(c){let h=c.prototype;return h.matchResponsiveRule||oD(h,{matchResponsiveRule:r,setResponsive:l}),c}})(ke||(ke={}));let uD=ke;M.AST=Vn,M.Axis=Ta,M.Chart=Na,M.Color=Ft,M.DataLabel=Pf,M.DataTableCore=vf,M.Fx=Rn,M.HTMLElement=Ir,M.Legend=V_,M.LegendSymbol=C_,M.OverlappingDataLabels=M.OverlappingDataLabels||SE,M.PlotLineOrBand=Ro,M.Point=ci,M.Pointer=E_,M.RendererRegistry=qr,M.Series=Mr,M.SeriesRegistry=ui,M.StackItem=J_,M.SVGElement=cr,M.SVGRenderer=Hc,M.Templating=wi,M.Tick=Ea,M.Time=rt,M.Tooltip=F,M.animate=Ct.animate,M.animObject=Ct.animObject,M.chart=Na.chart,M.color=Ft.parse,M.dateFormat=wi.dateFormat,M.defaultOptions=We.defaultOptions,M.distribute=da.distribute,M.format=wi.format,M.getDeferredAnimation=Ct.getDeferredAnimation,M.getOptions=We.getOptions,M.numberFormat=wi.numberFormat,M.seriesType=ui.seriesType,M.setAnimation=Ct.setAnimation,M.setOptions=We.setOptions,M.stop=Ct.stop,M.time=We.defaultTime,M.timers=Rn.timers,{compose:function(w,r,l){let c=w.types.pie;if(!r.symbolCustomAttribs.includes("borderRadius")){let h=l.prototype.symbols;NE(w,"afterColumnTranslate",nD,{order:9}),NE(c,"afterTranslate",iD),r.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY","brEnd","brStart"),IE=h.arc,PE=h.roundedRect,h.arc=tD,h.roundedRect=rD}},optionsToObject:jv}.compose(M.Series,M.SVGElement,M.SVGRenderer),vR.compose(M.Series.types.column),Pf.compose(M.Series),Vy.compose(M.Axis),Ir.compose(M.SVGRenderer),V_.compose(M.Chart),Zc.compose(M.Axis),SE.compose(M.Chart),$R.compose(M.Series.types.pie),Ro.compose(M.Chart,M.Axis),E_.compose(M.Chart),uD.compose(M.Chart),Jh.compose(M.Axis,M.Chart,M.Series),QM.compose(M.Axis,M.Chart,M.Series),F.compose(M.Pointer),je.extend(M,je);let hD=M;return K.default})())})(EP);var Jq=EP.exports;const d0=gl(Jq);var kP={exports:{}};(function(t,e){(function(n,i){t.exports=i(D)})(typeof self<"u"?self:wc,function(n){return function(i){function s(u){if(a[u])return a[u].exports;var m=a[u]={i:u,l:!1,exports:{}};return i[u].call(m.exports,m,m.exports,s),m.l=!0,m.exports}var a={};return s.m=i,s.c=a,s.d=function(u,m,x){s.o(u,m)||Object.defineProperty(u,m,{configurable:!1,enumerable:!0,get:x})},s.n=function(u){var m=u&&u.__esModule?function(){return u.default}:function(){return u};return s.d(m,"a",m),m},s.o=function(u,m){return Object.prototype.hasOwnProperty.call(u,m)},s.p="",s(s.s=0)}([function(i,s,a){function u(){return u=Object.assign?Object.assign.bind():function(L){for(var G=1;G<arguments.length;G++){var ne=arguments[G];for(var ke in ne)Object.prototype.hasOwnProperty.call(ne,ke)&&(L[ke]=ne[ke])}return L},u.apply(this,arguments)}function m(L){return j(L)||I(L)||_(L)||x()}function x(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _(L,G){if(L){if(typeof L=="string")return z(L,G);var ne=Object.prototype.toString.call(L).slice(8,-1);return ne==="Object"&&L.constructor&&(ne=L.constructor.name),ne==="Map"||ne==="Set"?Array.from(L):ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne)?z(L,G):void 0}}function I(L){if(typeof Symbol<"u"&&L[Symbol.iterator]!=null||L["@@iterator"]!=null)return Array.from(L)}function j(L){if(Array.isArray(L))return z(L)}function z(L,G){(G==null||G>L.length)&&(G=L.length);for(var ne=0,ke=new Array(G);ne<G;ne++)ke[ne]=L[ne];return ke}function J(L){"@babel/helpers - typeof";return(J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(L)}Object.defineProperty(s,"__esModule",{value:!0}),a.d(s,"HighchartsReact",function(){return X});var te=a(1),oe=a.n(te),se=typeof window<"u"?te.useLayoutEffect:te.useEffect,X=Object(te.memo)(Object(te.forwardRef)(function(L,G){var ne=Object(te.useRef)(),ke=Object(te.useRef)(),ge=Object(te.useRef)(L.constructorType),K=Object(te.useRef)(L.highcharts);return se(function(){function M(){var U=L.highcharts||(typeof window>"u"?"undefined":J(window))==="object"&&window.Highcharts,Y=L.constructorType||"chart";U?U[Y]?L.options?ke.current=U[Y](ne.current,L.options,L.callback):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(ke.current){if(L.allowChartUpdate!==!1)if(L.constructorType!==ge.current||L.highcharts!==K.current)ge.current=L.constructorType,K.current=L.highcharts,M();else if(!L.immutable&&ke.current){var H;(H=ke.current).update.apply(H,[L.options].concat(m(L.updateArgs||[!0,!0])))}else M()}else M()},[L.options,L.allowChartUpdate,L.updateArgs,L.containerProps,L.highcharts,L.constructorType]),se(function(){return function(){ke.current&&(ke.current.destroy(),ke.current=null)}},[]),Object(te.useImperativeHandle)(G,function(){return{get chart(){return ke.current},container:ne}},[]),oe.a.createElement("div",u({},L.containerProps,{ref:ne}))}));s.default=X},function(i,s){i.exports=n}])})})(kP);var Zq=kP.exports;const e$=gl(Zq);var TP={exports:{}};(function(t,e){(function(n,i){t.exports=i(n._Highcharts,n._Highcharts.Axis,n._Highcharts.Chart,n._Highcharts.Point,n._Highcharts.SeriesRegistry)})(typeof window>"u"?wc:window,(n,i,s,a,u)=>(()=>{var m={260:ot=>{ot.exports=a},512:ot=>{ot.exports=u},532:ot=>{ot.exports=i},944:ot=>{ot.exports=n},960:ot=>{ot.exports=s}},x={};function _(ot){var xe=x[ot];if(xe!==void 0)return xe.exports;var le=x[ot]={exports:{}};return m[ot](le,le.exports,_),le.exports}_.n=ot=>{var xe=ot&&ot.__esModule?()=>ot.default:()=>ot;return _.d(xe,{a:xe}),xe},_.d=(ot,xe)=>{for(var le in xe)_.o(xe,le)&&!_.o(ot,le)&&Object.defineProperty(ot,le,{enumerable:!0,get:xe[le]})},_.o=(ot,xe)=>Object.prototype.hasOwnProperty.call(ot,xe);var I={};_.d(I,{default:()=>Rt});var j=_(944),z=_.n(j);let{win:J}=z(),{discardElement:te,objectEach:oe}=z(),se={ajax:function(ot){var me;let xe={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},le=new XMLHttpRequest;function _e(Ye,je){ot.error&&ot.error(Ye,je)}if(!ot.url)return!1;le.open((ot.type||"get").toUpperCase(),ot.url,!0),(me=ot.headers)!=null&&me["Content-Type"]||le.setRequestHeader("Content-Type",xe[ot.dataType||"json"]||xe.text),oe(ot.headers,function(Ye,je){le.setRequestHeader(je,Ye)}),ot.responseType&&(le.responseType=ot.responseType),le.onreadystatechange=function(){var je;let Ye;if(le.readyState===4){if(le.status===200){if(ot.responseType!=="blob"&&(Ye=le.responseText,ot.dataType==="json"))try{Ye=JSON.parse(Ye)}catch(Ue){if(Ue instanceof Error)return _e(le,Ue)}return(je=ot.success)==null?void 0:je.call(ot,Ye,le)}_e(le,le.responseText)}},ot.data&&typeof ot.data!="string"&&(ot.data=JSON.stringify(ot.data)),le.send(ot.data)},getJSON:function(ot,xe){se.ajax({url:ot,success:xe,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:async function(ot,xe,le){let _e=new J.FormData;oe(xe,function(Ye,je){_e.append(je,Ye)}),_e.append("b64","true");let me=await J.fetch(ot,{method:"POST",body:_e,...le});if(me.ok){let Ye=await me.text(),je=document.createElement("a");je.href=`data:${xe.type};base64,${Ye}`,je.download=xe.filename,je.click(),te(je)}}};var X=_(532),L=_.n(X),G=_(960),ne=_.n(G),ke=_(260),ge=_.n(ke),K=_(512),M=_.n(K);let{getOptions:H}=z(),{doc:U}=z(),{ajax:Y}=se,{seriesTypes:ae}=M(),{addEvent:ie,defined:pt,extend:Mt,fireEvent:Ke,isNumber:ft,merge:Re,objectEach:$e,pick:ut,splat:_t}=z();function jt(ot){return!!(ot&&(ot.rowsURL||ot.csvURL||ot.columnsURL))}class kt{static data(xe,le={},_e){return new kt(xe,le,_e)}static rowsToColumns(xe){let le,_e,me,Ye,je;if(xe)for(le=0,je=[],_e=xe.length;le<_e;le++)for(me=0,Ye=xe[le].length;me<Ye;me++)je[me]||(je[me]=[]),je[me][le]=xe[le][me];return je}constructor(xe,le={},_e){this.rowsToColumns=kt.rowsToColumns,this.dateFormats={"YYYY/mm/dd":{regex:/^(\d{4})[\-\/\.](\d{1,2})[\-\/\.](\d{1,2})$/,parser:function(me){return me?Date.UTC(+me[1],me[2]-1,+me[3]):NaN}},"dd/mm/YYYY":{regex:/^(\d{1,2})[\-\/\.](\d{1,2})[\-\/\.](\d{4})$/,parser:function(me){return me?Date.UTC(+me[3],me[2]-1,+me[1]):NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^(\d{1,2})[\-\/\.](\d{1,2})[\-\/\.](\d{4})$/,parser:function(me){return me?Date.UTC(+me[3],me[1]-1,+me[2]):NaN}},"dd/mm/YY":{regex:/^(\d{1,2})[\-\/\.](\d{1,2})[\-\/\.](\d{2})$/,parser:function(me){if(!me)return NaN;let Ye=new Date,je=+me[3];return je>Ye.getFullYear()-2e3?je+=1900:je+=2e3,Date.UTC(je,me[2]-1,+me[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^(\d{1,2})[\-\/\.](\d{1,2})[\-\/\.](\d{2})$/,parser:function(me){return me?Date.UTC(+me[3]+2e3,me[1]-1,+me[2]):NaN}}},this.chart=_e,this.chartOptions=le,this.options=xe,this.rawColumns=[],this.init(xe,le,_e)}init(xe,le,_e){let me=xe.decimalPoint,Ye;le&&(this.chartOptions=le),_e&&(this.chart=_e),me!=="."&&me!==","&&(me=void 0),this.options=xe,this.columns=xe.columns||this.rowsToColumns(xe.rows)||[],this.firstRowAsNames=ut(xe.firstRowAsNames,this.firstRowAsNames,!0),this.decimalRegex=me&&RegExp("^(-?[0-9]+)"+me+"([0-9]+)$"),this.liveDataTimeout!==void 0&&clearTimeout(this.liveDataTimeout),this.rawColumns=[],this.columns.length&&(this.dataFound(),Ye=!jt(xe)),Ye||(Ye=this.fetchLiveData()),Ye||(Ye=!!this.parseCSV().length),Ye||(Ye=!!this.parseTable().length),Ye||(Ye=this.parseGoogleSpreadsheet()),!Ye&&xe.afterComplete&&xe.afterComplete(this)}getColumnDistribution(){var Me,He;let xe=this.chartOptions,le=this.options,_e=[],me=function(De="line"){return(ae[De].prototype.pointArrayMap||[0]).length},Ye=function(De="line"){return ae[De].prototype.pointArrayMap},je=(Me=xe==null?void 0:xe.chart)==null?void 0:Me.type,Ue=[],be=[],vt=(le==null?void 0:le.seriesMapping)||((He=xe==null?void 0:xe.series)==null?void 0:He.map(function(){return{x:0}}))||[],Tt=0;((xe==null?void 0:xe.series)||[]).forEach(De=>{Ue.push(me(De.type||je))}),vt.forEach(De=>{_e.push(De.x||0)}),_e.length===0&&_e.push(0),vt.forEach(De=>{let et=new Ot,at=Ue[Tt]||me(je),ht=((xe==null?void 0:xe.series)??[])[Tt]??{},Ee=Ye(ht.type||je),ue=Ee??["y"];(pt(De.x)||ht.isCartesian||!Ee)&&et.addColumnReader(De.x,"x"),$e(De,function(pe,Ae){Ae!=="x"&&et.addColumnReader(pe,Ae)});for(let pe=0;pe<at;pe++)et.hasReader(ue[pe])||et.addColumnReader(void 0,ue[pe]);be.push(et),Tt++});let Se=Ye(je);Se===void 0&&(Se=["y"]),this.valueCount={global:me(je),xColumns:_e,individual:Ue,seriesBuilders:be,globalPointArrayMap:Se}}dataFound(){this.options.switchRowsAndColumns&&(this.columns=this.rowsToColumns(this.columns)),this.getColumnDistribution(),this.parseTypes(),this.parsed()!==!1&&this.complete()}parseCSV(xe){let le=this,_e=this.columns=[],me=xe||this.options,Ye=me.startColumn||0,je=me.endColumn||Number.MAX_VALUE,Ue=[],be={",":0,";":0,"	":0},vt=me.csv,Tt=me.startRow||0,Se=me.endRow||Number.MAX_VALUE,Me,He,De=0;if(vt&&me.beforeParse&&(vt=me.beforeParse.call(this,vt)),vt){if(He=vt.replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(me.lineDelimiter||`
`),(!Tt||Tt<0)&&(Tt=0),(!Se||Se>=He.length)&&(Se=He.length-1),me.itemDelimiter)Me=me.itemDelimiter;else{let at,ht,Ee;at=0,ht=0,Ee=!1,He.some(function(ue,pe){let Ae=!1,Ze,st,Ut,Lt="";if(pe>13)return!0;for(let lt=0;lt<ue.length;lt++){if(Ze=ue[lt],st=ue[lt+1],Ut=ue[lt-1],Ze==="#")return;if(Ze==='"')if(Ae){if(Ut!=='"'&&st!=='"'){for(;st===" "&&lt<ue.length;)st=ue[++lt];be[st]!==void 0&&be[st]++,Ae=!1}}else Ae=!0;else be[Ze]!==void 0?(isNaN(Date.parse(Lt=Lt.trim()))?(isNaN(Lt)||!isFinite(Lt))&&be[Ze]++:be[Ze]++,Lt=""):Lt+=Ze;Ze===","&&ht++,Ze==="."&&at++}}),be[";"]>be[","]?Ee=";":(be[","],be[";"],Ee=","),me.decimalPoint||(at>ht?me.decimalPoint=".":me.decimalPoint=",",le.decimalRegex=RegExp("^(-?[0-9]+)"+me.decimalPoint+"([0-9]+)$")),Me=Ee}let et=0;for(De=Tt;De<=Se;De++)He[De][0]==="#"?et++:function(at,ht,Ee,ue){let pe=0,Ae="",Ze="",st="",Ut="",Lt=0,lt=0;function rt(Fe){Ae=at[Fe],Ze=at[Fe-1],st=at[Fe+1]}function he(Fe){Ue.length<lt+1&&Ue.push([Fe]),Ue[lt][Ue[lt].length-1]!==Fe&&Ue[lt].push(Fe)}function Ce(){if(Ye>Lt||Lt>je){++Lt,Ut="";return}me.columnTypes||(!isNaN(parseFloat(Ut))&&isFinite(Ut)?(Ut=parseFloat(Ut),he("number")):isNaN(Date.parse(Ut))?he("string"):(Ut=Ut.replace(/\//g,"-"),he("date"))),_e.length<lt+1&&_e.push([]),_e[lt][ht]=Ut,Ut="",++lt,++Lt}if(at.trim().length&&at.trim()[0]!=="#"){for(;pe<at.length;pe++)if(rt(pe),Ae==='"')for(rt(++pe);pe<at.length&&(Ae!=='"'||Ze==='"'||st==='"');)(Ae!=='"'||Ae==='"'&&Ze!=='"')&&(Ut+=Ae),rt(++pe);else Ae===Me?Ce():Ut+=Ae;Ce()}}(He[De],De-Tt-et);(!me.columnTypes||me.columnTypes.length===0)&&Ue.length&&Ue[0].length&&Ue[0][1]==="date"&&!me.dateFormat&&(me.dateFormat=function(at,ht){var rt;let Ee="YYYY/mm/dd",ue=[],pe=[],Ae,Ze=[],st,Ut=0,Lt=!1,lt;for((!ht||ht>at.length)&&(ht=at.length);Ut<ht;Ut++)if(at[Ut]!==void 0&&((rt=at[Ut])!=null&&rt.length))for(lt=0,Ae=at[Ut].trim().replace(/\//g," ").replace(/\-/g," ").replace(/\./g," ").split(" "),Ze=["","",""];lt<Ae.length;lt++)lt<Ze.length&&(Ae[lt]=parseInt(Ae[lt],10),Ae[lt]&&(pe[lt]=!pe[lt]||pe[lt]<Ae[lt]?Ae[lt]:pe[lt],ue[lt]!==void 0?ue[lt]!==Ae[lt]&&(ue[lt]=!1):ue[lt]=Ae[lt],Ae[lt]>31?Ae[lt]<100?Ze[lt]="YY":Ze[lt]="YYYY":Ae[lt]>12&&Ae[lt]<=31?(Ze[lt]="dd",Lt=!0):Ze[lt].length||(Ze[lt]="mm")));if(Lt){for(lt=0;lt<ue.length;lt++)ue[lt]!==!1?pe[lt]>12&&Ze[lt]!=="YY"&&Ze[lt]!=="YYYY"&&(Ze[lt]="YY"):pe[lt]>12&&Ze[lt]==="mm"&&(Ze[lt]="dd");return Ze.length===3&&Ze[1]==="dd"&&Ze[2]==="dd"&&(Ze[2]="YY"),st=Ze.join("/"),(me.dateFormats||le.dateFormats)[st]?st:(Ke(le,"deduceDateFailed"),Ee)}return Ee}(_e[0])),this.dataFound()}return _e}parseTable(){let xe=this.options,le=this.columns||[],_e=xe.startRow||0,me=xe.endRow||Number.MAX_VALUE,Ye=xe.startColumn||0,je=xe.endColumn||Number.MAX_VALUE;if(xe.table){let Ue=xe.table;typeof Ue=="string"&&(Ue=U.getElementById(Ue)),[].forEach.call(Ue.getElementsByTagName("tr"),(be,vt)=>{vt>=_e&&vt<=me&&[].forEach.call(be.children,(Tt,Se)=>{let Me=le[Se-Ye],He=1;if((Tt.tagName==="TD"||Tt.tagName==="TH")&&Se>=Ye&&Se<=je)for(le[Se-Ye]||(le[Se-Ye]=[]),le[Se-Ye][vt-_e]=Tt.innerHTML;vt-_e>=He&&Me[vt-_e-He]===void 0;)Me[vt-_e-He]=null,He++})}),this.dataFound()}return le}fetchLiveData(){let xe=this,le=this.chart,_e=this.options,me=_e.enablePolling,Ye=Re(_e),je=0,Ue=1e3*(_e.dataRefreshRate||2);return!!jt(_e)&&(Ue<1e3&&(Ue=1e3),delete _e.csvURL,delete _e.rowsURL,delete _e.columnsURL,function be(vt){function Tt(Se,Me,He){if(!Se||!/^(http|\/|\.\/|\.\.\/)/.test(Se))return Se&&_e.error&&_e.error("Invalid URL"),!1;function De(){me&&le.liveDataURL===Se&&(xe.liveDataTimeout=setTimeout(be,Ue))}return vt&&(clearTimeout(xe.liveDataTimeout),le.liveDataURL=Se),Y({url:Se,dataType:He||"json",success:function(et){le!=null&&le.series&&Me(et),De()},error:function(et,at){var ht;return++je<3&&De(),(ht=_e.error)==null?void 0:ht.call(_e,at,et)}}),!0}Tt(Ye.csvURL,function(Se){le.update({data:{csv:Se}})},"text")||Tt(Ye.rowsURL,function(Se){le.update({data:{rows:Se}})})||Tt(Ye.columnsURL,function(Se){le.update({data:{columns:Se}})})}(!0),jt(_e))}parseGoogleSpreadsheet(){let xe=this,le=this.options,_e=le.googleSpreadsheetKey,me=this.chart,Ye=Math.max(1e3*(le.dataRefreshRate||2),4e3),je=()=>{if(le.googleSpreadsheetRange)return le.googleSpreadsheetRange;let Ue="ABCDEFGHIJKLMNOPQRSTUVWXYZ",be=(Ue.charAt(le.startColumn||0)||"A")+((le.startRow||0)+1),vt=Ue.charAt(ut(le.endColumn,-1))||"ZZ";return pt(le.endRow)&&(vt+=le.endRow+1),`${be}:${vt}`};return _e&&(delete le.googleSpreadsheetKey,function Ue(be){Y({url:["https://sheets.googleapis.com/v4/spreadsheets",_e,"values",je(),"?alt=json&majorDimension=COLUMNS&valueRenderOption=UNFORMATTED_VALUE&dateTimeRenderOption=FORMATTED_STRING&key="+le.googleAPIKey].join("/"),dataType:"json",success:function(vt){be(vt),le.enablePolling&&(xe.liveDataTimeout=setTimeout(function(){Ue(be)},Ye))},error:function(vt,Tt){var Se;return(Se=le.error)==null?void 0:Se.call(le,Tt,vt)}})}(function(Ue){let be=Ue.values;if(!be||be.length===0)return!1;let vt=be.reduce((Tt,Se)=>Math.max(Tt,Se.length),0);be.forEach(Tt=>{for(let Se=0;Se<vt;Se++)Tt[Se]===void 0&&(Tt[Se]=null)}),me!=null&&me.series?me.update({data:{columns:be}}):(xe.columns=be,xe.dataFound())})),!1}trim(xe,le){return typeof xe=="string"&&(xe=xe.replace(/^\s+|\s+$/g,""),le&&/[\d\s]+/.test(xe)&&(xe=xe.replace(/\s/g,"")),this.decimalRegex&&(xe=xe.replace(this.decimalRegex,"$1.$2"))),xe}parseTypes(){let xe=this.columns||[],le=xe.length;for(;le--;)this.parseColumn(xe[le],le)}parseColumn(xe,le){var pe;let _e=this.rawColumns,me=this.columns=this.columns||[],Ye=this.firstRowAsNames,je=((pe=this.valueCount)==null?void 0:pe.xColumns.indexOf(le))!==-1,Ue=[],be=this.chartOptions,vt=(this.options.columnTypes||[])[le],Tt=je&&(be==null?void 0:be.xAxis)&&_t(be.xAxis)[0].type==="category"||vt==="string",Se=pt(xe.name),Me=xe.length,He,De,et,at,ht,Ee,ue;for(_e[le]||(_e[le]=[]);Me--;)He=Ue[Me]||xe[Me],et=this.trim(He),De=parseFloat(at=this.trim(He,!0)),_e[le][Me]===void 0&&(_e[le][Me]=et),Tt||Me===0&&Ye&&!Se?xe[Me]=""+et:+at===De?(xe[Me]=De,De>31536e6&&vt!=="float"?xe.isDatetime=!0:xe.isNumeric=!0,xe[Me+1]!==void 0&&(ue=De>xe[Me+1])):(et!=null&&et.length&&(ht=this.parseDate(He)),je&&ft(ht)&&vt!=="float"?(Ue[Me]=He,xe[Me]=ht,xe.isDatetime=!0,xe[Me+1]!==void 0&&((Ee=ht>xe[Me+1])!==ue&&ue!==void 0&&(this.alternativeFormat?(this.dateFormat=this.alternativeFormat,Me=xe.length,this.alternativeFormat=this.dateFormats[this.dateFormat].alternative):xe.unsorted=!0),ue=Ee)):(xe[Me]=et===""?null:et,Me!==0&&(xe.isDatetime||xe.isNumeric)&&(xe.mixed=!0)));if(je&&xe.mixed&&(me[le]=_e[le]),je&&ue&&this.options.sort){for(le=0;le<me.length;le++)if(me[le].reverse(),Ye){let Ae=me[le].pop();Ae&&me[le].unshift(Ae)}}}parseDate(xe){let le=this.options.parseDate,_e,me,Ye,je=this.options.dateFormat||this.dateFormat,Ue;if(le)_e=le(xe);else if(typeof xe=="string"){if(je)(Ye=this.dateFormats[je])||(Ye=this.dateFormats["YYYY/mm/dd"]),(Ue=xe.match(Ye.regex))&&(_e=Ye.parser(Ue));else for(me in this.dateFormats)if(Ye=this.dateFormats[me],Ue=xe.match(Ye.regex)){this.dateFormat=je=me,this.alternativeFormat=Ye.alternative,_e=Ye.parser(Ue);break}!Ue&&(xe.match(/:.+(GMT|UTC|[Z+\-])/)&&(xe=xe.replace(/\s*(?:GMT|UTC)?([+\-])(\d\d)(\d\d)$/,"$1$2:$3").replace(/(?:\s+|GMT|UTC)([+\-])/,"$1").replace(/(\d)\s*(?:GMT|UTC|Z)$/,"$1+00:00")),typeof(Ue=Date.parse(xe))=="object"&&Ue!==null&&Ue.getTime?_e=Ue.getTime()-6e4*Ue.getTimezoneOffset():ft(Ue)&&(_e=Ue-6e4*new Date(Ue).getTimezoneOffset()))}return _e}getData(){var xe;if(this.columns)return(xe=this.rowsToColumns(this.columns))==null?void 0:xe.slice(1)}parsed(){if(this.options.parsed)return this.options.parsed.call(this,this.columns)}complete(){var at,ht,Ee,ue;let xe=this.columns=this.columns||[],le=this.options,_e=[],me="linear",Ye,je,Ue,be,vt,Tt,Se,Me,He,De,et;if(xe.length,le.complete||le.afterComplete){if(this.firstRowAsNames)for(Ue=0;Ue<xe.length;Ue++){let pe=xe[Ue];pt(pe.name)||(pe.name=ut(pe.shift(),"").toString())}for(Tt=0,Ye=[],He=function(pe,Ae){let Ze,st,Ut,Lt=[],lt=[];for(st=0;st<pe;st+=1)Lt.push(!0);for(Ze=0;Ze<Ae.length;Ze+=1)for(st=0,Ut=Ae[Ze].getReferencedColumnIndexes();st<Ut.length;st+=1)Lt[Ut[st]]=!1;for(st=0;st<Lt.length;st+=1)Lt[st]&&lt.push(st);return lt}((xe==null?void 0:xe.length)||0,this.valueCount.seriesBuilders);Tt<this.valueCount.seriesBuilders.length;Tt++)(Me=this.valueCount.seriesBuilders[Tt]).populateColumns(He)&&_e.push(Me);for(;He.length>0;){for((Me=new Ot).addColumnReader(0,"x"),(et=He.indexOf(0))!==-1&&He.splice(et,1),Ue=0;Ue<this.valueCount.global;Ue++)Me.addColumnReader(void 0,this.valueCount.globalPointArrayMap[Ue]);Me.populateColumns(He)&&_e.push(Me)}if(_e.length>0&&_e[0].readers.length>0&&(De=xe==null?void 0:xe[_e[0].readers[0].columnIndex??-1])!==void 0&&(De.isDatetime?me="datetime":De.isNumeric||(me="category")),me==="category")for(Tt=0;Tt<_e.length;Tt++)for(vt=0,Me=_e[Tt];vt<Me.readers.length;vt++)Me.readers[vt].configName==="x"&&(Me.readers[vt].configName="name");for(Tt=0;Tt<_e.length;Tt++){for(be=0,Me=_e[Tt],je=[];be<xe[0].length;be++)je[be]=Me.read(xe,be);Ye[Tt]={data:je,pointStart:je[0]&&(Me.pointIsArray?(at=je[0])==null?void 0:at[0]:(ht=je[0])==null?void 0:ht.x)||void 0},Me.name&&(Ye[Tt].name=Me.name),me==="category"&&(Ye[Tt].turboThreshold=0,Ye[Tt].pointStart=0)}Se={series:Ye},me!=="linear"||this.xAxisOptions&&this.xAxisOptions.type!==me?(this.xAxisOptions={type:me},me==="category"&&(this.xAxisOptions.uniqueNames=!1)):me=this.xAxisOptions=void 0,this.chart||Re(!0,Se,{xAxis:this.xAxisOptions||{}}),(Ee=le.complete)==null||Ee.call(le,Se),(ue=le.afterComplete)==null||ue.call(le,this,Se)}}xAxisUpdateHandler(xe){let le=this.xAxisOptions;le&&(!xe.options.type&&le.type&&(xe.type=le.type),xe.options.uniqueNames||le.uniqueNames!==!1||(xe.uniqueNames=le.uniqueNames))}update(xe,le){var Ye;let _e=this.chart,me=_e.options;xe&&(xe.afterComplete=function(je,Ue){if(!Ue)return;let be=_e.xAxis[0],vt=je.xAxisOptions;vt&&be&&(be.type!==vt.type&&!be.options.type||be.uniqueNames&&vt.uniqueNames===!1&&be.options.uniqueNames===void 0)?be.update({},!1):((Ue==null?void 0:Ue.series)||[]).forEach(function(Tt){delete Tt.pointStart}),_e.update(Ue,le,!0)},Re(!0,me.data,xe),(Ye=me.data)!=null&&Ye.googleSpreadsheetKey&&!xe.columns&&delete me.data.columns,this.init(me.data||{},me))}}ie(L(),"afterSetOptions",function(){var ot;this.isXAxis&&(!this.chart.xAxis.length||this.chart.xAxis[0]===this)&&((ot=this.chart.data)==null||ot.xAxisUpdateHandler(this))}),ie(ne(),"init",function(ot){let xe=this,le=ot.args[1],_e=H().data,me=ot.args[0]||{};(_e||me&&me.data)&&!xe.hasDataDef&&(xe.hasDataDef=!0,xe.data=new kt(Mt(Re(_e,me.data),{afterComplete:function(Ye,je){var vt,Tt;let Ue,be;if(Object.hasOwnProperty.call(me,"series"))if(typeof me.series=="object")for(Ue=Math.max(me.series.length,((vt=je==null?void 0:je.series)==null?void 0:vt.length)??0);Ue--;)be=me.series[Ue]||{},me.series[Ue]=Re(be,((Tt=je==null?void 0:je.series)==null?void 0:Tt[Ue])??{});else delete me.series;me=Re(je,me),xe.data=Ye,xe.init(me,le)}}),me,xe),ot.preventDefault())});class Ot{constructor(){this.readers=[],this.pointIsArray=!0}populateColumns(xe){let le=!0;return this.readers.forEach(_e=>{_e.columnIndex===void 0&&(_e.columnIndex=xe.shift())}),this.readers.forEach(_e=>{_e.columnIndex===void 0&&(le=!1)}),le}read(xe,le){let _e=this.pointIsArray,me=_e?[]:{};if(this.readers.forEach(Ye=>{let je=xe[Ye.columnIndex][le];_e?me.push(je):Ye.configName.indexOf(".")>0?ge().prototype.setNestedProperty(me,je,Ye.configName):me[Ye.configName]=je}),this.name===void 0&&this.readers.length>=2){let Ye=[];this.readers.forEach(function(je){(je.configName==="x"||je.configName==="name"||je.configName==="y")&&je.columnIndex!==void 0&&Ye.push(je.columnIndex)}),Ye.length>=2&&(Ye.shift(),Ye.sort(function(je,Ue){return je-Ue})),this.name=xe[ut(Ye.shift(),0)].name}return me}addColumnReader(xe,le){this.readers.push({columnIndex:xe,configName:le}),le!=="x"&&le!=="y"&&le!==void 0&&(this.pointIsArray=!1)}getReferencedColumnIndexes(){let xe,le,_e=[];for(xe=0;xe<this.readers.length;xe+=1)(le=this.readers[xe]).columnIndex!==void 0&&_e.push(le.columnIndex);return _e}hasReader(xe){let le;for(le=0;le<this.readers.length;le+=1)if(this.readers[le].configName===xe)return!0}}let mt=z();mt.Data=mt.Data||kt,mt.HttpUtilities=mt.HttpUtilities||se,mt.ajax=mt.HttpUtilities.ajax,mt.data=mt.Data.data,mt.getJSON=mt.HttpUtilities.getJSON,mt.post=mt.HttpUtilities.post;let Rt=z();return I.default})())})(TP);var t$=TP.exports;const n$=gl(t$);var CP={exports:{}};(function(t,e){(function(n,i){t.exports=i(n._Highcharts,n._Highcharts.AST,n._Highcharts.Chart)})(typeof window>"u"?wc:window,(n,i,s)=>(()=>{var a,u,m={660:rt=>{rt.exports=i},944:rt=>{rt.exports=n},960:rt=>{rt.exports=s}},x={};function _(rt){var he=x[rt];if(he!==void 0)return he.exports;var Ce=x[rt]={exports:{}};return m[rt](Ce,Ce.exports,_),Ce.exports}_.n=rt=>{var he=rt&&rt.__esModule?()=>rt.default:()=>rt;return _.d(he,{a:he}),he},_.d=(rt,he)=>{for(var Ce in he)_.o(he,Ce)&&!_.o(rt,Ce)&&Object.defineProperty(rt,Ce,{enumerable:!0,get:he[Ce]})},_.o=(rt,he)=>Object.prototype.hasOwnProperty.call(rt,he);var I={};_.d(I,{default:()=>lt});var j=_(944),z=_.n(j),J=_(660),te=_.n(J),oe=_(960),se=_.n(oe);(function(rt){rt.compose=function(Ce){return Ce.navigation||(Ce.navigation=new he(Ce)),Ce};class he{constructor(Fe){this.updates=[],this.chart=Fe}addUpdate(Fe){this.chart.navigation.updates.push(Fe)}update(Fe,Pe){this.updates.forEach(Ve=>{Ve.call(this.chart,Fe,Pe)})}}rt.Additions=he})(a||(a={}));let X=a,{isSafari:L,win:G,win:{document:ne}}=z(),{error:ke}=z(),ge=G.URL||G.webkitURL||G;function K(rt){let he=rt.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([A-Z+\d\/]+)/i);if(he&&he.length>3&&G.atob&&G.ArrayBuffer&&G.Uint8Array&&G.Blob&&ge.createObjectURL){let Ce=G.atob(he[3]),Fe=new G.ArrayBuffer(Ce.length),Pe=new G.Uint8Array(Fe);for(let Ve=0;Ve<Pe.length;++Ve)Pe[Ve]=Ce.charCodeAt(Ve);return ge.createObjectURL(new G.Blob([Pe],{type:he[1]}))}}let{isTouchDevice:M}=z(),H={exporting:{allowTableSorting:!0,libURL:"https://code.highcharts.com/12.4.0/lib/",local:!0,type:"image/png",url:`https://export-svg.highcharts.com?v=${z().version}`,pdfFont:{normal:void 0,bold:void 0,bolditalic:void 0,italic:void 0},printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:["viewFullscreen","printChart","separator","downloadPNG","downloadJPEG","downloadSVG"]}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){var rt;(rt=this.fullscreen)==null||rt.toggle()}},printChart:{textKey:"printChart",onclick:function(){var rt;(rt=this.exporting)==null||rt.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:async function(){var rt;await((rt=this.exporting)==null?void 0:rt.exportChart())}},downloadJPEG:{textKey:"downloadJPEG",onclick:async function(){var rt;await((rt=this.exporting)==null?void 0:rt.exportChart({type:"image/jpeg"}))}},downloadPDF:{textKey:"downloadPDF",onclick:async function(){var rt;await((rt=this.exporting)==null?void 0:rt.exportChart({type:"application/pdf"}))}},downloadSVG:{textKey:"downloadSVG",onclick:async function(){var rt;await((rt=this.exporting)==null?void 0:rt.exportChart({type:"image/svg+xml"}))}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:14.5,symbolY:13.5,align:"right",buttonSpacing:5,height:28,y:-5,verticalAlign:"top",width:28,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{fill:"#ffffff",padding:5,stroke:"none","stroke-linecap":"round"}},menuStyle:{border:"none",borderRadius:"3px",background:"#ffffff",padding:"0.5em"},menuItemStyle:{background:"none",borderRadius:"3px",color:"#333333",padding:"0.5em",fontSize:M?"0.9em":"0.8em",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#f2f2f2"}}};(function(rt){let he=[];function Ce(Pe,Ve,We,gt){return[["M",Pe,Ve+2.5],["L",Pe+We,Ve+2.5],["M",Pe,Ve+gt/2+.5],["L",Pe+We,Ve+gt/2+.5],["M",Pe,Ve+gt-1.5],["L",Pe+We,Ve+gt-1.5]]}function Fe(Pe,Ve,We,gt){let Pt=gt/3-2;return[].concat(this.circle(We-Pt,Ve,Pt,Pt),this.circle(We-Pt,Ve+Pt+4,Pt,Pt),this.circle(We-Pt,Ve+2*(Pt+4),Pt,Pt))}rt.compose=function(Pe){if(he.indexOf(Pe)===-1){he.push(Pe);let Ve=Pe.prototype.symbols;Ve.menu=Ce,Ve.menuball=Fe.bind(Ve)}}})(u||(u={}));let U=u,{composed:Y}=z(),{addEvent:ae,fireEvent:ie,pushUnique:pt}=z();function Mt(){this.fullscreen=new Ke(this)}class Ke{static compose(he){pt(Y,"Fullscreen")&&ae(he,"beforeRender",Mt)}constructor(he){this.chart=he,this.isOpen=!1;let Ce=he.renderTo;!this.browserProps&&(typeof Ce.requestFullscreen=="function"?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:Ce.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:Ce.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:Ce.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}close(){let he=this,Ce=he.chart,Fe=Ce.options.chart;ie(Ce,"fullscreenClose",null,function(){he.isOpen&&he.browserProps&&Ce.container.ownerDocument instanceof Document&&Ce.container.ownerDocument[he.browserProps.exitFullscreen](),he.unbindFullscreenEvent&&(he.unbindFullscreenEvent=he.unbindFullscreenEvent()),Ce.setSize(he.origWidth,he.origHeight,!1),he.origWidth=void 0,he.origHeight=void 0,Fe.width=he.origWidthOption,Fe.height=he.origHeightOption,he.origWidthOption=void 0,he.origHeightOption=void 0,he.isOpen=!1,he.setButtonText()})}open(){let he=this,Ce=he.chart,Fe=Ce.options.chart;ie(Ce,"fullscreenOpen",null,function(){if(Fe&&(he.origWidthOption=Fe.width,he.origHeightOption=Fe.height),he.origWidth=Ce.chartWidth,he.origHeight=Ce.chartHeight,he.browserProps){let Pe=ae(Ce.container.ownerDocument,he.browserProps.fullscreenChange,function(){he.isOpen?(he.isOpen=!1,he.close()):(Ce.setSize(null,null,!1),he.isOpen=!0,he.setButtonText())}),Ve=ae(Ce,"destroy",Pe);he.unbindFullscreenEvent=()=>{Pe(),Ve()};let We=Ce.renderTo[he.browserProps.requestFullscreen]();We&&We.catch(function(){alert("Full screen is not supported inside a frame.")})}})}setButtonText(){var We;let he=this.chart,Ce=(We=he.exporting)==null?void 0:We.divElements,Fe=he.options.exporting,Pe=Fe&&Fe.buttons&&Fe.buttons.contextButton.menuItems,Ve=he.options.lang;if(Fe&&Fe.menuItemDefinitions&&Ve&&Ve.exitFullscreen&&Ve.viewFullscreen&&Pe&&Ce){let gt=Ce[Pe.indexOf("viewFullscreen")];gt&&te().setElementHTML(gt,this.isOpen?Ve.exitFullscreen:Fe.menuItemDefinitions.viewFullscreen.text||Ve.viewFullscreen)}}toggle(){this.isOpen?this.close():this.open()}}let{win:ft}=z(),{discardElement:Re,objectEach:$e}=z(),ut={ajax:function(rt){var Pe;let he={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},Ce=new XMLHttpRequest;function Fe(Ve,We){rt.error&&rt.error(Ve,We)}if(!rt.url)return!1;Ce.open((rt.type||"get").toUpperCase(),rt.url,!0),(Pe=rt.headers)!=null&&Pe["Content-Type"]||Ce.setRequestHeader("Content-Type",he[rt.dataType||"json"]||he.text),$e(rt.headers,function(Ve,We){Ce.setRequestHeader(We,Ve)}),rt.responseType&&(Ce.responseType=rt.responseType),Ce.onreadystatechange=function(){var We;let Ve;if(Ce.readyState===4){if(Ce.status===200){if(rt.responseType!=="blob"&&(Ve=Ce.responseText,rt.dataType==="json"))try{Ve=JSON.parse(Ve)}catch(gt){if(gt instanceof Error)return Fe(Ce,gt)}return(We=rt.success)==null?void 0:We.call(rt,Ve,Ce)}Fe(Ce,Ce.responseText)}},rt.data&&typeof rt.data!="string"&&(rt.data=JSON.stringify(rt.data)),Ce.send(rt.data)},getJSON:function(rt,he){ut.ajax({url:rt,success:he,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:async function(rt,he,Ce){let Fe=new ft.FormData;$e(he,function(Ve,We){Fe.append(We,Ve)}),Fe.append("b64","true");let Pe=await ft.fetch(rt,{method:"POST",body:Fe,...Ce});if(Pe.ok){let Ve=await Pe.text(),We=document.createElement("a");We.href=`data:${he.type};base64,${Ve}`,We.download=he.filename,We.click(),Re(We)}}},{defaultOptions:_t,setOptions:jt}=z(),{downloadURL:kt,getScript:Ot}={downloadURL:function(rt,he){let Ce=G.navigator,Fe=ne.createElement("a");if(typeof rt!="string"&&!(rt instanceof String)&&Ce.msSaveOrOpenBlob)return void Ce.msSaveOrOpenBlob(rt,he);if(rt=""+rt,Ce.userAgent.length>1e3)throw Error("Input too long");let Pe=/Edge\/\d+/.test(Ce.userAgent);if((L&&typeof rt=="string"&&rt.indexOf("data:application/pdf")===0||Pe||rt.length>2e6)&&!(rt=K(rt)||""))throw Error("Failed to convert to blob");if(Fe.download!==void 0)Fe.href=rt,Fe.download=he,ne.body.appendChild(Fe),Fe.click(),ne.body.removeChild(Fe);else try{if(!G.open(rt,"chart"))throw Error("Failed to open window")}catch{G.location.href=rt}},getScript:function(rt){return new Promise((he,Ce)=>{let Fe=ne.getElementsByTagName("head")[0],Pe=ne.createElement("script");Pe.type="text/javascript",Pe.src=rt,Pe.onload=()=>{he()},Pe.onerror=()=>{let Ve=`Error loading script ${rt}`;ke(Ve),Ce(Error(Ve))},Fe.appendChild(Pe)})}},{composed:mt,doc:Rt,isFirefox:ot,isMS:xe,isSafari:le,SVG_NS:_e,win:me}=z(),{addEvent:Ye,clearTimeout:je,createElement:Ue,css:be,discardElement:vt,error:Tt,extend:Se,find:Me,fireEvent:He,isObject:De,merge:et,objectEach:at,pick:ht,pushUnique:Ee,removeEvent:ue,splat:pe,uniqueKey:Ae}=z();te().allowedAttributes.push("data-z-index","fill-opacity","filter","preserveAspectRatio","rx","ry","stroke-dasharray","stroke-linejoin","stroke-opacity","text-anchor","transform","transform-origin","version","viewBox","visibility","xmlns","xmlns:xlink"),te().allowedTags.push("desc","clippath","fedropshadow","femorphology","g","image");let Ze=me.URL||me.webkitURL||me;class st{constructor(he,Ce){this.options={},this.chart=he,this.options=Ce,this.btnCount=0,this.buttonOffset=0,this.divElements=[],this.svgElements=[]}static hyphenate(he){return he.replace(/[A-Z]/g,function(Ce){return"-"+Ce.toLowerCase()})}static async imageToDataURL(he,Ce,Fe){let Pe=await st.loadImage(he),Ve=Rt.createElement("canvas"),We=Ve==null?void 0:Ve.getContext("2d");if(We)return Ve.height=Pe.height*Ce,Ve.width=Pe.width*Ce,We.drawImage(Pe,0,0,Ve.width,Ve.height),Ve.toDataURL(Fe);throw Error("No canvas found!")}static async fetchCSS(he){let Ce=await fetch(he).then(Pe=>Pe.text()),Fe=new CSSStyleSheet;return Fe.replaceSync(Ce),Fe}static async handleStyleSheet(he,Ce){try{for(let Fe of Array.from(he.cssRules)){if(Fe instanceof CSSImportRule){let Pe=await st.fetchCSS(Fe.href);await st.handleStyleSheet(Pe,Ce)}if(Fe instanceof CSSFontFaceRule){let Pe=Fe.cssText;if(he.href){let Ve=he.href,We=/url\(\s*(['"]?)(?![a-z]+:|\/\/)([^'")]+?)\1\s*\)/gi;Pe=Pe.replace(We,(gt,Pt,At)=>{let Vt=new URL(At,Ve).href;return`url(${Pt}${Vt}${Pt})`})}Ce.push(Pe)}}}catch{if(he.href){let Fe=await st.fetchCSS(he.href);await st.handleStyleSheet(Fe,Ce)}}}static async fetchStyleSheets(){let he=[];for(let Ce of Array.from(Rt.styleSheets))await st.handleStyleSheet(Ce,he);return he}static async inlineFonts(he){let Ce=await st.fetchStyleSheets(),Fe=/url\(([^)]+)\)/g,Pe=[],Ve=Ce.join(`
`),We;for(;We=Fe.exec(Ve);){let Vt=We[1].replace(/['"]/g,"");Pe.includes(Vt)||Pe.push(Vt)}let gt=Vt=>{let Qt="",nt=new Uint8Array(Vt);for(let zt=0;zt<nt.byteLength;zt++)Qt+=String.fromCharCode(nt[zt]);return btoa(Qt)},Pt={};for(let Vt of Pe)try{let Qt=await fetch(Vt),nt=Qt.headers.get("Content-Type")||"",zt=gt(await Qt.arrayBuffer());Pt[Vt]=`data:${nt};base64,${zt}`}catch{}Ve=Ve.replace(Fe,(Vt,Qt)=>{let nt=Qt.replace(/['"]/g,"");return`url(${Pt[nt]||nt})`});let At=document.createElementNS("http://www.w3.org/2000/svg","style");return At.textContent=Ve,he.append(At),he}static loadImage(he){return new Promise((Ce,Fe)=>{let Pe=new me.Image;Pe.crossOrigin="Anonymous",Pe.onload=()=>{setTimeout(()=>{Ce(Pe)},st.loadEventDeferDelay)},Pe.onerror=Ve=>{Fe(Ve)},Pe.src=he})}static prepareImageOptions(he){var Pe;let Ce=(he==null?void 0:he.type)||"image/png",Fe=(he==null?void 0:he.libURL)||((Pe=_t.exporting)==null?void 0:Pe.libURL);return{type:Ce,filename:((he==null?void 0:he.filename)||"chart")+"."+(Ce==="image/svg+xml"?"svg":Ce.split("/")[1]),scale:(he==null?void 0:he.scale)||1,libURL:(Fe==null?void 0:Fe.slice(-1))!=="/"?Fe+"/":Fe}}static sanitizeSVG(he,Ce){var We;let Fe=he.indexOf("</svg>")+6,Pe=he.indexOf("<foreignObject")>-1,Ve=he.substr(Fe);return he=he.substr(0,Fe),Pe?he=he.replace(/(<(?:img|br).*?(?=\>))>/g,"$1 />"):Ve&&((We=Ce==null?void 0:Ce.exporting)!=null&&We.allowHTML)&&(Ve='<foreignObject x="0" y="0" width="'+Ce.chart.width+'" height="'+Ce.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+Ve.replace(/(<(?:img|br).*?(?=\>))>/g,"$1 />")+"</body></foreignObject>",he=he.replace("</svg>",Ve+"</svg>")),he=he.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery\d+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;)\;?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS\d+\:)?href=/g," xlink:href=").replace(/\n+/g," ").replace(/&nbsp;/g,"").replace(/&shy;/g,"")}static svgToDataURL(he){let Ce=me.navigator.userAgent,Fe=Ce.indexOf("WebKit")>-1&&0>Ce.indexOf("Chrome");try{if(!Fe&&he.indexOf("<foreignObject")===-1)return Ze.createObjectURL(new me.Blob([he],{type:"image/svg+xml;charset-utf-16"}))}catch{}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(he)}addButton(he){var zt;let Ce,Fe=this,Pe=Fe.chart,Ve=Pe.renderer,We=et((zt=Pe.options.navigation)==null?void 0:zt.buttonOptions,he),gt=We.onclick,Pt=We.menuItems,At=We.symbolSize||12;if(We.enabled===!1||!We.theme)return;let Vt=Pe.styledMode?{}:We.theme,Qt=()=>{};gt?Qt=function(Jt){Jt&&Jt.stopPropagation(),gt.call(Pe,Jt)}:Pt&&(Qt=function(Jt){Jt&&Jt.stopPropagation(),Fe.contextMenu(nt.menuClassName,Pt,nt.translateX||0,nt.translateY||0,nt.width||0,nt.height||0,nt),nt.setState(2)}),We.text&&We.symbol?Vt.paddingLeft=ht(Vt.paddingLeft,30):We.text||Se(Vt,{width:We.width,height:We.height,padding:0});let nt=Ve.button(We.text||"",0,0,Qt,Vt,void 0,void 0,void 0,void 0,We.useHTML).addClass(he.className||"").attr({title:ht(Pe.options.lang[We._titleKey||We.titleKey],"")});nt.menuClassName=he.menuClassName||"highcharts-menu-"+Fe.btnCount++,We.symbol&&(Ce=Ve.symbol(We.symbol,Math.round((We.symbolX||0)-At/2),Math.round((We.symbolY||0)-At/2),At,At,{width:At,height:At}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(nt),Pe.styledMode||Ce.attr({stroke:We.symbolStroke,fill:We.symbolFill,"stroke-width":We.symbolStrokeWidth||1})),nt.add(Fe.group).align(Se(We,{width:nt.width,x:ht(We.x,Fe.buttonOffset)}),!0,"spacingBox"),Fe.buttonOffset+=((nt.width||0)+(We.buttonSpacing||0))*(We.align==="right"?-1:1),Fe.svgElements.push(nt,Ce)}afterPrint(){let he=this.chart;if(!this.printReverseInfo)return;let{childNodes:Ce,origDisplay:Fe,resetParams:Pe}=this.printReverseInfo;this.moveContainers(he.renderTo),[].forEach.call(Ce,function(Ve,We){Ve.nodeType===1&&(Ve.style.display=Fe[We]||"")}),this.isPrinting=!1,Pe&&he.setSize.apply(he,Pe),delete this.printReverseInfo,st.printingChart=void 0,He(he,"afterPrint")}beforePrint(){var Ve;let he=this.chart,Ce=Rt.body,Fe=this.options.printMaxWidth,Pe={childNodes:Ce.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,(Ve=he.pointer)==null||Ve.reset(void 0,0),He(he,"beforePrint"),Fe&&he.chartWidth>Fe&&(Pe.resetParams=[he.options.chart.width,void 0,!1],he.setSize(Fe,void 0,!1)),[].forEach.call(Pe.childNodes,function(We,gt){We.nodeType===1&&(Pe.origDisplay[gt]=We.style.display,We.style.display="none")}),this.moveContainers(Ce),this.printReverseInfo=Pe}contextMenu(he,Ce,Fe,Pe,Ve,We,gt){var gn,hn,Rn;let Pt=this,At=Pt.chart,Vt=At.options.navigation,Qt=At.chartWidth,nt=At.chartHeight,zt="cache-"+he,Jt=Math.max(Ve,We),Ft,en=At[zt];en||(Pt.contextMenuEl=At[zt]=en=Ue("div",{className:he},{position:"absolute",zIndex:1e3,padding:Jt+"px",pointerEvents:"auto",...At.renderer.style},((gn=At.scrollablePlotArea)==null?void 0:gn.fixedDiv)||At.container),Ft=Ue("ul",{className:"highcharts-menu"},At.styledMode?{}:{listStyle:"none",margin:0,padding:0},en),At.styledMode||be(Ft,Se({MozBoxShadow:"3px 3px 10px #0008",WebkitBoxShadow:"3px 3px 10px #0008",boxShadow:"3px 3px 10px #0008"},(Vt==null?void 0:Vt.menuStyle)||{})),en.hideMenu=function(){be(en,{display:"none"}),gt&&gt.setState(0),At.exporting&&(At.exporting.openMenu=!1),be(At.renderTo,{overflow:"hidden"}),be(At.container,{overflow:"hidden"}),je(en.hideTimer),He(At,"exportMenuHidden")},(hn=Pt.events)==null||hn.push(Ye(en,"mouseleave",function(){en.hideTimer=me.setTimeout(en.hideMenu,500)}),Ye(en,"mouseenter",function(){je(en.hideTimer)}),Ye(Rt,"mouseup",function(vn){var Kn;(Kn=At.pointer)!=null&&Kn.inClass(vn.target,he)||en.hideMenu()}),Ye(en,"click",function(){var vn;(vn=At.exporting)!=null&&vn.openMenu&&en.hideMenu()})),Ce.forEach(function(vn){var Kn;if(typeof vn=="string"&&((Kn=Pt.options.menuItemDefinitions)!=null&&Kn[vn])&&(vn=Pt.options.menuItemDefinitions[vn]),De(vn,!0)){let ji;vn.separator?ji=Ue("hr",void 0,void 0,Ft):(vn.textKey==="viewData"&&Pt.isDataTableVisible&&(vn.textKey="hideData"),ji=Ue("li",{className:"highcharts-menu-item",onclick:function(ar){ar&&ar.stopPropagation(),en.hideMenu(),typeof vn!="string"&&vn.onclick&&vn.onclick.apply(At,arguments)}},void 0,Ft),te().setElementHTML(ji,vn.text||At.options.lang[vn.textKey]),At.styledMode||(ji.onmouseover=function(){be(this,(Vt==null?void 0:Vt.menuItemHoverStyle)||{})},ji.onmouseout=function(){be(this,(Vt==null?void 0:Vt.menuItemStyle)||{})},be(ji,Se({cursor:"pointer"},(Vt==null?void 0:Vt.menuItemStyle)||{})))),Pt.divElements.push(ji)}}),Pt.divElements.push(Ft,en),Pt.menuHeight=en.offsetHeight,Pt.menuWidth=en.offsetWidth);let rn={display:"block"};Fe+(Pt.menuWidth||0)>Qt?rn.right=Qt-Fe-Ve-Jt+"px":rn.left=Fe-Jt+"px",Pe+We+(Pt.menuHeight||0)>nt&&((Rn=gt.alignOptions)==null?void 0:Rn.verticalAlign)!=="top"?rn.bottom=nt-Pe-Jt+"px":rn.top=Pe+We-Jt+"px",be(en,rn),be(At.renderTo,{overflow:""}),be(At.container,{overflow:""}),At.exporting&&(At.exporting.openMenu=!0),He(At,"exportMenuShown")}destroy(he){let Ce,Fe=he?he.target:this.chart,{divElements:Pe,events:Ve,svgElements:We}=this;We.forEach((gt,Pt)=>{gt&&(gt.onclick=gt.ontouchstart=null,Fe[Ce="cache-"+gt.menuClassName]&&delete Fe[Ce],We[Pt]=gt.destroy())}),We.length=0,this.group&&(this.group.destroy(),delete this.group),Pe.forEach(function(gt,Pt){gt&&(je(gt.hideTimer),ue(gt,"mouseleave"),Pe[Pt]=gt.onmouseout=gt.onmouseover=gt.ontouchstart=gt.onclick=null,vt(gt))}),Pe.length=0,Ve&&(Ve.forEach(function(gt){gt()}),Ve.length=0)}async downloadSVG(he,Ce){let Fe,Pe={svg:he,exportingOptions:Ce,exporting:this};if(He(st.prototype,"downloadSVG",Pe),Pe.defaultPrevented)return;let{type:Ve,filename:We,scale:gt,libURL:Pt}=st.prepareImageOptions(Ce);if(Ve==="application/pdf")throw Error("Offline exporting logic for PDF type is not found.");if(Ve==="image/svg+xml"){if(me.MSBlobBuilder!==void 0){let At=new me.MSBlobBuilder;At.append(he),Fe=At.getBlob("image/svg+xml")}else Fe=st.svgToDataURL(he);kt(Fe,We)}else{Fe=st.svgToDataURL(he);try{st.objectURLRevoke=!0;let At=await st.imageToDataURL(Fe,gt,Ve);kt(At,We)}catch(At){if(At.message==="No canvas found!")throw At;if(he.length>1e8)throw Error("Input too long");let Vt=Rt.createElement("canvas"),Qt=Vt.getContext("2d"),nt=he.match(/^<svg[^>]*\s{,1000}width\s{,1000}=\s{,1000}\"?(\d+)\"?[^>]*>/),zt=he.match(/^<svg[^>]*\s{0,1000}height\s{,1000}=\s{,1000}\"?(\d+)\"?[^>]*>/);if(Qt&&nt&&zt){let Jt=nt[1]*gt,Ft=zt[1]*gt;Vt.width=Jt,Vt.height=Ft,me.canvg||(st.objectURLRevoke=!0,await Ot(Pt+"canvg.js")),me.canvg.Canvg.fromString(Qt,he).start(),kt(me.navigator.msSaveOrOpenBlob?Vt.msToBlob():Vt.toDataURL(Ve),We)}}finally{if(st.objectURLRevoke)try{Ze.revokeObjectURL(Fe)}catch{}}}}async exportChart(he,Ce){if((he=et(this.options,he)).local)await this.localExport(he,Ce||{});else{let Fe=this.getSVGForExport(he,Ce);he.url&&await ut.post(he.url,{filename:he.filename?he.filename.replace(/\//g,"-"):this.getFilename(),type:he.type,width:he.width,scale:he.scale,svg:Fe},he.fetchOptions)}}async fallbackToServer(he,Ce){he.fallbackToExportServer===!1?he.error?he.error(he,Ce):Tt(28,!0):he.type==="application/pdf"&&(he.local=!1,await this.exportChart(he))}getChartHTML(he){let Ce=this.chart;return he&&this.inlineStyles(),this.resolveCSSVariables(),Ce.container.innerHTML}getFilename(){var Fe;let he=(Fe=this.chart.userOptions.title)==null?void 0:Fe.text,Ce=this.options.filename;return Ce?Ce.replace(/\//g,"-"):(typeof he=="string"&&(Ce=he.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z\d\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!Ce||Ce.length<5)&&(Ce="chart"),Ce)}getSVG(he){var zt,Jt,Ft,en;let Ce=this.chart,Fe,Pe,Ve=et(Ce.options,he);Ve.plotOptions=et(Ce.userOptions.plotOptions,he==null?void 0:he.plotOptions),Ve.time=et(Ce.userOptions.time,he==null?void 0:he.time);let We=Ue("div",void 0,{position:"absolute",top:"-9999em",width:Ce.chartWidth+"px",height:Ce.chartHeight+"px"},Rt.body),gt=Ce.renderTo.style.width,Pt=Ce.renderTo.style.height,At=((zt=Ve.exporting)==null?void 0:zt.sourceWidth)||Ve.chart.width||/px$/.test(gt)&&parseInt(gt,10)||(Ve.isGantt?800:600),Vt=((Jt=Ve.exporting)==null?void 0:Jt.sourceHeight)||Ve.chart.height||/px$/.test(Pt)&&parseInt(Pt,10)||400;Se(Ve.chart,{animation:!1,renderTo:We,forExport:!0,renderer:"SVGRenderer",width:At,height:Vt}),Ve.exporting&&(Ve.exporting.enabled=!1),delete Ve.data,Ve.series=[],Ce.series.forEach(function(rn){var gn;(Pe=et(rn.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:rn.visible})).isInternal||((gn=Ve==null?void 0:Ve.series)==null||gn.push(Pe))});let Qt={};Ce.axes.forEach(function(rn){rn.userOptions.internalKey||(rn.userOptions.internalKey=Ae()),Ve&&!rn.options.isInternal&&(Qt[rn.coll]||(Qt[rn.coll]=!0,Ve[rn.coll]=[]),Ve[rn.coll].push(et(rn.userOptions,{visible:rn.visible,type:rn.type,uniqueNames:rn.uniqueNames})))}),Ve.colorAxis=Ce.userOptions.colorAxis;let nt=new Ce.constructor(Ve,Ce.callback);return he&&["xAxis","yAxis","series"].forEach(function(rn){he[rn]&&nt.update({[rn]:he[rn]})}),Ce.axes.forEach(function(rn){let gn=Me(nt.axes,hn=>hn.options.internalKey===rn.userOptions.internalKey);if(gn){let hn=rn.getExtremes(),Rn=pe((he==null?void 0:he[rn.coll])||{})[0],vn="min"in Rn?Rn.min:hn.userMin,Kn="max"in Rn?Rn.max:hn.userMax;(vn!==void 0&&vn!==gn.min||Kn!==void 0&&Kn!==gn.max)&&gn.setExtremes(vn??void 0,Kn??void 0,!0,!1)}}),Fe=((en=nt.exporting)==null?void 0:en.getChartHTML(Ce.styledMode||((Ft=Ve.exporting)==null?void 0:Ft.applyStyleSheets)))||"",He(Ce,"getSVG",{chartCopy:nt}),Fe=st.sanitizeSVG(Fe,Ve),Ve=void 0,nt.destroy(),vt(We),Fe}getSVGForExport(he,Ce){let Fe=this.options;return this.getSVG(et({chart:{borderRadius:0}},Fe.chartOptions,Ce,{exporting:{sourceWidth:(he==null?void 0:he.sourceWidth)||Fe.sourceWidth,sourceHeight:(he==null?void 0:he.sourceHeight)||Fe.sourceHeight}}))}inlineStyles(){var gt;let he,Ce=st.inlineDenylist,Fe=st.inlineAllowlist,Pe={},Ve=Ue("iframe",void 0,{width:"1px",height:"1px",visibility:"hidden"},Rt.body),We=(gt=Ve.contentWindow)==null?void 0:gt.document;We&&We.body.appendChild(We.createElementNS(_e,"svg")),function Pt(At){let Vt,Qt,nt,zt,Jt,Ft,en={};if(We&&At.nodeType===1&&st.unstyledElements.indexOf(At.nodeName)===-1){if(Vt=me.getComputedStyle(At,null),Qt=At.nodeName==="svg"?{}:me.getComputedStyle(At.parentNode,null),!Pe[At.nodeName]){he=We.getElementsByTagName("svg")[0],nt=We.createElementNS(At.namespaceURI,At.nodeName),he.appendChild(nt);let rn=me.getComputedStyle(nt,null),gn={};for(let hn in rn)hn.length<1e3&&typeof rn[hn]=="string"&&!/^\d+$/.test(hn)&&(gn[hn]=rn[hn]);Pe[At.nodeName]=gn,At.nodeName==="text"&&delete Pe.text.fill,he.removeChild(nt)}for(let rn in Vt)(ot||xe||le||Object.hasOwnProperty.call(Vt,rn))&&function(gn,hn){if(zt=Jt=!1,Fe.length){for(Ft=Fe.length;Ft--&&!Jt;)Jt=Fe[Ft].test(hn);zt=!Jt}for(hn==="transform"&&gn==="none"&&(zt=!0),Ft=Ce.length;Ft--&&!zt;){if(hn.length>1e3)throw Error("Input too long");zt=Ce[Ft].test(hn)||typeof gn=="function"}!zt&&(Qt[hn]!==gn||At.nodeName==="svg")&&Pe[At.nodeName][hn]!==gn&&(st.inlineToAttributes&&st.inlineToAttributes.indexOf(hn)===-1?en[hn]=gn:gn&&At.setAttribute(st.hyphenate(hn),gn))}(Vt[rn],rn);if(be(At,en),At.nodeName==="svg"&&At.setAttribute("stroke-width","1px"),At.nodeName==="text")return;[].forEach.call(At.children||At.childNodes,Pt)}}(this.chart.container.querySelector("svg")),he.parentNode.removeChild(he),Ve.parentNode.removeChild(Ve)}async localExport(he,Ce){var At,Vt,Qt;let Fe=this.chart,Pe,Ve,We=null,gt;if(xe&&Fe.styledMode&&!st.inlineAllowlist.length&&st.inlineAllowlist.push(/^blockSize/,/^border/,/^caretColor/,/^color/,/^columnRule/,/^columnRuleColor/,/^cssFloat/,/^cursor/,/^fill$/,/^fillOpacity/,/^font/,/^inlineSize/,/^length/,/^lineHeight/,/^opacity/,/^outline/,/^parentRule/,/^rx$/,/^ry$/,/^stroke/,/^textAlign/,/^textAnchor/,/^textDecoration/,/^transform/,/^vectorEffect/,/^visibility/,/^x$/,/^y$/),xe&&(he.type==="application/pdf"||Fe.container.getElementsByTagName("image").length&&he.type!=="image/svg+xml")||he.type==="application/pdf"&&[].some.call(Fe.container.getElementsByTagName("image"),function(nt){let zt=nt.getAttribute("href");return zt!==""&&typeof zt=="string"&&zt.indexOf("data:")!==0}))return void await this.fallbackToServer(he,Error("Image type not supported for this chart/browser."));let Pt=Ye(Fe,"getSVG",nt=>{Ve=nt.chartCopy.options,gt=(Pe=nt.chartCopy.container.cloneNode(!0))&&Pe.getElementsByTagName("image")||[]});try{let nt;for(let Ft of(this.getSVGForExport(he,Ce),gt?Array.from(gt):[]))if(We=Ft.getAttributeNS("http://www.w3.org/1999/xlink","href")){st.objectURLRevoke=!1;let en=await st.imageToDataURL(We,(he==null?void 0:he.scale)||1,(he==null?void 0:he.type)||"image/png");Ft.setAttributeNS("http://www.w3.org/1999/xlink","href",en)}else Ft.parentNode.removeChild(Ft);let zt=Pe==null?void 0:Pe.querySelector("svg");zt&&!((Qt=(Vt=(At=he.chartOptions)==null?void 0:At.chart)==null?void 0:Vt.style)!=null&&Qt.fontFamily)&&await st.inlineFonts(zt);let Jt=(nt=Pe==null?void 0:Pe.innerHTML,st.sanitizeSVG(nt||"",Ve));if(Jt.indexOf("<foreignObject")>-1&&he.type!=="image/svg+xml"&&(xe||he.type==="application/pdf"))throw Error("Image type not supported for charts with embedded HTML");return await this.downloadSVG(Jt,Se({filename:this.getFilename()},he)),Jt}catch(nt){await this.fallbackToServer(he,nt)}finally{Pt()}}moveContainers(he){let Ce=this.chart,{scrollablePlotArea:Fe}=Ce;(Fe?[Fe.fixedDiv,Fe.scrollingContainer]:[Ce.container]).forEach(function(Pe){he.appendChild(Pe)})}print(){let he=this.chart;this.isPrinting||(st.printingChart=he,le||this.beforePrint(),setTimeout(()=>{me.focus(),me.print(),le||setTimeout(()=>{var Ce;(Ce=he.exporting)==null||Ce.afterPrint()},1e3)},1))}render(){let he=this,{chart:Ce,options:Fe}=he,Pe=(he==null?void 0:he.isDirty)||!(he!=null&&he.svgElements.length);he.buttonOffset=0,he.isDirty&&he.destroy(),Pe&&Fe.enabled!==!1&&(he.events=[],he.group||(he.group=Ce.renderer.g("exporting-group").attr({zIndex:3}).add()),at(Fe==null?void 0:Fe.buttons,function(Ve){he.addButton(Ve)}),he.isDirty=!1)}resolveCSSVariables(){Array.from(this.chart.container.querySelectorAll("*")).forEach(he=>{["color","fill","stop-color","stroke"].forEach(Ce=>{var Ve;let Fe=he.getAttribute(Ce);Fe!=null&&Fe.includes("var(")&&he.setAttribute(Ce,getComputedStyle(he).getPropertyValue(Ce));let Pe=(Ve=he.style)==null?void 0:Ve[Ce];Pe!=null&&Pe.includes("var(")&&(he.style[Ce]=getComputedStyle(he).getPropertyValue(Ce))})})}update(he,Ce){this.isDirty=!0,et(!0,this.options,he),ht(Ce,!0)&&this.chart.redraw()}}st.inlineAllowlist=[],st.inlineDenylist=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/^parentRule$/,/^(cssRules|ownerRules)$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/,/^\d+$/],st.inlineToAttributes=["fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","textAnchor","x","y"],st.loadEventDeferDelay=150*!!xe,st.unstyledElements=["clipPath","defs","desc"],function(rt){function he(Pe){let Ve=Pe.exporting;Ve&&(Ve.render(),Ye(Pe,"redraw",function(){var We;(We=this.exporting)==null||We.render()}),Ye(Pe,"destroy",function(){var We;(We=this.exporting)==null||We.destroy()}))}function Ce(){let Pe=this;Pe.options.exporting&&(Pe.exporting=new rt(Pe,Pe.options.exporting),X.compose(Pe).navigation.addUpdate((Ve,We)=>{Pe.exporting&&(Pe.exporting.isDirty=!0,et(!0,Pe.options.navigation,Ve),ht(We,!0)&&Pe.redraw())}))}function Fe({alignTo:Pe,key:Ve,textPxLength:We}){var Jt,Ft,en;let gt=this.options.exporting,{align:Pt,buttonSpacing:At=0,verticalAlign:Vt,width:Qt=0}=et((Jt=this.options.navigation)==null?void 0:Jt.buttonOptions,(Ft=gt==null?void 0:gt.buttons)==null?void 0:Ft.contextButton),nt=Pe.width-We,zt=Qt+At;((gt==null?void 0:gt.enabled)??!0)&&Ve==="title"&&Pt==="right"&&Vt==="top"&&nt<2*zt&&(nt<zt?Pe.width-=zt:((en=this.title)==null?void 0:en.alignValue)!=="left"&&(Pe.x-=zt-nt/2))}rt.compose=function(Pe,Ve){U.compose(Ve),Ke.compose(Pe),Ee(mt,"Exporting")&&(Se(se().prototype,{exportChart:async function(We,gt){var Pt;await((Pt=this.exporting)==null?void 0:Pt.exportChart(We,gt))},getChartHTML:function(We){var gt;return(gt=this.exporting)==null?void 0:gt.getChartHTML(We)},getFilename:function(){var We;return(We=this.exporting)==null?void 0:We.getFilename()},getSVG:function(We){var gt;return(gt=this.exporting)==null?void 0:gt.getSVG(We)},print:function(){var We;return(We=this.exporting)==null?void 0:We.print()}}),Pe.prototype.callbacks.push(he),Ye(Pe,"afterInit",Ce),Ye(Pe,"layOutTitle",Fe),le&&me.matchMedia("print").addListener(function(We){var gt,Pt;rt.printingChart&&(We.matches?(gt=rt.printingChart.exporting)==null||gt.beforePrint():(Pt=rt.printingChart.exporting)==null||Pt.afterPrint())}),jt(H))}}(st||(st={}));let Ut=st,Lt=z();Lt.Exporting=Ut,Lt.HttpUtilities=Lt.HttpUtilities||ut,Lt.ajax=Lt.HttpUtilities.ajax,Lt.getJSON=Lt.HttpUtilities.getJSON,Lt.post=Lt.HttpUtilities.post,Ut.compose(Lt.Chart,Lt.Renderer);let lt=z();return I.default})())})(CP);var i$=CP.exports;const r$=gl(i$);var SP={exports:{}};(function(t,e){(function(n,i){t.exports=i(n._Highcharts,n._Highcharts.AST,n._Highcharts.Chart)})(typeof window>"u"?wc:window,(n,i,s)=>(()=>{var a,u={660:mt=>{mt.exports=i},944:mt=>{mt.exports=n},960:mt=>{mt.exports=s}},m={};function x(mt){var Rt=m[mt];if(Rt!==void 0)return Rt.exports;var ot=m[mt]={exports:{}};return u[mt](ot,ot.exports,x),ot.exports}x.n=mt=>{var Rt=mt&&mt.__esModule?()=>mt.default:()=>mt;return x.d(Rt,{a:Rt}),Rt},x.d=(mt,Rt)=>{for(var ot in Rt)x.o(Rt,ot)&&!x.o(mt,ot)&&Object.defineProperty(mt,ot,{enumerable:!0,get:Rt[ot]})},x.o=(mt,Rt)=>Object.prototype.hasOwnProperty.call(mt,Rt);var _={};x.d(_,{default:()=>Ot});var I=x(944),j=x.n(I);let{isSafari:z,win:J,win:{document:te}}=j(),{error:oe}=j(),se=J.URL||J.webkitURL||J;function X(mt){let Rt=mt.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([A-Z+\d\/]+)/i);if(Rt&&Rt.length>3&&J.atob&&J.ArrayBuffer&&J.Uint8Array&&J.Blob&&se.createObjectURL){let ot=J.atob(Rt[3]),xe=new J.ArrayBuffer(ot.length),le=new J.Uint8Array(xe);for(let _e=0;_e<le.length;++_e)le[_e]=ot.charCodeAt(_e);return se.createObjectURL(new J.Blob([le],{type:Rt[1]}))}}let L={dataURLtoBlob:X,downloadURL:function(mt,Rt){let ot=J.navigator,xe=te.createElement("a");if(typeof mt!="string"&&!(mt instanceof String)&&ot.msSaveOrOpenBlob)return void ot.msSaveOrOpenBlob(mt,Rt);if(mt=""+mt,ot.userAgent.length>1e3)throw Error("Input too long");let le=/Edge\/\d+/.test(ot.userAgent);if((z&&typeof mt=="string"&&mt.indexOf("data:application/pdf")===0||le||mt.length>2e6)&&!(mt=X(mt)||""))throw Error("Failed to convert to blob");if(xe.download!==void 0)xe.href=mt,xe.download=Rt,te.body.appendChild(xe),xe.click(),te.body.removeChild(xe);else try{if(!J.open(mt,"chart"))throw Error("Failed to open window")}catch{J.location.href=mt}}};var G=x(660),ne=x.n(G),ke=x(960),ge=x.n(ke);let K={exporting:{csv:{annotations:{itemDelimiter:"; ",join:!1},columnHeaderFormatter:null,dateFormat:"%Y-%m-%d %H:%M:%S",decimalPoint:null,itemDelimiter:null,lineDelimiter:`
`},menuItemDefinitions:{downloadCSV:{textKey:"downloadCSV",onclick:function(){var mt;(mt=this.exporting)==null||mt.downloadCSV()}},downloadXLS:{textKey:"downloadXLS",onclick:function(){var mt;(mt=this.exporting)==null||mt.downloadXLS()}},viewData:{textKey:"viewData",onclick:function(){var mt;(mt=this.exporting)==null||mt.wrapLoading(this.exporting.toggleDataTable)}}},showTable:!1,useMultiLevelHeaders:!0,useRowspanHeaders:!0,showExportInProgress:!0},lang:{downloadCSV:"Download CSV",downloadXLS:"Download XLS",exportData:{annotationHeader:"Annotations",categoryHeader:"Category",categoryDatetimeHeader:"DateTime"},viewData:"View data table",hideData:"Hide data table",exportInProgress:"Exporting..."}},{getOptions:M,setOptions:H}=j(),{downloadURL:U}=L,{composed:Y,doc:ae,win:ie}=j(),{addEvent:pt,defined:Mt,extend:Ke,find:ft,fireEvent:Re,isNumber:$e,pick:ut,pushUnique:_t}=j();(function(mt){function Rt(){this.wrapLoading(()=>{let He=this.getCSV(!0);U(xe(He,"text/csv")||"data:text/csv,\uFEFF"+encodeURIComponent(He),this.getFilename()+".csv")})}function ot(){this.wrapLoading(()=>{let He='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>Ark1</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--><style>td{border:none;font-family: Calibri, sans-serif;} .number{mso-number-format:"0.00";} .text{ mso-number-format:"@";}</style><meta name=ProgId content=Excel.Sheet><meta charset=UTF-8></head><body>'+this.getTable(!0)+"</body></html>";U(xe(He,"application/vnd.ms-excel")||"data:application/vnd.ms-excel;base64,"+ie.btoa(unescape(encodeURIComponent(He))),this.getFilename()+".xls")})}function xe(He,De){let et=ie.navigator,at=ie.URL||ie.webkitURL||ie;try{if(et.msSaveOrOpenBlob&&ie.MSBlobBuilder){let ht=new ie.MSBlobBuilder;return ht.append(He),ht.getBlob("image/svg+xml")}return at.createObjectURL(new ie.Blob(["\uFEFF"+He],{type:De}))}catch{}}function le(He){var pe;let De="",et=this.getDataRows(),at=(pe=this.options)==null?void 0:pe.csv,ht=ut(at==null?void 0:at.decimalPoint,(at==null?void 0:at.itemDelimiter)!==","&&He?1.1.toLocaleString()[1]:"."),Ee=ut(at==null?void 0:at.itemDelimiter,ht===","?";":","),ue=at==null?void 0:at.lineDelimiter;return et.forEach((Ae,Ze)=>{let st="",Ut=Ae.length;for(;Ut--;)typeof(st=Ae[Ut])=="string"&&(st=`"${st}"`),typeof st=="number"&&ht!=="."&&(st=st.toString().replace(".",ht)),Ae[Ut]=st;Ae.length=et.length?et[0].length:0,De+=Ae.join(Ee),Ze<et.length-1&&(De+=ue)}),De}function _e(He){var Qt;let De,et,at=this.chart,ht=at.hasParallelCoordinates,Ee=at.time,ue=((Qt=this.options)==null?void 0:Qt.csv)||{},pe=at.xAxis,Ae={},Ze=[],st=[],Ut=[],Lt=at.options.lang.exportData,lt=Lt==null?void 0:Lt.categoryHeader,rt=Lt==null?void 0:Lt.categoryDatetimeHeader,he=function(nt,zt,Jt){if(ue.columnHeaderFormatter){let Ft=ue.columnHeaderFormatter(nt,zt,Jt);if(Ft!==!1)return Ft}return!nt&&lt?lt:!nt.bindAxes&&rt&&lt?nt.options.title&&nt.options.title.text||(nt.dateTime?rt:lt):He?{columnTitle:((Jt||0)>1?zt:nt.name)||"",topLevelColumnTitle:nt.name}:nt.name+((Jt||0)>1?" ("+zt+")":"")},Ce=function(nt,zt,Jt){let Ft={},en={};return zt.forEach(function(rn){let gn=(nt.keyToAxis&&nt.keyToAxis[rn]||rn)+"Axis",hn=$e(Jt)?nt.chart[gn][Jt]:nt[gn];Ft[rn]=hn&&hn.categories||[],en[rn]=hn&&hn.dateTime}),{categoryMap:Ft,dateTimeValueAxisMap:en}},Fe=function(nt,zt){let Jt=nt.pointArrayMap||["y"];return nt.data.some(Ft=>Ft.y!==void 0&&Ft.name)&&zt&&!zt.categories&&nt.exportKey!=="name"?["x",...Jt]:Jt},Pe=[],Ve,We,gt,Pt=0,At,Vt;for(At in at.series.forEach(function(nt){var Kn;let zt=nt.options.keys,Jt=nt.xAxis,Ft=zt||Fe(nt,Jt),en=Ft.length,rn=!nt.requireSorting&&{},gn=pe.indexOf(Jt),hn=Ce(nt,Ft),Rn,vn;if(nt.options.includeInDataExport!==!1&&!nt.options.isInternal&&nt.visible!==!1){for(ft(Pe,function(ji){return ji[0]===gn})||Pe.push([gn,Pt]),vn=0;vn<en;)gt=he(nt,Ft[vn],Ft.length),Ut.push(gt.columnTitle||gt),He&&st.push(gt.topLevelColumnTitle||gt),vn++;Rn={chart:nt.chart,autoIncrement:nt.autoIncrement,options:nt.options,pointArrayMap:nt.pointArrayMap,index:nt.index},(Kn=nt.options.data)==null||Kn.forEach(function(ji,ar){let Pn,Te,Ie,ze={series:Rn};ht&&(hn=Ce(nt,Ft,ar)),nt.pointClass.prototype.applyOptions.apply(ze,[ji]);let Je=nt.data[ar]&&nt.data[ar].name;if(Pn=(ze.x??"")+","+Je,vn=0,(!Jt||nt.exportKey==="name"||!ht&&Jt&&Jt.hasNames&&Je)&&(Pn=Je),rn&&(rn[Pn]&&(Pn+="|"+ar),rn[Pn]=!0),Ae[Pn]){let xt=`${Pn},${Ae[Pn].pointers[nt.index]}`,Ct=Pn;Ae[Pn].pointers[nt.index]&&(Ae[xt]||(Ae[xt]=[],Ae[xt].xValues=[],Ae[xt].pointers=[]),Pn=xt),Ae[Ct].pointers[nt.index]+=1}else{Ae[Pn]=[],Ae[Pn].xValues=[];let xt=[];for(let Ct=0;Ct<nt.chart.series.length;Ct++)xt[Ct]=0;Ae[Pn].pointers=xt,Ae[Pn].pointers[nt.index]=1}for(Ae[Pn].x=ze.x,Ae[Pn].name=Je,Ae[Pn].xValues[gn]=ze.x;vn<en;)Te=Ft[vn],Ie=nt.pointClass.prototype.getNestedProperty.apply(ze,[Te]),Ae[Pn][Pt+vn]=ut(hn.categoryMap[Te][Ie],hn.dateTimeValueAxisMap[Te]?Ee.dateFormat(ue.dateFormat,Ie):null,Ie),vn++}),Pt+=vn}}),Ae)Object.hasOwnProperty.call(Ae,At)&&Ze.push(Ae[At]);for(We=He?[st,Ut]:[Ut],Pt=Pe.length;Pt--;)De=Pe[Pt][0],et=Pe[Pt][1],Ve=pe[De],Ze.sort(function(nt,zt){return nt.xValues[De]-zt.xValues[De]}),Vt=he(Ve),We[0].splice(et,0,Vt),He&&We[1]&&We[1].splice(et,0,Vt),Ze.forEach(function(nt){let zt=nt.name;Ve&&!Mt(zt)&&(Ve.dateTime?(nt.x instanceof Date&&(nt.x=nt.x.getTime()),zt=Ee.dateFormat(ue.dateFormat,nt.x)):zt=Ve.categories?ut(Ve.names[nt.x],Ve.categories[nt.x],nt.x):nt.x),nt.splice(et,0,zt)});return Re(at,"exportData",{dataRows:We=We.concat(Ze)}),We}function me(He){let De=et=>{if(!et.tagName||et.tagName==="#text")return et.textContent||"";let at=et.attributes,ht=`<${et.tagName}`;return at&&Object.keys(at).forEach(Ee=>{let ue=at[Ee];ht+=` ${Ee}="${ue}"`}),ht+=">",ht+=et.textContent||"",(et.children||[]).forEach(Ee=>{ht+=De(Ee)}),ht+=`</${et.tagName}>`};return De(this.getTableAST(He))}function Ye(He){var Ce;let De=0,et=[],at=this,ht=at.chart,Ee=ht.options,ue=He?1.1.toLocaleString()[1]:".",pe=ut(at.options.useMultiLevelHeaders,!0),Ae=at.getDataRows(pe),Ze=pe?Ae.shift():null,st=Ae.shift(),Ut=function(Fe,Pe){let Ve=Fe.length;if(Pe.length!==Ve)return!1;for(;Ve--;)if(Fe[Ve]!==Pe[Ve])return!1;return!0},Lt=function(Fe,Pe,Ve,We){let gt=ut(We,""),Pt="highcharts-text"+(Pe?" "+Pe:"");return typeof gt=="number"?(gt=ht.numberFormatter(gt,-1,ue,Fe==="th"?"":void 0),Pt="highcharts-number"):We||(Pt="highcharts-empty"),{tagName:Fe,attributes:Ve=Ke({class:Pt},Ve),textContent:gt}},{tableCaption:lt}=at.options||{};lt!==!1&&et.push({tagName:"caption",attributes:{class:"highcharts-table-caption"},textContent:typeof lt=="string"?lt:((Ce=Ee.title)==null?void 0:Ce.text)||Ee.lang.chartTitle});for(let Fe=0,Pe=Ae.length;Fe<Pe;++Fe)Ae[Fe].length>De&&(De=Ae[Fe].length);et.push(function(Fe,Pe,Ve){let We=[],gt=0,Pt=Ve||Pe&&Pe.length,At,Vt=0,Qt;if(pe&&Fe&&Pe&&!Ut(Fe,Pe)){let nt=[];for(;gt<Pt;++gt)if((At=Fe[gt])===Fe[gt+1])++Vt;else if(Vt)nt.push(Lt("th","highcharts-table-topheading",{scope:"col",colspan:Vt+1},At)),Vt=0;else{At===Pe[gt]?at.options.useRowspanHeaders?(Qt=2,delete Pe[gt]):(Qt=1,Pe[gt]=""):Qt=1;let zt=Lt("th","highcharts-table-topheading",{scope:"col"},At);Qt>1&&zt.attributes&&(zt.attributes.valign="top",zt.attributes.rowspan=Qt),nt.push(zt)}We.push({tagName:"tr",children:nt})}if(Pe){let nt=[];for(gt=0,Pt=Pe.length;gt<Pt;++gt)Pe[gt]!==void 0&&nt.push(Lt("th",null,{scope:"col"},Pe[gt]));We.push({tagName:"tr",children:nt})}return{tagName:"thead",children:We}}(Ze,st||[],Math.max(De,(st==null?void 0:st.length)||0)));let rt=[];Ae.forEach(function(Fe){let Pe=[];for(let Ve=0;Ve<De;Ve++)Pe.push(Lt(Ve?"td":"th",null,Ve?{}:{scope:"row"},Fe[Ve]));rt.push({tagName:"tr",children:Pe})}),et.push({tagName:"tbody",children:rt});let he={tree:{tagName:"table",id:`highcharts-data-table-${ht.index}`,children:et}};return Re(ht,"afterGetTableAST",he),he.tree}function je(){this.toggleDataTable(!1)}function Ue(He){var pe;let De=this.chart,et=(He=ut(He,!this.isDataTableVisible))&&!this.dataTableDiv;if(et&&(this.dataTableDiv=ae.createElement("div"),this.dataTableDiv.className="highcharts-data-table",De.renderTo.parentNode.insertBefore(this.dataTableDiv,De.renderTo.nextSibling)),this.dataTableDiv){let Ae=this.dataTableDiv.style,Ze=Ae.display;Ae.display=He?"block":"none",He?(this.dataTableDiv.innerHTML=ne().emptyHTML,new(ne())([this.getTableAST()]).addToDOM(this.dataTableDiv),Re(De,"afterViewData",{element:this.dataTableDiv,wasHidden:et||Ze!==Ae.display})):Re(De,"afterHideData")}this.isDataTableVisible=He;let at=this.divElements,ht=this.options,Ee=(pe=ht.buttons)==null?void 0:pe.contextButton.menuItems,ue=De.options.lang;if(ht&&ht.menuItemDefinitions&&ue&&ue.viewData&&ue.hideData&&Ee&&at){let Ae=at[Ee.indexOf("viewData")];Ae&&ne().setElementHTML(Ae,this.isDataTableVisible?ue.hideData:ue.viewData)}}function be(){this.toggleDataTable(!0)}function vt(He){let De=this.chart,et=!!this.options.showExportInProgress,at=ie.requestAnimationFrame||setTimeout;at(()=>{et&&De.showLoading(De.options.lang.exportInProgress),at(()=>{try{He.call(this)}finally{et&&De.hideLoading()}})})}function Tt(){let He=this.exporting,De=He==null?void 0:He.dataTableDiv,et=(ht,Ee)=>ht.children[Ee].textContent,at=(ht,Ee)=>(ue,pe)=>{let Ae,Ze;return Ae=et(Ee?ue:pe,ht),Ze=et(Ee?pe:ue,ht),Ae===""||Ze===""||isNaN(Ae)||isNaN(Ze)?Ae.toString().localeCompare(Ze):Ae-Ze};if(De&&He.options.allowTableSorting){let ht=De.querySelector("thead tr");ht&&ht.childNodes.forEach(Ee=>{let ue=De.querySelector("tbody");Ee.addEventListener("click",function(){let pe=[...De.querySelectorAll("tr:not(thead tr)")],Ae=[...Ee.parentNode.children];He&&(pe.sort(at(Ae.indexOf(Ee),He.ascendingOrderInTable=!He.ascendingOrderInTable)).forEach(Ze=>{ue==null||ue.appendChild(Ze)}),Ae.forEach(Ze=>{["highcharts-sort-ascending","highcharts-sort-descending"].forEach(st=>{Ze.classList.contains(st)&&Ze.classList.remove(st)})}),Ee.classList.add(He.ascendingOrderInTable?"highcharts-sort-ascending":"highcharts-sort-descending"))})})}}function Se(){var He,De,et;(De=(He=this.options)==null?void 0:He.exporting)!=null&&De.showTable&&!this.options.chart.forExport&&((et=this.exporting)==null||et.viewData())}function Me(){var He,De;(De=(He=this.exporting)==null?void 0:He.dataTableDiv)==null||De.remove()}mt.compose=function(He,De,et){var ht,Ee,ue;if(!_t(Y,"ExportData"))return;Ke(ge().prototype,{downloadCSV:function(){var pe;return(pe=this.exporting)==null?void 0:pe.downloadCSV()},downloadXLS:function(){var pe;return(pe=this.exporting)==null?void 0:pe.downloadXLS()},getCSV:function(pe){var Ae;return(Ae=this.exporting)==null?void 0:Ae.getCSV(pe)},getDataRows:function(pe){var Ae;return(Ae=this.exporting)==null?void 0:Ae.getDataRows(pe)},getTable:function(pe){var Ae;return(Ae=this.exporting)==null?void 0:Ae.getTable(pe)},getTableAST:function(pe){var Ae;return(Ae=this.exporting)==null?void 0:Ae.getTableAST(pe)},hideData:function(){var pe;return(pe=this.exporting)==null?void 0:pe.hideData()},toggleDataTable:function(pe){var Ae;return(Ae=this.exporting)==null?void 0:Ae.toggleDataTable(pe)},viewData:function(){var pe;return(pe=this.exporting)==null?void 0:pe.viewData()}});let at=De.prototype;if(!at.downloadCSV){pt(He,"afterViewData",Tt),pt(He,"render",Se),pt(He,"destroy",Me),at.downloadCSV=Rt,at.downloadXLS=ot,at.getCSV=le,at.getDataRows=_e,at.getTable=me,at.getTableAST=Ye,at.hideData=je,at.toggleDataTable=Ue,at.wrapLoading=vt,at.viewData=be,H(K);let pe=(ue=(Ee=(ht=M().exporting)==null?void 0:ht.buttons)==null?void 0:Ee.contextButton)==null?void 0:ue.menuItems;pe&&pe.push("separator","downloadCSV","downloadXLS","viewData");let{arearange:Ae,gantt:Ze,map:st,mapbubble:Ut,treemap:Lt,xrange:lt}=et.types;Ae&&(Ae.prototype.keyToAxis={low:"y",high:"y"}),Ze&&(Ze.prototype.exportKey="name",Ze.prototype.keyToAxis={start:"x",end:"x"}),st&&(st.prototype.exportKey="name"),Ut&&(Ut.prototype.exportKey="name"),Lt&&(Lt.prototype.exportKey="name"),lt&&(lt.prototype.keyToAxis={x2:"x"})}}})(a||(a={}));let jt=a,kt=j();kt.dataURLtoBlob=kt.dataURLtoBlob||L.dataURLtoBlob,kt.downloadURL=kt.downloadURL||L.downloadURL,jt.compose(kt.Chart,kt.Exporting,kt.Series);let Ot=j();return _.default})())})(SP);var s$=SP.exports;const o$=gl(s$);var AP={exports:{}};(function(t,e){(function(n,i){t.exports=i(n._Highcharts,n._Highcharts.Templating,n._Highcharts.AST,n._Highcharts.Legend,n._Highcharts.Axis,n._Highcharts.Color,n._Highcharts.SeriesRegistry,n._Highcharts.RendererRegistry,n._Highcharts.SVGRenderer,n._Highcharts.Point,n._Highcharts.Series)})(typeof window>"u"?wc:window,(n,i,s,a,u,m,x,_,I,j,z)=>(()=>{let J;var te,oe,se,X,L={260:C=>{C.exports=j},512:C=>{C.exports=x},532:C=>{C.exports=u},540:C=>{C.exports=I},608:C=>{C.exports=_},620:C=>{C.exports=m},632:C=>{C.exports=a},660:C=>{C.exports=s},820:C=>{C.exports=z},944:C=>{C.exports=n},984:C=>{C.exports=i}},G={};function ne(C){var y=G[C];if(y!==void 0)return y.exports;var k=G[C]={exports:{}};return L[C](k,k.exports,ne),k.exports}ne.n=C=>{var y=C&&C.__esModule?()=>C.default:()=>C;return ne.d(y,{a:y}),y},ne.d=(C,y)=>{for(var k in y)ne.o(y,k)&&!ne.o(C,k)&&Object.defineProperty(C,k,{enumerable:!0,get:y[k]})},ne.o=(C,y)=>Object.prototype.hasOwnProperty.call(C,y);var ke={};ne.d(ke,{default:()=>Gh});var ge=ne(944),K=ne.n(ge);let{doc:M,win:H}=K(),{css:U}=K(),Y=H.EventTarget&&new H.EventTarget||"none";function ae(C){if(typeof H.MouseEvent=="function")return new H.MouseEvent(C.type,C);if(M!=null&&M.createEvent){let y=M.createEvent("MouseEvent");if(y.initMouseEvent)return y.initMouseEvent(C.type,C.bubbles,C.cancelable,C.view||H,C.detail,C.screenX,C.screenY,C.clientX,C.clientY,C.ctrlKey,C.altKey,C.shiftKey,C.metaKey,C.button,C.relatedTarget),y}return ie(C.type)}function ie(C,y,k){let S=y||{x:0,y:0};if(typeof H.MouseEvent=="function")return new H.MouseEvent(C,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:k||Y,view:H,detail:+(C==="click"),screenX:S.x,screenY:S.y,clientX:S.x,clientY:S.y});if(M!=null&&M.createEvent){let R=M.createEvent("MouseEvent");if(R.initMouseEvent)return R.initMouseEvent(C,!0,!0,H,+(C==="click"),S.x,S.y,S.x,S.y,!1,!1,!1,!1,0,null),R}return{type:C}}let pt={addClass:function(C,y){C.classList?C.classList.add(y):0>C.className.indexOf(y)&&(C.className+=" "+y)},cloneMouseEvent:ae,cloneTouchEvent:function(C){let y=S=>{let R=[];for(let W=0;W<S.length;++W){let F=S.item(W);F&&R.push(F)}return R};if(typeof H.TouchEvent=="function"){let S=new H.TouchEvent(C.type,{touches:y(C.touches),targetTouches:y(C.targetTouches),changedTouches:y(C.changedTouches),ctrlKey:C.ctrlKey,shiftKey:C.shiftKey,altKey:C.altKey,metaKey:C.metaKey,bubbles:C.bubbles,cancelable:C.cancelable,composed:C.composed,detail:C.detail,view:C.view});return C.defaultPrevented&&S.preventDefault(),S}let k=ae(C);return k.touches=C.touches,k.changedTouches=C.changedTouches,k.targetTouches=C.targetTouches,k},escapeStringForHTML:function(C){return C.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(C){return M.getElementById(C)},getFakeMouseEvent:ie,getHeadingTagNameForElement:function(C){let y=W=>"h"+Math.min(6,parseInt(W.slice(1),10)+1),k=W=>/^H[1-6]$/i.test(W),S=W=>{let F=W;for(;F=F.previousSibling;){let Z=F.tagName||"";if(k(Z))return Z}return""},R=W=>{let F=S(W);if(F)return y(F);let Z=W.parentElement;if(!Z)return"h6";let ce=Z.tagName;return k(ce)?y(ce):R(Z)};return R(C)},removeChildNodes:function(C){for(;C.lastChild;)C.removeChild(C.lastChild)},removeClass:function(C,y){C.classList?C.classList.remove(y):C.className=C.className.replace(RegExp(y,"g"),"")},removeElement:function(C){C&&C.parentNode&&C.parentNode.removeChild(C)},reverseChildNodes:function(C){let y=C.childNodes.length;for(;y--;)C.appendChild(C.childNodes[y])},simulatedEventTarget:Y,stripHTMLTagsFromString:function(C,y=!1){return typeof C=="string"?y?C.replace(/<\/?[^>]+(>|$)/g,""):C.replace(/<\/?(?!\s)[^>]+(>|$)/g,""):C},visuallyHideElement:function(C){U(C,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}};var Mt=ne(984),Ke=ne.n(Mt);let{format:ft}=Ke(),{getNestedProperty:Re,pick:$e}=K();(function(C){function y(S,R,W){let F=(qe,Xe)=>{let tt=qe.slice(Xe||0),Qe=tt.indexOf("{"),bt=tt.indexOf("}");if(Qe>-1&&bt>Qe)return{statement:tt.substring(Qe+1,bt),begin:Xe+Qe+1,end:Xe+bt}},Z=[],ce,de,ye=0;do ce=F(S,ye),(de=S.substring(ye,ce&&ce.begin-1)).length&&Z.push({value:de,type:"constant"}),ce&&Z.push({value:ce.statement,type:"statement"}),ye=ce?ce.end+1:ye+1;while(ce);return Z.forEach(qe=>{qe.type==="statement"&&(qe.value=function(Xe,tt){let Qe,bt,Gt=Xe.indexOf("#each("),Kt=Xe.indexOf("#plural("),an=Xe.indexOf("["),xn=Xe.indexOf("]");if(Gt>-1){let Zt=Xe.slice(Gt).indexOf(")")+Gt,yn=Xe.substring(0,Gt),wn=Xe.substring(Zt+1),li=Xe.substring(Gt+6,Zt).split(","),Dn=Number(li[1]),ci;if(bt="",Qe=Re(li[0],tt)){ci=(Dn=isNaN(Dn)?Qe.length:Dn)<0?Qe.length+Dn:Math.min(Dn,Qe.length);for(let Ms=0;Ms<ci;++Ms)bt+=yn+Qe[Ms]+wn}return bt.length?bt:""}if(Kt>-1){var nn;let Zt=Xe.slice(Kt).indexOf(")")+Kt,yn=Xe.substring(Kt+8,Zt).split(",");switch(Number(Re(yn[0],tt))){case 0:bt=$e(yn[4],yn[1]);break;case 1:bt=$e(yn[2],yn[1]);break;case 2:bt=$e(yn[3],yn[1]);break;default:bt=yn[1]}return bt?(nn=bt).trim&&nn.trim()||nn.replace(/^\s+|\s+$/g,""):""}if(an>-1){let Zt,yn=Xe.substring(0,an),wn=Number(Xe.substring(an+1,xn));return Qe=Re(yn,tt),!isNaN(wn)&&Qe&&(wn<0?(Zt=Qe[Qe.length+wn])===void 0&&(Zt=Qe[0]):(Zt=Qe[wn])===void 0&&(Zt=Qe[Qe.length-1])),Zt!==void 0?Zt:""}return"{"+Xe+"}"}(qe.value,R))}),ft(Z.reduce((qe,Xe)=>qe+Xe.value,""),R,W)}function k(S,R){let W=S.split("."),F=this.options.lang,Z=0;for(;Z<W.length;++Z)F=F&&F[W[Z]];return typeof F=="string"?y(F,R,this):""}C.compose=function(S){let R=S.prototype;R.langFormat||(R.langFormat=k)},C.i18nFormat=y})(te||(te={}));let ut=te,{doc:_t}=K(),{stripHTMLTagsFromString:jt}=pt,{defined:kt,find:Ot,fireEvent:mt}=K();function Rt(C){if(C.points&&C.points.length){let y=Ot(C.points,k=>!!k.graphic);return y&&y.graphic&&y.graphic.element}}function ot(C){let y=Rt(C);return y&&y.parentNode||C.graph&&C.graph.element||C.group&&C.group.element}let xe={fireEventOnWrappedOrUnwrappedElement:function C(y,k){let S=k.type,R=y.hcEvents;_t!=null&&_t.createEvent&&(y.dispatchEvent||y.fireEvent)?y.dispatchEvent?y.dispatchEvent(k):y.fireEvent(S,k):R&&R[S]?mt(y,S,k):y.element&&C(y.element,k)},getChartTitle:function(C){return jt(C.options.title.text||C.langFormat("accessibility.defaultChartTitle",{chart:C}),C.renderer.forExport)},getAxisDescription:function(C){var y,k;return C&&(((y=C.options.accessibility)==null?void 0:y.description)||((k=C.axisTitle)==null?void 0:k.textStr)||C.options.id||C.categories&&"categories"||C.dateTime&&"Time"||"values")},getAxisRangeDescription:function(C){let y=C.options||{};return y.accessibility&&y.accessibility.rangeDescription!==void 0?y.accessibility.rangeDescription:C.categories?function(k){let S=k.chart;return k.dataMax&&k.dataMin?S.langFormat("accessibility.axis.rangeCategories",{chart:S,axis:k,numCategories:k.dataMax-k.dataMin+1}):""}(C):C.dateTime&&(C.min===0||C.dataMin===0)?function(k){let S=k.chart,R={},W=k.dataMin||k.min||0,F=k.dataMax||k.max||0,Z="Seconds";R.Seconds=(F-W)/1e3,R.Minutes=R.Seconds/60,R.Hours=R.Minutes/60,R.Days=R.Hours/24,["Minutes","Hours","Days"].forEach(function(de){R[de]>2&&(Z=de)});let ce=R[Z].toFixed(+(Z!=="Seconds"&&Z!=="Minutes"));return S.langFormat("accessibility.axis.timeRange"+Z,{chart:S,axis:k,range:ce.replace(".0","")})}(C):function(k){let S=k.chart,R=S.options,W=R&&R.accessibility&&R.accessibility.screenReaderSection.axisRangeDateFormat||"",F={min:k.dataMin||k.min||0,max:k.dataMax||k.max||0},Z=function(ce){return k.dateTime?S.time.dateFormat(W,F[ce]):F[ce].toString()};return S.langFormat("accessibility.axis.rangeFromTo",{chart:S,axis:k,rangeFrom:Z("min"),rangeTo:Z("max")})}(C)},getPointFromXY:function(C,y,k){let S=C.length,R;for(;S--;)if(R=Ot(C[S].points||[],function(W){return W.x===y&&W.y===k}))return R},getSeriesFirstPointElement:Rt,getSeriesFromName:function(C,y){return y?(C.series||[]).filter(function(k){return k.name===y}):C.series},getSeriesA11yElement:ot,unhideChartElementFromAT:function C(y,k){k.setAttribute("aria-hidden",!1),k!==y.renderTo&&k.parentNode&&k.parentNode!==_t.body&&(Array.prototype.forEach.call(k.parentNode.childNodes,function(S){S.hasAttribute("aria-hidden")||S.setAttribute("aria-hidden",!0)}),C(y,k.parentNode))},hideSeriesFromAT:function(C){let y=ot(C);y&&y.setAttribute("aria-hidden",!0)},scrollAxisToPoint:function(C){let y=C.series.xAxis,k=C.series.yAxis,S=y&&y.scrollbar?y:k,R=S&&S.scrollbar;if(R&&kt(R.to)&&kt(R.from)){let W=R.to-R.from,F=function(Z,ce){if(!kt(Z.dataMin)||!kt(Z.dataMax))return 0;let de=Z.toPixels(Z.dataMin),ye=Z.toPixels(Z.dataMax),qe=Z.coll==="xAxis"?"x":"y";return(Z.toPixels(ce[qe]||0)-de)/(ye-de)}(S,C);R.updatePosition(F-W/2,F+W/2),mt(R,"changed",{from:R.from,to:R.to,trigger:"scrollbar",DOMEvent:null})}}},{doc:le}=K(),{removeElement:_e}=pt,me=class{constructor(){this.elements=[]}createElement(){let C=le.createElement.apply(le,arguments);return this.elements.push(C),C}removeElement(C){_e(C),this.elements.splice(this.elements.indexOf(C),1)}destroyCreatedElements(){this.elements.forEach(function(C){_e(C)}),this.elements=[]}},{addEvent:Ye}=K(),je=class{constructor(){this.eventRemovers=[]}addEvent(){let C=Ye.apply(K(),arguments);return this.eventRemovers.push({element:arguments[0],remover:C}),C}removeEvent(C){let y=this.eventRemovers.map(k=>k.remover).indexOf(C);this.eventRemovers[y].remover(),this.eventRemovers.splice(y,1)}removeAddedEvents(){this.eventRemovers.map(C=>C.remover).forEach(C=>C()),this.eventRemovers=[]}},{fireEventOnWrappedOrUnwrappedElement:Ue}=xe,{getFakeMouseEvent:be}=pt,vt=class{destroy(){}getKeyboardNavigation(){return[]}init(){}onChartRender(){}onChartUpdate(){}initBase(C,y){this.chart=C,this.eventProvider=new je,this.domElementProvider=new me,this.proxyProvider=y,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}}addEvent(C,y,k,S){return this.eventProvider.addEvent(C,y,k,S)}createElement(C,y){return this.domElementProvider.createElement(C,y)}fakeClickEvent(C){Ue(C,be("click"))}destroyBase(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()}},{find:Tt}=K(),Se=class{constructor(C,y){this.chart=C,this.keyCodeMap=y.keyCodeMap||[],this.validate=y.validate,this.init=y.init,this.terminate=y.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}run(C){let y=C.which||C.keyCode,k=this.response.noHandler,S=Tt(this.keyCodeMap,function(R){return R[0].indexOf(y)>-1});return S?k=S[1].call(this,y,C):y===9&&(k=this.response[C.shiftKey?"prev":"next"]),k}},{unhideChartElementFromAT:Me,getChartTitle:He}=xe,{doc:De}=K(),{stripHTMLTagsFromString:et}=pt,at=class extends vt{onChartUpdate(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()}handleSVGTitleElement(){let C=this.chart,y="highcharts-title-"+C.index,k=et(C.langFormat("accessibility.svgContainerTitle",{chartTitle:He(C)}));if(k.length){let S=this.svgTitleElement=this.svgTitleElement||De.createElementNS("http://www.w3.org/2000/svg","title");S.textContent=k,S.id=y,C.renderTo.insertBefore(S,C.renderTo.firstChild)}}setSVGContainerLabel(){let C=this.chart,y=C.langFormat("accessibility.svgContainerLabel",{chartTitle:He(C)});C.renderer.box&&y.length&&C.renderer.box.setAttribute("aria-label",y)}setGraphicContainerAttrs(){let C=this.chart,y=C.langFormat("accessibility.graphicContainerLabel",{chartTitle:He(C)});y.length&&C.container.setAttribute("aria-label",y)}setRenderToAttrs(){let C=this.chart,y=C.options.accessibility.landmarkVerbosity!=="disabled",k=C.langFormat("accessibility.chartContainerLabel",{title:He(C),chart:C});k&&(C.renderTo.setAttribute("role",y?"region":"group"),C.renderTo.setAttribute("aria-label",k))}makeCreditsAccessible(){let C=this.chart,y=C.credits;y&&(y.textStr&&y.element.setAttribute("aria-label",C.langFormat("accessibility.credits",{creditsStr:et(y.textStr,C.renderer.forExport)})),Me(C,y.element))}getKeyboardNavigation(){let C=this.chart;return new Se(C,{keyCodeMap:[],validate:function(){return!0},init:function(){let y=C.accessibility;y&&y.keyboardNavigation.tabindexContainer.focus()}})}destroy(){this.chart.renderTo.setAttribute("aria-hidden",!0)}},{addEvent:ht,pick:Ee}=K();(function(C){let y=["x","y","transform","width","height","r","d","stroke-width"];function k(){let F=this.focusElement,Z=this.options.accessibility.keyboardNavigation.focusBorder;F&&(F.removeFocusBorder(),Z.enabled&&F.addFocusBorder(Z.margin,{stroke:Z.style.color,strokeWidth:Z.style.lineWidth,r:Z.style.borderRadius}))}function S(F,Z){let ce=this.options.accessibility.keyboardNavigation.focusBorder,de=Z||F.element;de&&de.focus&&(de.hcEvents&&de.hcEvents.focusin||ht(de,"focusin",function(){}),de.focus(),ce.hideBrowserFocusOutline&&(de.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=F,ht(this,"endResize",function(){this.renderFocusBorder()}),this.renderFocusBorder()}function R(F,Z){this.focusBorder&&this.removeFocusBorder();let ce=this.getBBox(),de=Ee(F,3),ye=this.parentGroup,qe=this.scaleX||ye&&ye.scaleX,Xe=this.scaleY||ye&&ye.scaleY,tt=(qe?!Xe:Xe)?Math.abs(qe||Xe||1):(Math.abs(qe||1)+Math.abs(Xe||1))/2,Qe=this.renderer.fontMetrics(this).h;ce.x+=this.translateX?this.translateX:0,ce.y+=this.translateY?this.translateY:0;let bt=ce.x-de,Gt=ce.y-de,Kt=ce.width+2*de,an=ce.height+2*de,xn=!!this.text;if(this.element.nodeName==="text"||xn){let nn,Zt,yn=!!this.rotation,wn=xn?{x:+!!yn,y:0}:(nn=0,Zt=0,this.attr("text-anchor")==="middle"?nn=Zt=.5:this.rotation?nn=.25:Zt=.75,{x:nn,y:Zt}),li=+this.attr("x"),Dn=+this.attr("y");if(isNaN(li)||(bt=li-ce.width*wn.x-de),isNaN(Dn)||(Gt=Dn-(this.attr("text-anchor")==="start"?Qe:ce.height)*wn.y-de),xn&&yn){let ci=Kt;Kt=an,an=ci,isNaN(li)||(bt=li-ce.height*wn.x-de),isNaN(Dn)||(Gt=Dn-ce.width*wn.y-de)}}this.focusBorder=this.renderer.rect(bt,Gt,Kt,an,parseInt((Z&&Z.r||0).toString(),10)/tt).addClass("highcharts-focus-border").attr({zIndex:99}).add(ye),this.renderer.styledMode||this.focusBorder.attr({stroke:Z&&Z.stroke,"stroke-width":(Z&&Z.strokeWidth||0)/tt}),function(nn,...Zt){nn.focusBorderUpdateHooks||(nn.focusBorderUpdateHooks={},y.forEach(yn=>{let wn=yn+"Setter",li=nn[wn]||nn._defaultSetter;nn.focusBorderUpdateHooks[wn]=li,nn[wn]=function(){let Dn=li.apply(nn,arguments);return nn.addFocusBorder.apply(nn,Zt),Dn}}))}(this,F,Z),function(nn){if(nn.focusBorderDestroyHook)return;let Zt=nn.destroy;nn.destroy=function(){return nn.focusBorder&&nn.focusBorder.destroy&&nn.focusBorder.destroy(),Zt.apply(nn,arguments)},nn.focusBorderDestroyHook=Zt}(this)}function W(){var F;F=this,F.focusBorderUpdateHooks&&(Object.keys(F.focusBorderUpdateHooks).forEach(Z=>{let ce=F.focusBorderUpdateHooks[Z];ce===F._defaultSetter?delete F[Z]:F[Z]=ce}),delete F.focusBorderUpdateHooks),this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}C.compose=function(F,Z){let ce=F.prototype,de=Z.prototype;ce.renderFocusBorder||(ce.renderFocusBorder=k,ce.setFocusToElement=S),de.addFocusBorder||(de.addFocusBorder=R,de.removeFocusBorder=W)}})(oe||(oe={}));let ue=oe;var pe=ne(660),Ae=ne.n(pe);let{doc:Ze}=K(),{addClass:st,visuallyHideElement:Ut}=pt,{attr:Lt}=K(),lt=class{constructor(C,y){this.chart=C,this.domElementProvider=new me,this.announceRegion=this.addAnnounceRegion(y)}destroy(){this.domElementProvider.destroyCreatedElements()}announce(C){Ae().setElementHTML(this.announceRegion,C),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(()=>{this.announceRegion.innerHTML=Ae().emptyHTML,delete this.clearAnnouncementRegionTimer},3e3)}addAnnounceRegion(C){let y=this.chart.announcerContainer||this.createAnnouncerContainer(),k=this.domElementProvider.createElement("div");return Lt(k,{"aria-hidden":!1,"aria-live":C,"aria-atomic":!0}),this.chart.styledMode?st(k,"highcharts-visually-hidden"):Ut(k),y.appendChild(k),k}createAnnouncerContainer(){let C=this.chart,y=Ze.createElement("div");return Lt(y,{"aria-hidden":!1,class:"highcharts-announcer-container"}),y.style.position="relative",C.renderTo.insertBefore(y,C.renderTo.firstChild),C.announcerContainer=y,y}},{escapeStringForHTML:rt,stripHTMLTagsFromString:he}=pt;function Ce(C){return(C.annotations||[]).reduce((y,k)=>(k.options&&k.options.visible!==!1&&(y=y.concat(k.labels)),y),[])}function Fe(C){return C.options&&C.options.accessibility&&C.options.accessibility.description||C.graphic&&C.graphic.text&&C.graphic.text.textStr||""}function Pe(C){let y=C.options&&C.options.accessibility&&C.options.accessibility.description;if(y)return y;let k=C.chart,S=Fe(C),R=C.points,W=ye=>ye.graphic&&ye.graphic.element&&ye.graphic.element.getAttribute("aria-label")||"",F=R.filter(ye=>!!ye.graphic).map(ye=>{let qe=ye.accessibility&&ye.accessibility.valueDescription||W(ye),Xe=ye&&ye.series.name||"";return(Xe?Xe+", ":"")+"data point "+qe}).filter(ye=>!!ye),Z=F.length,ce=Z>1?"MultiplePoints":Z?"SinglePoint":"NoPoints",de={annotationText:S,annotation:C,numPoints:Z,annotationPoint:F[0],additionalAnnotationPoints:F.slice(1)};return k.langFormat("accessibility.screenReaderSection.annotations.description"+ce,de)}function Ve(C){return Ce(C).map(y=>{let k=rt(he(Pe(y),C.renderer.forExport));return k?`<li>${k}</li>`:""})}let We={getAnnotationsInfoHTML:function(C){let y=C.annotations;return y&&y.length?`<ul style="list-style-type: none">${Ve(C).join(" ")}</ul>`:""},getPointAnnotationTexts:function(C){let y=Ce(C.series.chart).filter(k=>k.points.indexOf(C)>-1);return y.length?y.map(k=>`${Fe(k)}`):[]}},{getAnnotationsInfoHTML:gt}=We,{getAxisDescription:Pt,getAxisRangeDescription:At,getChartTitle:Vt,unhideChartElementFromAT:Qt}=xe,{format:nt}=Ke(),{doc:zt}=K(),{addClass:Jt,getElement:Ft,getHeadingTagNameForElement:en,stripHTMLTagsFromString:rn,visuallyHideElement:gn}=pt,{attr:hn,pick:Rn,replaceNested:vn}=K();function Kn(C){return vn(C,[/<([\w\-.:!]+)\b[^<>]*>\s*<\/\1>/g,""])}let ji=class extends vt{constructor(){super(...arguments),this.screenReaderSections={}}init(){let C=this.chart,y=this;this.initRegionsDefinitions(),this.addEvent(C,"afterGetTableAST",function(k){y.onDataTableCreated(k)}),this.addEvent(C,"afterViewData",function(k){k.wasHidden&&(y.dataTableDiv=k.element,setTimeout(function(){y.focusDataTable()},300))}),this.addEvent(C,"afterHideData",function(){y.viewDataTableButton&&y.viewDataTableButton.setAttribute("aria-expanded","false")}),C.exporting&&this.addEvent(C,"afterPrint",function(){y.updateAllScreenReaderSections()}),this.announcer=new lt(C,"assertive")}initRegionsDefinitions(){let C=this,y=this.chart.options.accessibility;this.screenReaderSections={before:{element:null,buildContent:function(k){let S=y.screenReaderSection.beforeChartFormatter;return S?S(k):C.defaultBeforeChartFormatter(k)},insertIntoDOM:function(k,S){S.renderTo.insertBefore(k,S.renderTo.firstChild)},afterInserted:function(){C.sonifyButtonId!==void 0&&C.initSonifyButton(C.sonifyButtonId),C.dataTableButtonId!==void 0&&C.initDataTableButton(C.dataTableButtonId)}},after:{element:null,buildContent:function(k){let S=y.screenReaderSection.afterChartFormatter;return S?S(k):C.defaultAfterChartFormatter()},insertIntoDOM:function(k,S){S.renderTo.insertBefore(k,S.container.nextSibling)},afterInserted:function(){C.chart.accessibility&&y.keyboardNavigation.enabled&&C.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}}onChartRender(){this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),this.updateAllScreenReaderSections()}updateAllScreenReaderSections(){let C=this;Object.keys(this.screenReaderSections).forEach(function(y){C.updateScreenReaderSection(y)})}getLinkedDescriptionElement(){let C=this.chart.options.accessibility.linkedDescription;if(!C)return;if(typeof C!="string")return C;let y=nt(C,this.chart),k=zt.querySelectorAll(y);if(k.length===1)return k[0]}setLinkedDescriptionAttrs(){let C=this.linkedDescriptionElement;C&&(C.setAttribute("aria-hidden","true"),Jt(C,"highcharts-linked-description"))}updateScreenReaderSection(C){let y=this.chart,k=this.screenReaderSections[C],S=k.buildContent(y),R=k.element=k.element||this.createElement("div"),W=R.firstChild||this.createElement("div");S?(this.setScreenReaderSectionAttribs(R,C),Ae().setElementHTML(W,S),R.appendChild(W),k.insertIntoDOM(R,y),y.styledMode?Jt(W,"highcharts-visually-hidden"):gn(W),Qt(y,W),k.afterInserted&&k.afterInserted()):(R.parentNode&&R.parentNode.removeChild(R),k.element=null)}setScreenReaderSectionAttribs(C,y){let k=this.chart,S=k.langFormat("accessibility.screenReaderSection."+y+"RegionLabel",{chart:k,chartTitle:Vt(k)});hn(C,{id:`highcharts-screen-reader-region-${y}-${k.index}`,"aria-label":S||void 0}),C.style.position="relative",S&&C.setAttribute("role",k.options.accessibility.landmarkVerbosity==="all"?"region":"group")}defaultBeforeChartFormatter(){var ye;let C=this.chart,y=C.options.accessibility.screenReaderSection.beforeChartFormat;if(!y)return"";let k=this.getAxesDescription(),S=C.sonify&&C.options.sonification&&C.options.sonification.enabled,R="highcharts-a11y-sonify-data-btn-"+C.index,W="hc-linkto-highcharts-data-table-"+C.index,F=gt(C),Z=C.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:C}),ce={headingTagName:en(C.renderTo),chartTitle:Vt(C),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:k.xAxis,yAxisDescription:k.yAxis,playAsSoundButton:S?this.getSonifyButtonText(R):"",viewTableButton:(ye=C.exporting)!=null&&ye.getCSV?this.getDataTableButtonText(W):"",annotationsTitle:F?Z:"",annotationsList:F},de=ut.i18nFormat(y,ce,C);return this.dataTableButtonId=W,this.sonifyButtonId=R,Kn(de)}defaultAfterChartFormatter(){let C=this.chart,y=C.options.accessibility.screenReaderSection.afterChartFormat;if(!y)return"";let k={endOfChartMarker:this.getEndOfChartMarkerText()};return Kn(ut.i18nFormat(y,k,C))}getLinkedDescription(){let C=this.linkedDescriptionElement;return rn(C&&C.innerHTML||"",this.chart.renderer.forExport)}getLongdescText(){let C=this.chart.options,y=C.caption,k=y&&y.text,S=this.getLinkedDescription();return C.accessibility.description||S||k||""}getTypeDescriptionText(){let C=this.chart;return C.types?C.options.accessibility.typeDescription||function(y,k){let S=k[0],R=y.series&&y.series[0]||{},W=y.mapView&&y.mapView.geoMap&&y.mapView.geoMap.title,F={numSeries:y.series.length,numPoints:R.points&&R.points.length,chart:y,mapTitle:W};if(!S)return y.langFormat("accessibility.chartTypes.emptyChart",F);if(S==="map"||S==="tiledwebmap")return F.mapTitle?y.langFormat("accessibility.chartTypes.mapTypeDescription",F):y.langFormat("accessibility.chartTypes.unknownMap",F);if(y.types.length>1)return y.langFormat("accessibility.chartTypes.combinationChart",F);let Z=k[0],ce=y.langFormat("accessibility.seriesTypeDescriptions."+Z,F),de=y.series&&y.series.length<2?"Single":"Multiple";return(y.langFormat("accessibility.chartTypes."+Z+de,F)||y.langFormat("accessibility.chartTypes.default"+de,F))+(ce?" "+ce:"")}(C,C.types):""}getDataTableButtonText(C){let y=this.chart;return'<button id="'+C+'">'+y.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:y,chartTitle:Vt(y)})+"</button>"}getSonifyButtonText(C){let y=this.chart;return y.options.sonification&&y.options.sonification.enabled===!1?"":'<button id="'+C+'">'+y.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:y,chartTitle:Vt(y)})+"</button>"}getSubtitleText(){let C=this.chart.options.subtitle;return rn(C&&C.text||"",this.chart.renderer.forExport)}getEndOfChartMarkerText(){let C=Ft(`highcharts-end-of-chart-marker-${this.chart.index}`);if(C)return C.outerHTML;let y=this.chart,k=y.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:y});return'<div id="highcharts-end-of-chart-marker-'+y.index+'">'+k+"</div>"}onDataTableCreated(C){let y=this.chart;if(y.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");let k=C.tree.attributes||{};k.tabindex=-1,k.summary=y.langFormat("accessibility.table.tableSummary",{chart:y}),C.tree.attributes=k}}focusDataTable(){let C=this.dataTableDiv,y=C&&C.getElementsByTagName("table")[0];y&&y.focus&&y.focus()}initSonifyButton(C){let y=this.sonifyButton=Ft(C),k=this.chart,S=R=>{y&&(y.setAttribute("aria-hidden","true"),y.setAttribute("aria-label","")),R.preventDefault(),R.stopPropagation();let W=k.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:k});this.announcer.announce(W),setTimeout(()=>{y&&(y.removeAttribute("aria-hidden"),y.removeAttribute("aria-label")),k.sonify&&k.sonify()},1e3)};y&&k&&(y.setAttribute("tabindex",-1),y.onclick=function(R){(k.options.accessibility&&k.options.accessibility.screenReaderSection.onPlayAsSoundClick||S).call(this,R,k)})}initDataTableButton(C){let y=this.viewDataTableButton=Ft(C),k=this.chart,S=C.replace("hc-linkto-","");y&&(hn(y,{tabindex:-1,"aria-expanded":!!Ft(S)}),y.onclick=k.options.accessibility.screenReaderSection.onViewDataTableClick||function(){var R;(R=k.exporting)==null||R.viewData()})}getAxesDescription(){let C=this.chart,y=function(Z,ce){let de=C[Z];return de.length>1||de[0]&&Rn(de[0].options.accessibility&&de[0].options.accessibility.enabled,ce)},k=!!C.types&&0>C.types.indexOf("map")&&0>C.types.indexOf("treemap")&&0>C.types.indexOf("tilemap"),S=!!C.hasCartesianSeries,R=y("xAxis",!C.angular&&S&&k),W=y("yAxis",S&&k),F={};return R&&(F.xAxis=this.getAxisDescriptionText("xAxis")),W&&(F.yAxis=this.getAxisDescriptionText("yAxis")),F}getAxisDescriptionText(C){let y=this.chart,k=y[C];return y.langFormat("accessibility.axis."+C+"Description"+(k.length>1?"Plural":"Singular"),{chart:y,names:k.map(function(S){return Pt(S)}),ranges:k.map(function(S){return At(S)}),numAxes:k.length})}destroy(){this.announcer&&this.announcer.destroy()}},{attr:ar}=K(),{getChartTitle:Pn,unhideChartElementFromAT:Te}=xe,{getFakeMouseEvent:Ie}=pt;function ze(C){var y,k;return(k=(y=C.exporting)==null?void 0:y.svgElements)==null?void 0:k[0]}class Je extends vt{init(){let y=this.chart,k=this;this.addEvent(y,"exportMenuShown",function(){k.onMenuShown()}),this.addEvent(y,"exportMenuHidden",function(){k.onMenuHidden()}),this.createProxyGroup()}onMenuHidden(){var k;let y=(k=this.chart.exporting)==null?void 0:k.contextMenuEl;y&&y.setAttribute("aria-hidden","true"),this.setExportButtonExpandedState("false")}onMenuShown(){var S;let y=this.chart,k=(S=y.exporting)==null?void 0:S.contextMenuEl;k&&(this.addAccessibleContextMenuAttribs(),Te(y,k)),this.setExportButtonExpandedState("true")}setExportButtonExpandedState(y){this.exportButtonProxy&&this.exportButtonProxy.innerElement.setAttribute("aria-expanded",y)}onChartRender(){var R;let y=this.chart,k=y.focusElement,S=y.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&k&&k===((R=y.exporting)==null?void 0:R.group)&&(k.focusBorder?y.setFocusToElement(k,this.exportButtonProxy.innerElement):S&&S.keyboardNavigation.tabindexContainer.focus())}proxyMenuButton(){let y=this.chart,k=this.proxyProvider,S=ze(y);(function(R){let W=R.options.exporting,F=ze(R);return!!(W&&W.enabled!==!1&&W.accessibility&&W.accessibility.enabled&&F&&F.element)})(y)&&S&&(this.exportButtonProxy=k.addProxyElement("chartMenu",{click:S},"button",{"aria-label":y.langFormat("accessibility.exporting.menuButtonLabel",{chart:y,chartTitle:Pn(y)}),"aria-expanded":!1,title:y.options.lang.contextButtonTitle||null}))}createProxyGroup(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu")}addAccessibleContextMenuAttribs(){var S;let y=this.chart,k=(S=y.exporting)==null?void 0:S.divElements;if(k&&k.length){k.forEach(W=>{W&&(W.tagName!=="LI"||W.children&&W.children.length?W.setAttribute("aria-hidden","true"):W.setAttribute("tabindex",-1))});let R=k[0]&&k[0].parentNode;R&&ar(R,{"aria-hidden":void 0,"aria-label":y.langFormat("accessibility.exporting.chartMenuLabel",{chart:y}),role:"list"})}}getKeyboardNavigation(){let y=this.keyCodes,k=this.chart,S=this;return new Se(k,{keyCodeMap:[[[y.left,y.up],function(){return S.onKbdPrevious(this)}],[[y.right,y.down],function(){return S.onKbdNext(this)}],[[y.enter,y.space],function(){return S.onKbdClick(this)}]],validate:function(){var R,W,F;return!!k.exporting&&((W=(R=k.options.exporting)==null?void 0:R.buttons)==null?void 0:W.contextButton.enabled)!==!1&&k.options.exporting.enabled!==!1&&(((F=k.options.exporting.accessibility)==null?void 0:F.enabled)||!1)!==!1},init:function(){var F;let R=S.exportButtonProxy,W=(F=S.chart.exporting)==null?void 0:F.group;R&&W&&k.setFocusToElement(W,R.innerElement)},terminate:function(){k.hideExportMenu()}})}onKbdPrevious(y){let k=this.chart,S=k.options.accessibility,R=y.response,W=k.highlightedExportItemIx||0;for(;W--;)if(k.highlightExportItem(W))return R.success;return S.keyboardNavigation.wrapAround?(k.highlightLastExportItem(),R.success):R.prev}onKbdNext(y){var W,F;let k=this.chart,S=k.options.accessibility,R=y.response;for(let Z=(k.highlightedExportItemIx||0)+1;Z<(((F=(W=k.exporting)==null?void 0:W.divElements)==null?void 0:F.length)||0);++Z)if(k.highlightExportItem(Z))return R.success;return S.keyboardNavigation.wrapAround?(k.highlightExportItem(0),R.success):R.next}onKbdClick(y){var W,F,Z,ce;let k=this.chart,S=k.highlightedExportItemIx!==void 0&&((F=(W=k.exporting)==null?void 0:W.divElements)==null?void 0:F[k.highlightedExportItemIx]),R=(Z=ze(k))==null?void 0:Z.element;return(ce=k.exporting)!=null&&ce.openMenu?S&&this.fakeClickEvent(S):(R&&this.fakeClickEvent(R),k.highlightExportItem(0)),y.response.success}}(function(C){function y(){let W=ze(this);if(W){let F=W.element;F.onclick&&(F.onclick=function(){Ie("click")})}}function k(){var F,Z,ce;let W=(F=this.exporting)==null?void 0:F.divElements;W&&((Z=this.exporting)!=null&&Z.contextMenuEl)&&((ce=this.exporting)!=null&&ce.openMenu)&&(W.forEach(de=>{de&&de.className==="highcharts-menu-item"&&de.onmouseout&&de.onmouseout(Ie("mouseout"))}),this.highlightedExportItemIx=0,this.exporting.contextMenuEl.hideMenu(),this.container.focus())}function S(W){var ce,de,ye,qe;let F=(de=(ce=this.exporting)==null?void 0:ce.divElements)==null?void 0:de[W],Z=this.highlightedExportItemIx!==void 0&&((qe=(ye=this.exporting)==null?void 0:ye.divElements)==null?void 0:qe[this.highlightedExportItemIx]);if(F&&F.tagName==="LI"&&!(F.children&&F.children.length)){let Xe=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;return F.focus&&Xe&&F.focus(),Z&&Z.onmouseout&&Z.onmouseout(Ie("mouseout")),F.onmouseover&&F.onmouseover(Ie("mouseover")),this.highlightedExportItemIx=W,!0}return!1}function R(){var W,F;if((W=this.exporting)!=null&&W.divElements){let Z=(F=this.exporting)==null?void 0:F.divElements.length;for(;Z--;)if(this.highlightExportItem(Z))return!0}return!1}C.compose=function(W){let F=W.prototype;F.hideExportMenu||(F.hideExportMenu=k,F.highlightExportItem=S,F.highlightLastExportItem=R,F.showExportMenu=y)}})(Je||(Je={}));let xt=Je,{doc:Ct,win:ct}=K(),{addEvent:ai,defined:ii,fireEvent:Gi}=K(),{getElement:Ii,simulatedEventTarget:Ts}=pt;class aa{constructor(y,k){this.currentModuleIx=NaN,this.modules=[],this.init(y,k)}init(y,k){let S=this.eventProvider=new je;this.chart=y,this.components=k,this.modules=[],this.currentModuleIx=0,this.update(),S.addEvent(this.tabindexContainer,"keydown",R=>this.onKeydown(R)),S.addEvent(this.tabindexContainer,"focus",R=>this.onFocus(R)),["mouseup","touchend"].forEach(R=>S.addEvent(Ct,R,W=>this.onMouseUp(W))),["mousedown","touchstart"].forEach(R=>S.addEvent(y.renderTo,R,()=>{this.isClickingChart=!0}))}update(y){let k=this.chart.options.accessibility,S=k&&k.keyboardNavigation,R=this.components;this.updateContainerTabindex(),S&&S.enabled&&y&&y.length?(this.modules=y.reduce(function(W,F){let Z=R[F].getKeyboardNavigation();return W.concat(Z)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())}updateExitAnchor(){let y=Ii(`highcharts-end-of-chart-marker-${this.chart.index}`);this.removeExitAnchor(),y?(this.makeElementAnExitAnchor(y),this.exitAnchor=y):this.createExitAnchor()}move(y){let k=this.modules&&this.modules[this.currentModuleIx];k&&k.terminate&&k.terminate(y),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=y;let S=this.modules&&this.modules[this.currentModuleIx];if(S){if(S.validate&&!S.validate())return this.move(y);if(S.init)return S.init(y),!0}return this.currentModuleIx=0,this.exiting=!0,y>0?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus(),!1}onFocus(y){let k=this.chart,S=y.relatedTarget&&k.container.contains(y.relatedTarget),R=k.options.accessibility,W=R&&R.keyboardNavigation;if(W&&W.enabled&&!this.exiting&&!this.tabbingInBackwards&&!this.isClickingChart&&!S){let F=this.getFirstValidModuleIx();F!==null&&(this.currentModuleIx=F,this.modules[F].init(1))}this.keyboardReset=!1,this.exiting=!1}onMouseUp(y){if(delete this.isClickingChart,!this.keyboardReset&&y.relatedTarget!==Ts){let k=this.chart;if(!y.target||!k.container.contains(y.target)){let S=this.modules&&this.modules[this.currentModuleIx||0];S&&S.terminate&&S.terminate(),this.currentModuleIx=0}k.focusElement&&(k.focusElement.removeFocusBorder(),delete k.focusElement),this.keyboardReset=!0}}onKeydown(y){let k,S=y||ct.event,R=this.modules&&this.modules.length&&this.modules[this.currentModuleIx],W=S.target;if((!W||W.nodeName!=="INPUT"||W.classList.contains("highcharts-a11y-proxy-element"))&&(this.keyboardReset=!1,this.exiting=!1,R)){let F=R.run(S);F===R.response.success?k=!0:F===R.response.prev?k=this.move(-1):F===R.response.next&&(k=this.move(1)),k&&(S.preventDefault(),S.stopPropagation())}}updateContainerTabindex(){let y,k=this.chart.options.accessibility,S=k&&k.keyboardNavigation,R=!(S&&S.enabled===!1),W=this.chart,F=W.container;W.renderTo.hasAttribute("tabindex")?(F.removeAttribute("tabindex"),y=W.renderTo):y=F,this.tabindexContainer=y;let Z=y.getAttribute("tabindex");R&&!Z?y.setAttribute("tabindex","0"):R||W.container.removeAttribute("tabindex")}createExitAnchor(){let y=this.chart,k=this.exitAnchor=Ct.createElement("div");y.renderTo.appendChild(k),this.makeElementAnExitAnchor(k)}makeElementAnExitAnchor(y){let k=this.tabindexContainer.getAttribute("tabindex")||0;y.setAttribute("class","highcharts-exit-anchor"),y.setAttribute("tabindex",k),y.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(y)}removeExitAnchor(){if(this.exitAnchor){let y=this.eventProvider.eventRemovers.find(k=>k.element===this.exitAnchor);y&&ii(y.remover)&&this.eventProvider.removeEvent(y.remover),this.exitAnchor.parentNode&&this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor}}addExitAnchorEventsToEl(y){let k=this.chart,S=this;this.eventProvider.addEvent(y,"focus",function(R){let W=R||ct.event,F=!(W.relatedTarget&&k.container.contains(W.relatedTarget)||S.exiting);if(k.focusElement&&delete k.focusElement,F){if(S.tabbingInBackwards=!0,S.tabindexContainer.focus(),delete S.tabbingInBackwards,W.preventDefault(),S.modules&&S.modules.length){S.currentModuleIx=S.modules.length-1;let Z=S.modules[S.currentModuleIx];Z&&Z.validate&&!Z.validate()?S.move(-1):Z&&Z.init(-1)}}else S.exiting=!1})}getFirstValidModuleIx(){let y=this.modules.length;for(let k=0;k<y;++k){let S=this.modules[k];if(!S.validate||S.validate())return k}return null}destroy(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")}}(function(C){function y(){let S=this;Gi(this,"dismissPopupContent",{},function(){S.tooltip&&S.tooltip.hide(0),S.hideExportMenu()})}function k(S){(S.which||S.keyCode)===27&&K().charts&&K().charts.forEach(R=>{R&&R.dismissPopupContent&&R.dismissPopupContent()})}C.compose=function(S){xt.compose(S);let R=S.prototype;return!R.dismissPopupContent&&(R.dismissPopupContent=y,Ct&&ai(Ct,"keydown",k)),S}})(aa||(aa={}));let Co=aa;var Xs=ne(632),zr=ne.n(Xs);let{animObject:So}=K(),{doc:la}=K(),{addEvent:jc,fireEvent:Vn,isNumber:El,pick:ca,syncTimeout:kl}=K(),{getChartTitle:Ic}=xe,{stripHTMLTagsFromString:Tl,addClass:xh,removeClass:Pc}=pt;function ua(C){let y=C.legend&&C.legend.allItems,k=C.options.legend.accessibility||{},S=C.colorAxis&&C.colorAxis.some(R=>!R.dataClasses||!R.dataClasses.length);return!!(y&&y.length&&!S&&k.enabled!==!1)}function ha(C,y){let k=y.legendItem||{};for(let S of(y.setState(C?"hover":"",!0),["group","label","symbol"])){let R=k[S],W=R&&R.element||R;W&&Vn(W,C?"mouseover":"mouseout")}}class Cl extends vt{constructor(){super(...arguments),this.highlightedLegendItemIx=NaN,this.proxyGroup=null}init(){let y=this;this.recreateProxies(),this.addEvent(zr(),"afterScroll",function(){this.chart===y.chart&&(y.proxyProvider.updateGroupProxyElementPositions("legend"),y.updateLegendItemProxyVisibility(),y.highlightedLegendItemIx>-1&&this.chart.highlightLegendItem(y.highlightedLegendItemIx))}),this.addEvent(zr(),"afterPositionItem",function(k){this.chart===y.chart&&this.chart.renderer&&y.updateProxyPositionForItem(k.item)}),this.addEvent(zr(),"afterRender",function(){this.chart===y.chart&&this.chart.renderer&&y.recreateProxies()&&kl(()=>y.proxyProvider.updateGroupProxyElementPositions("legend"),So(ca(this.chart.renderer.globalAnimation,!0)).duration)})}updateLegendItemProxyVisibility(){let y,k=this.chart,S=k.legend,R=S.allItems||[],W=S.currentPage||1,F=S.clipHeight||0;R.forEach(Z=>{if(Z.a11yProxyElement){let ce=S.pages&&S.pages.length,de=Z.a11yProxyElement.element,ye=!1;if(y=Z.legendItem||{},ce){let qe=y.pageIx||0;ye=(y.y||0)+(y.label?Math.round(y.label.getBBox().height):0)-S.pages[qe]>F||qe!==W-1}ye?k.styledMode?xh(de,"highcharts-a11y-invisible"):de.style.visibility="hidden":(Pc(de,"highcharts-a11y-invisible"),de.style.visibility="")}})}onChartRender(){ua(this.chart)||this.removeProxies()}highlightAdjacentLegendPage(y){let k=this.chart,S=k.legend,R=(S.currentPage||1)+y,W=S.pages||[];if(R>0&&R<=W.length){let F=0;for(let Z of S.allItems)((Z.legendItem||{}).pageIx||0)+1===R&&k.highlightLegendItem(F)&&(this.highlightedLegendItemIx=F),++F}}updateProxyPositionForItem(y){y.a11yProxyElement&&y.a11yProxyElement.refreshPosition()}recreateProxies(){let y=la.activeElement,k=this.proxyGroup,S=y&&k&&k.contains(y);return this.removeProxies(),!!ua(this.chart)&&(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),S&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0)}removeProxies(){this.proxyProvider.removeGroup("legend")}updateLegendTitle(){let y=this.chart,k=Tl((y.legend&&y.legend.options.title&&y.legend.options.title.text||"").replace(/<br ?\/?>/g," "),y.renderer.forExport),S=y.langFormat("accessibility.legend.legendLabel"+(k?"":"NoTitle"),{chart:y,legendTitle:k,chartTitle:Ic(y)});this.proxyProvider.updateGroupAttrs("legend",{"aria-label":S})}addLegendProxyGroup(){let y=this.chart.options.accessibility.landmarkVerbosity==="all"?"region":null;this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:y})}proxyLegendItems(){let y,k=this;((this.chart.legend||{}).allItems||[]).forEach(S=>{(y=S.legendItem||{}).label&&y.label.element&&k.proxyLegendItem(S)})}proxyLegendItem(y){var de,ye,qe;let k=y.legendItem||{},S=(de=y.legendItem)==null?void 0:de.label,R=S==null?void 0:S.element,W=((qe=(ye=k.label)==null?void 0:ye.styles)==null?void 0:qe.textOverflow)==="ellipsis";if(!k.label||!k.group)return;let F=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:Tl(y.name,this.chart.renderer.forExport),item:y}),Z={tabindex:-1,"aria-pressed":y.visible,"aria-label":F,title:""};W&&(R.textContent||"").indexOf("")!==-1&&(Z.title=S==null?void 0:S.textStr);let ce=k.group.div?k.label:k.group;y.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:k.label,visual:ce.element},"button",Z)}getKeyboardNavigation(){let y=this.keyCodes,k=this,S=this.chart;return new Se(S,{keyCodeMap:[[[y.left,y.right,y.up,y.down],function(R){return k.onKbdArrowKey(this,R)}],[[y.enter,y.space],function(){return k.onKbdClick(this)}],[[y.pageDown,y.pageUp],function(R){let W=R===y.pageDown?1:-1;return k.highlightAdjacentLegendPage(W),this.response.success}]],validate:function(){return k.shouldHaveLegendNavigation()},init:function(){S.highlightLegendItem(0),k.highlightedLegendItemIx=0},terminate:function(){k.highlightedLegendItemIx=-1,S.legend.allItems.forEach(R=>ha(!1,R))}})}onKbdArrowKey(y,k){let{keyCodes:{left:S,up:R},highlightedLegendItemIx:W,chart:F}=this,Z=F.legend.allItems.length,ce=F.options.accessibility.keyboardNavigation.wrapAround,de=k===S||k===R?-1:1;return F.highlightLegendItem(W+de)?this.highlightedLegendItemIx+=de:ce&&Z>1&&(this.highlightedLegendItemIx=de>0?0:Z-1,F.highlightLegendItem(this.highlightedLegendItemIx)),y.response.success}onKbdClick(y){let k=this.chart.legend.allItems[this.highlightedLegendItemIx];return k&&k.a11yProxyElement&&k.a11yProxyElement.click(),y.response.success}shouldHaveLegendNavigation(){if(!ua(this.chart))return!1;let y=this.chart,k=(y.options.legend||{}).accessibility||{};return!!(y.legend.display&&k.keyboardNavigation&&k.keyboardNavigation.enabled)}destroy(){this.removeProxies()}}(function(C){function y(S){let R=this.legend.allItems,W=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx,F=R[S],Z=(F==null?void 0:F.legendItem)||{};if(F){El(W)&&R[W]&&ha(!1,R[W]);var ce=this.legend;let de=(ce.allItems[S].legendItem||{}).pageIx,ye=ce.currentPage;de!==void 0&&de+1!==ye&&ce.scroll(1+de-ye);let qe=Z.label,Xe=F.a11yProxyElement&&F.a11yProxyElement.innerElement;return qe&&qe.element&&Xe&&this.setFocusToElement(qe,Xe),ha(!0,F),!0}return!1}function k(S){let R=this.chart.options.accessibility,W=S.item;R.enabled&&W&&W.a11yProxyElement&&W.a11yProxyElement.innerElement.setAttribute("aria-pressed",S.visible?"true":"false")}C.compose=function(S,R){let W=S.prototype;W.highlightLegendItem||(W.highlightLegendItem=y,jc(R,"afterColorizeItem",k))}})(Cl||(Cl={}));let os=Cl;var lr=ne(532),Qs=ne.n(lr);let{isTouchDevice:Js}=K(),{addEvent:Ar,merge:Bn,pick:wi}=K(),qr=[];function Ao(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function bh(){var W;let C,y,k,S=this.legend,R=this.navigator;if(R){C=S&&S.options,y=R.xAxis,k=R.yAxis;let{scrollbarHeight:F,scrollButtonSize:Z}=R;this.inverted?(R.left=R.opposite?this.chartWidth-F-R.height:this.spacing[3]+F,R.top=this.plotTop+Z):(R.left=wi(y.left,this.plotLeft+Z),R.top=R.navigatorOptions.top||this.chartHeight-R.height-F-(((W=this.scrollbar)==null?void 0:W.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(C&&C.verticalAlign==="bottom"&&C.layout!=="proximate"&&C.enabled&&!C.floating?S.legendHeight+wi(C.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),y&&k&&(this.inverted?y.options.left=k.options.left=R.left:y.options.top=k.options.top=R.top,y.setAxisSize(),k.setAxisSize())}}function Mc(C){!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)&&(this.scroller=this.navigator=new J(this),wi(C.redraw,!0)&&this.redraw(C.animation))}function Sl(){let C=this.options;(C.navigator.enabled||C.scrollbar.enabled)&&(this.scroller=this.navigator=new J(this))}function da(){let C=this.options,y=C.navigator,k=C.rangeSelector;if((y&&y.enabled||k&&k.enabled)&&(!Js&&this.zooming.type==="x"||Js&&this.zooming.pinchType==="x"))return!1}function wh(C){let y=C.navigator;if(y&&C.xAxis[0]){let k=C.xAxis[0].getExtremes();y.render(k.min,k.max)}}function _h(C){let y=C.options.navigator||{},k=C.options.scrollbar||{};!this.navigator&&!this.scroller&&(y.enabled||k.enabled)&&(Bn(!0,this.options.navigator,y),Bn(!0,this.options.scrollbar,k),delete C.options.navigator,delete C.options.scrollbar)}let Zs={compose:function(C,y){if(K().pushUnique(qr,C)){let k=C.prototype;J=y,k.callbacks.push(wh),Ar(C,"afterAddSeries",Ao),Ar(C,"afterSetChartSize",bh),Ar(C,"afterUpdate",Mc),Ar(C,"beforeRender",Sl),Ar(C,"beforeShowResetZoom",da),Ar(C,"update",_h)}}},{isTouchDevice:$r}=K(),{addEvent:as,correctFloat:Al,defined:Cs,isNumber:Ss,pick:Rc}=K();function Eh(){this.navigatorAxis||(this.navigatorAxis=new Nr(this))}function Nl(C){let y,k=this.chart,S=k.options,R=S.navigator,W=this.navigatorAxis,F=k.zooming.pinchType,Z=S.rangeSelector,ce=k.zooming.type;if(this.isXAxis&&(R!=null&&R.enabled||Z!=null&&Z.enabled)){if(ce==="y"&&C.trigger==="zoom")y=!1;else if((C.trigger==="zoom"&&ce==="xy"||$r&&F==="xy")&&this.options.range){let de=W.previousZoom;Cs(C.min)?W.previousZoom=[this.min,this.max]:de&&(C.min=de[0],C.max=de[1],W.previousZoom=void 0)}}y!==void 0&&C.preventDefault()}class Nr{static compose(y){y.keepProps.includes("navigatorAxis")||(y.keepProps.push("navigatorAxis"),as(y,"init",Eh),as(y,"setExtremes",Nl))}constructor(y){this.axis=y}destroy(){this.axis=void 0}toFixedRange(y,k,S,R){let W=this.axis,F=(W.pointRange||0)/2,Z=Rc(S,W.translate(y,!0,!W.horiz)),ce=Rc(R,W.translate(k,!0,!W.horiz));return Cs(S)||(Z=Al(Z+F)),Cs(R)||(ce=Al(ce-F)),Ss(Z)&&Ss(ce)||(Z=ce=void 0),{min:Z,max:ce}}}var pa=ne(620),Dc=ne.n(pa),Ki=ne(512),No=ne.n(Ki);let{parse:eo}=Dc(),{seriesTypes:As}=No(),Ns={height:40,margin:22,maskInside:!0,handles:{width:7,borderRadius:0,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:eo("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:As.areaspline===void 0?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",id:"navigator-x-axis",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,id:"navigator-y-axis",maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:void 0},tickLength:0,tickWidth:0}},{defined:Oc,isNumber:jl,pick:Zn}=K(),kh={rect:function(C,y,k,S,R){return R!=null&&R.r?function(W,F,Z,ce,de){let ye=(de==null?void 0:de.r)||0;return[["M",W+ye,F],["L",W+Z-ye,F],["A",ye,ye,0,0,1,W+Z,F+ye],["L",W+Z,F+ce-ye],["A",ye,ye,0,0,1,W+Z-ye,F+ce],["L",W+ye,F+ce],["A",ye,ye,0,0,1,W,F+ce-ye],["L",W,F+ye],["A",ye,ye,0,0,1,W+ye,F],["Z"]]}(C,y,k,S,R):[["M",C,y],["L",C+k,y],["L",C+k,y+S],["L",C,y+S],["Z"]]}},{relativeLength:Lc}=K(),fa={"navigator-handle":function(C,y,k,S,R={}){let W=R.width?R.width/2:k,F=Lc(R.borderRadius||0,Math.min(2*W,S));return[["M",-1.5,(S=R.height||S)/2-3.5],["L",-1.5,S/2+4.5],["M",.5,S/2-3.5],["L",.5,S/2+4.5],...kh.rect(-W-1,.5,2*W+1,S,{r:F})]}};var js=ne(608),jr=ne.n(js);let{defined:ls}=K(),{defaultOptions:Fc}=K(),{composed:Hr}=K(),{getRendererType:Bc}=jr(),{setFixedRange:Vc}={setFixedRange:function(C){let y=this.xAxis[0];ls(y.dataMax)&&ls(y.dataMin)&&C?this.fixedRange=Math.min(C,y.dataMax-y.dataMin):this.fixedRange=C}},{addEvent:Hn,extend:cr,pushUnique:ma}=K();function ga(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}let Il={compose:function(C,y,k){Nr.compose(y),ma(Hr,"Navigator")&&(C.prototype.setFixedRange=Vc,cr(Bc().prototype.symbols,fa),cr(Fc,{navigator:Ns}),Hn(k,"afterUpdate",ga))}},{composed:cs}=K(),{addEvent:ya,correctFloat:to,defined:ur,pick:Wr,pushUnique:Pl}=K();(function(C){let y;function k(F){var de,ye,qe;let Z=Wr((de=F.options)==null?void 0:de.min,F.min),ce=Wr((ye=F.options)==null?void 0:ye.max,F.max);return{axisMin:Z,axisMax:ce,scrollMin:ur(F.dataMin)?Math.min(Z,F.min??1/0,F.dataMin,F.threshold??1/0):Z,scrollMax:((qe=F.treeGrid)==null?void 0:qe.adjustedMax)??(ur(F.dataMax)?Math.max(ce,F.max??-1/0,F.dataMax,F.threshold??-1/0):ce)}}function S(){let F=this.scrollbar,Z=F&&!F.options.opposite,ce=this.horiz?2:Z?3:1;F&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[ce]+=F.size+(F.options.margin||0))}function R(){var Z,ce;let F=this;(ce=(Z=F.options)==null?void 0:Z.scrollbar)!=null&&ce.enabled&&(F.options.scrollbar.vertical=!F.horiz,F.options.startOnTick=F.options.endOnTick=!1,F.scrollbar=new y(F.chart.renderer,F.options.scrollbar,F.chart),ya(F.scrollbar,"changed",function(de){let ye,qe,{axisMin:Xe,axisMax:tt,scrollMin:Qe,scrollMax:bt}=k(F),Gt=F.toPixels(Qe),Kt=F.toPixels(bt)-Gt;if(ur(Xe)&&ur(tt))if(F.horiz&&!F.reversed||!F.horiz&&F.reversed?(ye=Math.min(bt,F.toValue(Gt+Kt*this.to)),qe=Math.max(Qe,F.toValue(Gt+Kt*this.from))):(ye=Math.min(bt,F.toValue(Gt+Kt*(1-this.from))),qe=Math.max(Qe,F.toValue(Gt+Kt*(1-this.to)))),this.shouldUpdateExtremes(de.DOMType)){let an=de.DOMType!=="mousemove"&&de.DOMType!=="touchmove"&&void 0;F.setExtremes(to(qe),to(ye),!0,an,de)}else this.setRange(this.from,this.to)}))}function W(){let F,Z,ce,{scrollMin:de,scrollMax:ye}=k(this),qe=this.scrollbar,Xe=(this.axisTitleMargin||0)+(this.titleOffset||0),tt=this.chart.scrollbarsOffsets,Qe=this.options.margin||0;if(qe&&tt){if(this.horiz)this.opposite||(tt[1]+=Xe),qe.position(this.left,this.top+this.height+2+tt[1]-(this.opposite?Qe:0),this.width,this.height),this.opposite||(tt[1]+=Qe),F=1;else{let bt;this.opposite&&(tt[0]+=Xe),bt=qe.options.opposite?this.left+this.width+2+tt[0]-(this.opposite?0:Qe):this.opposite?0:Qe,qe.position(bt,this.top,this.width,this.height),this.opposite&&(tt[0]+=Qe),F=0}if(tt[F]+=qe.size+(qe.options.margin||0),isNaN(de)||isNaN(ye)||!ur(this.min)||!ur(this.max)||ur(this.dataMin)&&this.dataMin===this.dataMax)qe.setRange(0,1);else if(this.min===this.max){let bt=this.pointRange/(this.dataMax+1);Z=bt*this.min,ce=bt*(this.max+1),qe.setRange(Z,ce)}else Z=(this.toPixels(this.min)-this.toPixels(de))/(this.toPixels(ye)-this.toPixels(de)),ce=(this.toPixels(this.max)-this.toPixels(de))/(this.toPixels(ye)-this.toPixels(de)),this.horiz&&!this.reversed||!this.horiz&&this.reversed?qe.setRange(Z,ce):qe.setRange(1-ce,1-Z)}}C.compose=function(F,Z){Pl(cs,"Axis.Scrollbar")&&(y=Z,ya(F,"afterGetOffset",S),ya(F,"afterInit",R),ya(F,"afterRender",W))}})(se||(se={}));let Ml=se,Gr={height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1},{defaultOptions:va}=K(),{composed:jo}=K(),{addEvent:xa,correctFloat:Kr,crisp:hr,defined:Rl,destroyObjectProperties:Dl,extend:ba,fireEvent:no,merge:Io,pick:_i,pushUnique:Uc,removeEvent:zc}=K();class Yi{static compose(y){Ml.compose(y,Yi),Uc(jo,"Scrollbar")&&ba(va,{scrollbar:Gr})}static swapXY(y,k){return k&&y.forEach(S=>{let R,W=S.length;for(let F=0;F<W;F+=2)typeof(R=S[F+1])=="number"&&(S[F+1]=S[F+2],S[F+2]=R)}),y}constructor(y,k,S){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.scrollbarButtons=[],this.scrollbarLeft=0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.trackBorderWidth=1,this.x=0,this.y=0,this.init(y,k,S)}addEvents(){let y=this.options.inverted?[1,0]:[0,1],k=this.scrollbarButtons,S=this.scrollbarGroup.element,R=this.track.element,W=this.mouseDownHandler.bind(this),F=this.mouseMoveHandler.bind(this),Z=this.mouseUpHandler.bind(this),ce=[[k[y[0]].element,"click",this.buttonToMinClick.bind(this)],[k[y[1]].element,"click",this.buttonToMaxClick.bind(this)],[R,"click",this.trackClick.bind(this)],[S,"mousedown",W],[S.ownerDocument,"mousemove",F],[S.ownerDocument,"mouseup",Z],[S,"touchstart",W],[S.ownerDocument,"touchmove",F],[S.ownerDocument,"touchend",Z]];ce.forEach(function(de){xa.apply(null,de)}),this._events=ce}buttonToMaxClick(y){let k=(this.to-this.from)*_i(this.options.step,.2);this.updatePosition(this.from+k,this.to+k),no(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:y})}buttonToMinClick(y){let k=Kr(this.to-this.from)*_i(this.options.step,.2);this.updatePosition(Kr(this.from-k),Kr(this.to-k)),no(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:y})}cursorToScrollbarPosition(y){let k=this.options,S=k.minWidth>this.calculatedWidth?k.minWidth:0;return{chartX:(y.chartX-this.x-this.xOffset)/(this.barWidth-S),chartY:(y.chartY-this.y-this.yOffset)/(this.barWidth-S)}}destroy(){let y=this,k=y.chart.scroller;y.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(S){y[S]&&y[S].destroy&&(y[S]=y[S].destroy())}),k&&y===k.scrollbar&&(k.scrollbar=null,Dl(k.scrollbarButtons))}drawScrollbarButton(y){let k=this.renderer,S=this.scrollbarButtons,R=this.options,W=this.size,F=k.g().add(this.group);if(S.push(F),R.buttonsEnabled){let Z=k.rect().addClass("highcharts-scrollbar-button").add(F);this.chart.styledMode||Z.attr({stroke:R.buttonBorderColor,"stroke-width":R.buttonBorderWidth,fill:R.buttonBackgroundColor}),Z.attr(Z.crisp({x:-.5,y:-.5,width:W,height:W,r:R.buttonBorderRadius},Z.strokeWidth()));let ce=k.path(Yi.swapXY([["M",W/2+(y?-1:1),W/2-3],["L",W/2+(y?-1:1),W/2+3],["L",W/2+(y?2:-2),W/2]],R.vertical)).addClass("highcharts-scrollbar-arrow").add(S[y]);this.chart.styledMode||ce.attr({fill:R.buttonArrowColor})}}init(y,k,S){this.scrollbarButtons=[],this.renderer=y,this.userOptions=k,this.options=Io(Gr,va.scrollbar,k),this.options.margin=_i(this.options.margin,10),this.chart=S,this.size=_i(this.options.size,this.options.height),k.enabled&&(this.render(),this.addEvents())}mouseDownHandler(y){var R;let k=((R=this.chart.pointer)==null?void 0:R.normalize(y))||y,S=this.cursorToScrollbarPosition(k);this.chartX=S.chartX,this.chartY=S.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(y){var F;let k,S=((F=this.chart.pointer)==null?void 0:F.normalize(y))||y,R=this.options.vertical?"chartY":"chartX",W=this.initPositions||[];this.grabbedCenter&&(!y.touches||y.touches[0][R]!==0)&&(k=this.cursorToScrollbarPosition(S)[R]-this[R],this.hasDragged=!0,this.updatePosition(W[0]+k,W[1]+k),this.hasDragged&&no(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:y.type,DOMEvent:y}))}mouseUpHandler(y){this.hasDragged&&no(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:y.type,DOMEvent:y}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(y,k,S,R){let{buttonsEnabled:W,margin:F=0,vertical:Z}=this.options,ce=this.rendered?"animate":"attr",de=R,ye=0;this.group.show(),this.x=y,this.y=k+this.trackBorderWidth,this.width=S,this.height=R,this.xOffset=de,this.yOffset=ye,Z?(this.width=this.yOffset=S=ye=this.size,this.xOffset=de=0,this.yOffset=ye=W?this.size:0,this.barWidth=R-(W?2*S:0),this.x=y+=F):(this.height=R=this.size,this.xOffset=de=W?this.size:0,this.barWidth=S-(W?2*R:0),this.y=this.y+F),this.group[ce]({translateX:y,translateY:this.y}),this.track[ce]({width:S,height:R}),this.scrollbarButtons[1][ce]({translateX:Z?0:S-de,translateY:Z?R-ye:0})}removeEvents(){this._events.forEach(function(y){zc.apply(null,y)}),this._events.length=0}render(){let y=this.renderer,k=this.options,S=this.size,R=this.chart.styledMode,W=y.g("scrollbar").attr({zIndex:k.zIndex}).hide().add();this.group=W,this.track=y.rect().addClass("highcharts-scrollbar-track").attr({r:k.trackBorderRadius||0,height:S,width:S}).add(W),R||this.track.attr({fill:k.trackBackgroundColor,stroke:k.trackBorderColor,"stroke-width":k.trackBorderWidth});let F=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-hr(0,F),y:-hr(0,F)}),this.scrollbarGroup=y.g().add(W),this.scrollbar=y.rect().addClass("highcharts-scrollbar-thumb").attr({height:S-F,width:S-F,r:k.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=y.path(Yi.swapXY([["M",-3,S/4],["L",-3,2*S/3],["M",0,S/4],["L",0,2*S/3],["M",3,S/4],["L",3,2*S/3]],k.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),R||(this.scrollbar.attr({fill:k.barBackgroundColor,stroke:k.barBorderColor,"stroke-width":k.barBorderWidth}),this.scrollbarRifles.attr({stroke:k.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-hr(0,this.scrollbarStrokeWidth),-hr(0,this.scrollbarStrokeWidth)),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(y,k){let S,R,W=this.options,F=W.vertical,Z=W.minWidth,ce=this.barWidth,de=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(!Rl(ce))return;let ye=ce*Math.min(k,1);S=Math.ceil(ce*(y=Math.max(y,0))),this.calculatedWidth=R=Kr(ye-S),R<Z&&(S=(ce-Z+R)*y,R=Z);let qe=Math.floor(S+this.xOffset+this.yOffset),Xe=R/2-.5;this.from=y,this.to=k,F?(this.scrollbarGroup[de]({translateY:qe}),this.scrollbar[de]({height:R}),this.scrollbarRifles[de]({translateY:Xe}),this.scrollbarTop=qe,this.scrollbarLeft=0):(this.scrollbarGroup[de]({translateX:qe}),this.scrollbar[de]({width:R}),this.scrollbarRifles[de]({translateX:Xe}),this.scrollbarLeft=qe,this.scrollbarTop=0),R<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(),W.showFull===!1&&(y<=0&&k>=1?this.group.hide():this.group.show()),this.rendered=!0}shouldUpdateExtremes(y){return _i(this.options.liveRedraw,K().svg&&!K().isTouchDevice&&!this.chart.boosted)||y==="mouseup"||y==="touchend"||!Rl(y)}trackClick(y){var F;let k=((F=this.chart.pointer)==null?void 0:F.normalize(y))||y,S=this.to-this.from,R=this.y+this.scrollbarTop,W=this.x+this.scrollbarLeft;this.options.vertical&&k.chartY>R||!this.options.vertical&&k.chartX>W?this.updatePosition(this.from+S,this.to+S):this.updatePosition(this.from-S,this.to-S),no(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:y})}update(y){this.destroy(),this.init(this.chart.renderer,Io(!0,this.options,y),this.chart)}updatePosition(y,k){k>1&&(y=Kr(1-Kr(k-y)),k=1),y<0&&(k=Kr(k-y),y=0),this.from=y,this.to=k}}Yi.defaultOptions=Gr;var g=ne(540),N=ne.n(g);let{defaultOptions:B}=K(),{isTouchDevice:re}=K(),{prototype:{symbols:Oe}}=N(),{addEvent:Ge,clamp:It,correctFloat:jn,defined:Yn,destroyObjectProperties:Tn,erase:Wn,extend:yi,find:Yr,fireEvent:Pi,isArray:Po,isNumber:Xi,merge:Is,pick:Ei,removeEvent:qc,splat:io}=K();function $c(C,...y){let k=[].filter.call(y,Xi);if(k.length)return Math[C].apply(0,k)}class us{static compose(y,k,S){Zs.compose(y,us),Il.compose(y,k,S)}constructor(y){this.isDirty=!1,this.scrollbarHeight=0,this.init(y)}drawHandle(y,k,S,R){let W=this.navigatorOptions.handles.height;this.handles[k][R](S?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(y,10)+.5-W)}:{translateX:Math.round(this.left+parseInt(y,10)),translateY:Math.round(this.top+this.height/2-W/2-1)})}drawOutline(y,k,S,R){let W=this.navigatorOptions.maskInside,F=this.outline.strokeWidth(),Z=F/2,ce=F%2/2,de=this.scrollButtonSize,ye=this.size,qe=this.top,Xe=this.height,tt=qe-Z,Qe=qe+Xe,bt=this.left,Gt,Kt;S?(Gt=qe+k+ce,k=qe+y+ce,Kt=[["M",bt+Xe,qe-de-ce],["L",bt+Xe,Gt],["L",bt,Gt],["M",bt,k],["L",bt+Xe,k],["L",bt+Xe,qe+ye+de]],W&&Kt.push(["M",bt+Xe,Gt-Z],["L",bt+Xe,k+Z])):(bt-=de,y+=bt+de-ce,k+=bt+de-ce,Kt=[["M",bt,tt],["L",y,tt],["L",y,Qe],["M",k,Qe],["L",k,tt],["L",bt+ye+2*de,tt]],W&&Kt.push(["M",y-Z,tt],["L",k+Z,tt])),this.outline[R]({d:Kt})}drawMasks(y,k,S,R){let W,F,Z,ce,de=this.left,ye=this.top,qe=this.height;S?(Z=[de,de,de],ce=[ye,ye+y,ye+k],F=[qe,qe,qe],W=[y,k-y,this.size-k]):(Z=[de,de+y,de+k],ce=[ye,ye,ye],F=[y,k-y,this.size-k],W=[qe,qe,qe]),this.shades.forEach((Xe,tt)=>{Xe[R]({x:Z[tt],y:ce[tt],width:F[tt],height:W[tt]})})}renderElements(){var de;let y=this,k=y.navigatorOptions,S=k.maskInside,R=y.chart,W=R.inverted,F=R.renderer,Z={cursor:W?"ns-resize":"ew-resize"},ce=y.navigatorGroup??(y.navigatorGroup=F.g("navigator").attr({zIndex:8,visibility:"hidden"}).add());if([!S,S,!S].forEach((ye,qe)=>{let Xe=y.shades[qe]??(y.shades[qe]=F.rect().addClass("highcharts-navigator-mask"+(qe===1?"-inside":"-outside")).add(ce));R.styledMode||(Xe.attr({fill:ye?k.maskFill:"rgba(0,0,0,0)"}),qe===1&&Xe.css(Z))}),y.outline||(y.outline=F.path().addClass("highcharts-navigator-outline").add(ce)),R.styledMode||y.outline.attr({"stroke-width":k.outlineWidth,stroke:k.outlineColor}),(de=k.handles)==null?void 0:de.enabled){let ye=k.handles,{height:qe,width:Xe}=ye;[0,1].forEach(tt=>{var bt;let Qe=ye.symbols[tt];if(y.handles[tt]&&y.handles[tt].symbolUrl===Qe){if(!y.handles[tt].isImg&&y.handles[tt].symbolName!==Qe){let Gt=Oe[Qe].call(Oe,-Xe/2-1,0,Xe,qe);y.handles[tt].attr({d:Gt}),y.handles[tt].symbolName=Qe}}else(bt=y.handles[tt])==null||bt.destroy(),y.handles[tt]=F.symbol(Qe,-Xe/2-1,0,Xe,qe,ye),y.handles[tt].attr({zIndex:7-tt}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][tt]).add(ce),y.addMouseEvents();R.inverted&&y.handles[tt].attr({rotation:90,rotationOriginX:Math.floor(-Xe/2),rotationOriginY:(qe+Xe)/2}),R.styledMode||y.handles[tt].attr({fill:ye.backgroundColor,stroke:ye.borderColor,"stroke-width":ye.lineWidth,width:ye.width,height:ye.height,x:-Xe/2-1,y:0}).css(Z)})}}update(y,k=!1){var W;let S=this.chart,R=S.options.chart.inverted!==((W=S.scrollbar)==null?void 0:W.options.vertical);if(Is(!0,S.options.navigator,y),this.navigatorOptions=S.options.navigator||{},this.setOpposite(),Yn(y.enabled)||R)return this.destroy(),this.navigatorEnabled=y.enabled||this.navigatorEnabled,this.init(S);if(this.navigatorEnabled&&(this.isDirty=!0,y.adaptToUpdatedData===!1&&this.baseSeries.forEach(F=>{qc(F,"updatedData",this.updatedDataHandler)},this),y.adaptToUpdatedData&&this.baseSeries.forEach(F=>{F.eventsToUnbind.push(Ge(F,"updatedData",this.updatedDataHandler))},this),(y.series||y.baseSeries)&&this.setBaseSeries(void 0,!1),y.height||y.xAxis||y.yAxis)){this.height=y.height??this.height;let F=this.getXAxisOffsets();this.xAxis.update({...y.xAxis,offsets:F,[S.inverted?"width":"height"]:this.height,[S.inverted?"height":"width"]:void 0},!1),this.yAxis.update({...y.yAxis,[S.inverted?"width":"height"]:this.height},!1)}k&&S.redraw()}render(y,k,S,R){let W=this.chart,F=this.xAxis,Z=F.pointRange||0,ce=F.navigatorAxis.fake?W.xAxis[0]:F,de=this.navigatorEnabled,ye=this.rendered,qe=W.inverted,Xe=W.xAxis[0].minRange,tt=W.xAxis[0].options.maxRange,Qe=this.scrollButtonSize,bt,Gt,Kt,an=this.scrollbarHeight,xn,nn;if(this.hasDragged&&!Yn(S))return;if(this.isDirty&&this.renderElements(),y=jn(y-Z/2),k=jn(k+Z/2),!Xi(y)||!Xi(k))if(ye)S=0,R=Ei(F.width,ce.width);else return;this.left=Ei(F.left,W.plotLeft+Qe+(qe?W.plotWidth:0));let Zt=this.size=xn=Ei(F.len,(qe?W.plotHeight:W.plotWidth)-2*Qe);bt=qe?an:xn+2*Qe,S=Ei(S,F.toPixels(y,!0)),R=Ei(R,F.toPixels(k,!0)),Xi(S)&&Math.abs(S)!==1/0||(S=0,R=bt);let yn=F.toValue(S,!0),wn=F.toValue(R,!0),li=Math.abs(jn(wn-yn));li<Xe?this.grabbedLeft?S=F.toPixels(wn-Xe-Z,!0):this.grabbedRight&&(R=F.toPixels(yn+Xe+Z,!0)):Yn(tt)&&jn(li-Z)>tt&&(this.grabbedLeft?S=F.toPixels(wn-tt-Z,!0):this.grabbedRight&&(R=F.toPixels(yn+tt+Z,!0))),this.zoomedMax=It(Math.max(S,R),0,Zt),this.zoomedMin=It(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(S,R),0,Zt),this.range=this.zoomedMax-this.zoomedMin,Zt=Math.round(this.zoomedMax);let Dn=Math.round(this.zoomedMin);de&&(this.navigatorGroup.attr({visibility:"inherit"}),nn=ye&&!this.hasDragged?"animate":"attr",this.drawMasks(Dn,Zt,qe,nn),this.drawOutline(Dn,Zt,qe,nn),this.navigatorOptions.handles.enabled&&(this.drawHandle(Dn,0,qe,nn),this.drawHandle(Zt,1,qe,nn))),this.scrollbar&&(qe?(Kt=this.top-Qe,Gt=this.left-an+(de||!ce.opposite?0:(ce.titleOffset||0)+ce.axisTitleMargin),an=xn+2*Qe):(Kt=this.top+(de?this.height:-an),Gt=this.left-Qe),this.scrollbar.position(Gt,Kt,bt,an),this.scrollbar.setRange(this.zoomedMin/(xn||1),this.zoomedMax/(xn||1))),this.rendered=!0,this.isDirty=!1,Pi(this,"afterRender")}addMouseEvents(){let y=this,k=y.chart,S=k.container,R=[],W,F;y.mouseMoveHandler=W=function(Z){y.onMouseMove(Z)},y.mouseUpHandler=F=function(Z){y.onMouseUp(Z)},(R=y.getPartsEvents("mousedown")).push(Ge(k.renderTo,"mousemove",W),Ge(S.ownerDocument,"mouseup",F),Ge(k.renderTo,"touchmove",W),Ge(S.ownerDocument,"touchend",F)),R.concat(y.getPartsEvents("touchstart")),y.eventsToUnbind=R,y.series&&y.series[0]&&R.push(Ge(y.series[0].xAxis,"foundExtremes",function(){k.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(y){let k=this,S=[];return["shades","handles"].forEach(function(R){k[R].forEach(function(W,F){S.push(Ge(W.element,y,function(Z){k[R+"Mousedown"](Z,F)}))})}),S}shadesMousedown(y,k){var Qe;y=((Qe=this.chart.pointer)==null?void 0:Qe.normalize(y))||y;let S=this.chart,R=this.xAxis,W=this.zoomedMin,F=this.size,Z=this.range,ce=this.left,de=y.chartX,ye,qe,Xe,tt;S.inverted&&(de=y.chartY,ce=this.top),k===1?(this.grabbedCenter=de,this.fixedWidth=Z,this.dragOffset=de-W):(tt=de-ce-Z/2,k===0?tt=Math.max(0,tt):k===2&&tt+Z>=F&&(tt=F-Z,this.reversedExtremes?(tt-=Z,qe=this.getUnionExtremes().dataMin):ye=this.getUnionExtremes().dataMax),tt!==W&&(this.fixedWidth=Z,Yn((Xe=R.navigatorAxis.toFixedRange(tt,tt+Z,qe,ye)).min)&&Pi(this,"setRange",{min:Math.min(Xe.min,Xe.max),max:Math.max(Xe.min,Xe.max),redraw:!0,eventArguments:{trigger:"navigator"}})))}handlesMousedown(y,k){var F;y=((F=this.chart.pointer)==null?void 0:F.normalize(y))||y;let S=this.chart,R=S.xAxis[0],W=this.reversedExtremes;k===0?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=W?R.min:R.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=W?R.max:R.min),S.setFixedRange(void 0)}onMouseMove(y){var ye;let k=this,S=k.chart,R=k.navigatorSize,W=k.range,F=k.dragOffset,Z=S.inverted,ce=k.left,de;(!y.touches||y.touches[0].pageX!==0)&&(de=(y=((ye=S.pointer)==null?void 0:ye.normalize(y))||y).chartX,Z&&(ce=k.top,de=y.chartY),k.grabbedLeft?(k.hasDragged=!0,k.render(0,0,de-ce,k.otherHandlePos)):k.grabbedRight?(k.hasDragged=!0,k.render(0,0,k.otherHandlePos,de-ce)):k.grabbedCenter&&(k.hasDragged=!0,de<F?de=F:de>R+F-W&&(de=R+F-W),k.render(0,0,de-F,de-F+W)),k.hasDragged&&k.scrollbar&&Ei(k.scrollbar.options.liveRedraw,!re&&!this.chart.boosted)&&(y.DOMType=y.type,setTimeout(function(){k.onMouseUp(y)},0)))}onMouseUp(y){let k,S,R,W,F,Z,ce=this.chart,de=this.xAxis,ye=this.scrollbar,qe=y.DOMEvent||y,Xe=ce.inverted,tt=this.rendered&&!this.hasDragged?"animate":"attr";(this.hasDragged&&(!ye||!ye.hasDragged)||y.trigger==="scrollbar")&&(R=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?W=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(F=this.fixedExtreme),this.zoomedMax===this.size&&(F=this.reversedExtremes?R.dataMin:R.dataMax),this.zoomedMin===0&&(W=this.reversedExtremes?R.dataMax:R.dataMin),Yn((Z=de.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,W,F)).min)&&Pi(this,"setRange",{min:Math.min(Z.min,Z.max),max:Math.max(Z.min,Z.max),redraw:!0,animation:!this.hasDragged&&null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:qe}})),y.DOMType!=="mousemove"&&y.DOMType!=="touchmove"&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&Xi(this.zoomedMin)&&Xi(this.zoomedMax)&&(S=Math.round(this.zoomedMin),k=Math.round(this.zoomedMax),this.shades&&this.drawMasks(S,k,Xe,tt),this.outline&&this.drawOutline(S,k,Xe,tt),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(S,0,Xe,tt),this.drawHandle(k,1,Xe,tt)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(y){y()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){let y=this.baseSeries||[];this.navigatorEnabled&&y[0]&&(this.navigatorOptions.adaptToUpdatedData!==!1&&y.forEach(function(k){qc(k,"updatedData",this.updatedDataHandler)},this),y[0].xAxis&&qc(y[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}getXAxisOffsets(){return this.chart.inverted?[this.scrollButtonSize,0,-this.scrollButtonSize,0]:[0,-this.scrollButtonSize,0,this.scrollButtonSize]}init(y){var bt,Gt;let k=y.options,S=k.navigator||{},R=S.enabled,W=k.scrollbar||{},F=W.enabled,Z=R&&S.height||0,ce=F&&W.height||0,de=W.buttonsEnabled&&ce||0;this.handles=[],this.shades=[],this.chart=y,this.setBaseSeries(),this.height=Z,this.scrollbarHeight=ce,this.scrollButtonSize=de,this.scrollbarEnabled=F,this.navigatorEnabled=R,this.navigatorOptions=S,this.scrollbarOptions=W,this.setOpposite();let ye=this,qe=ye.baseSeries,Xe=y.xAxis.length,tt=y.yAxis.length,Qe=qe&&qe[0]&&qe[0].xAxis||y.xAxis[0]||{options:{}};if(y.isDirtyBox=!0,ye.navigatorEnabled){let Kt=this.getXAxisOffsets();ye.xAxis=new(Qs())(y,Is({breaks:Qe.options.breaks,ordinal:Qe.options.ordinal,overscroll:Qe.options.overscroll},S.xAxis,{type:"datetime",yAxis:(bt=S.yAxis)==null?void 0:bt.id,index:Xe,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:Qe.options.ordinal?0:Qe.options.minPadding,maxPadding:Qe.options.ordinal?0:Qe.options.maxPadding,zoomEnabled:!1},y.inverted?{offsets:Kt,width:Z}:{offsets:Kt,height:Z}),"xAxis"),ye.yAxis=new(Qs())(y,Is(S.yAxis,{alignTicks:!1,offset:0,index:tt,isInternal:!0,reversed:Ei(S.yAxis&&S.yAxis.reversed,y.yAxis[0]&&y.yAxis[0].reversed,!1),zoomEnabled:!1},y.inverted?{width:Z}:{height:Z}),"yAxis"),qe||S.series.data?ye.updateNavigatorSeries(!1):y.series.length===0&&(ye.unbindRedraw=Ge(y,"beforeRedraw",function(){y.series.length>0&&!ye.series&&(ye.setBaseSeries(),ye.unbindRedraw())})),ye.reversedExtremes=y.inverted&&!ye.xAxis.reversed||!y.inverted&&ye.xAxis.reversed,ye.renderElements(),ye.addMouseEvents()}else ye.xAxis={chart:y,navigatorAxis:{fake:!0},translate:function(Kt,an){let xn=y.xAxis[0],nn=xn.getExtremes(),Zt=xn.len-2*de,yn=$c("min",xn.options.min,nn.dataMin),wn=$c("max",xn.options.max,nn.dataMax)-yn;return an?Kt*wn/Zt+yn:Zt*(Kt-yn)/wn},toPixels:function(Kt){return this.translate(Kt)},toValue:function(Kt){return this.translate(Kt,!0)}},ye.xAxis.navigatorAxis.axis=ye.xAxis,ye.xAxis.navigatorAxis.toFixedRange=Nr.prototype.toFixedRange.bind(ye.xAxis.navigatorAxis);if((Gt=y.options.scrollbar)!=null&&Gt.enabled){let Kt=Is(y.options.scrollbar,{vertical:y.inverted});Xi(Kt.margin)||(Kt.margin=y.inverted?-3:3),y.scrollbar=ye.scrollbar=new Yi(y.renderer,Kt,y),Ge(ye.scrollbar,"changed",function(an){let xn=ye.size,nn=xn*this.to,Zt=xn*this.from;ye.hasDragged=ye.scrollbar.hasDragged,ye.render(0,0,Zt,nn),this.shouldUpdateExtremes(an.DOMType)&&setTimeout(function(){ye.onMouseUp(an)})})}ye.addBaseSeriesEvents(),ye.addChartEvents()}setOpposite(){let y=this.navigatorOptions,k=this.navigatorEnabled,S=this.chart;this.opposite=Ei(y.opposite,!!(!k&&S.inverted))}getUnionExtremes(y){let k,S=this.chart.xAxis[0],R=this.chart.time,W=this.xAxis,F=W.options,Z=S.options;return y&&S.dataMin===null||(k={dataMin:Ei(R.parse(F==null?void 0:F.min),$c("min",R.parse(Z.min),S.dataMin,W.dataMin,W.min)),dataMax:Ei(R.parse(F==null?void 0:F.max),$c("max",R.parse(Z.max),S.dataMax,W.dataMax,W.max))}),k}setBaseSeries(y,k){let S=this.chart,R=this.baseSeries=[];y=y||S.options&&S.options.navigator.baseSeries||(S.series.length?Yr(S.series,W=>!W.options.isInternal).index:0),(S.series||[]).forEach((W,F)=>{!W.options.isInternal&&(W.options.showInNavigator||(F===y||W.options.id===y)&&W.options.showInNavigator!==!1)&&R.push(W)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,k)}updateNavigatorSeries(y,k){var Xe,tt;let S=this,R=S.chart,W=S.baseSeries,F={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:(Xe=this.navigatorOptions.xAxis)==null?void 0:Xe.id,yAxis:(tt=this.navigatorOptions.yAxis)==null?void 0:tt.id,showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},Z=S.series=(S.series||[]).filter(Qe=>{let bt=Qe.baseSeries;return!(0>W.indexOf(bt))||(bt&&(qc(bt,"updatedData",S.updatedDataHandler),delete bt.navigatorSeries),Qe.chart&&Qe.destroy(),!1)}),ce,de,ye=S.navigatorOptions.series,qe;W&&W.length&&W.forEach(Qe=>{var an;let bt=Qe.navigatorSeries,Gt=yi({color:Qe.color,visible:Qe.visible},Po(ye)?B.navigator.series:ye);if(bt&&S.navigatorOptions.adaptToUpdatedData===!1)return;F.name="Navigator "+W.length,qe=(ce=Qe.options||{}).navigatorOptions||{},Gt.dataLabels=io(Gt.dataLabels),(de=Is(ce,F,Gt,qe)).pointRange=Ei(Gt.pointRange,qe.pointRange,B.plotOptions[de.type||"line"].pointRange);let Kt=qe.data||Gt.data;S.hasNavigatorData=S.hasNavigatorData||!!Kt,de.data=Kt||((an=ce.data)==null?void 0:an.slice(0)),bt&&bt.options?bt.update(de,k):(Qe.navigatorSeries=R.initSeries(de),R.setSortedData(),Qe.navigatorSeries.baseSeries=Qe,Z.push(Qe.navigatorSeries))}),(ye.data&&!(W&&W.length)||Po(ye))&&(S.hasNavigatorData=!1,(ye=io(ye)).forEach((Qe,bt)=>{F.name="Navigator "+(Z.length+1),(de=Is(B.navigator.series,{color:R.series[bt]&&!R.series[bt].options.isInternal&&R.series[bt].color||R.options.colors[bt]||R.options.colors[0]},F,Qe)).data=Qe.data,de.data&&(S.hasNavigatorData=!0,Z.push(R.initSeries(de)))})),y&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){let y=this,k=y.baseSeries||[];k[0]&&k[0].xAxis&&k[0].eventsToUnbind.push(Ge(k[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),k.forEach(S=>{S.eventsToUnbind.push(Ge(S,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),S.eventsToUnbind.push(Ge(S,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),this.navigatorOptions.adaptToUpdatedData!==!1&&S.xAxis&&S.eventsToUnbind.push(Ge(S,"updatedData",this.updatedDataHandler)),S.eventsToUnbind.push(Ge(S,"remove",function(){k&&Wn(k,S),this.navigatorSeries&&y.series&&(Wn(y.series,this.navigatorSeries),Yn(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(y){return this.baseSeries.reduce(function(k,S){return Math.min(k,S.getColumn("x")[0]??k)},y)}modifyNavigatorAxisExtremes(){let y=this.xAxis;if(y.getExtremes!==void 0){let k=this.getUnionExtremes(!0);k&&(k.dataMin!==y.min||k.dataMax!==y.max)&&(y.min=k.dataMin,y.max=k.dataMax)}}modifyBaseAxisExtremes(){var bt;let y,k,S=this.chart.navigator,R=this.getExtremes(),W=R.min,F=R.max,Z=R.dataMin,ce=R.dataMax,de=F-W,ye=S.stickToMin,qe=S.stickToMax,Xe=Ei((bt=this.ordinal)==null?void 0:bt.convertOverscroll(this.options.overscroll),0),tt=S.series&&S.series[0],Qe=!!this.setExtremes;!(this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton")&&(ye&&(y=(k=Z)+de),qe&&(y=ce+Xe,ye||(k=Math.max(Z,y-de,S.getBaseSeriesMin(tt&&tt.xData?tt.xData[0]:-Number.MAX_VALUE)))),Qe&&(ye||qe)&&Xi(k)&&(this.min=this.userMin=k,this.max=this.userMax=y)),S.stickToMin=S.stickToMax=null}updatedDataHandler(){let y=this.chart.navigator,k=this.navigatorSeries,S=y.reversedExtremes?Math.round(y.zoomedMin)===0:Math.round(y.zoomedMax)>=Math.round(y.size);y.stickToMax=Ei(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,S),y.stickToMin=y.shouldStickToMin(this,y),k&&!y.hasNavigatorData&&(k.options.pointStart=this.getColumn("x")[0],k.setData(this.options.data,!1,null,!1))}shouldStickToMin(y,k){let S=k.getBaseSeriesMin(y.getColumn("x")[0]),R=y.xAxis,W=R.max,F=R.min,Z=R.options.range;return!!(Xi(W)&&Xi(F))&&(Z&&W-S>0?W-S<Z:F<=S)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(Ge(this.chart,"redraw",function(){let y=this.navigator,k=y&&(y.baseSeries&&y.baseSeries[0]&&y.baseSeries[0].xAxis||this.xAxis[0]);k&&y.render(k.min,k.max)}),Ge(this.chart,"getMargins",function(){var S;let y=this.navigator,k=y.opposite?"plotTop":"marginBottom";this.inverted&&(k=y.opposite?"marginRight":"plotLeft"),this[k]=(this[k]||0)+(y.navigatorEnabled||!this.inverted?y.height+(((S=this.scrollbar)==null?void 0:S.options.margin)||0)+y.scrollbarHeight:0)+(y.navigatorOptions.margin||0)}),Ge(us,"setRange",function(y){this.chart.xAxis[0].setExtremes(y.min,y.max,y.redraw,y.animation,y.eventArguments)}))}destroy(){this.removeEvents(),this.xAxis&&(Wn(this.chart.xAxis,this.xAxis),Wn(this.chart.axes,this.xAxis)),this.yAxis&&(Wn(this.chart.yAxis,this.yAxis),Wn(this.chart.axes,this.yAxis)),(this.series||[]).forEach(y=>{y.destroy&&y.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(y=>{this[y]&&this[y].destroy&&this[y].destroy(),this[y]=null}),[this.handles].forEach(y=>{Tn(y)}),this.baseSeries.forEach(y=>{y.navigatorSeries=void 0}),this.navigatorEnabled=!1}}let{animObject:Ol}=K(),{format:Th}=Ke(),{clamp:Ch,pick:Sh,syncTimeout:_y}=K(),{getFakeMouseEvent:Ey}=pt,{getAxisRangeDescription:ky,fireEventOnWrappedOrUnwrappedElement:Hc}=xe,Ty=class extends vt{init(){let C=this.chart,y=this;this.announcer=new lt(C,"polite"),this.addEvent(us,"afterRender",function(){this.chart===y.chart&&this.chart.renderer&&_y(()=>{y.proxyProvider.updateGroupProxyElementPositions("navigator"),y.updateHandleValues()},Ol(Sh(this.chart.renderer.globalAnimation,!0)).duration)})}onChartUpdate(){var S,R,W;let C=this.chart,y=C.options,k=y.navigator;if(k.enabled&&((S=k.accessibility)!=null&&S.enabled)){let F=y.accessibility.landmarkVerbosity,Z=(R=y.lang.accessibility)==null?void 0:R.navigator.groupLabel;this.proxyProvider.removeGroup("navigator"),this.proxyProvider.addGroup("navigator","div",{role:F==="all"?"region":"group","aria-label":Th(Z,{chart:C},C)});let ce=(W=y.lang.accessibility)==null?void 0:W.navigator.handleLabel;[0,1].forEach(de=>{let ye=this.getHandleByIx(de);if(ye){let qe=this.proxyProvider.addProxyElement("navigator",{click:ye},"input",{type:"range","aria-label":Th(ce,{handleIx:de,chart:C},C)});this[de?"maxHandleProxy":"minHandleProxy"]=qe.innerElement,qe.innerElement.style.pointerEvents="none",qe.innerElement.oninput=()=>this.updateNavigator()}}),this.updateHandleValues()}else this.proxyProvider.removeGroup("navigator")}getNavigatorHandleNavigation(C){let y=this,k=this.chart,S=C?this.maxHandleProxy:this.minHandleProxy,R=this.keyCodes;return new Se(k,{keyCodeMap:[[[R.left,R.right,R.up,R.down],function(W){if(S){let F=W===R.left||W===R.up?-1:1;S.value=""+Ch(parseFloat(S.value)+F,0,100),y.updateNavigator(()=>{let Z=y.getHandleByIx(C);Z&&k.setFocusToElement(Z,S)})}return this.response.success}]],init:()=>{k.setFocusToElement(this.getHandleByIx(C),S)},validate:()=>{var W;return!!(this.getHandleByIx(C)&&S&&((W=k.options.navigator.accessibility)!=null&&W.enabled))}})}getKeyboardNavigation(){return[this.getNavigatorHandleNavigation(0),this.getNavigatorHandleNavigation(1)]}destroy(){this.updateNavigatorThrottleTimer&&clearTimeout(this.updateNavigatorThrottleTimer),this.proxyProvider.removeGroup("navigator"),this.announcer&&this.announcer.destroy()}updateHandleValues(){let C=this.chart.navigator;if(C&&this.minHandleProxy&&this.maxHandleProxy){let y=C.size;this.minHandleProxy.value=""+Math.round(C.zoomedMin/y*100),this.maxHandleProxy.value=""+Math.round(C.zoomedMax/y*100)}}getHandleByIx(C){let y=this.chart.navigator;return y&&y.handles&&y.handles[C]}updateNavigator(C){this.updateNavigatorThrottleTimer&&clearTimeout(this.updateNavigatorThrottleTimer),this.updateNavigatorThrottleTimer=setTimeout((y=>{var F,Z;let k=this.chart,{navigator:S,pointer:R}=k,W=(F=this.chart.accessibility)==null?void 0:F.keyboardNavigation;if(S&&R&&this.minHandleProxy&&this.maxHandleProxy){let ce=R.getChartPosition(),de=parseFloat(this.minHandleProxy.value)/100*S.size,ye=parseFloat(this.maxHandleProxy.value)/100*S.size;[[0,"mousedown",S.zoomedMin],[0,"mousemove",de],[0,"mouseup",de],[1,"mousedown",S.zoomedMax],[1,"mousemove",ye],[1,"mouseup",ye]].forEach(([tt,Qe,bt])=>{var Kt;let Gt=(Kt=this.getHandleByIx(tt))==null?void 0:Kt.element;Gt&&Hc(Gt,Ey(Qe,{x:ce.left+S.left+bt,y:ce.top+S.top},Gt))}),W&&(W.keyboardReset=!1),y&&y();let qe=(Z=k.options.lang.accessibility)==null?void 0:Z.navigator.changeAnnouncement,Xe=ky(k.xAxis[0]);this.announcer.announce(Th(qe,{axisRangeDescription:Xe,chart:k},k))}}).bind(this,C),20)}},{getPointAnnotationTexts:Cy}=We,{getAxisDescription:Sy,getSeriesFirstPointElement:ro,getSeriesA11yElement:Ay,unhideChartElementFromAT:qp}=xe,{format:Wc,numberFormat:Ny}=Ke(),{reverseChildNodes:Gc,stripHTMLTagsFromString:$p}=pt,{find:jy,isNumber:Hp,isString:Wp,pick:Ir,defined:hs}=K();function Gp(C){let y=C.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(y!==!1&&C.points&&C.points.length>=+y)}function Kp(C,y){let k=C.series,S=k.chart,R=S.options.accessibility.point||{},W=k.options.accessibility&&k.options.accessibility.point||{},F=k.tooltipOptions||{},Z=S.options.lang;return Hp(y)?Ny(y,W.valueDecimals||R.valueDecimals||F.valueDecimals||-1,Z.decimalPoint,Z.accessibility.thousandsSep||Z.thousandsSep):y}function Yp(C,y){let k=C[y];return C.chart.langFormat("accessibility.series."+y+"Description",{name:Sy(k),series:C})}function Xp(C){let y=C.series,k=y.chart.series.length>1||y.options.name,S=function(Z){let ce=Z.series,de=ce.chart,ye=ce.options.accessibility,qe=ye&&ye.point&&ye.point.valueDescriptionFormat||de.options.accessibility.point.valueDescriptionFormat,Xe=Ir(ce.xAxis&&ce.xAxis.options.accessibility&&ce.xAxis.options.accessibility.enabled,!de.angular&&ce.type!=="flowmap"),tt=Xe?function(Qe){let bt=function(xn){let nn=xn.series,Zt=nn.chart,yn=nn.options.accessibility&&nn.options.accessibility.point||{},wn=Zt.options.accessibility.point||{},li=nn.xAxis&&nn.xAxis.dateTime;if(li){let Dn=li.getXDateFormat(xn.x||0,Zt.options.tooltip.dateTimeLabelFormats),ci=yn.dateFormatter&&yn.dateFormatter(xn)||wn.dateFormatter&&wn.dateFormatter(xn)||yn.dateFormat||wn.dateFormat||Dn;return Zt.time.dateFormat(ci,xn.x||0,void 0)}}(Qe),Gt=(Qe.series.xAxis||{}).categories&&hs(Qe.category)&&(""+Qe.category).replace("<br/>"," "),Kt=hs(Qe.id)&&0>(""+Qe.id).indexOf("highcharts-"),an="x, "+Qe.x;return Qe.name||bt||Gt||(Kt?Qe.id:an)}(Z):"";return Wc(qe,{point:Z,index:hs(Z.index)?Z.index+1:"",xDescription:tt,value:function(Qe){let bt=Qe.series,Gt=bt.chart.options.accessibility.point||{},Kt=bt.chart.options.accessibility&&bt.chart.options.accessibility.point||{},an=bt.tooltipOptions||{},xn=Kt.valuePrefix||Gt.valuePrefix||an.valuePrefix||"",nn=Kt.valueSuffix||Gt.valueSuffix||an.valueSuffix||"",Zt=Qe.value!==void 0?"value":"y",yn=Kp(Qe,Qe[Zt]);if(Qe.isNull)return bt.chart.langFormat("accessibility.series.nullPointValue",{point:Qe});if(bt.pointArrayMap){let wn=xn||"",li=nn||"",Dn=function(ci){let Ms=Kp(Qe,Ir(Qe[ci],Qe.options[ci]));return Ms!==void 0?ci+": "+wn+Ms+li:Ms};return Qe.series.pointArrayMap.reduce(function(ci,Ms){let iu=Dn(Ms);return iu?ci+(ci.length?", ":"")+iu:ci},"")}return xn+yn+nn}(Z),separator:Xe?", ":""},de)}(C),R=C.options&&C.options.accessibility&&C.options.accessibility.description,W=k?" "+y.name+".":"",F=function(Z){let ce=Z.series.chart,de=Cy(Z);return de.length?ce.langFormat("accessibility.series.pointAnnotationsDescription",{point:Z,annotations:de}):""}(C);return C.accessibility=C.accessibility||{},C.accessibility.valueDescription=S,S+(R?" "+R:"")+W+(F?" "+F:"")}function Qp(C){let y=C.chart,k=y.types||[],S=function(Xe){let tt=(Xe.options.accessibility||{}).description;return tt&&Xe.chart.langFormat("accessibility.series.description",{description:tt,series:Xe})||""}(C),R=function(Xe){return y[Xe]&&y[Xe].length>1&&C[Xe]},W=C.index+1,F=Yp(C,"xAxis"),Z=Yp(C,"yAxis"),ce={seriesNumber:W,series:C,chart:y},de=k.length>1?"Combination":"",ye=y.langFormat("accessibility.series.summary."+C.type+de,ce)||y.langFormat("accessibility.series.summary.default"+de,ce),qe=(R("yAxis")?" "+Z+".":"")+(R("xAxis")?" "+F+".":"");return Wc(Ir(C.options.accessibility&&C.options.accessibility.descriptionFormat,y.options.accessibility.series.descriptionFormat,""),{seriesDescription:ye,authorDescription:S?" "+S:"",axisDescription:qe,series:C,chart:y,seriesNumber:W},void 0)}let wa={defaultPointDescriptionFormatter:Xp,defaultSeriesDescriptionFormatter:Qp,describeSeries:function(C){let y=C.chart,k=ro(C),S=Ay(C),R=y.is3d&&y.is3d();if(S){S.lastChild!==k||R||Gc(S);let W=function(ce){let de=ce.options.accessibility||{};return!Gp(ce)&&!de.exposeAsGroupOnly}(C),F=function(ce){let de=ce.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!!(ce.points&&(ce.points.length<+de.pointNavigationEnabledThreshold||de.pointNavigationEnabledThreshold===!1))}(C),Z=C.chart.options.accessibility.point.describeNull;if((W||F)&&C.points.forEach(ce=>{var qe,Xe,tt;let de=ce.graphic&&ce.graphic.element||function(Qe){let bt=Qe.series,Gt=bt&&bt.chart,Kt=bt&&bt.is("sunburst"),an=Qe.isNull,xn=Gt&&Gt.options.accessibility.point.describeNull;return an&&!Kt&&xn}(ce)&&function(Qe){let bt=Qe.series,Gt=function(Zt){var li;let yn=Zt.index;if(!Zt.series||!Zt.series.data||!hs(yn))return null;let wn=(li=Zt.series.options)==null?void 0:li.nullInteraction;return jy(Zt.series.data,function(Dn){return!!(Dn&&Dn.index!==void 0&&(wn||Dn.index>yn)&&Dn.graphic&&Dn.graphic.element)})||null}(Qe),Kt=Gt&&Gt.graphic,an=Kt?Kt.parentGroup:bt.graph||bt.group,xn=Gt?{x:Ir(Qe.plotX,Gt.plotX,0),y:Ir(Qe.plotY,Gt.plotY,0)}:{x:Ir(Qe.plotX,0),y:Ir(Qe.plotY,0)},nn=function(Zt,yn){let wn=Zt.series.chart.renderer.rect(yn.x,yn.y,1,1);return wn.attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),wn}(Qe,xn);if(an&&an.element)return Qe.graphic=nn,Qe.hasMockGraphic=!0,nn.add(an),an.element.insertBefore(nn.element,Kt?Kt.element:null),nn.element}(ce),ye=ce.options&&ce.options.accessibility&&ce.options.accessibility.enabled===!1;if(de){if(ce.isNull&&!Z)return void de.setAttribute("aria-hidden",!0);if(de.setAttribute("tabindex","-1"),C.chart.styledMode||(de.style.outline="none"),W&&!ye){let Qe=ce.series,bt=((qe=Qe.options.accessibility)==null?void 0:qe.point)||{},Gt=Qe.chart.options.accessibility.point||{},Kt=$p(Wp(bt.descriptionFormat)&&Wc(bt.descriptionFormat,ce,Qe.chart)||((Xe=bt.descriptionFormatter)==null?void 0:Xe.call(bt,ce))||Wp(Gt.descriptionFormat)&&Wc(Gt.descriptionFormat,ce,Qe.chart)||((tt=Gt.descriptionFormatter)==null?void 0:tt.call(Gt,ce))||Xp(ce),Qe.chart.renderer.forExport);de.setAttribute("role","img"),de.setAttribute("aria-label",Kt)}else de.setAttribute("aria-hidden",!0)}}),qp(y,S),function(ce){let de=ce.chart,ye=de.options.chart,qe=ye.options3d&&ye.options3d.enabled,Xe=de.series.length>1,tt=de.options.accessibility.series.describeSingleSeries,Qe=(ce.options.accessibility||{}).exposeAsGroupOnly;return!(qe&&Xe)&&(Xe||tt||Qe||Gp(ce))}(C)){let ce=C.options.accessibility||{},de=C.chart.options.accessibility,ye=de.landmarkVerbosity;ce.exposeAsGroupOnly?S.setAttribute("role","img"):ye==="all"?S.setAttribute("role","region"):S.setAttribute("role","group"),S.setAttribute("tabindex","-1"),C.chart.styledMode||(S.style.outline="none"),S.setAttribute("aria-label",$p(de.series.descriptionFormatter&&de.series.descriptionFormatter(C)||Qp(C),C.chart.renderer.forExport))}else S.removeAttribute("aria-label")}}},{composed:Ah}=K(),{addEvent:Jp,defined:Ll,pushUnique:Nh}=K(),{getChartTitle:Iy}=xe,{defaultPointDescriptionFormatter:Zp,defaultSeriesDescriptionFormatter:Fl}=wa;function jh(C){return!!C.options.accessibility.announceNewData.enabled}class _a{constructor(y){this.dirty={allSeries:{}},this.lastAnnouncementTime=0,this.chart=y}init(){let y=this.chart,k=y.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new je,this.announcer=new lt(y,k),this.addEventListeners()}destroy(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()}addEventListeners(){let y=this,k=this.chart,S=this.eventProvider;S.addEvent(k,"afterApplyDrilldown",function(){y.lastAnnouncementTime=0}),S.addEvent(k,"afterAddSeries",function(R){y.onSeriesAdded(R.series)}),S.addEvent(k,"redraw",function(){y.announceDirtyData()})}onSeriesAdded(y){jh(this.chart)&&(this.dirty.hasDirty=!0,this.dirty.allSeries[y.name+y.index]=y,this.dirty.newSeries=Ll(this.dirty.newSeries)?void 0:y)}announceDirtyData(){let y=this.chart,k=this;if(y.options.accessibility.announceNewData&&this.dirty.hasDirty){let S=this.dirty.newPoint;S&&(S=function(R){let W=R.series.data.filter(F=>R.x===F.x&&R.y===F.y);return W.length===1?W[0]:R}(S)),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(R=>k.dirty.allSeries[R]),this.dirty.newSeries,S),this.dirty={allSeries:{}}}}queueAnnouncement(y,k,S){let R=this.chart.options.accessibility.announceNewData;if(R.enabled){let W=+new Date,F=W-this.lastAnnouncementTime,Z=Math.max(0,R.minAnnounceInterval-F),ce=function(ye,qe){let Xe=(ye||[]).concat(qe||[]).reduce((tt,Qe)=>(tt[Qe.name+Qe.index]=Qe,tt),{});return Object.keys(Xe).map(tt=>Xe[tt])}(this.queuedAnnouncement&&this.queuedAnnouncement.series,y),de=this.buildAnnouncementMessage(ce,k,S);de&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:W,message:de,series:ce},this.queuedAnnouncementTimer=setTimeout(()=>{this&&this.announcer&&(this.lastAnnouncementTime=+new Date,this.announcer.announce(this.queuedAnnouncement.message),delete this.queuedAnnouncement,delete this.queuedAnnouncementTimer)},Z))}}buildAnnouncementMessage(y,k,S){let R=this.chart,W=R.options.accessibility.announceNewData;if(W.announcementFormatter){let de=W.announcementFormatter(y,k,S);if(de!==!1)return de.length?de:null}let F=K().charts&&K().charts.length>1?"Multiple":"Single",Z=k?"newSeriesAnnounce"+F:S?"newPointAnnounce"+F:"newDataAnnounce",ce=Iy(R);return R.langFormat("accessibility.announceNewData."+Z,{chartTitle:ce,seriesDesc:k?Fl(k):null,pointDesc:S?Zp(S):null,point:S,series:k})}}(function(C){function y(S){var F;let R=this.chart,W=(F=R.accessibility)==null?void 0:F.components.series.newDataAnnouncer;W&&W.chart===R&&jh(R)&&(W.dirty.newPoint=Ll(W.dirty.newPoint)?void 0:S.point)}function k(){var W;let S=this.chart,R=(W=S.accessibility)==null?void 0:W.components.series.newDataAnnouncer;R&&R.chart===S&&jh(S)&&(R.dirty.hasDirty=!0,R.dirty.allSeries[this.name+this.index]=this)}C.compose=function(S){Nh(Ah,"A11y.NDA")&&(Jp(S,"addPoint",y),Jp(S,"updatedData",k))}})(_a||(_a={}));let Ih=_a,{doc:Ph,win:ds}=K(),{attr:Ea,css:ef,merge:tf}=K(),{fireEventOnWrappedOrUnwrappedElement:nf}=xe,{cloneMouseEvent:Mh,cloneTouchEvent:Py,getFakeMouseEvent:My,removeElement:rf}=pt,Ry=class{constructor(C,y,k="button",S,R){this.chart=C,this.target=y,this.eventProvider=new je;let W=this.innerElement=Ph.createElement(k),F=this.element=S?Ph.createElement(S):W;C.styledMode||this.hideElementVisually(W),S&&(S!=="li"||C.styledMode||(F.style.listStyle="none"),F.appendChild(W),this.element=F),this.updateTarget(y,R)}click(){let C=this.getTargetPosition();C.x+=C.width/2,C.y+=C.height/2;let y=My("click",C);nf(this.target.click,y)}updateTarget(C,y){this.target=C,this.updateCSSClassName();let k=y||{};Object.keys(k).forEach(R=>{k[R]===null&&delete k[R]});let S=this.getTargetAttr(C.click,"aria-label");Ea(this.innerElement,tf(S?{"aria-label":S}:{},k)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToElement(this.innerElement,C.click),this.refreshPosition()}refreshPosition(){let C=this.getTargetPosition();ef(this.innerElement,{width:(C.width||1)+"px",height:(C.height||1)+"px",left:(Math.round(C.x)||0)+"px",top:(Math.round(C.y)||0)+"px"})}remove(){this.eventProvider.removeAddedEvents(),rf(this.element)}updateCSSClassName(){let C=W=>W.indexOf("highcharts-no-tooltip")>-1,y=this.chart.legend,k=y.group&&y.group.div,S=C(k&&k.className||""),R=C(this.getTargetAttr(this.target.click,"class")||"");this.innerElement.className=S||R?"highcharts-a11y-proxy-element highcharts-no-tooltip":"highcharts-a11y-proxy-element"}addProxyEventsToElement(C,y){["click","touchstart","touchend","touchcancel","touchmove","mouseover","mouseenter","mouseleave","mouseout"].forEach(k=>{let S=k.indexOf("touch")===0;this.eventProvider.addEvent(C,k,R=>{let W=S?Py(R):Mh(R);y&&nf(y,W),R.stopPropagation(),S||R.preventDefault()},{passive:!1})})}hideElementVisually(C){ef(C,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})}getTargetPosition(){let C=this.target.click,y=C.element?C.element:C,k=this.target.visual||y,S=this.chart.renderTo,R=this.chart.pointer;if(S&&(k!=null&&k.getBoundingClientRect)&&R){let W=ds.scrollY||Ph.documentElement.scrollTop,F=k.getBoundingClientRect(),Z=R.getChartPosition();return{x:(F.left-Z.left)/Z.scaleX,y:(F.top+W-Z.top)/Z.scaleY,width:F.right/Z.scaleX-F.left/Z.scaleX,height:F.bottom/Z.scaleY-F.top/Z.scaleY}}return{x:0,y:0,width:1,height:1}}getTargetAttr(C,y){return C.element?C.element.getAttribute(y):C.getAttribute(y)}},{doc:Rh}=K(),{attr:dr,css:Un}=K(),{unhideChartElementFromAT:sf}=xe,{removeChildNodes:Dh}=pt,Oh=class{constructor(C){this.chart=C,this.domElementProvider=new me,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}addProxyElement(C,y,k="button",S){let R=this.groups[C];if(!R)throw Error("ProxyProvider.addProxyElement: Invalid group key "+C);let W=R.type==="ul"||R.type==="ol"?"li":void 0,F=new Ry(this.chart,y,k,W,S);return R.proxyContainerElement.appendChild(F.element),R.proxyElements.push(F),F}addGroup(C,y="div",k){let S,R=this.groups[C];if(R)return R.groupElement;let W=this.domElementProvider.createElement(y);return k&&k.role&&y!=="div"?(S=this.domElementProvider.createElement("div")).appendChild(W):S=W,S.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+C.replace(/\W/g,"-"),this.groups[C]={proxyContainerElement:W,groupElement:S,type:y,proxyElements:[]},dr(S,k||{}),y==="ul"&&W.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(S),this.updateGroupOrder(this.groupOrder),S}updateGroupAttrs(C,y){let k=this.groups[C];if(!k)throw Error("ProxyProvider.updateGroupAttrs: Invalid group key "+C);dr(k.groupElement,y)}updateGroupOrder(C){if(this.groupOrder=C.slice(),this.isDOMOrderGroupOrder())return;let y=C.indexOf("series"),k=y>-1?C.slice(0,y):C,S=y>-1?C.slice(y+1):[],R=Rh.activeElement;["before","after"].forEach(W=>{let F=this[W==="before"?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"];Dh(F),(W==="before"?k:S).forEach(Z=>{let ce=this.groups[Z];ce&&F.appendChild(ce.groupElement)})}),(this.beforeChartProxyPosContainer.contains(R)||this.afterChartProxyPosContainer.contains(R))&&R&&R.focus&&R.focus()}clearGroup(C){let y=this.groups[C];if(!y)throw Error("ProxyProvider.clearGroup: Invalid group key "+C);Dh(y.proxyContainerElement)}removeGroup(C){let y=this.groups[C];y&&(this.domElementProvider.removeElement(y.groupElement),y.groupElement!==y.proxyContainerElement&&this.domElementProvider.removeElement(y.proxyContainerElement),delete this.groups[C])}update(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()}updateProxyElementPositions(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))}updateGroupProxyElementPositions(C){let y=this.groups[C];y&&y.proxyElements.forEach(k=>k.refreshPosition())}destroy(){this.domElementProvider.destroyCreatedElements()}createProxyPosContainer(C){let y=this.domElementProvider.createElement("div");return y.setAttribute("aria-hidden","false"),y.className="highcharts-a11y-proxy-container"+(C?"-"+C:""),Un(y,{top:"0",left:"0"}),this.chart.styledMode||(y.style.whiteSpace="nowrap",y.style.position="absolute"),y}getCurrentGroupOrderInDOM(){let C=R=>{let W=Object.keys(this.groups),F=W.length;for(;F--;){let Z=W[F],ce=this.groups[Z];if(ce&&R===ce.groupElement)return Z}},y=R=>{let W=[],F=R.children;for(let Z=0;Z<F.length;++Z){let ce=C(F[Z]);ce&&W.push(ce)}return W},k=y(this.beforeChartProxyPosContainer),S=y(this.afterChartProxyPosContainer);return k.push("series"),k.concat(S)}isDOMOrderGroupOrder(){let C=this.getCurrentGroupOrderInDOM(),y=this.groupOrder.filter(S=>S==="series"||!!this.groups[S]),k=C.length;if(k!==y.length)return!1;for(;k--;)if(C[k]!==y[k])return!1;return!0}updatePosContainerPositions(){let C=this.chart;if(C.renderer.forExport)return;let y=C.renderer.box;C.container.insertBefore(this.afterChartProxyPosContainer,y.nextSibling),C.container.insertBefore(this.beforeChartProxyPosContainer,y),sf(this.chart,this.afterChartProxyPosContainer),sf(this.chart,this.beforeChartProxyPosContainer)}},{unhideChartElementFromAT:ka,getAxisRangeDescription:Xn}=xe,{addEvent:Bl,attr:of}=K();class Kc extends vt{init(){let y=this.chart;this.announcer=new lt(y,"polite")}onChartUpdate(){let y=this.chart,k=this,S=y.rangeSelector;S&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),S.buttons&&S.buttons.length&&S.buttons.forEach(R=>{k.setRangeButtonAttrs(R)}),S.maxInput&&S.minInput&&["minInput","maxInput"].forEach(function(R,W){let F=S[R];F&&(ka(y,F),k.setRangeInputAttrs(F,"accessibility.rangeSelector."+(W?"max":"min")+"InputLabel"))}))}updateSelectorVisibility(){let y=this.chart,k=y.rangeSelector,S=k&&k.dropdown,R=k&&k.buttons||[],W=F=>F.setAttribute("aria-hidden",!0);k&&k.hasVisibleDropdown&&S?(ka(y,S),R.forEach(F=>W(F.element))):(S&&W(S),R.forEach(F=>ka(y,F.element)))}setDropdownAttrs(){let y=this.chart,k=y.rangeSelector&&y.rangeSelector.dropdown;if(k){let S=y.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:y.options.lang.rangeSelectorZoom});k.setAttribute("aria-label",S),k.setAttribute("tabindex",-1)}}setRangeButtonAttrs(y){of(y.element,{tabindex:-1,role:"button"})}setRangeInputAttrs(y,k){let S=this.chart;of(y,{tabindex:-1,"aria-label":S.langFormat(k,{chart:S})})}onButtonNavKbdArrowKey(y,k){let S=y.response,R=this.keyCodes,W=this.chart,F=W.options.accessibility.keyboardNavigation.wrapAround,Z=k===R.left||k===R.up?-1:1;return W.highlightRangeSelectorButton(W.highlightedRangeSelectorItemIx+Z)?S.success:F?(y.init(Z),S.success):S[Z>0?"next":"prev"]}onButtonNavKbdClick(y){let k=y.response,S=this.chart;return S.oldRangeSelectorItemState!==3&&this.fakeClickEvent(S.rangeSelector.buttons[S.highlightedRangeSelectorItemIx].element),k.success}onAfterBtnClick(){let y=this.chart,k=Xn(y.xAxis[0]),S=y.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:y,axisRangeDescription:k});S&&this.announcer.announce(S)}onInputKbdMove(y){let k=this.chart,S=k.rangeSelector,R=k.highlightedInputRangeIx=(k.highlightedInputRangeIx||0)+y;if(R>1||R<0){if(k.accessibility)return k.accessibility.keyboardNavigation.exiting=!0,k.accessibility.keyboardNavigation.tabindexContainer.focus(),k.accessibility.keyboardNavigation.move(y)}else if(S){let W=S[R?"maxDateBox":"minDateBox"],F=S[R?"maxInput":"minInput"];W&&F&&k.setFocusToElement(W,F)}return!0}onInputNavInit(y){let k=this,S=this.chart,R=y>0?0:1,W=S.rangeSelector,F=W&&W[R?"maxDateBox":"minDateBox"],Z=W&&W.minInput,ce=W&&W.maxInput;if(S.highlightedInputRangeIx=R,F&&Z&&ce){S.setFocusToElement(F,R?ce:Z),this.removeInputKeydownHandler&&this.removeInputKeydownHandler();let de=Xe=>{(Xe.which||Xe.keyCode)===this.keyCodes.tab&&k.onInputKbdMove(Xe.shiftKey?-1:1)&&(Xe.preventDefault(),Xe.stopPropagation())},ye=Bl(Z,"keydown",de),qe=Bl(ce,"keydown",de);this.removeInputKeydownHandler=()=>{ye(),qe()}}}onInputNavTerminate(){let y=this.chart.rangeSelector||{};y.maxInput&&y.hideInput("max"),y.minInput&&y.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)}initDropdownNav(){let y=this.chart,k=y.rangeSelector,S=k&&k.dropdown;k&&S&&(y.setFocusToElement(k.buttonGroup,S),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=Bl(S,"keydown",R=>{let W=(R.which||R.keyCode)===this.keyCodes.tab,F=y.accessibility;W&&(R.preventDefault(),R.stopPropagation(),F&&F.keyboardNavigation.move(R.shiftKey?-1:1))}))}getRangeSelectorButtonNavigation(){let y=this.chart,k=this.keyCodes,S=this;return new Se(y,{keyCodeMap:[[[k.left,k.right,k.up,k.down],function(R){return S.onButtonNavKbdArrowKey(this,R)}],[[k.enter,k.space],function(){return S.onButtonNavKbdClick(this)}]],validate:function(){return!!(y.rangeSelector&&y.rangeSelector.buttons&&y.rangeSelector.buttons.length)},init:function(R){let W=y.rangeSelector;if(W&&W.hasVisibleDropdown)S.initDropdownNav();else if(W){let F=W.buttons.length-1;y.highlightRangeSelectorButton(R>0?0:F)}},terminate:function(){S.removeDropdownKeydownHandler&&(S.removeDropdownKeydownHandler(),delete S.removeDropdownKeydownHandler)}})}getRangeSelectorInputNavigation(){let y=this.chart,k=this;return new Se(y,{keyCodeMap:[],validate:function(){return!!(y.rangeSelector&&y.rangeSelector.inputGroup&&y.rangeSelector.inputGroup.element.style.visibility!=="hidden"&&y.options.rangeSelector.inputEnabled!==!1&&y.rangeSelector.minInput&&y.rangeSelector.maxInput)},init:function(S){k.onInputNavInit(S)},terminate:function(){k.onInputNavTerminate()}})}getKeyboardNavigation(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]}destroy(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()}}(function(C){function y(S){let R=this.rangeSelector&&this.rangeSelector.buttons||[],W=this.highlightedRangeSelectorItemIx,F=this.rangeSelector&&this.rangeSelector.selected;return W!==void 0&&R[W]&&W!==F&&R[W].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=S,!!R[S]&&(this.setFocusToElement(R[S].box,R[S].element),S!==F&&(this.oldRangeSelectorItemState=R[S].state,R[S].setState(1)),!0)}function k(){let S=this.chart.accessibility;if(S&&S.components.rangeSelector)return S.components.rangeSelector.onAfterBtnClick()}C.compose=function(S,R){let W=S.prototype;W.highlightRangeSelectorButton||(W.highlightRangeSelectorButton=y,Bl(R,"afterBtnClick",k))}})(Kc||(Kc={}));let tn=Kc,{composed:af}=K(),{addEvent:Mo,merge:Yc,pushUnique:Xc}=K();(function(C){function y(ce){Yc(!0,ce,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function k(ce){return ce.marker.states&&ce.marker.states.normal&&ce.marker.states.normal.opacity}function S(ce){return!!(ce._hasPointMarkers&&ce.points&&ce.points.length)}function R(){this.chart.styledMode&&(this.markerGroup&&this.markerGroup[this.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),S(this)&&this.points.forEach(ce=>{ce.graphic&&(ce.graphic[ce.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),ce.graphic[ce.hasForcedA11yMarker===!1?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))}function W(ce){this.resetA11yMarkerOptions=Yc(ce.options.marker||{},this.userOptions.marker||{})}function F(){let ce=this.options;(function(de){let ye=de.chart.options.accessibility.enabled,qe=(de.options.accessibility&&de.options.accessibility.enabled)!==!1;return ye&&qe&&function(Xe){let tt=Xe.chart.options.accessibility;return Xe.points.length<tt.series.pointDescriptionEnabledThreshold||tt.series.pointDescriptionEnabledThreshold===!1}(de)})(this)?(ce.marker&&ce.marker.enabled===!1&&(this.a11yMarkersForced=!0,y(this.options)),S(this)&&function(de){let ye=de.points.length;for(;ye--;){let Xe=de.points[ye],tt=Xe.options,Qe=Xe.hasForcedA11yMarker;if(delete Xe.hasForcedA11yMarker,tt.marker){var qe;let bt=Qe&&k(tt)===0;tt.marker.enabled&&!bt?(Yc(!0,(qe=tt).marker,{states:{normal:{opacity:k(qe)||1}}}),Xe.hasForcedA11yMarker=!1):tt.marker.enabled===!1&&(y(tt),Xe.hasForcedA11yMarker=!0)}}}(this)):this.a11yMarkersForced&&(delete this.a11yMarkersForced,function(de){let ye=de.resetA11yMarkerOptions;if(ye){let qe=ye.states&&ye.states.normal&&ye.states.normal.opacity;de.userOptions&&de.userOptions.marker&&(de.userOptions.marker.enabled=!0),de.update({marker:{enabled:ye.enabled,states:{normal:{opacity:qe}}}})}}(this),ce.marker&&ce.marker.enabled===!1&&delete this.resetA11yMarkerOptions)}function Z(){this.boosted&&this.a11yMarkersForced&&(Yc(!0,this.options,{marker:{enabled:!1}}),delete this.a11yMarkersForced)}C.compose=function(ce){Xc(af,"A11y.FM")&&(Mo(ce,"afterSetOptions",W),Mo(ce,"render",F),Mo(ce,"afterRender",R),Mo(ce,"renderCanvas",Z))}})(X||(X={}));let dn=X;var Qc=ne(260),Dy=ne.n(Qc),Oy=ne(820),Ly=ne.n(Oy);let{seriesTypes:Lh}=No(),{doc:Ta}=K(),{defined:Ps,fireEvent:Fy}=K(),{getPointFromXY:By,getSeriesFromName:Jc,scrollAxisToPoint:Vy}=xe;function Fh(C){let y=C.index,k=C.series.points,S=k.length;if(k[y]===C)return y;for(;S--;)if(k[S]===C)return S}function Vl(C){let y=C.chart.options.accessibility.keyboardNavigation.seriesNavigation,k=C.options.accessibility||{},S=k.keyboardNavigation;return S&&S.enabled===!1||k.enabled===!1||C.options.enableMouseTracking===!1||!C.visible||y.pointNavigationEnabledThreshold&&+y.pointNavigationEnabledThreshold<=C.points.length}function Ul(C){let y=C.series,k=y.options.nullInteraction,S=C.options.accessibility,R=y.chart.options.accessibility,W=(S==null?void 0:S.enabled)===!1;return R.keyboardNavigation.seriesNavigation.skipNullPoints??(!(!C.isNull||k)&&C.visible===!1||C.isInside===!1||W||Vl(y))}function Zc(C){let y=C.series||[],k=y.length;for(let S=0;S<k;++S)if(!Vl(y[S])){let R=function(W){let F=W.points||[],Z=F.length;for(let ce=0;ce<Z;++ce)if(!Ul(F[ce]))return F[ce];return null}(y[S]);if(R)return R}return null}function lf(C){let y=C.series.length,k=!1;for(;y--&&(C.highlightedPoint=C.series[y].points[C.series[y].points.length-1],!(k=C.series[y].highlightNextValidPoint())););return k}function Bh(C){delete C.highlightedPoint;let y=Zc(C);return!!y&&y.highlight()}class eu{constructor(y,k){this.keyCodes=k,this.chart=y}init(){let y=this,k=this.chart,S=this.eventProvider=new je;S.addEvent(Ly(),"destroy",function(){return y.onSeriesDestroy(this)}),S.addEvent(k,"afterApplyDrilldown",function(){let R=Zc(this);R&&R.highlight(!1)}),S.addEvent(k,"drilldown",function(R){let W=R.point,F=W.series;y.lastDrilledDownPoint={x:W.x,y:W.y,seriesName:F?F.name:""}}),S.addEvent(k,"drillupall",function(){setTimeout(function(){y.onDrillupAll()},10)}),S.addEvent(Dy(),"afterSetState",function(){let R=this.graphic&&this.graphic.element,W=Ta.activeElement,F=W&&W.getAttribute("class"),Z=F&&F.indexOf("highcharts-a11y-proxy-element")>-1;k.highlightedPoint===this&&W!==R&&!Z&&R&&R.focus&&R.focus()})}onDrillupAll(){let y,k=this.lastDrilledDownPoint,S=this.chart,R=k&&Jc(S,k.seriesName);k&&R&&Ps(k.x)&&Ps(k.y)&&(y=By(R,k.x,k.y)),y=y||Zc(S),S.container&&S.container.focus(),y&&y.highlight&&y.highlight(!1)}getKeyboardNavigationHandler(){let y=this,k=this.keyCodes,S=this.chart,R=S.inverted;return new Se(S,{keyCodeMap:[[R?[k.up,k.down]:[k.left,k.right],function(W){return y.onKbdSideways(this,W)}],[R?[k.left,k.right]:[k.up,k.down],function(W){return y.onKbdVertical(this,W)}],[[k.enter,k.space],function(W,F){var ce;let Z=S.highlightedPoint;if(Z){let{plotLeft:de,plotTop:ye}=this.chart,{plotX:qe=0,plotY:Xe=0}=Z;F={...F,chartX:de+qe,chartY:ye+Xe,point:Z,target:((ce=Z.graphic)==null?void 0:ce.element)||F.target},Fy(Z.series,"click",F),Z.firePointEvent("click",F)}return this.response.success}],[[k.home],function(){return Bh(S),this.response.success}],[[k.end],function(){return lf(S),this.response.success}],[[k.pageDown,k.pageUp],function(W){return S.highlightAdjacentSeries(W===k.pageDown),this.response.success}]],init:function(){return y.onHandlerInit(this)},validate:function(){return!!Zc(S)},terminate:function(){return y.onHandlerTerminate()}})}onKbdSideways(y,k){let S=this.keyCodes,R=k===S.right||k===S.down;return this.attemptHighlightAdjacentPoint(y,R)}onHandlerInit(y){let k=this.chart;return k.options.accessibility.keyboardNavigation.seriesNavigation.rememberPointFocus&&k.highlightedPoint?k.highlightedPoint.highlight():Bh(k),y.response.success}onKbdVertical(y,k){let S=this.chart,R=this.keyCodes,W=k===R.down||k===R.right,F=S.options.accessibility.keyboardNavigation.seriesNavigation;if(F.mode&&F.mode==="serialize")return this.attemptHighlightAdjacentPoint(y,W);let Z=S.highlightedPoint&&S.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries";return S[Z](W),y.response.success}onHandlerTerminate(){let y=this.chart,k=y.options.accessibility.keyboardNavigation;y.tooltip&&y.tooltip.hide(0);let S=y.highlightedPoint&&y.highlightedPoint.series;S&&S.onMouseOut&&S.onMouseOut(),y.highlightedPoint&&y.highlightedPoint.onMouseOut&&y.highlightedPoint.onMouseOut(),k.seriesNavigation.rememberPointFocus||delete y.highlightedPoint}attemptHighlightAdjacentPoint(y,k){let S=this.chart,R=S.options.accessibility.keyboardNavigation.wrapAround;return S.highlightAdjacentPoint(k)||R&&(k?Bh(S):lf(S))?y.response.success:y.response[k?"next":"prev"]}onSeriesDestroy(y){let k=this.chart;k.highlightedPoint&&k.highlightedPoint.series===y&&(delete k.highlightedPoint,k.focusElement&&k.focusElement.removeFocusBorder())}destroy(){this.eventProvider.removeAddedEvents()}}(function(C){function y(F){let Z,ce,de=this.series,ye=this.highlightedPoint,qe=ye&&Fh(ye)||0,Xe=ye&&ye.series.points||[],tt=this.series&&this.series[this.series.length-1],Qe=tt&&tt.points&&tt.points[tt.points.length-1];if(!de[0]||!de[0].points)return!1;if(ye){if(Z=de[ye.series.index+(F?1:-1)],(ce=Xe[qe+(F?1:-1)])||!Z||(ce=Z.points[F?0:Z.points.length-1]),!ce)return!1}else ce=F?de[0].points[0]:Qe;return Ul(ce)?(Vl(Z=ce.series)?this.highlightedPoint=F?Z.points[Z.points.length-1]:Z.points[0]:this.highlightedPoint=ce,this.highlightAdjacentPoint(F)):ce.highlight()}function k(F){let Z=this.highlightedPoint,ce=1/0,de;return!!Ps(Z.plotX)&&!!Ps(Z.plotY)&&(this.series.forEach(ye=>{Vl(ye)||ye.points.forEach(qe=>{if(!Ps(qe.plotY)||!Ps(qe.plotX)||qe===Z)return;let Xe=qe.plotY-Z.plotY,tt=Math.abs(qe.plotX-Z.plotX),Qe=Math.abs(Xe)*Math.abs(Xe)+tt*tt*4;ye.yAxis&&ye.yAxis.reversed&&(Xe*=-1),!(Xe<=0&&F||Xe>=0&&!F||Qe<5||Ul(qe))&&Qe<ce&&(ce=Qe,de=qe)})}),!!de&&de.highlight())}function S(F){let Z,ce,de,ye=this.highlightedPoint,qe=this.series&&this.series[this.series.length-1],Xe=qe&&qe.points&&qe.points[qe.points.length-1];return this.highlightedPoint?!!(Z=this.series[ye.series.index+(F?-1:1)])&&!!(ce=function(tt,Qe,bt,Gt){let Kt=1/0,an,xn,nn,Zt=Qe.points.length,yn=wn=>!(Ps(wn.plotX)&&Ps(wn.plotY));if(!yn(tt)){for(;Zt--;)!yn(an=Qe.points[Zt])&&(nn=(tt.plotX-an.plotX)*(tt.plotX-an.plotX)*4+(tt.plotY-an.plotY)*(tt.plotY-an.plotY)*1)<Kt&&(Kt=nn,xn=Zt);return Ps(xn)?Qe.points[xn]:void 0}}(ye,Z))&&(Vl(Z)?(ce.highlight(),(de=this.highlightAdjacentSeries(F))?de:(ye.highlight(),!1)):(ce.highlight(),ce.series.highlightNextValidPoint())):(Z=F?this.series&&this.series[0]:qe,!!(ce=F?Z&&Z.points&&Z.points[0]:Xe)&&ce.highlight())}function R(F=!0){var ye,qe,Xe;let Z=this.series.chart,ce=(qe=(ye=Z.tooltip)==null?void 0:ye.label)==null?void 0:qe.element;(!this.isNull||(Xe=this.series.options)!=null&&Xe.nullInteraction)&&F?this.onMouseOver():Z.tooltip&&Z.tooltip.hide(0),Vy(this),this.graphic&&(Z.setFocusToElement(this.graphic),!F&&Z.focusElement&&Z.focusElement.removeFocusBorder()),Z.highlightedPoint=this;let de=ce==null?void 0:ce.getBoundingClientRect().top;if(ce&&de&&de<0){let tt=window.scrollY;window.scrollTo({behavior:"smooth",top:tt+de})}return this}function W(){let F=this.chart.highlightedPoint,Z=(F&&F.series)===this?Fh(F):0,ce=this.points,de=ce.length;if(ce&&de){for(let ye=Z;ye<de;++ye)if(!Ul(ce[ye]))return ce[ye].highlight();for(let ye=Z;ye>=0;--ye)if(!Ul(ce[ye]))return ce[ye].highlight()}return!1}C.compose=function(F,Z,ce){let de=F.prototype,ye=Z.prototype,qe=ce.prototype;de.highlightAdjacentPoint||(de.highlightAdjacentPoint=y,de.highlightAdjacentPointVertical=k,de.highlightAdjacentSeries=S,ye.highlight=R,qe.keyboardMoveVertical=!0,["column","gantt","pie"].forEach(Xe=>{Lh[Xe]&&(Lh[Xe].prototype.keyboardMoveVertical=!1)}),qe.highlightNextValidPoint=W)}})(eu||(eu={}));let cf=eu,{hideSeriesFromAT:Uy}=xe,{describeSeries:uf}=wa,Vh=class extends vt{static compose(C,y,k){Ih.compose(k),dn.compose(k),cf.compose(C,y,k)}init(){this.newDataAnnouncer=new Ih(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new cf(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()}hideTooltipFromATWhenShown(){let C=this;this.chart.tooltip&&this.addEvent(this.chart.tooltip.constructor,"refresh",function(){this.chart===C.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})}hideSeriesLabelsFromATWhenShown(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(C){C.labelBySeries&&C.labelBySeries.attr("aria-hidden",!0)})})}onChartRender(){this.chart.series.forEach(function(C){(C.options.accessibility&&C.options.accessibility.enabled)!==!1&&C.visible&&C.getPointsCollection().length!==0?uf(C):Uy(C)})}getKeyboardNavigation(){return this.keyboardNavigation.getKeyboardNavigationHandler()}destroy(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()}},{unhideChartElementFromAT:ps}=xe,{getFakeMouseEvent:Uh}=pt,{attr:zy,pick:qy}=K(),hf=class extends vt{constructor(){super(...arguments),this.focusedMapNavButtonIx=-1}init(){let C=this,y=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach(k=>{C.addEvent(y,k,function(){C.updateProxyOverlays()})})}onChartUpdate(){let C=this.chart,y=this;C.mapNavigation&&C.mapNavigation.navButtons.forEach((k,S)=>{ps(C,k.element),y.setMapNavButtonAttrs(k.element,"accessibility.zoom.mapZoom"+(S?"Out":"In"))})}setMapNavButtonAttrs(C,y){let k=this.chart;zy(C,{tabindex:-1,role:"button","aria-label":k.langFormat(y,{chart:k})})}onChartRender(){this.updateProxyOverlays()}updateProxyOverlays(){let C=this.chart;if(this.proxyProvider.clearGroup("zoom"),C.resetZoomButton&&this.createZoomProxyButton(C.resetZoomButton,"resetZoomProxyButton",C.langFormat("accessibility.zoom.resetZoomButton",{chart:C})),C.drillUpButton&&C.breadcrumbs&&C.breadcrumbs.list){let y=C.breadcrumbs.list[C.breadcrumbs.list.length-1];this.createZoomProxyButton(C.drillUpButton,"drillUpProxyButton",C.langFormat("accessibility.drillUpButton",{chart:C,buttonText:C.breadcrumbs.getButtonText(y)}))}}createZoomProxyButton(C,y,k){this[y]=this.proxyProvider.addProxyElement("zoom",{click:C},"button",{"aria-label":k,tabindex:-1})}getMapZoomNavigation(){let C=this.keyCodes,y=this.chart,k=this;return new Se(y,{keyCodeMap:[[[C.up,C.down,C.left,C.right],function(S){return k.onMapKbdArrow(this,S)}],[[C.tab],function(S,R){return k.onMapKbdTab(this,R)}],[[C.space,C.enter],function(){return k.onMapKbdClick(this)}]],validate:function(){return!!(y.mapView&&y.mapNavigation&&y.mapNavigation.navButtons.length)},init:function(S){return k.onMapNavInit(S)}})}onMapKbdArrow(C,y){let k=this.chart,S=this.keyCodes,R=k.container,W=y===S.up||y===S.down,F=y===S.left||y===S.up?1:-1,Z=(W?k.plotHeight:k.plotWidth)/10*F,ce=10*Math.random(),de={x:R.offsetLeft+k.plotLeft+k.plotWidth/2+ce,y:R.offsetTop+k.plotTop+k.plotHeight/2+ce},ye=W?{x:de.x,y:de.y+Z}:{x:de.x+Z,y:de.y};return[Uh("mousedown",de),Uh("mousemove",ye),Uh("mouseup",ye)].forEach(qe=>R.dispatchEvent(qe)),C.response.success}onMapKbdTab(C,y){let k=this.chart,S=C.response,R=y.shiftKey,W=R&&!this.focusedMapNavButtonIx||!R&&this.focusedMapNavButtonIx;if(k.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0),W)return k.mapView&&k.mapView.zoomBy(),S[R?"prev":"next"];this.focusedMapNavButtonIx+=R?-1:1;let F=k.mapNavigation.navButtons[this.focusedMapNavButtonIx];return k.setFocusToElement(F.box,F.element),F.setState(2),S.success}onMapKbdClick(C){let y=this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element;return this.fakeClickEvent(y),C.response.success}onMapNavInit(C){let y=this.chart,k=y.mapNavigation.navButtons[0],S=y.mapNavigation.navButtons[1],R=C>0?k:S;y.setFocusToElement(R.box,R.element),R.setState(2),this.focusedMapNavButtonIx=C>0?0:1}simpleButtonNavigation(C,y,k){let S=this.keyCodes,R=this,W=this.chart;return new Se(W,{keyCodeMap:[[[S.tab,S.up,S.down,S.left,S.right],function(F,Z){let ce=F===S.tab&&Z.shiftKey||F===S.left||F===S.up;return this.response[ce?"prev":"next"]}],[[S.space,S.enter],function(){return qy(k(this,W),this.response.success)}]],validate:function(){return W[C]&&W[C].box&&R[y].innerElement},init:function(){W.setFocusToElement(W[C].box,R[y].innerElement)}})}getKeyboardNavigation(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(C,y){y.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(C,y){return y.drillUp(),C.response.prev}),this.getMapZoomNavigation()]}},{doc:zh,isMS:$y,win:Ro}=K(),df={isHighContrastModeActive:function(){if($y&&Ro.getComputedStyle){let C=zh.createElement("div");C.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",zh.body.appendChild(C);let y=(C.currentStyle||Ro.getComputedStyle(C)).backgroundImage;return zh.body.removeChild(C),y==="none"}return Ro.matchMedia&&Ro.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function(C){var S;C.highContrastModeActive=!0;let y=C.options.accessibility.highContrastTheme;C.update(y,!1);let k=((S=y.colors)==null?void 0:S.length)>1;C.series.forEach(function(R){let W=y.plotOptions[R.type]||{},F=k&&R.colorIndex!==void 0?y.colors[R.colorIndex]:W.color||"window",Z={color:W.color||"windowText",colors:k?y.colors:[W.color||"windowText"],borderColor:W.borderColor||"window",fillColor:F};R.update(Z,!1),R.points&&R.points.forEach(function(ce){ce.options&&ce.options.color&&ce.update({color:W.color||"windowText",borderColor:W.borderColor||"window"},!1)})}),C.redraw()}},pf={chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[],dataClasses:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}},{error:tu,pick:Hy}=K();function qh(C,y,k){let S=C,R,W=0;for(;W<y.length-1;++W)S=S[R=y[W]]=Hy(S[R],{});S[y[y.length-1]]=k}function $h(C,y,k,S){function R(Z,ce){return ce.reduce(function(de,ye){return de[ye]},Z)}let W=R(C.options,y),F=R(C.options,k);Object.keys(S).forEach(function(Z){let ce=W[Z];ce!==void 0&&(qh(F,S[Z],ce),tu(32,!1,C,{[y.join(".")+"."+Z]:k.join(".")+"."+S[Z].join(".")}))})}let Wy=function(C){let y=C.options.chart,k=C.options.accessibility||{};["description","typeDescription"].forEach(function(S){y[S]&&(k[S]=y[S],tu(32,!1,C,{[`chart.${S}`]:`use accessibility.${S}`}))}),C.axes.forEach(function(S){let R=S.options;R&&R.description&&(R.accessibility=R.accessibility||{},R.accessibility.description=R.description,tu(32,!1,C,{"axis.description":"use axis.accessibility.description"}))}),C.series&&function(S){let R={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};S.series.forEach(function(W){Object.keys(R).forEach(function(F){let Z=W.options[F];F==="accessibility.pointDescriptionFormatter"&&(Z=W.options.accessibility&&W.options.accessibility.pointDescriptionFormatter),Z!==void 0&&(qh(W.options,R[F],F==="skipKeyboardNavigation"?!Z:Z),tu(32,!1,S,{[`series.${F}`]:"series."+R[F].join(".")}))})})}(C),$h(C,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]}),$h(C,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]}),$h(C,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})},{defaultOptions:Gy}=K(),{doc:so}=K(),{addEvent:oo,extend:Ky,fireEvent:Hh,merge:nu}=K(),{removeElement:ff}=pt;class Wh{constructor(y){this.init(y)}init(y){if(this.chart=y,!(so!=null&&so.addEventListener)){this.zombie=!0,this.components={},y.renderTo.setAttribute("aria-hidden",!0);return}Wy(y),this.proxyProvider=new Oh(this.chart),this.initComponents(),this.keyboardNavigation=new Co(y,this.components)}initComponents(){let y=this.chart,k=this.proxyProvider,S=y.options.accessibility;this.components={container:new at,infoRegions:new ji,legend:new os,chartMenu:new xt,rangeSelector:new tn,series:new Vh,zoom:new hf,navigator:new Ty},S.customComponents&&Ky(this.components,S.customComponents);let R=this.components;this.getComponentOrder().forEach(function(W){R[W].initBase(y,k),R[W].init()})}getComponentOrder(){return this.components?this.components.series?["series"].concat(Object.keys(this.components).filter(y=>y!=="series")):Object.keys(this.components):[]}update(){let y=this.components,k=this.chart,S=k.options.accessibility;Hh(k,"beforeA11yUpdate"),k.types=this.getChartTypes();let R=S.keyboardNavigation.order;this.proxyProvider.updateGroupOrder(R),this.getComponentOrder().forEach(function(W){y[W].onChartUpdate(),Hh(k,"afterA11yComponentUpdate",{name:W,component:y[W]})}),this.keyboardNavigation.update(R),!k.highContrastModeActive&&S.highContrastMode!==!1&&(df.isHighContrastModeActive()||S.highContrastMode===!0)&&df.setHighContrastTheme(k),Hh(k,"afterA11yUpdate",{accessibility:this})}destroy(){let y=this.chart||{},k=this.components;Object.keys(k).forEach(function(S){k[S].destroy(),k[S].destroyBase()}),this.proxyProvider&&this.proxyProvider.destroy(),y.announcerContainer&&ff(y.announcerContainer),this.keyboardNavigation&&this.keyboardNavigation.destroy(),y.renderTo&&y.renderTo.setAttribute("aria-hidden",!0),y.focusElement&&y.focusElement.removeFocusBorder()}getChartTypes(){let y={};return this.chart.series.forEach(function(k){y[k.type]=1}),Object.keys(y)}}(function(C){function y(){this.accessibility&&this.accessibility.destroy()}function k(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());let F=this.accessibility;F&&!F.zombie&&(F.proxyProvider.updateProxyElementPositions(),F.getComponentOrder().forEach(function(Z){F.components[Z].onChartRender()}))}function S(F){let Z=F.options.accessibility;Z&&(Z.customComponents&&(this.options.accessibility.customComponents=Z.customComponents,delete Z.customComponents),nu(!0,this.options.accessibility,Z),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function R(){let F=this.accessibility,Z=this.options.accessibility,ce=this.renderer.boxWrapper.element,de=this.title;if(Z&&Z.enabled)F&&!F.zombie?F.update():(this.accessibility=F=new C(this),F&&!F.zombie&&F.update(),ce.getAttribute("role")==="img"&&ce.removeAttribute("role"));else if(F)F.destroy&&F.destroy(),delete this.accessibility;else{this.renderTo.setAttribute("role","img"),this.renderTo.setAttribute("aria-hidden",!1),this.renderTo.setAttribute("aria-label",(de&&de.element.textContent||"").replace(/</g,"&lt;")),ce.setAttribute("aria-hidden",!0);let ye=document.getElementsByClassName("highcharts-description")[0];ye&&(ye.setAttribute("aria-hidden",!1),ye.classList.remove("highcharts-linked-description"))}}function W(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}C.i18nFormat=ut.i18nFormat,C.compose=function(F,Z,ce,de,ye,qe){Co.compose(F),Ih.compose(de),os.compose(F,Z),xt.compose(F),Vh.compose(F,ce,de),ut.compose(F),ue.compose(F,ye),qe&&tn.compose(F,qe);let Xe=F.prototype;Xe.updateA11yEnabled||(Xe.updateA11yEnabled=R,oo(F,"destroy",y),oo(F,"render",k),oo(F,"update",S),["addSeries","init"].forEach(tt=>{oo(F,tt,function(){this.a11yDirty=!0})}),["afterApplyDrilldown","drillupall"].forEach(tt=>{oo(F,tt,function(){let Qe=this.accessibility;Qe&&!Qe.zombie&&Qe.update()})}),oo(ce,"update",W),["update","updatedData","remove"].forEach(tt=>{oo(de,tt,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})}))}})(Wh||(Wh={})),nu(!0,Gy,{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',highContrastMode:"auto",keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#334eff",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","navigator","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:void 0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}},navigator:{accessibility:{enabled:!0}}},{accessibility:{highContrastTheme:pf},lang:{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{#each additionalAnnotationPoints}, also related to {this}{/each}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},navigator:{handleLabel:"{#eq handleIx 0}Start, percent{else}End, percent{/eq}",groupLabel:"Axis zoom",changeAnnouncement:"{axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#eq numPoints 1}bar{else}bars{/eq}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#eq numPoints 1}bar{else}bars{/eq}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#eq numPoints 1}slice{else}slices{/eq}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#eq numPoints 1}point{else}points{/eq}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#eq numPoints 1}box{else}boxes{/eq}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#eq numPoints 1}bubbles{else}bubble{/eq}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each names}{#unless @first},{/unless}{#if @last} and{/if} {this}{/each}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each names}{#unless @first},{/unless}{#if @last} and{/if} {this}{/each}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}slice{else}slices{/eq}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#eq series.points.length 1}slice{else}slices{/eq}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}point{else}points{/eq}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#eq series.points.length 1}point{else}points{/eq}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}box{else}boxes{/eq}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#eq series.points.length 1}box{else}boxes{/eq}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}area{else}areas{/eq}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#eq series.points.length 1}area{else}areas{/eq}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{#each annotations}Annotation: {this}{/each}"}}}});let mf=Wh,Pr=K();Pr.i18nFormat=mf.i18nFormat,Pr.A11yChartUtilities=xe,Pr.A11yHTMLUtilities=pt,Pr.AccessibilityComponent=vt,Pr.KeyboardNavigationHandler=Se,Pr.SeriesAccessibilityDescriber=wa,mf.compose(Pr.Chart,Pr.Legend,Pr.Point,Pr.Series,Pr.SVGElement,Pr.RangeSelector);let Gh=K();return ke.default})())})(AP);var a$=AP.exports;const l$=gl(a$);var NP={exports:{}};(function(t,e){(function(n,i){t.exports=i(n._Highcharts)})(typeof window>"u"?wc:window,n=>(()=>{var i,s={944:se=>{se.exports=n}},a={};function u(se){var X=a[se];if(X!==void 0)return X.exports;var L=a[se]={exports:{}};return s[se](L,L.exports,u),L.exports}u.n=se=>{var X=se&&se.__esModule?()=>se.default:()=>se;return u.d(X,{a:X}),X},u.d=(se,X)=>{for(var L in X)u.o(X,L)&&!u.o(se,L)&&Object.defineProperty(se,L,{enumerable:!0,get:X[L]})},u.o=(se,X)=>Object.prototype.hasOwnProperty.call(se,X);var m={};u.d(m,{default:()=>oe});var x=u(944),_=u.n(x);let{setOptions:I}=_(),j=`
        /* Colors for data series and points */
        --highcharts-color-0: #2caffe;
        --highcharts-color-1: #544fc5;
        --highcharts-color-2: #00e272;
        --highcharts-color-3: #fe6a35;
        --highcharts-color-4: #6b8abc;
        --highcharts-color-5: #d568fb;
        --highcharts-color-6: #2ee0ca;
        --highcharts-color-7: #fa4b42;
        --highcharts-color-8: #feb56a;
        --highcharts-color-9: #91e8e1;

    /* Chart background, point stroke for markers and columns etc */
    --highcharts-background-color: #ffffff;

    /*
    Neutral colors, grayscale by default. The default colors are defined by
    mixing the background-color with neutral, with a weight corresponding to
    the number in the name.

    https://www.highcharts.com/samples/highcharts/css/palette-helper
    */

    /* Strong text. */
    --highcharts-neutral-color-100: #000000;

    /* Main text, axis labels and some strokes. */
    --highcharts-neutral-color-80: #333333;

    /* Axis title, connector fallback. */
    --highcharts-neutral-color-60: #666666;

    /* Credits text, export menu stroke. */
    --highcharts-neutral-color-40: #999999;

    /* Disabled texts, button strokes, crosshair etc. */
    --highcharts-neutral-color-20: #cccccc;

    /* Grid lines etc. */
    --highcharts-neutral-color-10: #e6e6e6;

    /* Minor grid lines etc. */
    --highcharts-neutral-color-5: #f2f2f2;

    /* Tooltip background, button fills, map null points. */
    --highcharts-neutral-color-3: #f7f7f7;

    /*
    Highlights, shades of blue by default
    */

    /* Drilldown clickable labels, color axis max color. */
    --highcharts-highlight-color-100: #0022ff;

    /* Selection marker, menu hover, button hover, chart border, navigator
    series. */
    --highcharts-highlight-color-80: #334eff;

    /* Navigator mask fill. */
    --highcharts-highlight-color-60: #667aff;

    /* Ticks and axis line. */
    --highcharts-highlight-color-20: #ccd3ff;

    /* Pressed button, color axis min color. */
    --highcharts-highlight-color-10: #e6e9ff;

    /* Indicators */
    --highcharts-positive-color: #06b535;
    --highcharts-negative-color: #f21313;

    /* Transparent colors for annotations */
    --highcharts-annotation-color-0: rgba(130, 170, 255, 0.4);
    --highcharts-annotation-color-1: rgba(139, 191, 216, 0.4);
    --highcharts-annotation-color-2: rgba(150, 216, 192, 0.4);
    --highcharts-annotation-color-3: rgba(156, 229, 161, 0.4);
    --highcharts-annotation-color-4: rgba(162, 241, 130, 0.4);
    --highcharts-annotation-color-5: rgba(169, 255, 101, 0.4);
`,z=`
    /* Colors for data series and points */
    --highcharts-color-1: #00e272;
    --highcharts-color-2: #efdf00;

    /* UI colors */
    --highcharts-background-color: #141414;

    /*
        Neutral color variations
        https://www.highcharts.com/samples/highcharts/css/palette-helper
    */
    --highcharts-neutral-color-100: #ffffff;
    --highcharts-neutral-color-80: #d0d0d0;
    --highcharts-neutral-color-60: #a1a1a1;
    --highcharts-neutral-color-40: #727272;
    --highcharts-neutral-color-20: #434343;
    --highcharts-neutral-color-10: #2c2c2c;
    --highcharts-neutral-color-5: #202020;
    --highcharts-neutral-color-3: #1b1b1b;

    /* Highlight color variations */
    --highcharts-highlight-color-100: #2caffe;
    --highcharts-highlight-color-80: #2790cf;
    --highcharts-highlight-color-60: #2271a0;
    --highcharts-highlight-color-20: #193343;
    --highcharts-highlight-color-10: #16242b;
`,J=`
:root,
.highcharts-light {
    ${j}
}

@media (prefers-color-scheme: dark) {
    :root {
        ${z}
    }
}

.highcharts-dark {
    ${z}
}
`;(function(se){se.options={colors:["var(--highcharts-color-0)","var(--highcharts-color-1)","var(--highcharts-color-2)","var(--highcharts-color-3)","var(--highcharts-color-4)","var(--highcharts-color-5)","var(--highcharts-color-6)","var(--highcharts-color-7)","var(--highcharts-color-8)","var(--highcharts-color-9)"],global:{buttonTheme:{fill:"var(--highcharts-neutral-color-3)",stroke:"var(--highcharts-neutral-color-20)",style:{color:"var(--highcharts-neutral-color-80)"},states:{hover:{fill:"var(--highcharts-neutral-color-10)"},select:{fill:"var(--highcharts-highlight-color-10)",style:{color:"var(--highcharts-neutral-color-100)"}},disabled:{style:{color:"var(--highcharts-neutral-color-20)"}}}}},chart:{borderColor:"var(--highcharts-highlight-color-80)",backgroundColor:"var(--highcharts-background-color)",plotBorderColor:"var(--highcharts-neutral-color-20)"},title:{style:{color:"var(--highcharts-neutral-color-80)"}},subtitle:{style:{color:"var(--highcharts-neutral-color-60)"}},caption:{style:{color:"var(--highcharts-neutral-color-60)"}},plotOptions:{line:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},area:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},spline:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},areaspline:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},column:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},bar:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},scatter:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},pie:{borderColor:"var(--highcharts-background-color)"},hlc:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},ohlc:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},candlestick:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)",lineColor:"var(--highcharts-neutral-color-100)",upColor:"var(--highcharts-background-color)"},flags:{states:{hover:{lineColor:"var(--highcharts-neutral-color-100)",fillColor:"var(--highcharts-highlight-color-20)"},select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)",fillColor:"var(--highcharts-background-color)",style:{color:"var(--highcharts-neutral-color-100)"}},arearange:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},areasplinerange:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},boxplot:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)",fillColor:"var(--highcharts-background-color)"},bubble:{marker:{states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},columnrange:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},columnpyramid:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},errorbar:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)",fillColor:"var(--highcharts-background-color)",color:"var(--highcharts-neutral-color-100)"},gauge:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}},dataLabels:{borderColor:"var(--highcharts-neutral-color-20)"},dial:{backgroundColor:"var(--highcharts-neutral-color-100)",borderColor:"var(--highcharts-neutral-color-20)"},pivot:{borderColor:"var(--highcharts-neutral-color-20)",backgroundColor:"var(--highcharts-neutral-color-100)"}},packedbubble:{marker:{states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},polygon:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},waterfall:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-neutral-color-80)",lineColor:"var(--highcharts-neutral-color-80)"},scatter3d:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},map:{states:{hover:{borderColor:"var(--highcharts-neutral-color-60)"},select:{color:"var(--highcharts-neutral-color-20)"}},nullColor:"var(--highcharts-neutral-color-3)",borderColor:"var(--highcharts-neutral-color-10)"},mapline:{states:{hover:{borderColor:"var(--highcharts-neutral-color-60)"},select:{color:"var(--highcharts-neutral-color-20)"}},nullColor:"var(--highcharts-neutral-color-3)",borderColor:"var(--highcharts-neutral-color-10)"},mappoint:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}},dataLabels:{style:{color:"var(--highcharts-neutral-color-100)"}}},mapbubble:{marker:{states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},heatmap:{marker:{states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}},nullColor:"var(--highcharts-neutral-color-3)"},xrange:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},gantt:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},sankey:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},dependencywheel:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},funnel:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},pyramid:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},histogram:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-background-color)"},bellcurve:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}}},item:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}},borderColor:"var(--highcharts-background-color)"},organization:{states:{select:{color:"var(--highcharts-neutral-color-20)",borderColor:"var(--highcharts-neutral-color-100)"}},borderColor:"var(--highcharts-neutral-color-60)",link:{color:"var(--highcharts-neutral-color-60)"}},solidgauge:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}},dataLabels:{borderColor:"var(--highcharts-neutral-color-20)"},dial:{backgroundColor:"var(--highcharts-neutral-color-100)",borderColor:"var(--highcharts-neutral-color-20)"},pivot:{borderColor:"var(--highcharts-neutral-color-20)",backgroundColor:"var(--highcharts-neutral-color-100)"}},timeline:{marker:{lineColor:"var(--highcharts-background-color)",states:{select:{fillColor:"var(--highcharts-neutral-color-20)",lineColor:"var(--highcharts-neutral-color-100)"}}},dataLabels:{backgroundColor:"var(--highcharts-background-color)",borderColor:"var(--highcharts-neutral-color-40)",color:"var(--highcharts-neutral-color-80)"}},treemap:{states:{hover:{borderColor:"var(--highcharts-neutral-color-40)"}},borderColor:"var(--highcharts-neutral-color-10)"},sunburst:{states:{hover:{borderColor:"var(--highcharts-neutral-color-40)"}},borderColor:"var(--highcharts-neutral-color-10)"},treegraph:{states:{hover:{borderColor:"var(--highcharts-neutral-color-40)"}},borderColor:"var(--highcharts-neutral-color-10)",link:{color:"var(--highcharts-neutral-color-60)"}}},legend:{borderColor:"var(--highcharts-neutral-color-40)",navigation:{activeColor:"var(--highcharts-highlight-color-100)",inactiveColor:"var(--highcharts-neutral-color-20)"},itemStyle:{color:"var(--highcharts-neutral-color-80)"},itemHoverStyle:{color:"var(--highcharts-neutral-color-100)"},itemHiddenStyle:{color:"var(--highcharts-neutral-color-60)"},title:{style:{color:"var(--highcharts-neutral-color-80)"}},bubbleLegend:{labels:{style:{color:"var(--highcharts-neutral-color-100)"}}}},loading:{style:{backgroundColor:"var(--highcharts-background-color)"}},tooltip:{backgroundColor:"var(--highcharts-background-color)",style:{color:"var(--highcharts-neutral-color-80)"}},credits:{style:{color:"var(--highcharts-neutral-color-40)"}},xAxis:{labels:{style:{color:"var(--highcharts-neutral-color-80)"}},title:{style:{color:"var(--highcharts-neutral-color-60)"}},minorGridLineColor:"var(--highcharts-neutral-color-5)",minorTickColor:"var(--highcharts-neutral-color-40)",lineColor:"var(--highcharts-neutral-color-80)",gridLineColor:"var(--highcharts-neutral-color-10)",tickColor:"var(--highcharts-neutral-color-80)",grid:{borderColor:"var(--highcharts-neutral-color-20)"}},yAxis:{labels:{style:{color:"var(--highcharts-neutral-color-80)"}},title:{style:{color:"var(--highcharts-neutral-color-60)"}},minorGridLineColor:"var(--highcharts-neutral-color-5)",minorTickColor:"var(--highcharts-neutral-color-40)",lineColor:"var(--highcharts-neutral-color-80)",gridLineColor:"var(--highcharts-neutral-color-10)",tickColor:"var(--highcharts-neutral-color-80)",stackLabels:{style:{color:"var(--highcharts-neutral-color-100)"}},grid:{borderColor:"var(--highcharts-neutral-color-20)"}},navigator:{handles:{backgroundColor:"var(--highcharts-neutral-color-5)",borderColor:"var(--highcharts-neutral-color-40)"},outlineColor:"var(--highcharts-neutral-color-40)",xAxis:{gridLineColor:"var(--highcharts-neutral-color-10)",labels:{style:{color:"var(--highcharts-neutral-color-100)"}}}},rangeSelector:{inputStyle:{color:"var(--highcharts-highlight-color-80)"},labelStyle:{color:"var(--highcharts-neutral-color-60)"}},scrollbar:{barBackgroundColor:"var(--highcharts-neutral-color-20)",barBorderColor:"var(--highcharts-neutral-color-20)",buttonArrowColor:"var(--highcharts-neutral-color-80)",buttonBackgroundColor:"var(--highcharts-neutral-color-10)",buttonBorderColor:"var(--highcharts-neutral-color-20)",trackBorderColor:"var(--highcharts-neutral-color-20)"},pane:{background:{borderColor:"var(--highcharts-neutral-color-20)",backgroundColor:{stops:[[0,"var(--highcharts-background-color)"],[1,"var(--highcharts-neutral-color-10)"]]}}},zAxis:{labels:{style:{color:"var(--highcharts-neutral-color-80)"}},title:{style:{color:"var(--highcharts-neutral-color-60)"}},minorGridLineColor:"var(--highcharts-neutral-color-5)",minorTickColor:"var(--highcharts-neutral-color-40)",lineColor:"var(--highcharts-neutral-color-80)",gridLineColor:"var(--highcharts-neutral-color-10)",tickColor:"var(--highcharts-neutral-color-80)"},colorAxis:{labels:{style:{color:"var(--highcharts-neutral-color-80)"}},title:{style:{color:"var(--highcharts-neutral-color-60)"}},minorGridLineColor:"var(--highcharts-neutral-color-5)",minorTickColor:"var(--highcharts-neutral-color-40)",lineColor:"var(--highcharts-neutral-color-80)",gridLineColor:"var(--highcharts-background-color)",tickColor:"var(--highcharts-neutral-color-80)",marker:{color:"var(--highcharts-neutral-color-40)"},minColor:"var(--highcharts-highlight-color-10)",maxColor:"var(--highcharts-highlight-color-100)"},mapNavigation:{buttonOptions:{style:{color:"var(--highcharts-neutral-color-60)"},theme:{fill:"var(--highcharts-background-color)",stroke:"var(--highcharts-neutral-color-10)"}}},accessibility:{keyboardNavigation:{focusBorder:{style:{color:"var(--highcharts-highlight-color-80)"}}}},drilldown:{activeAxisLabelStyle:{color:"var(--highcharts-highlight-color-100)"},activeDataLabelStyle:{color:"var(--highcharts-highlight-color-100)"}},annotations:{labelOptions:{borderColor:"var(--highcharts-neutral-color-100)",backgroundColor:"color-mix(in srgb, var(--highcharts-neutral-color-100) 75%, transparent)"},controlPointOptions:{style:{fill:"var(--highcharts-background-color)",stroke:"var(--highcharts-neutral-color-100)"}},types:{elliottWave:{labelOptions:{style:{color:"var(--highcharts-neutral-color-60)"}}},fibonacci:{typeOptions:{lineColor:"var(--highcharts-neutral-color-40)"},labelOptions:{style:{color:"var(--highcharts-neutral-color-60)"}}},fibonacciTimeZones:{typeOptions:{line:{stroke:"var(--highcharts-neutral-color-80)"}}},verticalLine:{labelOptions:{style:{color:"var(--highcharts-neutral-color-60)"}}},measure:{typeOptions:{label:{style:{color:"var(--highcharts-neutral-color-60)"}}}}},shapeOptions:{fill:"color-mix(in srgb, var(--highcharts-neutral-color-100) 75%, transparent)",stroke:"color-mix(in srgb, var(--highcharts-neutral-color-100) 75%, transparent)"}},navigation:{buttonOptions:{symbolFill:"var(--highcharts-neutral-color-60)",symbolStroke:"var(--highcharts-neutral-color-60)",theme:{fill:"var(--highcharts-background-color)"}},menuStyle:{background:"var(--highcharts-background-color)"},menuItemStyle:{color:"var(--highcharts-neutral-color-80)"},menuItemHoverStyle:{background:"var(--highcharts-neutral-color-5)"}}},se.apply=function(){let X=document.createElement("style");X.nonce="highcharts",X.innerText=J,document.getElementsByTagName("head")[0].appendChild(X),I(se.options)}})(i||(i={}));let te=i;_().theme=te.options,te.apply();let oe=_();return m.default})())})(NP);var c$=NP.exports;const u$=gl(c$),vd=t=>{t&&(typeof t=="function"?t(d0):typeof t.default=="function"&&t.default(d0))};let oS=!1;const h$=()=>{oS||typeof window>"u"||(vd(n$),vd(r$),vd(o$),vd(l$),vd(u$),oS=!0)};h$();const Oa={food:{label:"Courses et alimentation",color:"#FECACA"},housing:{label:"Logement et charges",color:"#FBCFE8"},transport:{label:"Abonnements",color:"#C7D2FE"},clothing:{label:"Shopping",color:"#FDE68A"},beauty:{label:"Restaurants et bars",color:"#FBCFE8"},leisure:{label:"Loisirs",color:"#BBF7D0"},health:{label:"Taxes et impts",color:"#BFDBFE"},friends:{label:"Amis",color:"#FCA5A5"}},Us=new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}),d$=new Intl.DateTimeFormat("fr-FR",{month:"long",year:"numeric"}),p$=new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"short",year:"numeric"}),f$=14,m$=12,jP=t=>{const e=t.getFullYear(),n=`${t.getMonth()+1}`.padStart(2,"0"),i=`${t.getDate()}`.padStart(2,"0");return`${e}-${n}-${i}`},IP=()=>jP(new Date),v_=t=>`${t.getFullYear()}-${`${t.getMonth()+1}`.padStart(2,"0")}`,Id=t=>t.length>=7?t.slice(0,7):"",PP=t=>t.length===0?t:t[0].toUpperCase()+t.slice(1),x_=t=>{const[e,n]=t.split("-"),i=Number(e),s=Number(n);return!Number.isFinite(i)||!Number.isFinite(s)||s<1||s>12?new Date:new Date(i,s-1,1)},MP=t=>PP(d$.format(x_(t))),aS=t=>{const e=new Date(t);return Number.isNaN(e.getTime())?t:PP(p$.format(e))},Pg=(t,e)=>{const n=x_(t),i=new Date(n.getFullYear(),n.getMonth()+e,1);return v_(i)},g$=(t,e)=>{const n=[];for(let i=1;i<=e;i+=1)n.push(Pg(t,i));return n},y$=(t,e)=>{const n=[];for(let i=1;i<=e;i+=1)n.push(Pg(t,-i));return n},lS=t=>{const e=[];return t.forEach(n=>{const i=Id(n.date);if(!i)return;let s=e.find(a=>a.monthKey===i);s||(s={monthKey:i,monthLabel:MP(i),entries:[]},e.push(s)),s.entries.push(n)}),e},cS=(t,e,n,i)=>{if(!t)return null;const s=x_(t);if(Number.isNaN(s.getTime()))return null;const a=new Date(s.getFullYear(),s.getMonth()+1,0),u=new Map;e.forEach(z=>{const J=z.direction==="in"?z.amount:-z.amount,te=u.get(z.date)??0;u.set(z.date,Fo(te+J))});const m=[],x=[];let _=n;for(let z=new Date(s);z<=a;z.setDate(z.getDate()+1)){const J=jP(z),te=u.get(J)??0;_=Fo(_+te),m.push(z.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})),x.push(_)}if(x.length===0)return null;if(!i||i<=0||x.length<=i)return{labels:m,values:x};const I=[],j=[];for(let z=0;z<i;z+=1){const J=z/(i-1),te=Math.min(x.length-1,Math.round(J*(x.length-1)));I.push(m[te]),j.push(x[te])}return{labels:I,values:j}},v$=t=>v_(new Date)===t?IP():`${t}-01`,Fo=t=>Math.round(t*100)/100,um=t=>{if(t===0)return Us.format(0);const e=Us.format(Math.abs(t));return t>0?`+${e}`:`-${e}`},x$=t=>{const e=t.reduce((s,a)=>s+a.value,0);if(e<=0)return"conic-gradient(#e2e8f0 0deg, #e2e8f0 360deg)";let n=0;return`conic-gradient(${t.map(s=>{const a=s.value/e*360,u=n+a,m=`${s.color} ${n.toFixed(2)}deg ${u.toFixed(2)}deg`;return n=u,m}).join(", ")})`},b$=()=>({food:0,housing:0,transport:0,clothing:0,beauty:0,leisure:0,health:0,friends:0}),w$="planner.finance.expenses",_$="planner.finance.monthlySnapshots",E$=()=>{var Tt;const[t,e]=Si(w$,()=>[]),[n,i]=Si(_$,()=>({})),[s,a]=D.useState(()=>({label:"",amount:"",category:"food",date:IP(),direction:"out"})),[u,m]=D.useState(!1),x=D.useRef(null),[_,I]=D.useState(!1),j=D.useRef(null),[z,J]=D.useState(!1);D.useEffect(()=>(document.body.classList.add("finance-page--beige"),()=>{document.body.classList.remove("finance-page--beige")}),[]),D.useEffect(()=>{if(!_)return;const Se=He=>{j.current&&(j.current.contains(He.target)||I(!1))},Me=He=>{He.key==="Escape"&&I(!1)};return window.addEventListener("mousedown",Se),window.addEventListener("keydown",Me),()=>{window.removeEventListener("mousedown",Se),window.removeEventListener("keydown",Me)}},[_]),D.useEffect(()=>{if(!u)return;const Se=He=>{x.current&&(x.current.contains(He.target)||m(!1))},Me=He=>{He.key==="Escape"&&m(!1)};return window.addEventListener("mousedown",Se),window.addEventListener("keydown",Me),()=>{window.removeEventListener("mousedown",Se),window.removeEventListener("keydown",Me)}},[u]),D.useEffect(()=>{s.direction!=="out"&&I(!1)},[s.direction]);const te=D.useMemo(()=>t.map(Se=>({...Se,direction:Se.direction??"out"})),[t]),oe=D.useMemo(()=>new Date,[]),se=D.useMemo(()=>v_(oe),[oe]),X=D.useMemo(()=>s.direction==="in"?"Revenus":"Dpense",[s.direction]),L=D.useMemo(()=>{if(s.direction!=="out")return"Catgorie";const Se=s.category?Oa[s.category]:void 0;return(Se==null?void 0:Se.label)??"Catgorie"},[s.category,s.direction]),G=D.useMemo(()=>{const Se=new Set;return te.forEach(Me=>{const He=Id(Me.date);He&&Se.add(He)}),Object.keys(n).forEach(Me=>{Me&&Se.add(Me)}),Se.add(se),y$(se,m$).forEach(Me=>{Se.add(Me)}),g$(se,f$).forEach(Me=>{Se.add(Me)}),Array.from(Se).sort((Me,He)=>He.localeCompare(Me))},[te,n,se]),[ne,ke]=D.useState(()=>se);D.useEffect(()=>{G.length!==0&&(ne||ke(G[0]??se))},[G,ne,se]);const ge=D.useMemo(()=>MP(ne),[ne]),K=Se=>{ke(Pg(ne,Se==="prev"?-1:1))};D.useEffect(()=>{a(Se=>Id(Se.date)===ne&&Se.date?Se:{...Se,date:v$(ne)})},[ne]);const M=D.useMemo(()=>te.filter(Me=>Id(Me.date)===ne).sort((Me,He)=>Me.date===He.date?He.id.localeCompare(Me.id):He.date.localeCompare(Me.date)),[te,ne]),H=D.useMemo(()=>Pg(ne,-1),[ne]),U=D.useMemo(()=>te.filter(Se=>Id(Se.date)===H),[te,H]),Y=D.useMemo(()=>M.filter(Se=>Se.direction==="out"),[M]),ae=D.useMemo(()=>M.filter(Se=>Se.direction==="in"),[M]),ie=D.useMemo(()=>Y.reduce((Se,Me)=>(Me.category&&(Se[Me.category]=(Se[Me.category]??0)+Me.amount),Se),b$()),[Y]),pt=D.useMemo(()=>Fo(Y.reduce((Se,Me)=>Se+Me.amount,0)),[Y]),Mt=D.useMemo(()=>Fo(ae.reduce((Se,Me)=>Se+Me.amount,0)),[ae]),Ke=D.useMemo(()=>Fo(Mt-pt),[Mt,pt]);D.useMemo(()=>[{id:"income",label:"Entres",value:Us.format(Mt)},{id:"expenses",label:"Sorties",value:Us.format(pt)},{id:"balance",label:"Solde du mois",value:Us.format(Ke)}],[Ke,Mt,pt]);const ft=D.useMemo(()=>Object.entries(ie).filter(([,Se])=>Se>0).sort(([,Se],[,Me])=>Me-Se).slice(0,3),[ie]);D.useMemo(()=>{if(ft.length===0)return null;const[Se,Me]=ft[0],He=Oa[Se],De=Me*.9;return{label:He.label,current:Me,target:De}},[ft]);const Re=n[ne],$e=(Re==null?void 0:Re.startingAmount)??0,ut=((Tt=n[H])==null?void 0:Tt.startingAmount)??0,_t=D.useMemo(()=>Fo($e+Ke),[$e,Ke]),jt=D.useMemo(()=>Fo(_t-$e),[_t,$e]);D.useMemo(()=>$e<=0?0:jt/$e*100,[jt,$e]);const kt=D.useMemo(()=>Object.entries(ie).filter(([,Se])=>Se>0).map(([Se,Me])=>({label:Oa[Se].label,value:Me,color:Oa[Se].color})),[ie]),Ot=D.useMemo(()=>x$(kt),[kt]),mt=kt.length>0,Rt=D.useMemo(()=>{const Se=cS(ne,M,$e);if(!Se)return null;const Me=cS(H,U,ut,Se.values.length);return{labels:Se.labels,current:Se.values,previous:(Me==null?void 0:Me.values)??null}},[ne,M,$e,H,U,ut]),[ot,xe]=D.useState(()=>(Re==null?void 0:Re.startingAmount)!==void 0?Re.startingAmount.toString():"");D.useEffect(()=>{(Re==null?void 0:Re.startingAmount)!==void 0?xe(Re.startingAmount.toString()):xe("")},[Re,ne]);const le=D.useMemo(()=>M.slice(0,2),[M]),_e=D.useMemo(()=>lS(le),[le]),me=D.useMemo(()=>lS(M),[M]),Ye=M.length>le.length,je=(Se,Me)=>{a(He=>({...He,[Se]:Me}))},Ue=Se=>{Se.preventDefault();const Me=parseFloat(s.amount.replace(",","."));if(!Number.isFinite(Me)||Me<=0)return;const He=s.label.trim(),De={id:`finance-${Date.now()}`,label:He.length>0?He:s.direction==="in"?"Revenus":"Dpense",amount:Fo(Me),date:s.date,direction:s.direction,...s.direction==="out"?{category:s.category}:{}};e(et=>[De,...et].sort((ht,Ee)=>ht.date===Ee.date?Ee.id.localeCompare(ht.id):Ee.date.localeCompare(ht.date))),a(et=>({...et,label:"",amount:""}))},be=Se=>{e(Me=>Me.filter(He=>He.id!==Se))},vt=Se=>{Se.preventDefault();const Me=ot.replace(",",".").trim();if(Me.length===0){i(et=>{const at={...et};return delete at[ne],at});return}const He=parseFloat(Me);if(!Number.isFinite(He)||He<0)return;const De=Fo(He);i(et=>({...et,[ne]:{startingAmount:De}}))};return o.jsxs("div",{className:"finance-page aesthetic-page",children:[o.jsxs("div",{className:"finance-heading-row",children:[o.jsx(bi,{eyebrow:"Finances",title:ge}),o.jsxs("div",{className:"calendar-month-nav finance-hero__month-nav",children:[o.jsx("button",{type:"button",onClick:()=>K("prev"),"aria-label":"Mois prcdent",children:"<"}),o.jsx("button",{type:"button",onClick:()=>K("next"),"aria-label":"Mois suivant",children:">"})]})]}),o.jsxs("section",{className:"finance-dashboard",children:[o.jsxs("div",{className:"finance-dashboard__main",children:[o.jsxs("section",{className:"finance-summary-categories dashboard-panel",children:[o.jsxs("div",{className:"finance-section-chip",children:[o.jsx("span",{className:"finance-section-chip__title",children:"Rpartition par catgorie"}),o.jsx("div",{className:"finance-section-chip__divider","aria-hidden":"true"})]}),o.jsx("header",{className:"finance-section-header",children:o.jsx("p",{children:"Repre rapidement les catgories qui te cotent le plus"})}),o.jsx("div",{className:"finance-summary__grid",children:Object.entries(ie).map(([Se,Me])=>{const He=Oa[Se];return o.jsxs("article",{className:"finance-summary__card",style:{borderColor:He.color,boxShadow:`0 32px 60px ${He.color}33`},children:[o.jsx("span",{className:"finance-summary__label",children:He.label}),o.jsx("strong",{className:"finance-summary__value",children:Us.format(Me)})]},Se)})})]}),o.jsxs("section",{className:"finance-form dashboard-panel",children:[o.jsxs("div",{className:"finance-section-chip",children:[o.jsx("span",{className:"finance-section-chip__title",children:"Ajouter une dpense"}),o.jsx("div",{className:"finance-section-chip__divider","aria-hidden":"true"})]}),o.jsx("header",{className:"finance-section-header",children:o.jsx("p",{children:"Enregistre en un instant les dpenses et les revenus du mois."})}),o.jsxs("form",{onSubmit:Ue,className:"finance-form__grid",children:[o.jsxs("label",{className:"finance-form__field",children:[o.jsx("span",{children:"Intitul"}),o.jsx("input",{type:"text",value:s.label,onChange:Se=>je("label",Se.target.value),placeholder:"Ex : Courses semaine"})]}),o.jsxs("label",{className:"finance-form__field",children:[o.jsx("span",{children:"Montant"}),o.jsx("input",{type:"text",value:s.amount,onChange:Se=>je("amount",Se.target.value),placeholder:"Ex : 45,90",required:!0})]}),o.jsxs("label",{className:"finance-form__field",children:[o.jsx("span",{children:"Type"}),o.jsxs("div",{className:"finance-form__select-field",ref:x,children:[o.jsxs("button",{type:"button",className:"finance-form__select-trigger","aria-haspopup":"listbox","aria-expanded":u,onClick:()=>m(Se=>!Se),children:[o.jsx("span",{children:X}),o.jsx("svg",{className:"finance-form__select-chevron",viewBox:"0 0 20 20","aria-hidden":"true",children:o.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})]}),u?o.jsxs("div",{className:"finance-form__select-menu",role:"listbox",children:[o.jsx("button",{type:"button",role:"option","aria-selected":s.direction==="out",className:s.direction==="out"?"is-selected":void 0,onClick:()=>{je("direction","out"),m(!1)},children:"Dpense"}),o.jsx("button",{type:"button",role:"option","aria-selected":s.direction==="in",className:s.direction==="in"?"is-selected":void 0,onClick:()=>{je("direction","in"),m(!1)},children:"Revenus"})]}):null]})]}),s.direction==="out"&&o.jsxs("label",{className:"finance-form__field",children:[o.jsx("span",{children:"Catgorie"}),o.jsxs("div",{className:"finance-form__select-field",ref:j,children:[o.jsxs("button",{type:"button",className:"finance-form__select-trigger","aria-haspopup":"listbox","aria-expanded":_,onClick:()=>I(Se=>!Se),children:[o.jsx("span",{children:L}),o.jsx("svg",{className:"finance-form__select-chevron",viewBox:"0 0 20 20","aria-hidden":"true",children:o.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})]}),_?o.jsx("div",{className:"finance-form__select-menu",role:"listbox",children:Object.entries(Oa).map(([Se,Me])=>o.jsx("button",{type:"button",role:"option","aria-selected":s.category===Se,className:s.category===Se?"is-selected":void 0,onClick:()=>{je("category",Se),I(!1)},children:Me.label},Se))}):null]})]}),o.jsxs("label",{className:"finance-form__field",children:[o.jsx("span",{children:"Date"}),o.jsx("input",{type:"date",value:s.date,onChange:Se=>je("date",Se.target.value),required:!0})]}),o.jsx("button",{type:"submit",className:"finance-form__submit",children:"Ajouter"})]})]}),o.jsxs("section",{className:"finance-history dashboard-panel",children:[o.jsx("header",{className:"finance-section-header",children:o.jsxs("div",{className:"finance-history__header",children:[o.jsx("div",{className:"finance-history__title",children:o.jsx("h2",{children:"Historique du mois"})}),Ye?o.jsx("button",{type:"button",className:"finance-history__collapse",onClick:()=>J(!0),children:"Tout afficher"}):null]})}),M.length===0?o.jsxs("p",{className:"finance-history__empty",children:["Aucun mouvement enregistr pour ",ge,"."]}):o.jsx("div",{className:"finance-history__groups",children:_e.map(Se=>o.jsxs("div",{className:"finance-history__group",children:[o.jsx("div",{className:"finance-history__month-chip",children:Se.monthLabel}),o.jsx("ul",{className:"finance-history__list",children:Se.entries.map(Me=>{const He=Me.category?Oa[Me.category]:void 0,De=Me.direction==="out"?-Me.amount:Me.amount,et=Me.direction==="in"?"#db2777":(He==null?void 0:He.color)??"#1e1b4b",at=Me.direction==="in"?"Revenus":(He==null?void 0:He.label)??"Dpense",ht=aS(Me.date),Ee=Me.direction==="in"?"Entre":"Sortie";return o.jsxs("li",{className:"finance-history__item",children:[o.jsx("div",{className:"finance-history__indicator",style:{backgroundColor:et},children:o.jsx("span",{"aria-hidden":"true",children:Me.direction==="in"?"+":"-"})}),o.jsxs("div",{className:"finance-history__details",children:[o.jsxs("div",{className:"finance-history__row",children:[o.jsx("span",{className:"finance-history__label",children:Me.label}),o.jsx("span",{className:"finance-history__amount",style:{color:et},children:um(De)}),o.jsx("button",{type:"button",className:"finance-history__delete",onClick:()=>be(Me.id),"aria-label":`Supprimer ${Me.label}`})]}),o.jsxs("div",{className:"finance-history__meta",children:[o.jsx("span",{className:"finance-history__category-chip",children:at}),o.jsx("span",{className:"finance-history__direction",children:Ee}),o.jsx("span",{className:"finance-history__date",children:ht})]})]})]},Me.id)})})]},Se.monthKey))})]})]}),o.jsxs("aside",{className:"finance-dashboard__aside",children:[o.jsxs("section",{className:"finance-balance dashboard-panel",children:[o.jsxs("div",{className:"finance-section-chip",children:[o.jsx("span",{className:"finance-section-chip__title",children:"Balance du mois"}),o.jsx("div",{className:"finance-section-chip__divider","aria-hidden":"true"})]}),o.jsx("header",{className:"finance-section-header finance-section-header--vertical",children:o.jsx("p",{children:"Dfinis ton solde de dpart pour un suivi prcis"})}),o.jsxs("form",{className:"finance-balance__form",onSubmit:vt,children:[o.jsxs("label",{className:"finance-balance__field",children:[o.jsx("span",{children:"Argent au dbut du mois"}),o.jsx("input",{type:"text",value:ot,onChange:Se=>xe(Se.target.value),placeholder:"Ex : 1200"})]}),o.jsx("button",{type:"submit",className:"finance-balance__action",children:"Enregistrer"})]}),o.jsxs("div",{className:"finance-balance__stats",children:[o.jsxs("article",{className:"finance-balance__stat",children:[o.jsx("span",{children:"Argent au dbut"}),o.jsx("strong",{children:Us.format($e)})]}),o.jsxs("article",{className:"finance-balance__stat",children:[o.jsx("span",{children:"Revenus"}),o.jsx("strong",{children:um(Mt)})]}),o.jsxs("article",{className:"finance-balance__stat",children:[o.jsx("span",{children:"Dpenses"}),o.jsx("strong",{children:um(-pt)})]}),o.jsxs("article",{className:"finance-balance__stat",children:[o.jsx("span",{children:"Argent  la fin"}),o.jsx("strong",{children:Us.format(_t)})]})]})]}),o.jsxs("div",{className:"finance-balance__chart-card",children:[o.jsx("h3",{children:"Diagramme en camembert"}),mt?o.jsxs("div",{className:"finance-pie",children:[o.jsx("div",{className:"finance-pie__figure",style:{backgroundImage:Ot}}),o.jsx("ul",{className:"finance-pie__legend",children:kt.map(Se=>o.jsxs("li",{children:[o.jsx("span",{className:"finance-pie__swatch",style:{backgroundColor:Se.color}}),o.jsx("span",{className:"finance-pie__label",children:Se.label}),o.jsx("span",{className:"finance-pie__value",children:Us.format(Se.value)})]},Se.label))})]}):o.jsx("p",{className:"finance-balance__empty",children:"Ajoute une dpense pour visualiser la rpartition."})]})]})]}),Rt?o.jsx("section",{className:"finance-trend dashboard-panel",children:o.jsx(k$,{series:Rt})}):null,z?o.jsxs("div",{className:"finance-history-modal",role:"dialog","aria-modal":"true",children:[o.jsx("div",{className:"finance-history-modal__backdrop",onClick:()=>J(!1)}),o.jsxs("div",{className:"finance-history-modal__panel",children:[o.jsxs("header",{className:"finance-history-modal__header",children:[o.jsx("div",{children:o.jsx("h3",{children:ge})}),o.jsx("button",{type:"button",className:"modal__close",onClick:()=>J(!1),"aria-label":"Fermer l'historique"})]}),o.jsx("div",{className:"finance-history-modal__content",children:M.length===0?o.jsxs("p",{className:"finance-history__empty",children:["Aucun mouvement enregistr pour ",ge,"."]}):me.map(Se=>o.jsxs("div",{className:"finance-history__group",children:[o.jsx("div",{className:"finance-history__month-chip",children:Se.monthLabel}),o.jsx("ul",{className:"finance-history__list",children:Se.entries.map(Me=>{const He=Me.category?Oa[Me.category]:void 0,De=Me.direction==="out"?-Me.amount:Me.amount,et=Me.direction==="in"?"#db2777":(He==null?void 0:He.color)??"#1e1b4b",at=Me.direction==="in"?"Revenus":(He==null?void 0:He.label)??"Dpense",ht=aS(Me.date),Ee=Me.direction==="in"?"Entre":"Sortie";return o.jsxs("li",{className:"finance-history__item",children:[o.jsx("div",{className:"finance-history__indicator",style:{backgroundColor:et},children:o.jsx("span",{"aria-hidden":"true",children:Me.direction==="in"?"+":"-"})}),o.jsxs("div",{className:"finance-history__details",children:[o.jsxs("div",{className:"finance-history__row",children:[o.jsx("span",{className:"finance-history__label",children:Me.label}),o.jsx("span",{className:"finance-history__amount",style:{color:et},children:um(De)}),o.jsx("button",{type:"button",className:"finance-history__delete",onClick:()=>be(Me.id),"aria-label":`Supprimer ${Me.label}`})]}),o.jsxs("div",{className:"finance-history__meta",children:[o.jsx("span",{className:"finance-history__category-chip",children:at}),o.jsx("span",{className:"finance-history__direction",children:Ee}),o.jsx("span",{className:"finance-history__date",children:ht})]})]})]},Me.id)})})]},Se.monthKey))})]})]}):null]})},k$=({series:t})=>{const e=t&&t.current.length>1,n=D.useMemo(()=>{if(!t||t.current.length===0)return{};const i=t.labels.length,a=Math.max(1,Math.round(i/6)),u=[];for(let m=0;m<i;m+=a)u.push(m);return u[u.length-1]!==i-1&&u.push(i-1),{chart:{type:"areaspline",backgroundColor:"transparent",spacing:[12,12,18,12]},title:{text:void 0},credits:{enabled:!1},legend:{enabled:!1},exporting:{enabled:!1},accessibility:{enabled:!1},xAxis:{categories:t.labels,tickmarkPlacement:"on",lineColor:"rgba(15, 23, 42, 0.08)",tickPositions:u,labels:{style:{color:"rgba(15, 23, 42, 0.65)",fontSize:"0.8rem"}}},yAxis:{title:{text:void 0},gridLineColor:"rgba(15, 23, 42, 0.08)",labels:{style:{color:"rgba(15, 23, 42, 0.6)",fontSize:"0.78rem"},formatter(){const m=typeof this.value=="number"?this.value:Number(this.value);return Us.format(m)}}},tooltip:{shared:!0,useHTML:!0,borderColor:"rgba(15, 23, 42, 0.12)",backgroundColor:"#fff",borderRadius:16,formatter(){if(!this.points)return"";const m=`<strong style="display:block;margin-bottom:0.25rem;">${this.x}</strong>`,x=this.points.map(_=>{const I=_.series.name,j=Us.format(_.y??0);return`<span style="color:${_.color};font-weight:600;">${I}</span>: ${j}`}).join("<br/>");return`${m}${x}`}},plotOptions:{series:{marker:{enabled:!1},enableMouseTracking:!1,states:{hover:{enabled:!1}},lineWidth:2,animation:{duration:600}},areaspline:{fillOpacity:.2}},series:[{type:"areaspline",name:"Mois en cours",data:t.current,color:"#f472b6",fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"rgba(244, 114, 182, 0.32)"],[1,"rgba(244, 114, 182, 0.02)"]]}},...t.previous?[{type:"spline",name:"Mois prcdent",data:t.previous,color:"rgba(248, 196, 220, 0.85)",dashStyle:"ShortDash",lineWidth:1.8}]:[]]}},[t]);return e?o.jsxs("div",{className:"finance-trend-chart finance-trend-chart--highcharts",children:[o.jsxs("header",{className:"finance-section-header",children:[o.jsx("div",{className:"finance-history__title",children:o.jsx("h2",{children:"volution du solde"})}),o.jsxs("div",{className:"finance-trend__legend",children:[o.jsxs("span",{children:[o.jsx("span",{className:"finance-trend__dot finance-trend__dot--current"}),"Mois en cours"]}),t!=null&&t.previous?o.jsxs("span",{children:[o.jsx("span",{className:"finance-trend__dot finance-trend__dot--previous"}),"Mois prcdent"]}):null]})]}),o.jsx(e$,{highcharts:d0,options:n})]}):o.jsx("p",{className:"finance-history__empty",children:"Ajoute quelques mouvements pour visualiser la tendance."})},Xl=67,T$="planner.routines.completed",C$="planner.routines.morning",S$="planner.routines.evening",A$=(t,e=Xl)=>t.length>e?`${t.slice(0,e-3).trimEnd()}...`:t,uS=({items:t,completedSet:e,toggleRoutine:n,onRemoveItem:i})=>o.jsx("ul",{className:"routine-note__list",children:t.map((s,a)=>o.jsx("li",{className:"routine-note__item",children:o.jsxs("div",{className:"routine-note__row",children:[o.jsxs("label",{className:"routine-note__label",children:[o.jsx("span",{className:"routine-note__index",children:String(a+1).padStart(2,"0")}),o.jsx("input",{className:"routine-note__checkbox",type:"checkbox",checked:e.has(s.id),onChange:()=>n(s.id)}),o.jsxs("span",{className:"routine-note__text",children:[o.jsx("span",{className:"routine-note__item-title",children:A$(s.title)}),s.detail&&o.jsx("span",{className:"routine-note__item-detail",children:s.detail})]})]}),i?o.jsx("div",{className:"routine-note__actions",children:o.jsx("button",{type:"button",className:"routine-note__remove",onClick:()=>i(s.id),"aria-label":`Supprimer ${s.title}`,children:""})}):null]})},s.id))}),hS=({draft:t,onDraftChange:e,onSubmit:n,buttonLabel:i,placeholderTitle:s,placeholderDetail:a})=>o.jsxs("form",{className:"routine-note__composer",onSubmit:n,children:[o.jsxs("label",{children:[o.jsx("span",{children:"Nouvelle action"}),o.jsx("input",{type:"text",value:t.title,onChange:u=>e("title",u.target.value.slice(0,Xl)),placeholder:s,required:!0,maxLength:Xl}),t.title.length>=Xl?o.jsx("span",{className:"routine-note__composer-hint",children:"Limite de 67 caractres atteinte."}):null]}),o.jsxs("label",{children:[o.jsx("span",{children:"Dtail (optionnel)"}),o.jsx("textarea",{value:t.detail,onChange:u=>e("detail",u.target.value.slice(0,Xl)),placeholder:a,rows:2,maxLength:Xl}),t.detail.length>=Xl?o.jsx("span",{className:"routine-note__composer-hint",children:"Limite de 67 caractres atteinte."}):null]}),o.jsx("button",{type:"submit",className:"routine-note__composer-submit",children:i})]}),N$=()=>{const[t,e]=Si(T$,()=>[]),[n,i]=Si(C$,()=>zq),[s,a]=Si(S$,()=>qq),[u,m]=D.useState({morning:{title:"",detail:""},evening:{title:"",detail:""}}),x=D.useMemo(()=>new Set(t),[t]);D.useEffect(()=>(document.body.classList.add("routine-page--beige"),()=>{document.body.classList.remove("routine-page--beige")}),[]);const _=(J,te,oe)=>{m(se=>({...se,[J]:{...se[J],[te]:oe}}))},I=J=>te=>{te.preventDefault();const oe=u[J],se=oe.title.trim();if(se.length===0)return;const X=oe.detail.trim(),L={id:`${J}-${Date.now()}`,title:se,...X.length>0?{detail:X}:{}};J==="morning"?i(G=>[...G,L]):a(G=>[...G,L]),m(G=>({...G,[J]:{title:"",detail:""}}))},j=(J,te)=>{J==="morning"?i(oe=>oe.filter(se=>se.id!==te)):a(oe=>oe.filter(se=>se.id!==te)),e(oe=>oe.filter(se=>se!==te))},z=J=>{e(te=>te.includes(J)?te.filter(oe=>oe!==J):[...te,J])};return o.jsxs("div",{className:"routine-page aesthetic-page",children:[o.jsx(bi,{eyebrow:"Routine",title:"Mes Routines"}),o.jsxs("div",{className:"routine-notes",children:[o.jsxs("section",{className:"routine-note routine-note--morning",children:[o.jsx("div",{className:"routine-note__top",children:o.jsx("div",{className:"routine-note__title-band",children:o.jsx("h2",{children:"Routine du matin"})})}),o.jsxs("div",{className:"routine-note__body",children:[o.jsxs("div",{className:"routine-note__pins",children:[o.jsx("span",{className:"routine-note__pin routine-note__pin--left"}),o.jsx("span",{className:"routine-note__pin routine-note__pin--right"})]}),o.jsx(uS,{items:n,completedSet:x,toggleRoutine:z,onRemoveItem:J=>j("morning",J)}),o.jsx(hS,{draft:u.morning,onDraftChange:(J,te)=>_("morning",J,te),onSubmit:I("morning"),buttonLabel:"Ajouter  ma routine du matin",placeholderTitle:"Ex : Boire un verre deau tide citronn",placeholderDetail:"Ex : Dure, intention..."})]})]}),o.jsxs("section",{className:"routine-note routine-note--evening",children:[o.jsx("div",{className:"routine-note__top",children:o.jsx("div",{className:"routine-note__title-band",children:o.jsx("h2",{children:"Routine du soir"})})}),o.jsxs("div",{className:"routine-note__body",children:[o.jsxs("div",{className:"routine-note__pins",children:[o.jsx("span",{className:"routine-note__pin routine-note__pin--left"}),o.jsx("span",{className:"routine-note__pin routine-note__pin--right"})]}),o.jsx(uS,{items:s,completedSet:x,toggleRoutine:z,onRemoveItem:J=>j("evening",J)}),o.jsx(hS,{draft:u.evening,onDraftChange:(J,te)=>_("evening",J,te),onSubmit:I("evening"),buttonLabel:"Ajouter  ma routine du soir",placeholderTitle:"Ex : Prparer mes vtements pour demain",placeholderDetail:"Ex : Dure, intention..."})]})]})]})]})},hm=["Workout","5k+ steps","Drinking 2 Litres of Water","Healthy meals","No junk/ sugar","1 Fruit","8 Hours of Sleep"],vu=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],j$=["lundi","mardi","mercredi","jeudi","vendredi","samedi","dimanche"],I$="planner.sportHabits.rows.v1",P$="planner.sportHabits.checks.v1",M$=t=>{const e=new Date(t),n=e.getDay(),i=n===0?-6:1-n;return e.setDate(e.getDate()+i),e.setHours(0,0,0,0),e},dS=t=>Array.from({length:t},()=>vu.map(()=>!1)),Ax=t=>M$(t).toISOString().split("T")[0],R$=t=>{if(!t)return"";const e=new Date(t);if(Number.isNaN(e.getTime()))return"";const n=new Date(e);n.setDate(e.getDate()+6);const i=new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"short"});return`${i.format(e)} - ${i.format(n)}`},D$=()=>{const[t,e]=Si(I$,()=>hm),[n,i]=Si(P$,()=>({weekKey:Ax(new Date),checks:dS(hm.length)})),[s,a]=D.useState(!1),[u,m]=D.useState(""),[x,_]=D.useState(()=>Ax(new Date)),I=n.checks,j=R$(x),z=vu.map((M,H)=>t.length>0&&I.every(U=>U[H]));D.useEffect(()=>{if(typeof window>"u")return;const M=()=>{const U=Ax(new Date);_(Y=>Y===U?Y:U)};M();const H=window.setInterval(M,1e3*60*60);return()=>window.clearInterval(H)},[]),D.useEffect(()=>{i(M=>{let H=!1,U=M.weekKey,Y=M.checks;return M.weekKey!==x?(U=x,Y=dS(t.length),H=!0):M.checks.length!==t.length&&(Y=t.map((ae,ie)=>M.checks[ie]??vu.map(()=>!1)),H=!0),H?{weekKey:U,checks:Y}:M})},[x,t,i]);const[J,te]=D.useState(null),[oe,se]=D.useState(!1),X=D.useRef(z);D.useEffect(()=>{const M=z;let H=null;M.forEach((U,Y)=>{U&&!X.current[Y]&&(H=Y)}),X.current=M,H!==null&&(te(H),se(!0))},[z]);const L=(M,H)=>{i(U=>({...U,checks:U.checks.map((Y,ae)=>Y.map((ie,pt)=>ae===M&&pt===H?!ie:ie))}))},G=M=>{var H;return((H=I[M])==null?void 0:H.reduce((U,Y)=>U+(Y?1:0),0))??0},ne=(M,H)=>{e(U=>U.map((Y,ae)=>ae===M?H:Y))},ke=M=>{e(H=>H.map((U,Y)=>{if(Y!==M)return U;const ae=U.trim();return ae||(hm[M%hm.length]??"Objectif")}))},ge=M=>{e(H=>H.length<=1?H:H.filter((U,Y)=>Y!==M)),i(H=>({...H,checks:H.checks.filter((U,Y)=>Y!==M)}))},K=()=>{const M=u.trim();M&&(e(H=>[...H,M]),i(H=>({...H,checks:[...H.checks,vu.map(()=>!1)]})),m(""))};return o.jsxs("div",{className:"sport-habits__table-wrapper",children:[o.jsxs("div",{className:"sport-habits__header",children:[o.jsxs("div",{className:"sport-habits__header-content",children:[o.jsx("h3",{children:"Daily goals"}),o.jsx("p",{className:"muted",children:"Coche tes objectifs pour chaque jour."}),j?o.jsxs("p",{className:"sport-habits__week",children:["Semaine du ",j]}):null]}),o.jsx("div",{className:"sport-habits__actions",children:o.jsx("button",{type:"button",className:"sport-habits__edit-toggle",onClick:()=>a(M=>!M),children:s?"Terminer":"Ajouter"})})]}),o.jsxs("div",{className:"sport-habits__table",role:"table","aria-label":"Suivi objectifs quotidiens",children:[o.jsxs("div",{className:"sport-habits__row sport-habits__row--head",role:"row",children:[o.jsx("div",{className:"sport-habits__cell sport-habits__cell--head",role:"columnheader",children:"Objectif"}),vu.map(M=>o.jsx("div",{className:"sport-habits__cell sport-habits__cell--head",role:"columnheader",children:M},M)),o.jsx("div",{className:"sport-habits__cell sport-habits__cell--head",role:"columnheader",children:"Total"})]}),t.map((M,H)=>o.jsxs("div",{className:"sport-habits__row",role:"row",children:[o.jsx("div",{className:"sport-habits__cell sport-habits__cell--label",role:"rowheader",children:s?o.jsxs("div",{className:"sport-habits__label-editor",children:[o.jsx("input",{type:"text",value:M,onChange:U=>ne(H,U.target.value),onBlur:()=>ke(H),className:"sport-habits__label-input"}),t.length>1?o.jsx("button",{type:"button",className:"sport-habits__label-delete",onClick:()=>ge(H),"aria-label":`Supprimer ${M}`,children:"x"}):null]}):M}),vu.map((U,Y)=>{var ae;return o.jsx("label",{className:"sport-habits__cell sport-habits__cell--checkbox",role:"cell","aria-label":`${M} ${U}`,children:o.jsx("input",{type:"checkbox",checked:((ae=I[H])==null?void 0:ae[Y])??!1,onChange:()=>L(H,Y)})},`${M}-${U}`)}),o.jsx("div",{className:"sport-habits__cell sport-habits__cell--total",role:"cell",children:G(H)})]},`${M}-${H}`))]}),s?o.jsxs("div",{className:"sport-habits__editor",children:[o.jsx("input",{type:"text",value:u,onChange:M=>m(M.target.value),placeholder:"Ajouter un objectif quotidien",className:"sport-habits__add-input"}),o.jsx("button",{type:"button",className:"sport-habits__add-button",onClick:K,children:"Ajouter"})]}):null,oe&&typeof J=="number"?o.jsx("div",{className:"sport-habits__reward-overlay",role:"status","aria-live":"polite",onClick:()=>se(!1),children:o.jsxs("div",{className:"sport-habits__reward-card",onClick:M=>M.stopPropagation(),children:[o.jsx("button",{type:"button",className:"modal__close sport-habits__reward-close","aria-label":"Fermer",onClick:()=>se(!1),children:o.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M6 6 18 18M18 6 6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),o.jsx("h4",{children:"Jour valid ?"}),o.jsxs("p",{children:["Bravo, tu as tout coch pour ",j$[J],"."]})]})}):null]})},O$=()=>{const[t,e]=D.useState([null,null,null,null]);D.useEffect(()=>(document.body.classList.add("goals-page--beige"),()=>{document.body.classList.remove("goals-page--beige")}),[]);const n=s=>a=>{var x;const u=(x=a.target.files)==null?void 0:x[0];if(!u)return;const m=URL.createObjectURL(u);e(_=>_.map((I,j)=>j===s?m:I))},i=s=>{e(a=>a.map((u,m)=>m===s?null:u))};return o.jsxs(o.Fragment,{children:[o.jsx(bi,{eyebrow:"Goals",title:"Mes Goals",className:"goals-page-heading"}),o.jsxs("div",{className:"content-page goals-page",children:[o.jsx("p",{className:"muted goals-page-heading__intro","aria-hidden":"true"}),o.jsx("section",{className:"goals-daily",children:o.jsx(D$,{})}),o.jsxs("section",{className:"body-goals","aria-label":"Body goals",children:[o.jsxs("header",{className:"body-goals__header",children:[o.jsx("h3",{children:"Body goals"}),o.jsx("p",{className:"muted",children:"Ajoute des rfrences visuelles pour tes objectifs corps."})]}),o.jsx("div",{className:"body-goals__grid",children:t.map((s,a)=>o.jsx("div",{className:"body-goal-slot",children:s?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:s,alt:`Body goal ${a+1}`}),o.jsx("button",{type:"button",className:"body-goal-slot__action",onClick:()=>i(a),children:"Retirer"})]}):o.jsxs("label",{className:"body-goal-slot__upload",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:n(a)}),o.jsx("span",{children:"Ajouter une photo"})]})},a))})]})]})]})};function L$({className:t,kicker:e,title:n,summary:i,sections:s,primaryCta:a={label:"Retour  l'accueil",to:"/"},secondaryCta:u}){return o.jsxs("div",{className:`content-page ${t}`,children:[o.jsx(bi,{eyebrow:e,title:n}),o.jsxs("div",{className:"page-hero",children:[o.jsx("div",{className:"hero-chip",children:e}),o.jsx("h2",{children:n}),o.jsx("p",{className:"muted",children:i}),o.jsxs("div",{className:"hero-actions",children:[o.jsx(Zo,{to:a.to,className:"pill",children:a.label}),u?o.jsx(Zo,{to:u.to,className:u.variant==="ghost"?"pill pill-ghost":"pill",children:u.label}):null]})]}),o.jsx("div",{className:"page-sections",children:s.map(m=>o.jsxs("article",{className:"section-card",children:[o.jsx("h3",{children:m.title}),o.jsx("ul",{className:"bullet-list",children:m.items.map(x=>o.jsx("li",{children:x},x))})]},m.title))})]})}const F$=[{title:"Lectures",items:["Pile  lire + en cours + termin","Notes par chapitre et citations cls","Rappel des prochaines sorties"]},{title:"crans & sorties",items:["Films / sries  voir, plateformes et dures","Expos, concerts, pices  ne pas rater","Avis rapides pour souvenir"]},{title:"Inspiration",items:["Liens, newsletters, podcasts favoris","Rituels culture (15 min/jour)","Partage : qui pourrait aimer quoi ?"]}];function B$(){return o.jsx(L$,{className:"culture-page",kicker:"Lecture & culture",title:"Nourrir ta curiosit sans tparpiller",summary:"Centralise tes lectures, crans et ides de sorties pour piocher facilement au bon moment.",sections:F$,primaryCta:{label:"Planifier un moment culture",to:"/calendrier"},secondaryCta:{label:"Voir les envies",to:"/wishlist",variant:"ghost"}})}const V$="/assets/bowl-mediteraneen-4NmEEAKR.jpg",U$="/assets/bowl-poulet-ScdoKjD3.jpeg",pS="/assets/wrap-poulet-CD7kWloa.jpg",z$="/assets/salade-de-fruit-BFy5LZlZ.jpeg",RP=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],q$=[{id:"morning",label:"Matin",hint:"Petit dejeuner"},{id:"midday",label:"Midi",hint:"Dejeuner"},{id:"evening",label:"Soir",hint:"Diner"}],$$="planner.diet.weeklyPlanRecipes",H$=()=>{const t={};return RP.forEach(e=>{t[e]={morning:"",midday:"",evening:""}}),t};function W$(){const{userEmail:t}=or();D.useEffect(()=>(document.body.classList.add("alimentation-page--beige"),()=>{document.body.classList.remove("alimentation-page--beige")}),[]);const e=D.useMemo(()=>di(t,$$),[t]),[n,i]=D.useState(null),[s,a]=Si("planner.diet.weeklyPlan",H$),[u,m]=Si("planner.diet.groceriesNotes",""),x=D.useMemo(()=>{const j=new Date,J=(j.getDay()+6)%7,te=new Date(j);te.setDate(j.getDate()-J);const oe=new Date(te);oe.setDate(te.getDate()+6);const se=X=>X.toLocaleDateString("fr-FR",{day:"numeric",month:"short"}).replace(".","").trim();return`Semaine du ${se(te)} - ${se(oe)}`},[]),_=(j,z,J)=>{a(te=>({...te,[j]:{...te[j],[z]:J}}))},I=(j,z)=>{var J;try{const te=localStorage.getItem(e);if(!te)return null;const oe=JSON.parse(te);return((J=oe==null?void 0:oe[j])==null?void 0:J[z])??null}catch{return null}};return o.jsxs(o.Fragment,{children:[o.jsx(bi,{eyebrow:"Alimentation",title:"Cuisine"}),o.jsxs("main",{className:"content-page diet-page",children:[o.jsxs("section",{className:"page-section diet-crosslink",children:[o.jsxs("div",{children:[o.jsx("p",{className:"diet-crosslink__label",children:"Besoin d'ides ?"}),o.jsx("p",{className:"diet-crosslink__text",children:"Va sur la page Diet pour dcouvrir des recettes et les utiliser dans ton planning."})]}),o.jsx(Zo,{to:"/diet",className:"pill pill--diet",children:"Voir les recettes"})]}),o.jsxs("section",{className:"page-section diet-week",children:[o.jsxs("header",{className:"diet-week__header",children:[o.jsx("div",{children:o.jsx("h3",{children:"Planning des repas de la semaine"})}),o.jsx("p",{className:"diet-week__range",children:x})]}),o.jsx("div",{className:"diet-week__group",children:o.jsx("div",{className:"diet-week__grid",children:RP.map(j=>o.jsxs("article",{className:"diet-week__card",children:[o.jsx("div",{className:"diet-week__card-head",children:o.jsx("span",{className:"diet-week__day",children:j})}),q$.map(z=>o.jsxs("div",{className:`diet-week__slot${I(j,z.id)?" has-recipe":""}`,children:[o.jsxs("span",{children:[z.label,I(j,z.id)?o.jsx("button",{type:"button",className:"diet-week__recipe-badge",onClick:()=>i(I(j,z.id)),children:"Voir recette"}):null]}),o.jsx("input",{type:"text",value:s[j][z.id],placeholder:`Ton plat du ${z.label.toLowerCase()}`,onChange:J=>_(j,z.id,J.target.value)})]},z.id))]},j))})})]}),o.jsxs("section",{className:"page-section diet-shopping",children:[o.jsxs("div",{className:"diet-shopping__panel",children:[o.jsx("h3",{children:"Liste de courses"}),o.jsx("textarea",{className:"diet-shopping__textarea",value:u,onChange:j=>m(j.target.value),placeholder:"cris ta liste comme dans un carnet..."})]}),o.jsxs("div",{className:"diet-ideas",children:[o.jsx("p",{className:"diet-section__intro",children:"Ides  garder sous la main"}),o.jsxs("div",{className:"diet-ideas__tips",children:[o.jsxs("article",{children:[o.jsx("h4",{children:"Batch cooking"}),o.jsx("p",{children:"Slectionne deux bases (quinoa, riz) et deux sources de protines afin de les combiner facilement tout au long de la semaine."})]}),o.jsxs("article",{children:[o.jsx("h4",{children:"Rutilise les restes"}),o.jsx("p",{children:"les lgumes rtis ou les sauces maison peuvent tre utiliss sur plusieurs repas."})]})]})]})]}),n?o.jsxs("div",{className:"diet-plan-modal",role:"dialog","aria-label":`Recette ${n.title}`,children:[o.jsx("div",{className:"diet-plan-modal__backdrop",onClick:()=>i(null)}),o.jsxs("div",{className:"diet-plan-modal__panel",children:[o.jsxs("div",{className:"diet-plan-modal__cover",children:[o.jsx("img",{src:n.image,alt:n.title}),o.jsx("button",{type:"button",className:"diet-plan-modal__close",onClick:()=>i(null),"aria-label":"Fermer",children:"x"})]}),o.jsxs("div",{className:"diet-plan-modal__content",children:[o.jsxs("header",{children:[o.jsx("h3",{children:n.title}),o.jsxs("div",{className:"diet-plan-modal__meta",children:[o.jsx("span",{children:n.flavor==="sucre"?"Sucr":"Sal"}),o.jsx("span",{children:n.prepTime}),o.jsx("span",{children:n.servings})]})]}),o.jsxs("section",{children:[o.jsx("h4",{children:"Ingrdients"}),o.jsx("ul",{children:n.ingredients.map(j=>o.jsx("li",{children:j},j))})]}),o.jsxs("section",{children:[o.jsx("h4",{children:"tapes"}),o.jsx("ol",{children:n.steps.map(j=>o.jsx("li",{children:j},j))})]}),n.toppings?o.jsxs("section",{children:[o.jsx("h4",{children:"Ides de toppings"}),o.jsx("ul",{children:n.toppings.map(j=>o.jsx("li",{children:j},j))})]}):null,n.tips?o.jsxs("section",{children:[o.jsx("h4",{children:"Astuce"}),o.jsx("ul",{children:n.tips.map(j=>o.jsx("li",{children:j},j))})]}):null]})]})]}):null]})]})}const G$="/assets/Pancakes-proteine-WBIIiHNx.jpeg",K$="/assets/butter-chicken-Ck4Pz6Oh.jpeg",Y$="/assets/alfredo-pasta-ViyHyOmm.jpeg",X$="/assets/avocado-toast-wWItSvzk.jpg",Q$="/assets/curry-poischiche-DXVuWME8.jpg",J$="/assets/smoothie-banane-Ciaz2IQ6.jpeg",Z$="/assets/brownie-proteine-BJ2SVT-e.jpg",eH="/assets/overnight-oats-CtVMZ6Gp.jpeg",tH="/assets/fruitsrouges-granola-D25ZCDmN.jpeg",nH="/assets/bowl-thon-Dmv6HV3F.jpg",iH="/assets/soupe-detox-GpleeScw.jpeg",rH="/assets/banana-bread-BJpXuajd.jpeg",sH="/assets/brownie-sale-GfT5ppEi.jpeg",oH="/assets/biscuits-avoine-CG5z8Wwl.jpg",aH="/assets/saumon-citron-CsLYiTG3.jpg",lH="/assets/pudding-chia-Bb8Gdz2k.jpg",cH="/assets/salade-cesar-CwP52Oy_.jpg",uH="/assets/granola-maison-BAwacv-D.jpg",hH="/assets/brochettes-DD8Er9D3.jpg",dH="/assets/smoothie-mangue-w_MdvZQT.jpeg",pH="/assets/omelette-feta-DdcMjK57.jpeg",fH="/assets/steack-pommedeterre-43wTGduV.jpeg",mH="/assets/saumon-bowl-ggKFdm3A.jpg",gH=[{id:"mass-pancakes",title:"Pancake protin",flavor:"sucre",prepTime:"10  15 min",servings:"1 pers",image:G$,ingredients:["1 uf","25 ml de lait","35 g de farine","30 g de fromage blanc","20 g de whey","1 cuillre  soupe de levure chimique","Quelques gouttes d'arme vanille"],steps:["Dans un bol, casse l'uf et fouette-le lgrement.","Ajoute le lait et le fromage blanc, puis mlange jusqu' obtenir une texture lisse.","Incorpore la farine, la whey et la levure chimique.","Mlange soigneusement pour viter les grumeaux.","Ajoute les gouttes de vanille et mlange une dernire fois. La pte doit tre paisse mais fluide.","Fais chauffer une pole antiadhsive  feu moyen (lgrement graisse si ncessaire).","Verse de petites portions de pte pour former les pancakes.","Laisse cuire 1  2 minutes, jusqu' ce que des bulles apparaissent, puis retourne.","Poursuis la cuisson 1 minute de l'autre ct."],toppings:["Fruits rouges","Beurre de cacahute","Skyr ou fromage blanc","Chocolat noir fondu","Sirop d'rable (lger)"],tips:["Astuce : si la pte est trop paisse, ajoute quelques gouttes de lait. Si elle est trop liquide, ajoute un peu de farine."]},{id:"mass-bowl-saumon",title:"Saumon marin sriracha & riz",flavor:"sale",prepTime:"35  50 min",servings:"1 pers",image:mH,ingredients:["Pour le saumon marin","500 g de saumon sans peau","1/4 de tasse de sauce soja","1 cuillre  soupe de vinaigre de riz","1 cuillre  caf dhuile de ssame","1 cuillre  caf de miel","2 gousses dail haches","1 cuillre  soupe de pte de gingembre","2 cuillres  soupe de sriracha","Pour la sauce","2 cuillres  soupe de yaourt grec","2 cuillres  caf de sriracha","2 cuillres  caf de vinaigre de riz","Pour les accompagnements","70 g de riz cru","1 mini concombre","Carottes rpes (quantit selon prfrence)","1/2 avocat"],steps:["Prparer la marinade","Dans un bol, mlange la sauce soja, le vinaigre de riz, l'huile de ssame, le miel, l'ail hach, la pte de gingembre et la sriracha jusqu' obtenir une marinade homogne.","Mariner le saumon","Coupe le saumon en pavs ou en cubes. Dpose-le dans un plat, verse la marinade, mlange dlicatement pour bien enrober le poisson. Couvre et laisse mariner 15  30 minutes au rfrigrateur.","Prparer les accompagnements","Lave le mini concombre et coupe-le en fines rondelles ou demi-lunes. Rpe les carottes. Coupe le demi-avocat en tranches ou en ds. Rserve au frais.","Prparer la sauce","Dans un petit bol, mlange le yaourt grec, la sriracha et le vinaigre de riz jusqu' obtenir une sauce lisse. Rserve au frais.","Cuire le saumon","Fais chauffer une pole  feu moyen. Dpose le saumon avec un peu de marinade et fais-le cuire 2  3 minutes par face, jusqu' ce qu'il soit bien dor et cuit  cur.","Dressage","Dispose le saumon dans l'assiette ou le bol, ajoute les carottes rpes, le concombre et l'avocat, puis nappe ou accompagne avec la sauce au yaourt pice."]},{id:"mass-wrap-poulet",title:"Wrap poulet croquant",flavor:"sale",prepTime:"30  45 min",servings:"1 pers",image:pS,ingredients:["Pour le poulet","600 g de blanc de poulet coup en lanires","3 gousses dail","1 cuillre  soupe dorigan","1 cuillre  soupe de paprika","1 cuillre  caf de poudre doignon","1 cuillre  caf de flocons de piment","1 cuillre  caf de sel et poivre","Jus de citron (selon got)","Pour la sauce","100 g de yaourt crm","20 g de sriracha","1 gousse dail mince","Persil (selon got)","Sel et poivre","Pour le montage des wraps","Tortillas faibles en calories","Laitue","Oignons rouges","Tomates coupes en ds"],steps:["  Prparer la marinade du poulet","Dans un grand bol, mlange : lail hach, lorigan, le paprika, la poudre doignon, les flocons de piment, le sel et le poivre. Ajoute le jus de citron, puis mlange. Incorpore les lanires de poulet et mlange bien pour les enrober. Laisse mariner au minimum 15 minutes (idalement 30 minutes).","Prparer la sauce","Dans un bol, mlange : le yaourt crm, la sriracha, lail minc, le persil, le sel et le poivre. Ajoute un peu de jus de citron selon ton got. Mlange jusqu' obtenir une sauce homogne. Rserve au frais.","Prparer les garnitures","Lave et coupe la laitue. mince finement loignon rouge. Coupe les tomates en petits ds. Rserve lensemble.","Cuire le poulet","Fais chauffer une pole  feu moyen. Ajoute le poulet marin (sans ajouter de matire grasse si la pole est antiadhsive). Fais cuire 5  7 minutes, en remuant rgulirement, jusqu' ce que le poulet soit bien dor et cuit  cur.","Monter les wraps","Fais lgrement chauffer les tortillas. Dpose : de la laitue, du poulet chaud, des tomates, de loignon rouge. Ajoute la sauce selon ton got. Roule les wraps bien serrs."]},{id:"mass-omelette-power",title:"Omelette power  la feta",flavor:"sale",prepTime:"15  20 min",servings:"1 pers",image:pH,ingredients:["3 ufs","50 g de feta miette","100 g dpinards frais","Huile dolive","1 gousse dail","1 petit oignon","Sel et poivre"],steps:["  Prparer les ingrdients","pluche et mince finement loignon. pluche et hache lail. Lave les pinards et goutte-les.","Cuire les lgumes","Fais chauffer un filet dhuile dolive dans une pole  feu moyen. Ajoute loignon et fais-le revenir 2  3 minutes jusqu' ce quil soit translucide. Ajoute lail et fais revenir encore 30 secondes. Incorpore les pinards et laisse-les tomber 1  2 minutes, jusqu' rduction.","Prparer les ufs","Dans un bol, bats les ufs avec le sel et le poivre.","Cuire lomelette","Verse les ufs battus dans la pole sur les lgumes. Laisse cuire  feu doux quelques minutes, jusqu' ce que les bords commencent  prendre.","Ajouter la feta","Rpartis la feta miette sur lomelette. Poursuis la cuisson doucement jusqu' ce que lomelette soit cuite  ton got.","Servir","Plie lomelette en deux et sers immdiatement."]},{id:"mass-smoothie-gain",title:"Smoothie banane beurre de cacahute",flavor:"sucre",prepTime:"5 min",servings:"1 pers",image:J$,ingredients:["1 banane","300 ml de lait vgtal","80 g de flocons davoine","1 scoop de protine whey","1 cuillre  soupe de beurre de cacahute","1 cuillre  soupe de sirop drable","Cannelle (facultatif)"],steps:["pluche la banane et coupe-la en morceaux.","Verse le lait vgtal dans un blender.","Ajoute les flocons davoine, la banane, la whey, le beurre de cacahute et le sirop drable.","Ajoute la cannelle si tu le souhaites.","Mixe pendant 30  60 secondes, jusqu' obtenir une texture lisse et homogne.","Ajuste la texture : ajoute un peu de lait si le smoothie est trop pais. Mixe davantage si ncessaire.","Verse dans un verre et consomme immdiatement."]},{id:"mass-pates-cremeuses",title:"Alfredo pasta protin",flavor:"sale",prepTime:"25  30 min",servings:"1 pers",image:Y$,ingredients:["150 g de blanc de poulet","80 g de ptes (crues, au choix)","150 g de champignons (de Paris ou autres)","100 g de fromage blanc ou yaourt grec nature","30 g de parmesan rp","1 gousse dail","1 cuillre  caf dhuile dolive","Sel et poivre","Optionnel :","Persil ou herbes sches"],steps:["  Cuire les ptes","Fais cuire les ptes dans une grande casserole deau bouillante sale selon le temps indiqu. goutte-les en conservant un peu deau de cuisson.","Prparer le poulet","Coupe le poulet en morceaux ou en lanires. Fais chauffer lhuile dolive dans une pole  feu moyen. Ajoute le poulet, sale, poivre et fais cuire 5  7 minutes jusqu' ce quil soit bien dor et cuit  cur. Rserve.","Cuire les champignons","Dans la mme pole, ajoute lail hach et fais revenir 30 secondes. Ajoute les champignons mincs et fais-les cuire 5 minutes, jusqu' ce quils rendent leur eau et dorent lgrement.","Prparer la sauce Alfredo protine","Baisse le feu. Ajoute le fromage blanc (ou yaourt grec) et mlange doucement. Incorpore le parmesan et mlange jusqu' obtenir une sauce crmeuse. Ajoute un peu deau de cuisson des ptes si ncessaire pour dtendre la sauce.","Assembler","Ajoute les ptes gouttes dans la pole. Incorpore le poulet. Mlange bien pour enrober les ptes de sauce.","Ajuster et servir","Rectifie lassaisonnement (sel, poivre). Ajoute des herbes si souhait et sers immdiatement."]},{id:"mass-quinoa-bowl",title:"Butter chicken protin, riz et brocolis",flavor:"sale",prepTime:"30  35 min",servings:"1 pers",image:K$,ingredients:["Pour le poulet","150 g de blanc de poulet","1 cuillre  caf dhuile dolive","Sel et poivre","Pour la sauce butter chicken","100 g de yaourt grec nature","1 cuillre  soupe de concentr de tomate","1 cuillre  caf de garam masala","1/2 cuillre  caf de paprika","1/2 cuillre  caf de curry","1 gousse dail","1/2 cuillre  caf de gingembre (pte ou moulu)","Sel et poivre","Pour laccompagnement","60 g de riz cru","150 g de brocolis"],steps:["  Cuire le riz","Fais cuire le riz dans une casserole deau bouillante sale selon le temps indiqu. goutte et rserve.","Cuire les brocolis","Fais cuire les brocolis  la vapeur ou dans de leau bouillante sale pendant 5  7 minutes, jusqu' ce quils soient tendres mais encore verts. goutte et rserve.","Prparer le poulet","Coupe le poulet en morceaux. Fais chauffer lhuile dolive dans une pole  feu moyen. Ajoute le poulet, sale, poivre et fais cuire 5  6 minutes jusqu' ce quil soit bien dor et cuit  cur. Rserve.","Prparer la sauce","Dans un bol, mlange : le yaourt grec, le concentr de tomate, lail hach, le gingembre, le garam masala, le paprika, le curry, le sel et le poivre.","Assembler le butter chicken","Baisse le feu. Remets le poulet dans la pole. Ajoute la sauce et mlange dlicatement. Laisse mijoter 3  5 minutes  feu doux, sans faire bouillir, jusqu' obtenir une sauce crmeuse.","Servir","Dispose le riz dans lassiette. Ajoute le butter chicken crmeux. Accompagne de brocolis."]},{id:"mass-patate-bowl",title:"Avocado toast",flavor:"sale",prepTime:"10  12 min",servings:"1 pers",image:X$,ingredients:["1 ou 2 tranches de pain (complet ou au choix)","1 avocat mr","1 uf","Sel et poivre","Un filet dhuile dolive","Jus de citron (facultatif)","Une pince de flocons de piment ou de paprika"],steps:["  Prparer lavocat","Coupe lavocat en deux, retire le noyau et rcupre la chair. crase-la  la fourchette dans un bol. Assaisonne avec le sel, le poivre et un filet de jus de citron si souhait.","Griller le pain","Fais griller les tranches de pain jusqu' ce quelles soient bien dores et croustillantes.","Cuire luf","Fais chauffer une petite pole avec un filet dhuile dolive. Casse luf et fais-le cuire selon ta prfrence : uf au plat (jaune coulant) ou uf mollet / poch. Sale et poivre lgrement.","Monter lavocado toast","tale lavocat cras sur les tranches de pain chaud. Dpose luf par-dessus.","Finaliser","Ajoute un peu de poivre, des flocons de piment ou du paprika si souhait. Sers immdiatement."]},{id:"mass-chili-boost",title:"Bowl prise de masse au steak hach",flavor:"sale",prepTime:"25  30 min",servings:"1 pers",image:pS,ingredients:["200 g de steak hach (5  10 % MG selon objectif)","80 g de riz cru","1/2 avocat","1 uf","1 cuillre  caf dhuile dolive","1 petit oignon","Sel et poivre","Optionnel :","pices (paprika, ail en poudre, cumin)"],steps:["  Cuire le riz","Fais cuire le riz dans une casserole deau bouillante sale selon le temps indiqu. goutte et rserve.","Cuire le steak hach","Fais chauffer lhuile dolive dans une pole  feu moyen. Ajoute loignon minc et fais-le revenir 2 minutes. Ajoute le steak hach, sale, poivre et miette-le  la spatule. Fais cuire 4  6 minutes, jusqu' cuisson souhaite.","Cuire luf","Dans une petite pole, fais cuire luf au plat ou mollet selon prfrence.","Prparer lavocat","Coupe le demi-avocat en tranches ou en ds.","Assembler le bowl","Dans un bol ou une assiette : dpose le riz. Ajoute le steak hach chaud. Ajoute luf. Termine par lavocat."]},{id:"mass-curry-coco",title:"Curry coco pois chiches",flavor:"sale",prepTime:"25  30 min",servings:"1 pers",image:Q$,ingredients:["150 g de pois chiches cuits (goutts)","100 ml de lait de coco","1/2 oignon","1 gousse dail","1 cuillre  soupe de concentr de tomate","1 cuillre  caf de curry en poudre","1/2 cuillre  caf de paprika","Sel et poivre","Persil frais","Pour laccompagnement","60 g de riz cru"],steps:["  Cuire le riz","Fais cuire le riz dans une casserole deau bouillante sale selon le temps indiqu. goutte et rserve.","Prparer la base du curry","mince loignon et hache lail. Fais chauffer une pole ou une casserole  feu moyen. Ajoute loignon et fais-le revenir 2  3 minutes jusqu' ce quil soit translucide. Ajoute lail et fais revenir 30 secondes.","Ajouter les pices et le concentr de tomate","Ajoute le curry, le paprika et le concentr de tomate. Mlange et laisse cuire 1 minute pour dvelopper les armes.","Ajouter les pois chiches et le lait de coco","Ajoute les pois chiches goutts et mlange. Verse le lait de coco, sale et poivre. Laisse mijoter 10 minutes  feu doux, en remuant de temps en temps.","Finaliser","Gote et rectifie lassaisonnement. Ajoute le persil cisel hors du feu.","Servir","Sers le curry coco bien chaud avec le riz."]},{id:"mass-riz-cajou",title:"Steak, pommes de terre & haricots verts",flavor:"sale",prepTime:"30  35 min",servings:"1 pers",image:fH,ingredients:["1 steak hach (150  200 g, selon besoin calorique)","300 g de pommes de terre","150 g de haricots verts","1 cuillre  soupe dhuile dolive","1 gousse dail (optionnel)","Sel et poivre","Optionnel :","Persil ou herbes de Provence"],steps:["  Prparer les pommes de terre","pluche les pommes de terre et coupe-les en morceaux. Fais-les cuire dans une casserole deau bouillante sale pendant 15  20 minutes, jusqu' ce quelles soient tendres. goutte et rserve.","Cuire les haricots verts","Fais cuire les haricots verts dans de leau bouillante sale ou  la vapeur pendant 8  10 minutes. goutte et rserve.","Cuire le steak hach","Fais chauffer lhuile dolive dans une pole  feu moyen. Ajoute lail hach si utilis, puis le steak hach. Sale et poivre. Fais cuire 3  5 minutes par face selon la cuisson souhaite.","Assembler lassiette","Dispose les pommes de terre dans lassiette. Ajoute le steak hach et les haricots verts. Parseme de persil ou dherbes si souhait."]},{id:"mass-overnight-prot",title:"Overnight oats protins",flavor:"sucre",prepTime:"5  7 min",servings:"1 pers",image:eH,ingredients:["50 g de flocons davoine","1 cuillre  soupe de graines de chia","1 scoop de protine whey","120 g de yaourt (nature)","120 ml de lait damande","50 g de framboises","1 cuillre  soupe de pte  tartiner Biscoff (sur le dessus)"],steps:["  Prparer la whey","Dans un bol ou un shaker, mlange la whey avec le lait damande jusqu' obtenir une texture bien lisse, sans grumeaux.","Prparer la base","Dans un bocal ou un bol, ajoute : les flocons davoine, les graines de chia, le yaourt. Mlange lgrement.","Ajouter la whey","Verse le mlange whey + lait damande dans le bocal. Mlange bien pour que tous les ingrdients soient homognes.","Ajouter les fruits","Ajoute les framboises et mlange dlicatement ou laisse-les sur le dessus selon ta prfrence.","Repos","Couvre et place au rfrigrateur pendant au minimum 4 heures, idalement toute la nuit.","Finaliser","Au moment de servir, ajoute la pte  tartiner Biscoff sur le dessus."]},{id:"mass-brownie-beans",title:"Brownie protin",flavor:"sucre",prepTime:"30  35 min",servings:"1 pers",image:Z$,ingredients:["60 g de whey protine isolate OVERSTIM.s","200 g de compote de pomme bio","2 blancs dufs","1 uf entier","100 g de farine de bl T65 ou T80","Sel","4 cuillres  soupe de sucre roux ou de sucre de fleur de coco","4 cuillres  soupe de chocolat en poudre ou de cacao en poudre ou 50 g de chocolat noir  ptisser (70  85% de cacao)","1 cuillre  soupe de levure chimique"],steps:["Prchauffer votre four  180C.","Dans un saladier, monter les blancs de deux ufs en neige.","Dans un autre saladier, verser la farine, la protine, le cacao en poudre (ou le chocolat pralablement fondu), le sucre, la compote et 1 uf entier. Mlanger pour obtenir une pte bien lisse et homogne. Ajouter 1 pince de sel.","Incorporer les blancs en neige avec une spatule sans les casser.","Verser la prparation dans un moule rectangulaire  brownie et faire cuire 20 minutes  180C."]},{id:"mass-salade-pates",title:"Bowl sucr fruits rouges & granola",flavor:"sucre",prepTime:"5  7 min",servings:"1 pers",image:tH,ingredients:["150  200 g de fromage blanc ou yaourt grec","50 g de myrtilles","3  4 fraises","30 g de granola","1 cuillre  soupe de sirop drable"],steps:["  Prparer les fruits","Lave les fraises et coupe-les en morceaux. Rince les myrtilles si ncessaire.","Prparer la base","Verse le fromage blanc ou le yaourt grec dans un bol. Lisse lgrement  la cuillre.","Ajouter les toppings","Ajoute les myrtilles et les fraises sur le yaourt. Parseme le granola par-dessus.","Finaliser","Verse le sirop drable sur lensemble."]}],yH=[{id:"healthy-parfait",title:"Burrito bowl healthy",flavor:"sale",prepTime:"35  40 min",servings:"1 pers",image:U$,ingredients:["Base & protines","120 g de blanc de poulet","200 g de patate douce","Lgumes","1/4 doignon rouge","80 g de tomates cerises","1/4 de poivron rouge","1/4 de poivron jaune","1/2 avocat","Sauce & assaisonnement","30 g de crme frache lgre","1 cuillre  caf dhuile dolive","Jus d1/2 citron vert","Persil frais (selon got)","1/2 cuillre  caf de paprika","1/2 cuillre  caf de poudre dail","1/2 cuillre  caf dpices cajun","Sel et poivre"],steps:["  Cuire la patate douce","Prchauffe le four  200C. pluche la patate douce et coupe-la en ds. Dpose-la sur une plaque, ajoute la moiti de lhuile dolive, le paprika, la poudre dail, un peu de sel et de poivre. Mlange et enfourne pour 25  30 minutes, jusqu' ce quelle soit tendre et dore.","Cuire le poulet","Coupe le poulet en morceaux. Fais chauffer une pole  feu moyen avec le reste de lhuile dolive. Ajoute le poulet, les pices cajun, sale et poivre. Fais cuire 5  7 minutes jusqu' ce quil soit bien dor et cuit  cur.","Prparer les lgumes frais","mince finement loignon rouge. Coupe les tomates cerises en deux. Coupe les poivrons en fines lanires. Coupe lavocat en tranches.","Prparer la sauce","Dans un petit bol, mlange la crme frache lgre avec le jus de citron vert, du sel et du poivre.","Assembler le burrito bowl","Dans un bol : Dpose la patate douce rtie. Ajoute le poulet. Dispose les poivrons, tomates cerises et loignon rouge. Ajoute lavocat.","Finaliser","Ajoute la sauce. Parseme de persil frais cisel. Ajoute un filet de jus de citron vert si souhait."]},{id:"healthy-granola",title:"Granola croustillant maison",flavor:"sucre",prepTime:"35  45 min",servings:"1 pers",image:uH,ingredients:["250 g de flocons davoine","60 g damandes","60 g de noisettes","60 g de noix","3 cuillres  soupe de miel","1 cuillre  caf de cannelle","1 pince de sel"],steps:["  Prchauffer le four","Prchauffe le four  170C.","Prparer les fruits secs","Concasse grossirement les amandes, noisettes et noix.","Mlanger les ingrdients secs","Dans un grand saladier, mlange : les flocons davoine, les fruits secs concasss, la cannelle, la pince de sel.","Ajouter le miel","Ajoute le miel et mlange bien pour enrober lensemble des ingrdients.","Enfourner","tale le mlange en une couche uniforme sur une plaque recouverte de papier cuisson.","Cuisson","Enfourne pour 20  25 minutes. Remue le granola toutes les 8  10 minutes pour une cuisson homogne.","Refroidissement","Sors le granola du four et laisse-le refroidir compltement : il deviendra croustillant en refroidissant.","Conservation","Conserve le granola dans un bocal hermtique  temprature ambiante."]},{id:"healthy-tartine-avocat",title:"Bowl au thon",flavor:"sale",prepTime:"20  25 min",servings:"1 pers",image:nH,ingredients:["120 g de thon au naturel (goutt)","60 g de riz cru","1/2 avocat","1/2 concombre","1 petite tomate","1 uf","1 cuillre  caf de graines de ssame","Pour la vinaigrette","1 cuillre  caf dhuile dolive","1 cuillre  caf de vinaigre (ou jus de citron)","Sel et poivre"],steps:["  Cuire le riz","Fais cuire le riz dans une casserole deau bouillante sale selon le temps indiqu. goutte et laisse tidir.","Cuire luf","Plonge luf dans de leau bouillante et fais-le cuire 9  10 minutes pour un uf dur. Refroidis-le sous leau froide, caille-le et coupe-le en quartiers.","Prparer les lgumes","Coupe lavocat en tranches ou en ds. Coupe le concombre en rondelles ou en ds. Coupe la tomate en morceaux.","Prparer la vinaigrette","Dans un petit bol, mlange lhuile dolive, le vinaigre (ou le jus de citron), le sel et le poivre.","Assembler le bowl","Dans un bol : Dpose le riz. Ajoute le thon miett. Dispose lavocat, le concombre et la tomate. Ajoute luf dur.","Finaliser","Verse la vinaigrette sur le bowl. Parseme de graines de ssame."]},{id:"healthy-bowl-mediterraneen",title:"Bowl mditerranen",flavor:"sale",prepTime:"20  25 min",servings:"1 pers",image:V$,ingredients:["Base","60 g de quinoa ou riz cru","100 g de pois chiches cuits (goutts)","Lgumes & garnitures","1/2 concombre","1 tomate","1/4 doignon rouge","50 g de feta miette","Olives noires (quelques-unes)","Persil ou basilic frais","Assaisonnement","1 cuillre  soupe dhuile dolive","1 cuillre  caf de jus de citron","Sel et poivre"],steps:["  Cuire la base","Fais cuire le quinoa ou le riz dans une casserole deau bouillante sale selon le temps indiqu. goutte et laisse tidir.","Prparer les lgumes","Coupe le concombre en ds. Coupe la tomate en morceaux. mince finement loignon rouge.","Prparer les pois chiches","Rince et goutte les pois chiches. Tu peux les utiliser tels quels ou les faire revenir rapidement  la pole avec un peu de sel.","Prparer lassaisonnement","Dans un petit bol, mlange lhuile dolive, le jus de citron, le sel et le poivre.","Assembler le bowl","Dans un bol : Dpose la base (quinoa ou riz). Ajoute les pois chiches. Dispose les lgumes. Ajoute la feta et les olives.","Finaliser","Verse lassaisonnement. Ajoute les herbes fraches."]},{id:"healthy-soupe-verte",title:"Soupe verte dtox",flavor:"sale",prepTime:"20  25 min",servings:"1 pers",image:iH,ingredients:["150 g de brocoli","1 petite courgette","50 g dpinards frais","500 ml de bouillon de lgumes"],steps:["  Prparer les lgumes","Lave le brocoli et coupe-le en petits bouquets. Lave la courgette et coupe-la en rondelles. Rince les pinards.","Cuisson","Verse le bouillon de lgumes dans une casserole. Ajoute le brocoli et la courgette. Porte  bullition puis laisse cuire 10  12 minutes, jusqu' ce que les lgumes soient tendres.","Ajouter les pinards","Ajoute les pinards dans la casserole et laisse cuire 1  2 minutes, juste le temps quils tombent.","Mixer","Mixe la soupe jusqu' obtenir une texture lisse et homogne.","Servir","Gote et ajuste lassaisonnement si ncessaire."]},{id:"healthy-salade-pates",title:"Banana bread",flavor:"sucre",prepTime:"55  65 min",servings:"1 pers",image:rH,ingredients:["3 bananes mres (dont 1 pour la dcoration)","2 ufs ou 100 g de compote","150 g de farine","50 g de poudre damande","80 g de sucre roux","50 g dhuile vgtale (cacahute, coco ou tournesol)","100 ml de lait damande ou de coco","1/2 sachet de levure chimique","1 cuillre  caf de bicarbonate","1 pince de sel","1 sachet de sucre vanill","1 cuillre  caf de cannelle"],steps:["  Prchauffer le four","Prchauffe le four  180C.","Prparer les bananes","pluche et mixe 2 bananes jusqu' obtenir une pure lisse. Rserve la 3 banane pour la dcoration.","Prparer lappareil","Dans un grand saladier : Bats les ufs avec le sucre roux et le sucre vanill. Ajoute la cannelle et mlange. Incorpore lhuile vgtale. Ajoute la pure de bananes. Verse le lait vgtal. Mlange jusqu' obtenir une prparation homogne.","Ajouter les ingrdients secs","Ajoute : la farine, la levure chimique, le bicarbonate, le sel, la poudre damande. Mlange dlicatement jusqu' obtenir une pte lisse.","Mise en moule","Huile lgrement un moule. Verse la prparation dans le moule. Coupe la banane rserve en deux dans la longueur et dpose-la sur le dessus.","Cuisson","Enfourne  180C pendant 40  45 minutes. Vrifie la cuisson avec la pointe dun couteau : elle doit ressortir sche.","Refroidissement","Laisse tidir avant de dmouler et de dcouper."]},{id:"healthy-overnight-oats",title:"Brochettes de poulet, salade frache & boulghour  la tomate",flavor:"sale",prepTime:"30  35 min",servings:"1 pers",image:hH,ingredients:["Pour les brochettes","150 g de blanc de poulet","1/4 doignon rouge","1 cuillre  caf dhuile dolive","Sel et poivre","Paprika ou herbes de Provence (optionnel)","Pour la salade","1/2 concombre","1 tomate","Herbes fraches (persil, menthe ou coriandre)","Sel et poivre","Pour le boulghour  la tomate","60 g de boulghour cru","1 cuillre  soupe de concentr de tomate","1 cuillre  caf dhuile dolive","Sel et poivre","Pour la sauce  la grecque","100 g de yaourt grec","1/4 de concombre rp","1 petite gousse dail","1 cuillre  caf de jus de citron","Sel et poivre","Herbes fraches (aneth ou menthe, optionnel)"],steps:["  Prparer la sauce  la grecque","Rpe le concombre et presse-le pour enlever lexcs deau. Dans un bol, mlange le yaourt grec, le concombre rp, lail finement hach, le jus de citron, le sel, le poivre et les herbes si utilises. Rserve au frais.","Prparer le boulghour  la tomate","Fais cuire le boulghour dans de leau bouillante sale selon le temps indiqu. goutte, ajoute le concentr de tomate, lhuile dolive, le sel et le poivre. Mlange et rserve.","Prparer les brochettes","Coupe le poulet en cubes et loignon rouge en morceaux. Enfile-les sur les brochettes. Badigeonne dhuile dolive, sale, poivre et ajoute les pices si souhait.","Cuire les brochettes","Fais cuire les brochettes dans une pole-grill ou sur un grill bien chaud pendant 8  10 minutes, en les retournant rgulirement, jusqu' cuisson complte.","Prparer la salade","Coupe le concombre et la tomate en morceaux. Mlange avec les herbes, le sel et le poivre.","Servir","Dispose le boulghour  la tomate dans lassiette. Ajoute les brochettes de poulet. Ajoute la salade frache. Accompagne avec la sauce  la grecque."]},{id:"healthy-smoothie-glow",title:"Smoothie glow mangue passion",flavor:"sucre",prepTime:"5 min",servings:"1 pers",image:dH,ingredients:["150 g de mangue (frache ou surgele)","1 fruit de la passion","200 ml de lait vgtal (amande, coco lger ou avoine)","100 g de yaourt nature ou yaourt grec allg","1 cuillre  caf de jus de citron (optionnel)","Quelques glaons (optionnel)"],steps:["Coupe la mangue en morceaux si elle est frache.","Rcupre la pulpe du fruit de la passion  laide dune cuillre.","Verse le lait vgtal dans le blender.","Ajoute la mangue, la pulpe de passion et le yaourt.","Ajoute le jus de citron et les glaons si souhait.","Mixe pendant 30  60 secondes, jusqu' obtenir une texture lisse et onctueuse.","Verse dans un verre et consomme immdiatement."]},{id:"healthy-wrap-legumes",title:"Brownie sal au brocoli, feta & lardons",flavor:"sale",prepTime:"60  65 min",servings:"1 pers",image:sH,ingredients:["1 brocoli","2 ufs","160 g de farine","1/2 feta","Lardons","250 ml de lait","Comt rp","Huile dolive","Sel","Poivre","Ail en poudre"],steps:["  Prparer le brocoli","Dtaille le brocoli en petits bouquets. Fais-le cuire dans de leau bouillante sale pendant 5  7 minutes, jusqu' ce quil soit tendre. goutte bien et coupe-le grossirement. Rserve.","Cuire les lardons","Fais revenir les lardons dans une pole chaude sans ajout de matire grasse jusqu' ce quils soient dors. goutte-les sur du papier absorbant et rserve.","Prchauffer le four","Prchauffe le four  180C.","Prparer lappareil","Dans un grand saladier : Bats les ufs. Ajoute le lait et mlange. Incorpore la farine progressivement en fouettant pour viter les grumeaux. Assaisonne avec le sel, le poivre et lail en poudre.","Ajouter les garnitures","Ajoute  la prparation : le brocoli, la feta miette, les lardons, une poigne de comt rp. Mlange dlicatement pour bien rpartir les ingrdients.","Enfourner","Huile lgrement un moule avec de lhuile dolive. Verse la prparation et lisse la surface. Ajoute un peu de comt rp sur le dessus. Enfourne pour 35  40 minutes, jusqu' ce que le brownie soit bien dor et pris  cur.","Repos et dcoupe","Laisse tidir quelques minutes avant de dcouper en parts."]},{id:"healthy-tofu-bowl",title:"Biscuits croustillants avoine & chocolat",flavor:"sucre",prepTime:"25  30 min",servings:"1 pers",image:oH,ingredients:["1 banane mre crase","100 g de flocons davoine","50 g de chocolat noir (en morceaux ou ppites)","8  10 noisettes entires"],steps:["  Prchauffer le four","Prchauffe le four  180C.","Prparer la pte","Dans un bol, crase la banane  la fourchette jusqu' obtenir une pure lisse. Ajoute les flocons davoine et mlange jusqu' obtenir une pte homogne.","Former les biscuits","Recouvre une plaque de papier cuisson. Dpose des petits tas de pte et aplatis-les lgrement pour former des biscuits.","Ajouter le chocolat et la noisette","Dpose quelques morceaux de chocolat sur chaque biscuit. Ajoute une noisette entire au centre de chaque biscuit.","Cuisson","Enfourne pour 15  18 minutes, jusqu' ce que les biscuits soient bien dors et croustillants sur les bords.","Refroidissement","Laisse refroidir sur une grille : ils deviendront plus croustillants en refroidissant."]},{id:"healthy-saumon-tray",title:"Saumon au four citron",flavor:"sale",prepTime:"25  30 min",servings:"1 pers",image:aH,ingredients:["120 g de saumon frais","60 g de riz cru","150 g dasperges vertes","1 gousse dail","5 g de beurre","1 cuillre  caf dhuile dolive","Persil frais (selon got)","Sel et poivre"],steps:["  Cuire le riz","Fais cuire le riz dans une casserole deau bouillante sale selon le temps indiqu. goutte et rserve.","Prparer les asperges","Lave les asperges et coupe les extrmits dures. Fais-les cuire  la vapeur ou dans de leau bouillante sale pendant 5  7 minutes, jusqu' ce quelles soient tendres mais encore lgrement croquantes. goutte et rserve.","Cuire le saumon","Sale et poivre le saumon. Fais chauffer lhuile dolive dans une pole  feu moyen. Dpose le saumon ct peau (ou ct prsentation) et fais cuire 3  4 minutes. Retourne le saumon et poursuis la cuisson 2  3 minutes.","Prparer la sauce citron-ail","Baisse le feu. Ajoute le beurre et lail hach dans la pole. Laisse fondre doucement en arrosant le saumon pendant 30  60 secondes, sans faire brler lail.","Finaliser","Retire la pole du feu. Ajoute le persil cisel et un peu de jus de citron si souhait. Rectifie lassaisonnement.","Servir","Dispose le riz dans lassiette. Ajoute le saumon au citron et les asperges."]},{id:"healthy-potage-lentilles",title:"Pudding de chia coco & fraises",flavor:"sucre",prepTime:"5  7 min",servings:"1 pers",image:lH,ingredients:["250 ml de lait vgtal","3 cuillres  soupe de graines de chia","1 cuillre  soupe de miel","100 g de yaourt  la noix de coco","30 g de granola","4  5 fraises"],steps:["  Faire gonfler les graines de chia","Dans un bol ou un bocal, verse le lait vgtal. Ajoute les graines de chia et mlange bien. Laisse reposer 10 minutes, puis remue  nouveau pour viter les grumeaux.","Repos","Couvre et place au rfrigrateur pendant au moins 2 heures, idalement toute la nuit, jusqu' ce que le pudding paississe.","Ajouter le miel","Une fois le pudding bien pris, ajoute le miel et mlange.","Prparer les fraises","Lave les fraises et coupe-les en morceaux.","Monter le pudding","Ajoute le yaourt  la noix de coco sur le pudding de chia. Ajoute les fraises. Parseme de granola sur le dessus.","Servir","Consomme immdiatement pour garder le granola croustillant."]},{id:"healthy-quinoa-menthe",title:"Salade Csar healthy",flavor:"sale",prepTime:"20  25 min",servings:"1 pers",image:cH,ingredients:["Pour la salade","100 g de blanc de poulet","1 uf","80 g de salade (romaine ou autre)","1 petite tomate","20 g de parmesan en copeaux","20 g de crotons de pain","Pour la sauce Csar maison (healthy)","40 g de yaourt grec nature","1 cuillre  caf de moutarde","1 cuillre  caf de jus de citron","1 cuillre  caf dhuile dolive","Sel et poivre"],steps:["  Cuire luf","Plonge luf dans de leau bouillante et fais-le cuire 9 minutes pour un uf dur. Refroidis-le, caille-le et coupe-le en quartiers.","Cuire le poulet","Fais chauffer une pole  feu moyen. Fais cuire le poulet 5  7 minutes, en le retournant, jusqu' ce quil soit bien dor et cuit  cur. Sale, poivre et coupe-le en tranches.","Prparer la sauce Csar","Dans un bol, mlange le yaourt grec, la moutarde, le jus de citron, lhuile dolive, le sel et le poivre jusqu' obtenir une sauce lisse.","Prparer les lgumes","Lave et essore la salade. Coupe la tomate en quartiers.","Assembler la salade","Dans un grand bol ou une assiette : Dpose la salade. Ajoute le poulet. Ajoute luf dur. Ajoute la tomate. Ajoute les crotons.","Finaliser","Verse la sauce Csar maison sur la salade. Ajoute les copeaux de parmesan et mlange lgrement."]},{id:"healthy-snack-energetique",title:"Salade de fruits frache  la menthe & citron",flavor:"sucre",prepTime:"8  10 min",servings:"1 pers",image:z$,ingredients:["80 g de myrtilles","4  5 fraises","1 kiwi","100 g de mangue","Quelques feuilles de menthe frache","Jus d1/2 citron"],steps:["  Prparer les fruits","Rince les myrtilles. Lave, queute et coupe les fraises en morceaux. pluche le kiwi et coupe-le en ds. pluche la mangue et coupe-la en morceaux.","Ciseler la menthe","Lave et cisele finement les feuilles de menthe.","Assembler la salade","Dpose tous les fruits dans un saladier ou un bol. Ajoute la menthe cisele.","Assaisonner","Verse le jus de citron sur les fruits. Mlange dlicatement pour ne pas craser les fruits.","Servir","Place au frais quelques minutes avant de servir si souhait."]}],vH={sweet:{eyebrow:"Sucr",title:"Ma Diet",description:"Toutes les ides sucres du moment."},savory:{eyebrow:"Sal",title:"Ma Diet",description:"Toutes les ides sales du moment."}},xH="planner.diet.recipeFavorites",bH="planner.diet.customRecipes",wH="planner.diet.weeklyPlan",_H="planner.diet.weeklyPlanRecipes",p0=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],EH=[{id:"morning",label:"Matin"},{id:"midday",label:"Midi"},{id:"evening",label:"Soir"}],kH=()=>{const t={};return p0.forEach(e=>{t[e]={morning:"",midday:"",evening:""}}),t},TH=()=>{const{userEmail:t}=or();D.useEffect(()=>(document.body.classList.add("diet-page--beige"),()=>{document.body.classList.remove("diet-page--beige")}),[]);const e=D.useMemo(()=>di(t,xH),[t]),n=D.useMemo(()=>di(t,wH),[t]),i=D.useMemo(()=>di(t,_H),[t]),s=D.useMemo(()=>di(t,bH),[t]),[a,u]=D.useState("sweet"),[m,x]=D.useState(()=>{if(typeof window>"u")return new Set;try{const be=window.localStorage.getItem(e);return be?new Set(JSON.parse(be)):new Set}catch{return new Set}}),[_,I]=D.useState(null),[j,z]=D.useState(p0[0]),[J,te]=D.useState("midday"),[oe,se]=D.useState(""),[X,L]=D.useState(()=>{if(typeof window>"u")return[];try{const be=window.localStorage.getItem(s);return be?JSON.parse(be):[]}catch{return[]}}),[G,ne]=D.useState(!1),[ke,ge]=D.useState(""),[K,M]=D.useState("sale"),[H,U]=D.useState(""),[Y,ae]=D.useState(""),[ie,pt]=D.useState(null),[Mt,Ke]=D.useState(""),[ft,Re]=D.useState(""),[$e,ut]=D.useState(""),[_t,jt]=D.useState(""),kt=D.useRef(null),Ot=D.useMemo(()=>[...gH,...yH],[]),mt=a==="favorites"||a==="custom"?null:vH[a],Rt=D.useMemo(()=>Ot.filter(be=>m.has(be.id)),[Ot,m]),ot=D.useMemo(()=>{if(a==="favorites")return Rt;const be=a==="sweet"?"sucre":"sale";return Ot.filter(vt=>vt.flavor===be)},[Ot,Rt,a]);D.useEffect(()=>{_&&se(_.title)},[_]),D.useEffect(()=>{if(!(typeof window>"u"))try{window.localStorage.setItem(e,JSON.stringify(Array.from(m)))}catch{}},[m,e]),D.useEffect(()=>{if(!(typeof window>"u"))try{window.localStorage.setItem(s,JSON.stringify(X))}catch{}},[X,s]);const xe=be=>{x(vt=>{const Tt=new Set(vt);return Tt.has(be)?Tt.delete(be):Tt.add(be),Tt})},le=()=>{if(!_)return;const be=oe.trim()||_.title;if(be)try{const vt=window.localStorage.getItem(n);let Tt=kH();if(vt){const ht=JSON.parse(vt);ht&&typeof ht=="object"&&(Tt={...Tt,...ht})}const Se=Tt[j]??{morning:"",midday:"",evening:""},Me={...Tt,[j]:{...Se,[J]:be}};window.localStorage.setItem(n,JSON.stringify(Me));const He=window.localStorage.getItem(i);let De={};if(He)try{const ht=JSON.parse(He);ht&&typeof ht=="object"&&(De=ht)}catch{De={}}const et=De[j]??{},at={id:_.id,title:_.title,flavor:_.flavor,prepTime:_.prepTime,servings:_.servings,image:_.image,ingredients:_.ingredients,steps:_.steps,toppings:_.toppings,tips:_.tips};De={...De,[j]:{...et,[J]:at}},window.localStorage.setItem(i,JSON.stringify(De)),I(null)}catch{}},_e=be=>{if(!be||!be.type.startsWith("image/"))return;const vt=new FileReader;vt.onload=()=>{const Tt=typeof vt.result=="string"?vt.result:null;Tt&&pt(Tt)},vt.readAsDataURL(be)},me=be=>be.split(`
`).map(vt=>vt.trim()).filter(Boolean),Ye=()=>{ge(""),M("sale"),U(""),ae(""),pt(null),Ke(""),Re(""),ut(""),jt("")},je=()=>{const be=ke.trim();if(!be)return;const vt=me(Mt),Tt=me(ft);if(vt.length===0||Tt.length===0)return;const Se={id:`custom-${Date.now()}`,title:be,flavor:K,prepTime:H.trim()||"-",servings:Y.trim()||"-",ingredients:vt,steps:Tt,toppings:me($e),tips:me(_t)};L(Me=>[Se,...Me]),I(Se),se(Se.title),ne(!1),Ye()},Ue=be=>be?o.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#ef4444",strokeWidth:"1.5","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9999 3.94228C13.1757 2.85872 14.7069 2.25 16.3053 2.25C18.0313 2.25 19.679 2.95977 20.8854 4.21074C22.0832 5.45181 22.75 7.1248 22.75 8.86222C22.75 10.5997 22.0831 12.2728 20.8854 13.5137C20.089 14.3393 19.2938 15.1836 18.4945 16.0323C16.871 17.7562 15.2301 19.4985 13.5256 21.14L13.5216 21.1438C12.6426 21.9779 11.2505 21.9476 10.409 21.0754L3.11399 13.5136C0.62867 10.9374 0.62867 6.78707 3.11399 4.21085C5.54605 1.68984 9.46239 1.60032 11.9999 3.94228Z",fill:"#ef4444"})}):o.jsx("svg",{width:"24px",height:"24px",strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#ef4444","aria-hidden":"true",children:o.jsx("path",{d:"M22 8.86222C22 10.4087 21.4062 11.8941 20.3458 12.9929C17.9049 15.523 15.5374 18.1613 13.0053 20.5997C12.4249 21.1505 11.5042 21.1304 10.9488 20.5547L3.65376 12.9929C1.44875 10.7072 1.44875 7.01723 3.65376 4.73157C5.88044 2.42345 9.50794 2.42345 11.7346 4.73157L11.9998 5.00642L12.2648 4.73173C13.3324 3.6245 14.7864 3 16.3053 3C17.8242 3 19.2781 3.62444 20.3458 4.73157C21.4063 5.83045 22 7.31577 22 8.86222Z",stroke:"#ef4444",strokeWidth:"1.5",strokeLinejoin:"round"})});return o.jsx(o.Fragment,{children:o.jsxs("main",{className:"diet-gymgirl-page",children:[o.jsxs("article",{className:"diet-blog",children:[mt?o.jsx(o.Fragment,{children:o.jsx(bi,{eyebrow:mt.eyebrow,title:"Ma diet",className:"diet-page-heading"})}):o.jsx(o.Fragment,{children:o.jsx(bi,{eyebrow:"Favoris",title:"Ma diet",className:"diet-page-heading"})}),o.jsxs("div",{className:"diet-crosslink",children:[o.jsxs("div",{children:[o.jsx("p",{className:"diet-crosslink__label",children:"Planifier ta semaine"}),o.jsx("p",{className:"diet-crosslink__text",children:"Passe sur la page Alimentation pour organiser tes repas et ta liste de courses."})]}),o.jsx(Zo,{to:"/alimentation",className:"pill pill--diet",children:"Planifier les repas"})]}),o.jsxs("div",{className:"diet-toggle diet-toggle--heading",children:[o.jsx("button",{type:"button",className:a==="sweet"?"is-active":"",onClick:()=>u("sweet"),children:"Sucr"}),o.jsx("button",{type:"button",className:a==="savory"?"is-active":"",onClick:()=>u("savory"),children:"Sal"}),o.jsx("button",{type:"button",className:a==="favorites"?"is-active":"",onClick:()=>u("favorites"),children:"Favoris"}),o.jsx("button",{type:"button",className:a==="custom"?"is-active":"",onClick:()=>u("custom"),children:"Mes recettes"})]})]}),o.jsx("section",{className:"diet-blog",children:a==="favorites"?Rt.length>0?o.jsx("div",{className:"diet-recipe-grid",children:Rt.map(be=>o.jsxs("article",{className:"diet-recipe-card",style:{backgroundImage:`url(${be.image})`},onClick:()=>I(be),children:[o.jsx("div",{className:"diet-recipe-card__overlay"}),o.jsxs("div",{className:"diet-recipe-card__content",children:[o.jsx("div",{className:"diet-recipe-card__header",children:o.jsx("button",{type:"button",className:m.has(be.id)?"diet-favorite is-active":"diet-favorite",onClick:vt=>{vt.stopPropagation(),xe(be.id)},"aria-label":"Ajouter aux favoris",children:Ue(m.has(be.id))})}),o.jsxs("div",{className:"diet-recipe-card__body",children:[o.jsx("h3",{children:be.title}),o.jsxs("div",{className:"diet-recipe-meta",children:[o.jsx("span",{className:"diet-info-pill",children:be.flavor==="sucre"?"Sucr":"Sal"}),o.jsx("span",{className:"diet-info-pill",children:be.prepTime}),o.jsx("span",{className:"diet-info-pill",children:be.servings})]})]})]})]},be.id))}):null:a==="custom"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"diet-custom-header",children:[o.jsx("div",{children:o.jsx("h3",{children:"Mes recettes"})}),o.jsx("button",{type:"button",className:"pill pill--diet",onClick:()=>ne(!0),children:"Crer une recette"})]}),X.length>0?o.jsx("div",{className:"diet-recipe-grid",children:X.map(be=>o.jsxs("article",{className:"diet-recipe-card",style:{backgroundImage:`url(${be.image})`},onClick:()=>I(be),children:[o.jsx("div",{className:"diet-recipe-card__overlay"}),o.jsxs("div",{className:"diet-recipe-card__content",children:[o.jsx("div",{className:"diet-recipe-card__header",children:o.jsx("button",{type:"button",className:m.has(be.id)?"diet-favorite is-active":"diet-favorite",onClick:vt=>{vt.stopPropagation(),xe(be.id)},"aria-label":"Ajouter aux favoris",children:Ue(m.has(be.id))})}),o.jsxs("div",{className:"diet-recipe-card__body",children:[o.jsx("h3",{children:be.title}),o.jsxs("div",{className:"diet-recipe-meta",children:[o.jsx("span",{className:"diet-info-pill",children:be.flavor==="sucre"?"Sucr":"Sal"}),o.jsx("span",{className:"diet-info-pill",children:be.prepTime}),o.jsx("span",{className:"diet-info-pill",children:be.servings})]})]})]})]},be.id))}):null]}):o.jsx("div",{className:"diet-recipe-grid",children:ot.map(be=>o.jsxs("article",{className:"diet-recipe-card",style:{backgroundImage:`url(${be.image})`},onClick:()=>I(be),children:[o.jsx("div",{className:"diet-recipe-card__overlay"}),o.jsxs("div",{className:"diet-recipe-card__content",children:[o.jsx("div",{className:"diet-recipe-card__header",children:o.jsx("button",{type:"button",className:m.has(be.id)?"diet-favorite is-active":"diet-favorite",onClick:vt=>{vt.stopPropagation(),xe(be.id)},"aria-label":"Ajouter aux favoris",children:Ue(m.has(be.id))})}),o.jsxs("div",{className:"diet-recipe-card__body",children:[o.jsx("h3",{children:be.title}),o.jsxs("div",{className:"diet-recipe-meta",children:[o.jsx("span",{className:"diet-info-pill",children:be.flavor==="sucre"?"Sucr":"Sal"}),o.jsx("span",{className:"diet-info-pill",children:be.prepTime}),o.jsx("span",{className:"diet-info-pill",children:be.servings})]})]})]})]},be.id))})}),G?o.jsxs("div",{className:"diet-recipe-modal",role:"dialog","aria-label":"Crer une recette",children:[o.jsx("div",{className:"diet-recipe-modal__backdrop",onClick:()=>ne(!1)}),o.jsxs("div",{className:"diet-recipe-modal__panel",children:[o.jsxs("div",{className:"diet-recipe-modal__cover",children:[o.jsx("img",{alt:"Aperu recette",className:"diet-recipe-modal__image"}),o.jsx("button",{type:"button",className:"diet-recipe-close-icon diet-recipe-close-icon--cover",onClick:()=>ne(!1),"aria-label":"Fermer",children:o.jsx("span",{"aria-hidden":"true"})})]}),o.jsxs("div",{className:"diet-recipe-modal__content",children:[o.jsx("header",{className:"diet-recipe-modal__header",children:o.jsx("div",{children:o.jsx("h3",{children:"Crer une recette"})})}),o.jsx("div",{className:"diet-recipe-modal__body",children:o.jsxs("div",{className:"diet-recipe-form",children:[o.jsxs("label",{children:["Titre",o.jsx("input",{type:"text",value:ke,onChange:be=>ge(be.target.value)})]}),o.jsxs("div",{className:"diet-recipe-form__row",children:[o.jsxs("label",{children:["Type",o.jsxs("select",{value:K,onChange:be=>M(be.target.value),children:[o.jsx("option",{value:"sale",children:"Sal"}),o.jsx("option",{value:"sucre",children:"Sucr"})]})]}),o.jsxs("label",{children:["Prparation",o.jsx("input",{type:"text",value:H,onChange:be=>U(be.target.value),placeholder:"Ex : 20 min"})]}),o.jsxs("label",{children:["Portions",o.jsx("input",{type:"text",value:Y,onChange:be=>ae(be.target.value),placeholder:"Ex : 2 pers"})]})]}),o.jsxs("label",{className:"diet-recipe-form__file",children:["Image",o.jsx("input",{ref:kt,type:"file",accept:"image/*",className:"diet-recipe-form__file-input",onChange:be=>{var vt;_e((vt=be.target.files)==null?void 0:vt[0]),be.target.value=""}}),o.jsx("button",{type:"button",className:"diet-recipe-form__file-button",onClick:()=>{var be;return(be=kt.current)==null?void 0:be.click()},children:"Choisir une image"})]}),o.jsxs("label",{children:["Ingrdients (1 par ligne)",o.jsx("textarea",{value:Mt,onChange:be=>Ke(be.target.value),rows:5})]}),o.jsxs("label",{children:["tapes (1 par ligne)",o.jsx("textarea",{value:ft,onChange:be=>Re(be.target.value),rows:6})]}),o.jsxs("label",{children:["Toppings (optionnel)",o.jsx("textarea",{value:$e,onChange:be=>ut(be.target.value),rows:3})]}),o.jsxs("label",{children:["Astuces (optionnel)",o.jsx("textarea",{value:_t,onChange:be=>jt(be.target.value),rows:3})]})]})})]}),o.jsxs("footer",{className:"diet-recipe-modal__actions",children:[o.jsx("button",{type:"button",onClick:()=>ne(!1),children:"Annuler"}),o.jsx("button",{type:"button",onClick:je,children:"Enregistrer"})]})]})]}):null,_?o.jsxs("div",{className:"diet-recipe-modal",role:"dialog","aria-label":`Recette ${_.title}`,children:[o.jsx("div",{className:"diet-recipe-modal__backdrop",onClick:()=>I(null)}),o.jsxs("div",{className:"diet-recipe-modal__panel",children:[o.jsxs("div",{className:"diet-recipe-modal__cover",children:[o.jsx("img",{src:_.image,alt:_.title,className:"diet-recipe-modal__image"}),o.jsx("button",{type:"button",className:"diet-recipe-close-icon diet-recipe-close-icon--cover",onClick:()=>I(null),"aria-label":"Fermer",children:o.jsx("span",{"aria-hidden":"true"})})]}),o.jsxs("div",{className:"diet-recipe-modal__content",children:[o.jsx("header",{className:"diet-recipe-modal__header",children:o.jsx("div",{children:o.jsx("h3",{children:_.title})})}),o.jsxs("div",{className:"diet-recipe-modal__body",children:[o.jsxs("section",{className:"diet-recipe-plan",children:[o.jsx("h4",{children:"Ajouter au planning"}),o.jsxs("div",{className:"diet-recipe-plan__row",children:[o.jsxs("label",{children:["Jour",o.jsx("select",{value:j,onChange:be=>z(be.target.value),children:p0.map(be=>o.jsx("option",{value:be,children:be},be))})]}),o.jsxs("label",{children:["Moment",o.jsx("select",{value:J,onChange:be=>te(be.target.value),children:EH.map(be=>o.jsx("option",{value:be.id,children:be.label},be.id))})]})]}),o.jsxs("label",{children:["Plat",o.jsx("input",{type:"text",value:oe,onChange:be=>se(be.target.value),placeholder:"cris ton plat"})]}),o.jsx("button",{type:"button",className:"diet-recipe-plan__add",onClick:le,children:"Ajouter au planning"})]}),o.jsxs("section",{children:[o.jsx("h4",{children:"Ingrdients"}),o.jsx("ul",{children:_.ingredients.map(be=>o.jsx("li",{children:be},be))})]}),o.jsxs("section",{children:[o.jsx("h4",{children:"tapes"}),o.jsx("ol",{children:_.steps.map(be=>o.jsx("li",{children:be},be))})]}),_.toppings?o.jsxs("section",{children:[o.jsx("h4",{children:"Ides de toppings (optionnel)"}),o.jsx("ul",{children:_.toppings.map(be=>o.jsx("li",{children:be},be))})]}):null,_.tips?o.jsxs("section",{children:[o.jsx("h4",{children:" Astuce"}),o.jsx("ul",{children:_.tips.map(be=>o.jsx("li",{children:be},be))})]}):null]})]}),o.jsx("footer",{className:"diet-recipe-modal__actions",children:o.jsx("button",{type:"button",onClick:()=>I(null),children:"Fermer"})})]})]}):null]})})},CH="/assets/victoria-harder-dupe-eA-NlosZ.jpeg",SH="/assets/amy-rikard-dupe-CNwKfIqR.jpeg",AH={booked:"Reserve",ideation:"A planifier",packing:"Check-in"},fS=[{id:"lisbon-weekend",title:"City break Lisbonne",location:"Portugal",dates:"20 - 23 mars",focus:"Cafs, librairies, balade  Belm",budget:"450 EUR",status:"booked",cover:y_},{id:"crete-ete",title:"Crte en t",location:"Chania",dates:"5 - 12 juillet",focus:"Plages, sunset boat, marche local",budget:"980 EUR",status:"packing",cover:CH},{id:"alpines",title:"Cabane en montagne",location:"Haute-Savoie",dates:"11 - 13 octobre",focus:"Randos faciles + spa nordique",budget:"320 EUR",status:"ideation",cover:SH}],NH=["Passeport + billets","Trousse sante / assurances","Chargeurs + adaptateur","Tenues jour et soir","Maillot, lunettes, creme SPF","Kindle + playlist offline","Mini kit photo / video"],jH=["Verifier les check-in en ligne la veille","Screenshot des confirmations (airbnb, vols, transferts)","Preparer 2 resto coup de coeur sur place","Partager l'itineraire avec le +1"],IH=()=>(D.useEffect(()=>(document.body.classList.add("planner-page--white"),()=>{document.body.classList.remove("planner-page--white")}),[]),o.jsxs("div",{className:"content-page voyage-page",children:[o.jsx(bi,{eyebrow:"Voyage",title:"Planifier les escapades"}),o.jsxs("div",{className:"page-hero",children:[o.jsx("div",{className:"hero-chip",children:"Voyage"}),o.jsx("h2",{children:"Planifier les prochaines escapades"}),o.jsx("p",{className:"muted",children:"Dossiers voyages, budget et checklist cabine regroupes au meme endroit."}),o.jsxs("div",{className:"hero-actions",children:[o.jsx("button",{type:"button",className:"pill",children:"Ajouter une ide"}),o.jsx("button",{type:"button",className:"pill pill-ghost",children:"Exporter en PDF"})]})]}),o.jsxs("div",{className:"voyage-layout",children:[o.jsxs("section",{className:"voyage-trips",children:[o.jsxs("header",{className:"voyage-section-header",children:[o.jsxs("div",{children:[o.jsx("p",{className:"eyebrow",children:"Prochains departs"}),o.jsx("h2",{children:"Itineraires"})]}),o.jsxs("span",{className:"voyage-tag",children:[fS.length," voyages"]})]}),o.jsx("div",{className:"voyage-grid",children:fS.map(t=>o.jsxs("article",{className:"voyage-card",children:[o.jsxs("div",{className:"voyage-card__media",children:[o.jsx("img",{src:t.cover,alt:t.title}),o.jsx("span",{className:`voyage-status voyage-status--${t.status}`,children:AH[t.status]})]}),o.jsxs("div",{className:"voyage-card__body",children:[o.jsxs("div",{className:"voyage-card__meta",children:[o.jsx("span",{className:"voyage-location",children:t.location}),o.jsx("span",{className:"voyage-budget",children:t.budget})]}),o.jsx("h3",{children:t.title}),o.jsx("p",{className:"voyage-focus",children:t.focus}),o.jsx("div",{className:"voyage-dates",children:t.dates})]})]},t.id))})]}),o.jsxs("aside",{className:"voyage-sidebar",children:[o.jsxs("div",{className:"voyage-panel",children:[o.jsx("p",{className:"eyebrow",children:"Checklist bagage"}),o.jsx("ul",{className:"voyage-list",children:NH.map(t=>o.jsx("li",{children:t},t))})]}),o.jsxs("div",{className:"voyage-panel",children:[o.jsx("p",{className:"eyebrow",children:"Notes rapides"}),o.jsx("ul",{className:"voyage-list",children:jH.map(t=>o.jsx("li",{children:t},t))})]})]})]})]})),PH="/assets/Backday-DkunqoVT.jpg",MH="/assets/legday-m8vlanDY.jpg",dm={exercises:"planner.workout.exercises",videos:"planner.workout.videos",series:"planner.workout.series",notes:"planner.workout.notes"},mS="planner.workout.lastReset",RH=[{id:"ex-1",title:"Backday",muscle:"Dos",category:"Renforcement musculaire",image:PH},{id:"ex-2",title:"Legday",muscle:"Jambes",category:"Renforcement musculaire",image:MH}],DH=[{id:"vid-1",title:"Exercices leg day",url:"https://youtu.be/gcIqwTuaP4o?si=WzujDHWfFJwP0WlW",thumbnail:"https://img.youtube.com/vi/gcIqwTuaP4o/hqdefault.jpg"},{id:"vid-2",title:"Entranement Pilates complet",url:"https://youtu.be/354ezj2UHdM?si=LObxLx7v79fzZ9np",thumbnail:"https://img.youtube.com/vi/354ezj2UHdM/hqdefault.jpg"}],OH={"ex-1":[{id:"serie-1",label:"3x12 incline dumbbell row",completed:!1},{id:"serie-2",label:"4x10 Lat pull downs",completed:!1},{id:"serie-3",label:"3x10 Cable rows",completed:!1},{id:"serie-4",label:"Pull up ( jusqu' puisement )",completed:!1},{id:"serie-5",label:"3x10 Seated cable rows",completed:!1},{id:"serie-6",label:"3x10 Bent over rows",completed:!1}],"ex-2":[{id:"serie-7",label:"3x10 hip/leg press",completed:!1},{id:"serie-8",label:"3x10 Hip thrust",completed:!1},{id:"serie-9",label:"3x10 Rdls",completed:!1},{id:"serie-10",label:"3x12 Leg extension",completed:!1},{id:"serie-11",label:"Leg cuurls ( jusqu' puisement )",completed:!1},{id:"serie-12",label:"3x10 Squats",completed:!1},{id:"serie-13",label:"3x12 Reverse lunges",completed:!1}]},LH=["Abdos","Avant-bras","Biceps","Bras","Dos","?paules","Fessiers","Ischios","Jambes","Lombaires","Mollets","Obliques","Pectoraux","Quadriceps","Tout le corps","Triceps"],FH="Slectionner un muscle",BH=t=>{const e=t.getFullYear(),n=`${t.getMonth()+1}`.padStart(2,"0"),i=`${t.getDate()}`.padStart(2,"0");return`${e}-${n}-${i}`},VH=async t=>null,UH=t=>{try{const e=new URL(t);if(e.hostname==="youtu.be")return e.pathname.slice(1);const n=e.searchParams.get("v");return n||(e.pathname.includes("/embed/")?e.pathname.split("/embed/")[1]:null)}catch{return null}},zH=()=>{const[t,e]=Si(dm.exercises,()=>RH),[n,i]=Si(dm.videos,()=>DH),[s,a]=D.useState({title:"",muscle:"",category:"",image:""}),[u,m]=D.useState({title:"",url:""}),[x,_]=D.useState(null),[I,j]=Si(dm.series,()=>OH),[z,J]=Si(dm.notes,()=>({})),[te,oe]=D.useState(""),[se,X]=D.useState(""),[L,G]=D.useState(!1),[ne,ke]=D.useState(null),[ge,K]=D.useState(null),[M,H]=D.useState(!1),U=D.useRef(null);D.useEffect(()=>(document.body.classList.add("workout-page--beige"),()=>{document.body.classList.remove("workout-page--beige")}),[]),D.useEffect(()=>{if(!x)return;const le=_e=>{_e.key==="Escape"&&_(null)};return window.addEventListener("keydown",le),()=>window.removeEventListener("keydown",le)},[x]),D.useEffect(()=>{oe(""),X("")},[x]),D.useEffect(()=>{if(!L)return;const le=me=>{U.current&&(U.current.contains(me.target)||G(!1))},_e=me=>{me.key==="Escape"&&G(!1)};return window.addEventListener("mousedown",le),window.addEventListener("keydown",_e),()=>{window.removeEventListener("mousedown",le),window.removeEventListener("keydown",_e)}},[L]),D.useEffect(()=>{const le=_e=>{const me=_e.target;me!=null&&me.closest(".workout-card__menu")||me!=null&&me.closest(".workout-card__menu-panel")||(ke(null),K(null),H(!1))};return window.addEventListener("pointerdown",le),()=>window.removeEventListener("pointerdown",le)},[]);const Y=le=>{le.preventDefault();const _e=s.title.trim();if(!_e)return;const me={id:`ex-${Date.now()}`,title:_e,muscle:s.muscle.trim()||"Muscle",category:s.category.trim()||"",image:s.image.trim()||"https://images.unsplash.com/photo-1579758629938-03607ccdbaba?auto=format&fit=crop&w=800&q=80"};e(Ye=>[me,...Ye]),a({title:"",muscle:"",category:"",image:""})},ae=async le=>{le.preventDefault();const _e=u.title.trim()||"Session vido",me=UH(u.url.trim());if(!me)return;const Ye=await VH(),je={id:`vid-${Date.now()}`,title:_e,url:`https://www.youtube.com/watch?v=${me}`,thumbnail:`https://img.youtube.com/vi/${me}/hqdefault.jpg`,duration:Ye??void 0};i(Ue=>[je,...Ue]),m({title:"",url:""})},ie=le=>{e(_e=>_e.filter(me=>me.id!==le)),j(_e=>{if(!_e[le])return _e;const me={..._e};return delete me[le],me}),x===le&&_(null)},pt=le=>{i(_e=>_e.filter(me=>me.id!==le))},Mt=le=>{window.open(le,"_blank","noopener,noreferrer")},Ke=le=>{_(le),ke(null),K(null),H(!1)},ft=()=>{_(null),H(!1)},Re=le=>{const _e=te.trim();if(!_e)return;const me=se.trim();j(Ye=>{const je=Ye[le]??[],Ue={id:`srie-${Date.now()}`,label:_e,completed:!1,weight:me.length>0?me:void 0};return{...Ye,[le]:[...je,Ue]}}),oe(""),X("")},$e=(le,_e)=>{j(me=>{const Ye=me[le]??[];return{...me,[le]:Ye.map(je=>je.id===_e?{...je,completed:!je.completed}:je)}})},ut=(le,_e,me)=>{j(Ye=>{const je=Ye[le]??[];return{...Ye,[le]:je.map(Ue=>Ue.id===_e?{...Ue,weight:me.trim()||void 0}:Ue)}})},_t=(le,_e)=>{j(me=>{const Ye=me[le]??[];return{...me,[le]:Ye.filter(je=>je.id!==_e)}})},jt=le=>{if(!le){a(me=>({...me,image:""}));return}const _e=new FileReader;_e.onload=()=>{const me=typeof _e.result=="string"?_e.result:"";a(Ye=>({...Ye,image:me}))},_e.readAsDataURL(le)},kt=(le,_e)=>{if(!_e)return;const me=new FileReader;me.onload=()=>{const Ye=typeof me.result=="string"?me.result:"";Ye&&e(je=>je.map(Ue=>Ue.id===le?{...Ue,image:Ye}:Ue))},me.readAsDataURL(_e)},Ot=(le,_e)=>{if(!_e)return;const me=new FileReader;me.onload=()=>{const Ye=typeof me.result=="string"?me.result:"";Ye&&i(je=>je.map(Ue=>Ue.id===le?{...Ue,thumbnail:Ye}:Ue))},me.readAsDataURL(_e)},mt=D.useMemo(()=>t.find(le=>le.id===x)??null,[t,x]),Rt=D.useMemo(()=>x?I[x]??[]:[],[I,x]),ot=D.useMemo(()=>Rt.filter(le=>le.completed).length,[Rt]),xe=x?z[x]??"":"";return D.useEffect(()=>{if(typeof window>"u")return;const le=BH(new Date);window.localStorage.getItem(mS)!==le&&(j(me=>{const Ye={};return Object.entries(me).forEach(([je,Ue])=>{Ye[je]=Ue.map(be=>({...be,completed:!1}))}),Ye}),window.localStorage.setItem(mS,le))},[j]),o.jsxs("div",{className:"workout-page",children:[o.jsx("div",{className:"workout-page__accent-bar","aria-hidden":"true"}),o.jsx(bi,{eyebrow:"Routine active",title:"Workout"}),o.jsxs("div",{className:"workout-layout",children:[o.jsxs("section",{className:"workout-exercises",children:[o.jsx("header",{className:"workout-exercises__header",children:o.jsx("div",{className:"workout-section-header",children:o.jsx("h2",{children:"Liste d'exercices"})})}),o.jsxs("form",{className:"workout-form",onSubmit:Y,children:[o.jsxs("div",{className:"workout-form__fields",children:[o.jsxs("label",{children:[o.jsx("span",{children:"Nom"}),o.jsx("input",{type:"text",value:s.title,onChange:le=>a(_e=>({..._e,title:le.target.value})),placeholder:"Ex : Deadlift",required:!0})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Muscle cibl"}),o.jsxs("div",{className:"workout-form__select",ref:U,children:[o.jsxs("button",{type:"button",className:s.muscle?"workout-form__select-trigger":"workout-form__select-trigger is-placeholder","aria-haspopup":"listbox","aria-expanded":L,onClick:()=>G(le=>!le),children:[o.jsx("span",{children:s.muscle||FH}),o.jsx("svg",{className:"workout-form__select-chevron",viewBox:"0 0 20 20","aria-hidden":"true",children:o.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})})]}),L?o.jsx("div",{className:"workout-form__select-menu",role:"listbox",children:LH.map(le=>o.jsx("button",{type:"button",role:"option","aria-selected":s.muscle===le,className:s.muscle===le?"is-selected":void 0,onMouseDown:_e=>{_e.preventDefault(),a(me=>({...me,muscle:le})),G(!1)},children:le},le))}):null]})]}),o.jsxs("label",{children:[o.jsxs("span",{children:["Type ",o.jsx("small",{children:"(optionnel)"})]}),o.jsx("input",{type:"text",value:s.category,onChange:le=>a(_e=>({..._e,category:le.target.value})),placeholder:"Ex : HIIT, cardio, stretching..."})]})]}),o.jsx("div",{className:"workout-form__photo-compact",children:o.jsxs("div",{className:`workout-form__photo-preview${s.image?" workout-form__photo-preview--has-image":""}`,children:[s.image?o.jsx("img",{className:"workout-form__photo-img",src:s.image,alt:"Aperu de la photo slectionne"}):o.jsx("p",{children:"Ajoute une image depuis ton ordinateur."}),o.jsxs("div",{className:"workout-form__photo-actions",children:[s.image?null:o.jsxs("label",{children:[o.jsx("input",{type:"file",accept:"image/*",onChange:le=>{var _e;jt((_e=le.target.files)==null?void 0:_e[0]),le.target.value=""}}),"Choisir une photo"]}),s.image?o.jsx("button",{type:"button",onClick:()=>a(le=>({...le,image:""})),children:"Retirer"}):null]}),o.jsx("span",{className:"workout-form__photo-hint",children:"Formats image accepts (JPG, PNG, GIF)."})]})}),o.jsx("button",{type:"submit",children:"Ajouter la carte"})]})]}),t.length>0?o.jsx("section",{className:"workout-library workout-section--full",children:o.jsx("div",{className:"workout-cards",children:t.map(le=>o.jsxs("article",{className:"workout-card",role:"button",tabIndex:0,onClick:()=>Ke(le.id),onKeyDown:_e=>{(_e.key==="Enter"||_e.key===" ")&&(_e.preventDefault(),Ke(le.id))},children:[o.jsxs("div",{className:"workout-card__menu",children:[o.jsx("button",{type:"button",className:"profile-menu","aria-label":`Options pour ${le.title}`,onClick:_e=>{_e.stopPropagation(),ke(me=>me===le.id?null:le.id),K(null)},children:o.jsx("span",{"aria-hidden":"true",children:"..."})}),ne===le.id?o.jsxs("div",{className:"workout-card__menu-panel",role:"menu",onClick:_e=>_e.stopPropagation(),children:[o.jsxs("label",{className:"workout-card__menu-item",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:_e=>{var me;kt(le.id,(me=_e.target.files)==null?void 0:me[0]),_e.target.value="",ke(null)}}),"Modifier la photo"]}),o.jsx("button",{type:"button",className:"workout-card__menu-item workout-card__menu-item--danger",onClick:_e=>{_e.stopPropagation(),ie(le.id),ke(null)},children:"Supprimer"})]}):null]}),o.jsx("div",{className:"workout-card__media",children:o.jsx("img",{src:le.image,alt:le.title})}),o.jsxs("div",{className:"workout-card__body",children:[o.jsx("h3",{children:le.title}),o.jsxs("p",{className:"workout-card__meta",children:[o.jsx("span",{children:le.muscle}),le.category?o.jsx("span",{children:le.category}):null]})]})]},le.id))})}):null,o.jsxs("section",{className:"workout-videos workout-section--full",children:[o.jsxs("form",{className:"workout-video-form",onSubmit:ae,children:[o.jsxs("label",{children:[o.jsx("span",{children:"Titre"}),o.jsx("input",{id:"workout-video-title",type:"text",value:u.title,onChange:le=>m(_e=>({..._e,title:le.target.value})),placeholder:"Nom de la vido"})]}),o.jsxs("label",{children:[o.jsx("span",{children:"URL YouTube"}),o.jsx("input",{type:"url",value:u.url,onChange:le=>m(_e=>({..._e,url:le.target.value})),placeholder:"https://www.youtube.com/watch?v=...",required:!0})]}),o.jsx("button",{type:"submit",children:"Ajouter la vido"})]}),n.length===0?o.jsx("div",{className:"workout-video-empty",children:o.jsx("p",{className:"wishlist-modal__empty",children:"Aucune vido ajoute pour le moment. Commence en ajoutant ta premire vido."})}):o.jsx("div",{className:"workout-video-grid",children:n.map(le=>o.jsxs("article",{className:"workout-video-card",role:"link",tabIndex:0,onClick:()=>Mt(le.url),onKeyDown:_e=>{(_e.key==="Enter"||_e.key===" ")&&(_e.preventDefault(),Mt(le.url))},children:[o.jsxs("div",{className:"workout-card__menu",children:[o.jsx("button",{type:"button",className:"modal__close","aria-label":`Options pour ${le.title}`,onClick:_e=>{_e.stopPropagation(),K(me=>me===le.id?null:le.id),ke(null)},children:o.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M6 6 18 18M18 6 6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),ge===le.id?o.jsxs("div",{className:"workout-card__menu-panel",role:"menu",onClick:_e=>_e.stopPropagation(),children:[o.jsxs("label",{className:"workout-card__menu-item",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:_e=>{var me;Ot(le.id,(me=_e.target.files)==null?void 0:me[0]),_e.target.value="",K(null)}}),"Modifier la photo"]}),o.jsx("button",{type:"button",className:"workout-card__menu-item workout-card__menu-item--danger",onClick:_e=>{_e.stopPropagation(),pt(le.id),K(null)},children:"Supprimer"})]}):null]}),o.jsx("div",{className:"workout-video-thumb",children:o.jsx("img",{src:le.thumbnail,alt:le.title})}),o.jsxs("div",{className:"workout-video-card__body",children:[o.jsxs("div",{className:"workout-video-card__title-row",children:[o.jsx("p",{children:le.title}),le.duration?o.jsx("span",{className:"workout-video-card__duration",children:le.duration}):null]}),o.jsx("span",{className:"workout-video-card__source",children:"youtube.com"})]})]},le.id))})]})]}),o.jsx("div",{className:"workout-page__footer-bar","aria-hidden":"true"}),mt&&o.jsx("div",{className:"workout-modal",role:"dialog","aria-modal":"true","aria-labelledby":"workout-modal-title",onClick:ft,children:o.jsxs("div",{className:"workout-modal__panel",onClick:le=>le.stopPropagation(),children:[o.jsxs("div",{className:"workout-modal__menu",children:[o.jsx("button",{type:"button",className:"modal__close","aria-label":"Fermer",onClick:ft,children:o.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{d:"M6 6 18 18M18 6 6 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),M&&x?o.jsxs("div",{className:"workout-card__menu-panel",role:"menu",children:[o.jsxs("label",{className:"workout-card__menu-item",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:le=>{var _e;kt(x,(_e=le.target.files)==null?void 0:_e[0]),le.target.value="",H(!1)}}),"Modifier la photo"]}),o.jsx("button",{type:"button",className:"workout-card__menu-item workout-card__menu-item--danger",onClick:()=>{ie(x),H(!1)},children:"Supprimer"})]}):null]}),o.jsx("div",{className:"workout-modal__cover",children:o.jsx("img",{src:mt.image,alt:mt.title})}),o.jsxs("div",{className:"workout-modal__body",children:[o.jsx("header",{className:"workout-modal__header",children:o.jsxs("div",{children:[o.jsx("p",{className:"workout-modal__eyebrow",children:"Ajoute tes exercices pour cette session."}),o.jsx("h3",{id:"workout-modal-title",children:mt.title})]})}),o.jsxs("div",{className:"workout-modal__content",children:[o.jsxs("form",{className:"workout-modal__series-form",onSubmit:le=>{le.preventDefault(),x&&Re(x)},children:[o.jsx("input",{type:"text",value:te,onChange:le=>oe(le.target.value),placeholder:"Ex : 4 x 12 squats, 10 min rameur..."}),o.jsx("input",{type:"text",value:se,onChange:le=>X(le.target.value),placeholder:"Charge (kg)",className:"workout-modal__series-weight-input"}),o.jsx("button",{type:"submit",children:"Ajouter une srie"})]}),o.jsx("div",{className:"workout-modal__note",children:o.jsxs("label",{children:[o.jsx("span",{children:"Notes de sance"}),o.jsx("textarea",{rows:3,value:xe,onChange:le=>{if(!x)return;const _e=le.target.value;J(me=>({...me,[x]:_e}))},placeholder:"Ressenti, charge, remarque..."})]})}),Rt.length===0?o.jsx("p",{className:"workout-modal__empty",children:'Aucun lment encore. Clique sur "Ajouter une srie" pour enregistrer tes envies dans cette catgorie.'}):o.jsx("ul",{className:"workout-modal__series-list",children:Rt.map(le=>o.jsxs("li",{children:[o.jsxs("label",{children:[o.jsx("input",{type:"checkbox",checked:le.completed,onChange:()=>x&&$e(x,le.id)}),o.jsx("span",{children:le.label})]}),le.weight?o.jsx("input",{type:"text",className:"workout-modal__series-weight",value:le.weight,onChange:_e=>x&&ut(x,le.id,_e.target.value),placeholder:"kg","aria-label":`Poids pour ${le.label}`}):null,o.jsx("button",{type:"button","aria-label":`Supprimer ${le.label}`,onClick:()=>x&&_t(x,le.id),children:""})]},le.id))})]})]}),o.jsx("footer",{className:"workout-modal__footer",children:o.jsxs("div",{className:"workout-modal__summary",children:[ot,"/",Rt.length," sries coches"]})})]})})]})},b_="/assets/maria-bolinder-dupe-BmyQDoDR.jpeg",qH=[{question:"Est-ce que Me&rituals est gratuit ?",answer:"Oui, le projet est disponible librement pour taccompagner au quotidien. De nouvelles fonctionnalits arrivent rgulirement pour enrichir ton exprience."},{question:"Comment sauvegarder mes donnes ?",answer:"Tes notes restent enregistres localement sur ton appareil. Pour plus de scurit, exporte les informations cls afin den garder une copie personnelle."},{question:"Puis-je suggrer des ides ?",answer:"Bien sr ! Jadore recevoir vos retours. cris-moi via la page contact pour partager tes envies et inspirer les prochaines volutions du Planner."},{question:"Planner fonctionne-t-il hors connexion ?",answer:"Oui. Les pages restent accessibles mme sans connexion car les donnes sont gardes dans ton navigateur. Reviens en ligne rgulirement pour profiter des mises  jour."}],$H=()=>{const[t,e]=D.useState(0);return D.useEffect(()=>(document.body.classList.add("calendar-page--beige"),()=>{document.body.classList.remove("calendar-page--beige")}),[]),o.jsx(o.Fragment,{children:o.jsxs("div",{className:"faq-wrapper",children:[o.jsxs("div",{className:"legal-page faq-page",children:[o.jsx(bi,{eyebrow:"FAQ",title:"FAQ"}),o.jsx("p",{className:"legal-page__intro",children:"Toutes les rponses essentielles pour tirer le meilleur du Planner."}),o.jsx("div",{className:"faq-accordion",children:qH.map((n,i)=>{const s=t===i;return o.jsxs("article",{className:s?"faq-item is-open":"faq-item",children:[o.jsxs("button",{type:"button",className:"faq-item__header",onClick:()=>e(a=>a===i?null:i),"aria-expanded":s,"aria-controls":`faq-panel-${i}`,children:[o.jsx("span",{children:n.question}),o.jsx("span",{className:"faq-item__icon","aria-hidden":"true",children:s?"-":"+"})]}),o.jsx("div",{id:`faq-panel-${i}`,className:"faq-item__body",style:{maxHeight:s?"280px":"0px"},children:o.jsx("p",{children:n.answer})})]},n.question)})})]}),o.jsx("figure",{className:"faq-floating-figure","aria-hidden":"true",children:o.jsx("img",{src:b_,alt:"",loading:"lazy"})})]})})},HH=()=>(D.useEffect(()=>(document.body.classList.add("calendar-page--beige"),()=>{document.body.classList.remove("calendar-page--beige")}),[]),o.jsx(o.Fragment,{children:o.jsxs("div",{className:"legal-page",children:[o.jsx(bi,{eyebrow:"Confidentialit",title:"Politique de confidentialit"}),o.jsx("p",{className:"legal-page__intro",children:"La prsente politique de confidentialit a pour objectif dinformer les utilisateurs du site sur la manire dont leurs donnes personnelles sont collectes, utilises et protges."}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Responsable du traitement"}),o.jsx("p",{className:"legal-section__text",children:"Le responsable du traitement des donnes est [Ton nom / Prnom], ditrice du site [Nom du site]. Pour toute question relative aux donnes personnelles, vous pouvez contacter : [email de contact]."})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Donnes collectes"}),o.jsx("p",{className:"legal-section__text",children:"Selon lutilisation du site, les donnes suivantes peuvent tre collectes :"}),o.jsxs("ul",{className:"legal-list",children:[o.jsx("li",{children:"prnom"}),o.jsx("li",{children:"adresse email"}),o.jsx("li",{children:"messages envoys via les formulaires"}),o.jsx("li",{children:"donnes de navigation (cookies)"}),o.jsx("li",{children:"informations ncessaires  laccs aux services"})]}),o.jsx("p",{className:"legal-section__text",children:"Dans le cadre de lachat de produits (ebooks ou autres contenus payants), certaines donnes peuvent tre collectes  des fins de gestion de commande. Les donnes bancaires ne sont jamais stockes par le site et sont traites exclusivement par des prestataires de paiement scuriss."})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Finalit de la collecte"}),o.jsx("p",{className:"legal-section__text",children:"Les donnes personnelles sont collectes pour :"}),o.jsxs("ul",{className:"legal-list",children:[o.jsx("li",{children:"permettre laccs et lutilisation du site"}),o.jsx("li",{children:"rpondre aux messages et demandes"}),o.jsx("li",{children:"envoyer des contenus ou informations lies au projet"}),o.jsx("li",{children:"grer les commandes et la facturation"}),o.jsx("li",{children:"amliorer le fonctionnement du site"})]})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Base lgale"}),o.jsx("p",{className:"legal-section__text",children:"La collecte des donnes repose sur :"}),o.jsxs("ul",{className:"legal-list",children:[o.jsx("li",{children:"le consentement de lutilisateur"}),o.jsx("li",{children:"lexcution dun contrat (achat de produits)"}),o.jsx("li",{children:"le respect dobligations lgales"})]})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Dure de conservation"}),o.jsx("p",{className:"legal-section__text",children:"Les donnes sont conserves uniquement pendant la dure ncessaire aux finalits pour lesquelles elles sont collectes, et conformment aux obligations lgales en vigueur."})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Partage des donnes"}),o.jsx("p",{className:"legal-section__text",children:"Les donnes peuvent tre transmises  des prestataires techniques (hbergement, outils demailing, paiement, statistiques) uniquement dans le cadre du fonctionnement du site."}),o.jsx("p",{className:"legal-section__text",children:"Aucune donne personnelle nest vendue ou cde  des tiers."})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Scurit"}),o.jsx("p",{className:"legal-section__text",children:"Le site met en uvre des mesures de scurit pour protger les donnes personnelles contre tout accs non autoris, perte ou divulgation."})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Droits des utilisateurs"}),o.jsx("p",{className:"legal-section__text",children:"Conformment  la rglementation en vigueur, vous disposez des droits suivants :"}),o.jsxs("ul",{className:"legal-list",children:[o.jsx("li",{children:"droit daccs"}),o.jsx("li",{children:"droit de rectification"}),o.jsx("li",{children:"droit de suppression"}),o.jsx("li",{children:"droit dopposition"}),o.jsx("li",{children:"droit  la limitation du traitement"})]}),o.jsx("p",{className:"legal-section__text",children:"Pour exercer ces droits, il suffit denvoyer un email  : contact@meandrituals.com"})]})]})})),WH=()=>(D.useEffect(()=>(document.body.classList.add("calendar-page--beige"),()=>{document.body.classList.remove("calendar-page--beige")}),[]),o.jsx(o.Fragment,{children:o.jsxs("div",{className:"legal-page contact-page",children:[o.jsx("span",{className:"sport-header__eyebrow",children:"Contact"}),o.jsx("h1",{children:"Contacte-moi"}),o.jsx("p",{className:"legal-page__intro",children:"Une ide, une question ou envie de collaborer ? Laisse-moi un message et je te rpondrai avec grand plaisir."}),o.jsx("section",{className:"legal-section contact-form",children:o.jsxs("form",{className:"contact-form__body",onSubmit:t=>{t.preventDefault(),window.alert("Merci pour ton message ! Je te repondrai tres vite.")},children:[o.jsxs("label",{children:[o.jsx("span",{children:"Prnom"}),o.jsx("input",{type:"text",name:"firstName",placeholder:"Ex. Sofia",required:!0})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Nom"}),o.jsx("input",{type:"text",name:"lastName",placeholder:"Ex. Martin",required:!0})]}),o.jsxs("label",{className:"contact-form__field--full",children:[o.jsx("span",{children:"Email"}),o.jsx("input",{type:"email",name:"email",placeholder:"toi@exemple.com",required:!0})]}),o.jsxs("label",{className:"contact-form__field--full",children:[o.jsx("span",{children:"Sujet"}),o.jsx("input",{type:"text",name:"subject",placeholder:"De quoi souhaites-tu parler ?",required:!0})]}),o.jsxs("label",{className:"contact-form__field--full",children:[o.jsx("span",{children:"Message"}),o.jsx("textarea",{name:"message",placeholder:"Ecris ton message ici...",rows:5,required:!0})]}),o.jsx("button",{type:"submit",className:"contact-form__submit",children:"Envoyer"})]})})]})})),GH=()=>{const{acceptAll:t,rejectAll:e,openPreferences:n}=vh();return D.useEffect(()=>(document.body.classList.add("calendar-page--beige"),()=>{document.body.classList.remove("calendar-page--beige")}),[]),o.jsx(o.Fragment,{children:o.jsxs("div",{className:"legal-page",children:[o.jsx(bi,{eyebrow:"Cookies",title:"Gestion des cookies"}),o.jsx("p",{className:"legal-page__intro",children:"Lors de la consultation de ce site, des cookies peuvent etre deposes sur votre appareil (ordinateur, mobile ou tablette)."}),o.jsx("h2",{className:"legal-section__title",children:"Qu'est-ce qu'un cookie ?"}),o.jsx("p",{className:"legal-section__text",children:"Un cookie est un petit fichier texte qui permet au site de fonctionner correctement, d ameliorer votre experience et, si vous l acceptez, de mesurer la frequentation."}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Cookies utilises"}),o.jsx("p",{className:"legal-section__text",children:"Ce site utilise les types de cookies suivants :"}),o.jsxs("ul",{className:"legal-list",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Cookies necessaires"}),"  indispensables au fonctionnement du site. Ils ne peuvent pas etre desactives."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Cookies de mesure d audience (optionnels)"}),"  permettent de comprendre l usage du site afin d ameliorer son contenu et ses performances."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Cookies de personnalisation (optionnels)"}),"  retiennent vos choix (ex. langue, preferences) pour personnaliser l experience."]})]}),o.jsx("p",{className:"legal-section__text",children:"Aucun cookie non essentiel n est depose sans votre consentement. Certains cookies peuvent etre emis par des services tiers (ex. outils de mesure d audience) uniquement si vous les acceptez."})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Consentement"}),o.jsx("p",{className:"legal-section__text",children:"Lors de votre premiere visite, un bandeau vous permet d accepter, de refuser ou de personnaliser votre choix. Vous pouvez modifier ou retirer votre consentement  tout moment."})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Duree de conservation"}),o.jsx("p",{className:"legal-section__text",children:"Les cookies sont conserves pour une duree maximale de 13 mois, conformement a la reglementation en vigueur."})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Gestion des cookies"}),o.jsx("p",{className:"legal-section__text",children:'Pour modifier vos choix, utilisez le bouton "Personnaliser" du bandeau cookies ou cliquez sur " Personnaliser" present en bas de page. Vos preferences sont appliquees immediatement.'})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Comment desactiver les cookies ?"}),o.jsx("p",{className:"legal-section__text",children:"Vous pouvez aussi grer les cookies depuis votre navigateur (paramtres \\u003e confidentialit \\u003e cookies). Vous pouvez refuser ou supprimer les cookies dj enregistrs. Le chemin exact dpend de votre navigateur."}),o.jsx("p",{className:"legal-section__text",children:"Attention : dsactiver les cookies essentiels bloque l'accs  l'espace scuris (connexion, sauvegarde)."})]}),o.jsxs("div",{className:"cookie-actions",children:[o.jsx("button",{type:"button",className:"cookie-banner__action cookie-banner__action--ghost",onClick:e,children:"Refuser"}),o.jsx("button",{type:"button",className:"cookie-banner__action cookie-banner__action--outline",onClick:n,children:"Personnaliser"}),o.jsx("button",{type:"button",className:"cookie-banner__action cookie-banner__action--primary",onClick:t,children:"Accepter"})]})]})})},KH=()=>(D.useEffect(()=>(document.body.classList.add("calendar-page--beige"),()=>{document.body.classList.remove("calendar-page--beige")}),[]),o.jsx(o.Fragment,{children:o.jsxs("div",{className:"legal-page",children:[o.jsx(bi,{eyebrow:"Mentions lgales",title:"Mentions lgales"}),o.jsx("p",{className:"legal-page__intro",children:"Mentions lgales compltes, incluant l'diteur, l'hbergeur, la proprit intellectuelle et les rgles d'utilisation du site Planner."}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"diteur du site"}),o.jsxs("p",{className:"legal-section__text",children:["Nom : Vasseur Iloudia",o.jsx("br",{}),"Statut : Auto-entrepreneur",o.jsx("br",{}),"Email : cantact@meandrituals.com"]})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Directeur de la publication"}),o.jsx("p",{className:"legal-section__text",children:"Vasseur Iloudia"})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Hbergement"}),o.jsxs("p",{className:"legal-section__text",children:["Le site est hberg par :",o.jsx("br",{}),"[Nom de l'hbergeur]",o.jsx("br",{}),"[Adresse de l'hbergeur]",o.jsx("br",{}),"[Tlphone de l'hbergeur]"]})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Proprit intellectuelle"}),o.jsx("p",{className:"legal-section__text",children:"L'ensemble du contenu prsent sur ce site (textes, images, graphismes, logo, structure) est la proprit exclusive de l'diteur, sauf mention contraire. Toute reproduction, reprsentation, modification ou adaptation, totale ou partielle, est interdite sans autorisation pralable."})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Responsabilit"}),o.jsx("p",{className:"legal-section__text",children:"L'diteur s'efforce de fournir des informations aussi prcises que possible. Il ne saurait toutefois tre tenu responsable des omissions, inexactitudes ou carences dans la mise  jour du contenu."})]}),o.jsxs("section",{className:"legal-section",children:[o.jsx("h2",{className:"legal-section__title",children:"Donnes personnelles"}),o.jsx("p",{className:"legal-section__text",children:"Les informations relatives  la collecte et au traitement des donnes personnelles sont dtailles dans la page Politique de confidentialit. L'utilisation des cookies est explique dans la page Gestion des cookies."})]})]})})),YH=()=>{const{shouldShowBanner:t,acceptAll:e,rejectAll:n,openPreferences:i}=vh();return t?o.jsxs("section",{className:"cookie-banner",role:"region","aria-label":"Consentement aux cookies",children:[o.jsxs("div",{className:"cookie-banner__content",children:[o.jsx("h2",{children:"Cookies & confidentialite"}),o.jsx("p",{children:"Nous utilisons des cookies essentiels pour faire fonctionner Planner. Nous aimerions egalement activer les cookies de preferences (pour garder tes choix visuels) et de statistiques anonymes (pour comprendre l usage du site). Rien n est depose sans ton accord."}),o.jsxs("ul",{className:"cookie-banner__list",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Essentiels :"})," connexion securisee, sauvegarde, navigation."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Statistiques :"})," mesures anonymes afin d ameliorer Planner."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Preferences :"})," garder ton theme, ta langue, tes vues favorites."]})]})]}),o.jsxs("div",{className:"cookie-banner__actions",children:[o.jsx("button",{type:"button",className:"cookie-banner__action cookie-banner__action--ghost",onClick:n,children:"Refuser"}),o.jsx("button",{type:"button",className:"cookie-banner__action cookie-banner__action--outline",onClick:i,children:"Personnaliser"}),o.jsx("button",{type:"button",className:"cookie-banner__action cookie-banner__action--primary",onClick:e,children:"Accepter"})]})]}):null},XH=()=>{const{isPreferenceCenterOpen:t,closePreferences:e,preferences:n,saveCustomPreferences:i,acceptAll:s,rejectAll:a}=vh(),[u,m]=D.useState(n.analytics),[x,_]=D.useState(n.preferences);if(D.useEffect(()=>{t&&(m(n.analytics),_(n.preferences))},[t,n.analytics,n.preferences]),D.useEffect(()=>{if(!t)return;const j=z=>{z.key==="Escape"&&e()};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[t,e]),!t)return null;const I=()=>{i({analytics:u,preferences:x})};return o.jsxs("div",{className:"cookie-modal",role:"dialog","aria-modal":"true","aria-labelledby":"cookie-modal-title",children:[o.jsx("div",{className:"cookie-modal__backdrop",onClick:e,"aria-hidden":"true"}),o.jsxs("div",{className:"cookie-modal__panel",children:[o.jsxs("header",{className:"cookie-modal__header",children:[o.jsxs("div",{children:[o.jsx("p",{className:"cookie-modal__eyebrow",children:"Centre de preferences"}),o.jsx("h2",{id:"cookie-modal-title",children:"Choisis les cookies que tu acceptes"}),o.jsx("p",{children:"Les cookies essentiels sont toujours actifs pour des raisons de securite."})]}),o.jsx("button",{type:"button",className:"modal__close","aria-label":"Fermer",onClick:e,children:""})]}),o.jsxs("div",{className:"cookie-modal__groups",children:[o.jsxs("article",{className:"cookie-modal__group",children:[o.jsxs("div",{children:[o.jsx("p",{className:"cookie-modal__group-title",children:"Essentiels (toujours actifs)"}),o.jsx("p",{className:"cookie-modal__group-text",children:"Accs scuris, authentification, conservation de tes paramtres systme. Impossible de les dsactiver."})]}),o.jsx("div",{className:"cookie-modal__switch cookie-modal__switch--locked",children:o.jsx("span",{children:"Active"})})]}),o.jsxs("article",{className:"cookie-modal__group",children:[o.jsxs("div",{children:[o.jsx("p",{className:"cookie-modal__group-title",children:"Statistiques anonymes"}),o.jsx("p",{className:"cookie-modal__group-text",children:"Aide  comprendre comment Planner est utilis pour amliorer les fonctionnalits."})]}),o.jsxs("label",{className:"cookie-modal__switch",children:[o.jsx("input",{type:"checkbox",checked:u,onChange:j=>m(j.target.checked)}),o.jsx("span",{children:u?"Active":"Desactive"})]})]}),o.jsxs("article",{className:"cookie-modal__group",children:[o.jsxs("div",{children:[o.jsx("p",{className:"cookie-modal__group-title",children:"Preferences"}),o.jsx("p",{className:"cookie-modal__group-text",children:"Retient tes themes, ta langue, les dernieres vues consultees pour personnaliser ton espace."})]}),o.jsxs("label",{className:"cookie-modal__switch",children:[o.jsx("input",{type:"checkbox",checked:x,onChange:j=>_(j.target.checked)}),o.jsx("span",{children:x?"Active":"Desactive"})]})]})]}),o.jsxs("div",{className:"cookie-modal__actions",children:[o.jsx("button",{type:"button",className:"cookie-banner__action cookie-banner__action--ghost",onClick:a,children:"Refuser tout"}),o.jsx("button",{type:"button",className:"cookie-banner__action cookie-banner__action--outline",onClick:s,children:"Accepter tout"}),o.jsx("button",{type:"button",className:"cookie-banner__action cookie-banner__action--primary",onClick:I,children:"Enregistrer mes choix"})]})]})]})},QH="planner.profile.preferences.v1",JH="planner.onboarding.answers.v1",Nx=t=>{if(!t)return"Date inconnue";const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleDateString("fr-FR",{day:"2-digit",month:"long",year:"numeric"})},gS=t=>{try{const e=localStorage.getItem(t);return e?JSON.parse(e):null}catch{return null}},wy=t=>typeof t=="string"?t.trim():t==null?"":String(t).trim(),jx=t=>Array.isArray(t)?t.map(e=>wy(e)).filter(Boolean):[],La=(t,e)=>{const n=wy(e)||"non renseign";t[n]=(t[n]??0)+1},ZH=t=>{const e=wy(t).toLowerCase();return e==="homme"||e==="h"?"homme":e==="femme"||e==="f"?"femme":"non precise"},xd=t=>Object.entries(t).sort((e,n)=>n[1]-e[1]||e[0].localeCompare(n[0])),Ix=["#fbcfe8","#bfdbfe","#bbf7d0","#fde68a","#ddd6fe","#fed7aa","#fecaca","#bae6fd"],yS=(t,e,n,i)=>({x:t+n*Math.cos(i-Math.PI/2),y:e+n*Math.sin(i-Math.PI/2)}),eW=(t,e,n,i,s)=>{const a=yS(t,e,n,s),u=yS(t,e,n,i),m=s-i<=Math.PI?"0":"1";return`M ${t} ${e} L ${a.x} ${a.y} A ${n} ${n} 0 ${m} 0 ${u.x} ${u.y} Z`},bd=({entries:t})=>{const e=t.reduce((s,[,a])=>s+a,0);if(e<=0)return o.jsx("p",{className:"admin-stat-empty",children:"Aucune donnee."});if(t.length===1){const[s,a]=t[0];return o.jsx("div",{className:"admin-stat-chart",children:o.jsx("div",{className:"admin-stat-figure",children:o.jsxs("svg",{viewBox:"0 0 120 120",role:"img","aria-label":"Statistiques",children:[o.jsx("circle",{cx:"60",cy:"60",r:"50",fill:Ix[0]}),o.jsx("title",{children:`${s}: ${a}`})]})})})}let n=0;const i=t.map(([s,a],u)=>{const m=a/e,x=n+m*Math.PI*2,_=eW(60,60,50,n,x),I=Ix[u%Ix.length];return n=x,{label:s,count:a,path:_,color:I}});return o.jsxs("div",{className:"admin-stat-chart",children:[o.jsx("div",{className:"admin-stat-figure",children:o.jsx("svg",{viewBox:"0 0 120 120",role:"img","aria-label":"Statistiques",children:i.map(s=>o.jsx("path",{d:s.path,fill:s.color,children:o.jsx("title",{children:`${s.label}: ${s.count}`})},s.label))})}),o.jsx("ul",{className:"admin-stat-legend",children:i.map(s=>o.jsxs("li",{children:[o.jsx("span",{className:"admin-stat-dot",style:{background:s.color}}),o.jsx("span",{children:s.label})]},s.label))})]})},tW=()=>{const{userEmail:t,adminListUsers:e,adminUpdateStatus:n,adminDeleteUser:i}=or(),[s,a]=D.useState([]),[u,m]=D.useState(""),[x,_]=D.useState(null),[I,j]=D.useState(null),[z,J]=D.useState(!1);D.useEffect(()=>{let ge=!0;return(async()=>{try{const M=await e();ge&&a(Array.isArray(M)?M:[])}catch(M){console.error("Admin users load failed",M),ge&&a([])}})(),()=>{ge=!1}},[e]),D.useEffect(()=>{if(s.length===0){_(null);return}(!x||!s.some(ge=>ge.email===x))&&_(s[0].email)},[s,x]);const te=D.useMemo(()=>{const ge=u.trim().toLowerCase();return ge?s.filter(K=>K.email.toLowerCase().includes(ge)):s},[s,u]),oe=D.useMemo(()=>({total:s.length,active:s.filter(ge=>ge.status==="actif").length,disabled:s.filter(ge=>ge.status==="desactive").length}),[s]),se=D.useMemo(()=>{const ge={},K={},M={},H={},U={};return s.forEach(Y=>{var _t;const ae=di(Y.email,QH),ie=gS(ae),pt=ZH(((_t=ie==null?void 0:ie.identityInfo)==null?void 0:_t.gender)??"");La(ge,pt);const Mt=di(Y.email,JH),Ke=gS(Mt),ft=wy(Ke==null?void 0:Ke.source)||"non renseign";La(K,ft);const Re=jx(Ke==null?void 0:Ke.reasons);Re.length===0?La(M,"non renseign"):Re.forEach(jt=>La(M,jt));const $e=jx(Ke==null?void 0:Ke.categories);$e.length===0?La(H,"non renseign"):$e.forEach(jt=>La(H,jt));const ut=jx(Ke==null?void 0:Ke.priority);ut.length===0?La(U,"non renseign"):ut.forEach(jt=>La(U,jt))}),{gender:xd(ge),source:xd(K),reasons:xd(M),categories:xd(H),priority:xd(U)}},[s]),X=x?s.find(ge=>ge.email===x)??null:null,L=async()=>{try{const ge=await e();a(Array.isArray(ge)?ge:[])}catch(ge){console.error("Admin users refresh failed",ge),a([])}},G=async ge=>{const K=ge.status==="actif"?"desactive":"actif",M=await n(ge.email,K);if(!M.success){j({type:"error",message:M.error??"Action impossible pour ce compte."});return}j({type:K==="desactive"?"info":"success",message:K==="desactive"?"Compte desactive et sessions coupees.":"Compte reactive."}),await L()},ne=async ge=>{if(!window.confirm(`Supprimer le compte ${ge} ? Cette action supprime les donnees locales associees et coupe toutes les sessions.`))return;const M=await i(ge);if(!M.success){j({type:"error",message:M.error??"Impossible de supprimer ce compte."});return}j({type:"success",message:"Compte supprim et donnes nettoyes."}),await L()},ke=(ge,K)=>{(ge.key==="Enter"||ge.key===" ")&&(ge.preventDefault(),_(K))};return o.jsxs("div",{className:"admin-page",children:[o.jsx("div",{className:"admin-page__accent","aria-hidden":"true"}),o.jsxs("header",{className:"admin-header",children:[o.jsxs("div",{children:[o.jsx("p",{className:"admin-eyebrow",children:"Back-office"}),o.jsx("h1",{children:"Administration des comptes"}),o.jsx("p",{children:"Connectez-vous en tant quadmin@planner.local."}),o.jsx("p",{children:"Accs rserv aux administrateurs vrifis."})]}),o.jsxs("div",{className:"admin-hero",children:[o.jsxs("article",{children:[o.jsx("span",{children:"Total"}),o.jsx("strong",{children:oe.total})]}),o.jsxs("article",{children:[o.jsx("span",{children:"Actifs"}),o.jsx("strong",{children:oe.active})]}),o.jsxs("article",{children:[o.jsx("span",{children:"Dsactivs"}),o.jsx("strong",{children:oe.disabled})]})]})]}),o.jsxs("div",{className:"admin-grid",children:[o.jsxs("section",{className:"admin-panel",children:[o.jsxs("header",{className:"admin-panel__header",children:[o.jsxs("div",{children:[o.jsx("p",{className:"admin-eyebrow",children:"Utilisateurs"}),o.jsx("h2",{children:"Comptes inscrits"})]}),o.jsxs("div",{className:"admin-panel__controls",children:[o.jsx("input",{type:"search",placeholder:"Rechercher par e-mail",value:u,onChange:ge=>m(ge.target.value)}),o.jsx("button",{type:"button",className:"admin-action",onClick:()=>J(!0),children:"Voir tous"})]})]}),o.jsxs("div",{className:"admin-table",role:"table","aria-label":"Utilisateurs inscrits",children:[o.jsxs("div",{className:"admin-table__row admin-table__row--head",role:"row",children:[o.jsx("div",{role:"columnheader",children:"E-mail"}),o.jsx("div",{role:"columnheader",children:"Inscription"}),o.jsx("div",{role:"columnheader",children:"Statut"}),o.jsx("div",{role:"columnheader",children:"Actions"})]}),o.jsx("div",{className:"admin-table__body admin-table__body--scroll",children:te.length===0?o.jsx("p",{className:"admin-table__empty",children:"Aucun compte ne correspond  cette adresse e-mail."}):te.map(ge=>o.jsxs("div",{className:ge.email===x?"admin-table__row is-selected":"admin-table__row",role:"row",tabIndex:0,onClick:()=>_(ge.email),onKeyDown:K=>ke(K,ge.email),children:[o.jsx("div",{className:"admin-table__cell",children:o.jsx("strong",{children:ge.email})}),o.jsx("div",{className:"admin-table__cell",children:Nx(ge.createdAt)}),o.jsx("div",{className:"admin-table__cell",children:o.jsx("span",{className:`badge badge--${ge.status}`,children:ge.status==="actif"?"Actif":"Desactive"})}),o.jsxs("div",{className:"admin-table__cell admin-table__cell--actions",children:[o.jsx("button",{type:"button",className:"admin-action",onClick:()=>G(ge),children:ge.status==="actif"?"Desactiver":"Re-activer"}),o.jsx("button",{type:"button",className:"admin-delete",onClick:()=>ne(ge.email),children:"Supprimer"})]})]},ge.email))})]})]}),o.jsxs("section",{className:"admin-panel admin-panel--form",children:[o.jsxs("header",{className:"admin-panel__header",children:[o.jsxs("div",{children:[o.jsx("p",{className:"admin-eyebrow",children:"Details"}),o.jsx("h2",{children:"Profil slectionn"})]}),o.jsx("p",{className:"admin-helper",children:"Recherche, slection, dsactivation ou suppression en un clic."})]}),I?o.jsx("div",{className:`admin-alert admin-alert--${I.type}`,children:I.message}):null,X?o.jsxs("div",{className:"admin-detail",children:[o.jsxs("dl",{className:"admin-detail__grid",children:[o.jsxs("div",{children:[o.jsx("dt",{children:"E-mail"}),o.jsx("dd",{children:X.email})]}),o.jsxs("div",{children:[o.jsx("dt",{children:"Date d inscription"}),o.jsx("dd",{children:Nx(X.createdAt)})]}),o.jsxs("div",{children:[o.jsx("dt",{children:"Statut"}),o.jsx("dd",{children:o.jsx("span",{className:`badge badge--${X.status}`,children:X.status==="actif"?"Actif":"Desactive"})})]}),X.deletionPlannedAt?o.jsxs("div",{children:[o.jsx("dt",{children:"Suppression programmee"}),o.jsx("dd",{children:Nx(X.deletionPlannedAt)})]}):null]}),o.jsxs("div",{className:"admin-form__actions",children:[o.jsx("button",{type:"button",onClick:()=>G(X),children:X.status==="actif"?"Dsactiver le compte":"Re-activer le compte"}),o.jsx("button",{type:"button",className:"admin-delete admin-delete--wide",onClick:()=>ne(X.email),children:"Supprimer dfinitivement"})]})]}):o.jsx("p",{className:"admin-empty-state",children:"Aucun utilisateur  afficher pour le moment."})]})]}),o.jsxs("section",{className:"admin-panel admin-panel--stats",children:[o.jsxs("header",{className:"admin-panel__header",children:[o.jsxs("div",{children:[o.jsx("p",{className:"admin-eyebrow",children:"Statistiques"}),o.jsx("h2",{children:"Questions d inscription"})]}),o.jsx("p",{className:"admin-helper",children:"Synthese des reponses collectees lors de l inscription."})]}),o.jsxs("div",{className:"admin-stats-grid",children:[o.jsxs("article",{className:"admin-stat-card",children:[o.jsx("h3",{children:"Genre"}),o.jsx(bd,{entries:se.gender})]}),o.jsxs("article",{className:"admin-stat-card",children:[o.jsx("h3",{children:"Source"}),o.jsx(bd,{entries:se.source})]}),o.jsxs("article",{className:"admin-stat-card",children:[o.jsx("h3",{children:"Raisons"}),o.jsx(bd,{entries:se.reasons})]}),o.jsxs("article",{className:"admin-stat-card",children:[o.jsx("h3",{children:"Catgories"}),o.jsx(bd,{entries:se.categories})]}),o.jsxs("article",{className:"admin-stat-card",children:[o.jsx("h3",{children:"Priorite"}),o.jsx(bd,{entries:se.priority})]})]})]}),o.jsxs("section",{className:"admin-safe",children:[o.jsx("h2",{children:"Conformit et scurit"}),o.jsxs("ul",{children:[o.jsx("li",{children:"Accs limit aux administrateurs authentifis via une route protge."}),o.jsx("li",{children:"Les dsactivations coupent les sessions actives et empchent les nouvelles connexions."}),o.jsx("li",{children:"Les suppressions nettoient les donnes locales (identifiants, mtadonnes) afin de respecter le droit  leffacement."})]})]}),z?o.jsx("div",{className:"admin-modal",role:"dialog","aria-modal":"true",children:o.jsxs("div",{className:"admin-modal__card",children:[o.jsxs("header",{className:"admin-modal__header",children:[o.jsx("h3",{children:"Tous les e-mails"}),o.jsx("button",{type:"button",className:"admin-delete",onClick:()=>J(!1),children:"Fermer"})]}),o.jsx("div",{className:"admin-modal__body",children:s.length===0?o.jsx("p",{className:"admin-table__empty",children:"Aucun compte  afficher."}):o.jsx("ul",{className:"admin-modal__list",children:s.map(ge=>o.jsx("li",{children:ge.email},ge.email))})})]})}):null]})},nW=()=>{const{isAuthenticated:t,isAdmin:e,isAuthReady:n}=or();return n?t?e?o.jsx(hw,{}):o.jsx(jb,{to:"/home",replace:!0}):o.jsx(jb,{to:"/login",replace:!0}):null},iW=[{id:"account",label:"Votre compte",path:"/parametres"},{id:"display",label:"Affichage",path:"/parametres/affichage"},{id:"languages",label:"Langues",path:"/parametres/langues"}],rW=()=>o.jsxs(o.Fragment,{children:[o.jsx(bi,{eyebrow:"Paramtres",title:"Personnalise ton exprience"}),o.jsx("div",{className:"content-page settings-page",children:o.jsxs("div",{className:"settings-layout",children:[o.jsx("nav",{className:"settings-nav",children:o.jsx("ul",{children:iW.map(t=>o.jsx("li",{children:o.jsx(z2,{to:t.path,end:!0,className:({isActive:e})=>e?"is-active":"",children:t.label})},t.id))})}),o.jsx("section",{className:"settings-panel",children:o.jsx(hw,{})})]})})]}),sW="planner.profile.preferences.v1",oW=[{id:"info",label:"Informations sur le compte",description:"Consultez les informations de votre compte, comme votre numero de telephone et votre adresse e-mail."},{id:"password",label:"Changez votre mot de passe",description:"Changez votre mot de passe  tout moment."},{id:"deactivate",label:"Desactiver ou supprimer le compte",description:"Planifiez une desactivation de 30 jours ou supprimez-le immediatement."}],aW={"fr-FR":"Francais","en-US":"Anglais","es-ES":"Espagnol"},Px=({open:t})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:t?o.jsxs(o.Fragment,{children:[o.jsx("path",{d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),o.jsx("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor",strokeWidth:"1.6",fill:"none"})]}):o.jsxs(o.Fragment,{children:[o.jsx("path",{d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.21 16.058 7 19 11.478 19c1.805 0 3.508-.43 5.02-1.196",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),o.jsx("path",{d:"M6.228 6.228A10.45 10.45 0 0111.478 5c4.477 0 8.268 2.943 9.543 7a10.523 10.523 0 01-4.03 5.56",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),o.jsx("path",{d:"M15 12a3 3 0 00-3-3",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),o.jsx("path",{d:"M3 3l18 18",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})}),lW=t=>{if(!t)return"Non renseign";const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleDateString("fr-FR",{day:"2-digit",month:"long",year:"numeric"})},Mx=t=>{if(!t)return"Non renseign";const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleString("fr-FR",{dateStyle:"medium",timeStyle:"short"})},cW=t=>{if(!t)return null;const e=new Date(t);if(Number.isNaN(e.getTime()))return null;const n=new Date;let i=n.getFullYear()-e.getFullYear();const s=n.getMonth()-e.getMonth();return(s<0||s===0&&n.getDate()<e.getDate())&&(i-=1),i},uW=()=>{const{userEmail:t,createdAt:e,verifyPassword:n,changePassword:i,deactivateAccount:s,deleteAccount:a,scheduledDeletionDate:u}=or(),m=D.useMemo(()=>di(t,sW),[t]),[x,_]=D.useState("list"),[I,j]=D.useState(""),[z,J]=D.useState(null),[te,oe]=D.useState({}),[se,X]=D.useState({current:"",next:"",confirm:""}),[L,G]=D.useState(null),[ne,ke]=D.useState(null),[ge,K]=D.useState({current:!1,next:!1,confirm:!1}),[M,H]=D.useState(null),[U,Y]=D.useState(null),ae=Ue=>{K(be=>({...be,[Ue]:!be[Ue]}))},ie=Ue=>ge[Ue]?"text":"password";D.useEffect(()=>{try{const Ue=localStorage.getItem(m);if(!Ue)return;const be=JSON.parse(Ue);oe({personal:be.personalInfo??{},identity:be.identityInfo??{}})}catch{oe({})}},[m]);const pt=te.personal??{},Mt=te.identity??{},Ke=Mt.username??(t==null?void 0:t.split("@")[0])??"Non renseign",ft=pt.phone??"Non renseign",Re=pt.email??t??"Non renseign",$e=Mt.country??"Non renseign",ut=Mt.language??"",_t=aW[ut]??(ut||"Non renseign"),jt=Mt.gender||"Non precise",kt=Mt.birthday??"",Ot=cW(kt),mt=lW(kt),Rt=Mx(e??void 0),ot=D.useMemo(()=>[{label:"Nom d'utilisateur",value:Ke},{label:"Telephone",value:ft},{label:"E-mail",value:Re},{label:"Cration de compte",value:Rt},{label:"Pays",value:$e},{label:"Langue",value:_t},{label:"Genre",value:jt},{label:"Date de naissance",value:mt},{label:"Age",value:Ot!==null?`${Ot}`:"Non renseign"}],[Ke,ft,Re,Rt,$e,_t,jt,mt,Ot]),xe=async()=>{if(!await n(I)){J("Mot de passe incorrect.");return}J(null),_("details")},le=()=>{j(""),J(null),_("list")},_e=()=>{X({current:"",next:"",confirm:""}),G(null),ke(null),K({current:!1,next:!1,confirm:!1}),_("list")},me=async Ue=>{if(Ue.preventDefault(),ke(null),!se.current||!se.next||!se.confirm){G("Merci de remplir tous les champs.");return}if(se.next!==se.confirm){G("Les nouveaux mots de passe ne correspondent pas.");return}const be=await i(se.current,se.next);if(!be.success){G(be.error??"Impossible de changer le mot de passe.");return}G(null),X({current:"",next:"",confirm:""}),ke("Votre mot de passe a t mis  jour.")},Ye=async()=>{H(null);const Ue=await s();if(!Ue.success){Y(null),H(Ue.error??"Impossible de desactiver le compte.");return}const be=Ue.deleteAt??u,vt=be?Mx(be):"30 jours";Y(`Votre compte restera actif jusqu'au ${vt} avant suppression definitive.`)},je=async()=>{H(null);const Ue=await a();if(!Ue.success){H(Ue.error??"Impossible de supprimer le compte."),Y(null);return}Y("Votre compte a t supprim.")};if(x==="password")return o.jsxs("div",{className:"settings-section",children:[o.jsx("h2",{children:"Confirmez votre mot de passe"}),o.jsx("p",{className:"settings-section__intro",children:"Veuillez saisir votre mot de passe pour obtenir ceci."}),o.jsxs("div",{className:"settings-password",children:[o.jsxs("label",{children:[o.jsx("span",{children:"Mot de passe du compte"}),o.jsx("input",{type:"password",className:z?"settings-password__input is-error":"settings-password__input",value:I,onChange:Ue=>j(Ue.target.value),"aria-invalid":!!z,onKeyDown:Ue=>{(Ue.key==="Enter"||Ue.key===" ")&&(Ue.preventDefault(),xe())}})]}),z?o.jsx("p",{className:"settings-error",children:z}):null,o.jsx("button",{type:"button",className:"settings-password__forgot",children:"Mot de passe oublie ?"}),o.jsxs("div",{className:"settings-password__actions",children:[o.jsx("button",{type:"button",onClick:le,children:"Retour"}),o.jsx("button",{type:"button",className:"settings-password__confirm",onClick:xe,children:"Confirmer"})]})]})]});if(x==="details")return o.jsxs("div",{className:"settings-section",children:[o.jsx("h2",{children:"Informations sur le compte"}),o.jsx("dl",{className:"settings-details",children:ot.map(Ue=>o.jsxs("div",{children:[o.jsx("dt",{children:Ue.label}),o.jsx("dd",{children:Ue.value})]},Ue.label))}),o.jsx("p",{className:"settings-note",children:"Modifiez votre date de naissance sur votre profil."}),o.jsx("button",{type:"button",className:"settings-link",onClick:le,children:"Retour aux options"})]});if(x==="change-password")return o.jsxs("div",{className:"settings-section",children:[o.jsx("h2",{children:"Changez votre mot de passe"}),o.jsx("p",{className:"settings-section__intro",children:"Renforcez la securite de votre compte Planner."}),o.jsx("p",{className:"settings-note",children:"mot de passe oubli"}),o.jsxs("form",{className:"settings-password-change",onSubmit:me,children:[o.jsxs("label",{children:[o.jsx("span",{children:"Mot de passe actuel"}),o.jsxs("div",{className:"settings-password-field",children:[o.jsx("input",{type:ie("current"),value:se.current,onChange:Ue=>X(be=>({...be,current:Ue.target.value})),required:!0}),o.jsx("button",{type:"button",className:"settings-password-toggle",onClick:()=>ae("current"),"aria-label":ge.current?"Masquer le mot de passe actuel":"Afficher le mot de passe actuel","aria-pressed":ge.current,children:o.jsx(Px,{open:ge.current})})]})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Nouveau mot de passe"}),o.jsxs("div",{className:"settings-password-field",children:[o.jsx("input",{type:ie("next"),value:se.next,onChange:Ue=>X(be=>({...be,next:Ue.target.value})),minLength:6,required:!0}),o.jsx("button",{type:"button",className:"settings-password-toggle",onClick:()=>ae("next"),"aria-label":ge.next?"Masquer le nouveau mot de passe":"Afficher le nouveau mot de passe","aria-pressed":ge.next,children:o.jsx(Px,{open:ge.next})})]})]}),o.jsxs("label",{children:[o.jsx("span",{children:"Confirmer le mot de passe"}),o.jsxs("div",{className:"settings-password-field",children:[o.jsx("input",{type:ie("confirm"),value:se.confirm,onChange:Ue=>X(be=>({...be,confirm:Ue.target.value})),minLength:6,required:!0}),o.jsx("button",{type:"button",className:"settings-password-toggle",onClick:()=>ae("confirm"),"aria-label":ge.confirm?"Masquer la confirmation du mot de passe":"Afficher la confirmation du mot de passe","aria-pressed":ge.confirm,children:o.jsx(Px,{open:ge.confirm})})]})]}),L?o.jsx("p",{className:"settings-error",children:L}):null,ne?o.jsx("p",{className:"settings-success",children:ne}):null,o.jsx("p",{className:"settings-note",children:"Modifier votre mot de passe vous deconnectera de toutes vos sessions actives sauf celle que vous utilisez actuellement."}),o.jsxs("div",{className:"settings-password__actions",children:[o.jsx("button",{type:"button",onClick:_e,children:"Annuler"}),o.jsx("button",{type:"submit",className:"settings-password__confirm",children:"Sauvegarder"})]})]})]});if(x==="deactivate"){const Ue=u?Mx(u):null;return o.jsxs("div",{className:"settings-section",children:[o.jsx("h2",{children:"Desactiver ou supprimer le compte"}),o.jsx("p",{className:"settings-section__intro",children:"Desactivez votre compte pour planifier sa suppression sous 30 jours ou supprimez-le immediatement si vous etes sur de votre choix."}),M?o.jsx("p",{className:"settings-error",children:M}):null,U?o.jsx("p",{className:"settings-success",children:U}):null,Ue?o.jsxs("p",{className:"settings-note",children:["Suppression programmee le ",Ue,"."]}):null,o.jsxs("div",{className:"settings-dual-actions",children:[o.jsxs("article",{className:"settings-action-card",children:[o.jsx("h3",{children:"Desactiver le compte"}),o.jsx("p",{children:"Le compte restera accessible pendant 30 jours, puis il sera supprime automatiquement."}),o.jsx("button",{type:"button",onClick:Ye,children:"Desactiver mon compte"})]}),o.jsxs("article",{className:"settings-action-card settings-action-card--danger",children:[o.jsx("h3",{children:"Supprimer le compte"}),o.jsx("p",{children:"Supprime immediatement et definitivement vos donnees et sessions."}),o.jsx("button",{type:"button",onClick:je,children:"Supprimer definitivement"})]})]}),o.jsx("button",{type:"button",className:"settings-link",onClick:()=>_("list"),children:"Retour aux options"})]})}return o.jsxs("div",{className:"settings-section",children:[o.jsx("h2",{children:"Votre compte"}),o.jsx("p",{className:"settings-section__intro",children:"Gardez le controle de vos informations personnelles."}),o.jsx("div",{className:"settings-options",children:oW.map(Ue=>o.jsxs("button",{type:"button",className:"settings-option",onClick:()=>{Ue.id==="info"?_("password"):Ue.id==="password"?(X({current:"",next:"",confirm:""}),G(null),ke(null),_("change-password")):Ue.id==="deactivate"&&(H(null),Y(null),_("deactivate"))},children:[o.jsx("span",{className:"settings-option__label",children:Ue.label}),o.jsx("span",{className:"settings-option__description",children:Ue.description})]},Ue.id))})]})},hW="planner.display.preferences",vS=[{id:"xs",label:"XS",value:.9,sample:"Aa"},{id:"sm",label:"S",value:.97,sample:"Aa"},{id:"md",label:"M",value:1,sample:"Aa"},{id:"lg",label:"L",value:1.08,sample:"Aa"},{id:"xl",label:"XL",value:1.18,sample:"Aa"}],dW=[{id:"light",label:"Clair",description:"Fond lumineux et aere"},{id:"dark",label:"Sombre",description:"Fond doux et contraste"}],pW=()=>{const{userEmail:t}=or(),e=D.useMemo(()=>di(t,hW),[t]),[n,i]=D.useState(()=>({fontScale:1,backgroundTone:"light"}));D.useEffect(()=>{try{const a=localStorage.getItem(e);if(!a)return;const u=JSON.parse(a);i(m=>({fontScale:typeof u.fontScale=="number"?u.fontScale:m.fontScale,backgroundTone:u.backgroundTone==="dark"?"dark":m.backgroundTone}))}catch{}},[e]),D.useEffect(()=>{try{localStorage.setItem(e,JSON.stringify(n))}catch{}},[n,e]),D.useEffect(()=>{document.documentElement.style.setProperty("--user-font-scale",n.fontScale.toString()),document.documentElement.dataset.backgroundTone=n.backgroundTone},[n]);const s=D.useMemo(()=>{const a=vS.find(u=>u.value===n.fontScale);return(a==null?void 0:a.label)??"M"},[n.fontScale]);return o.jsxs("div",{className:"settings-section",children:[o.jsx("h2",{children:"Affichage"}),o.jsx("p",{className:"settings-section__intro",children:"Adapte la lecture et l ambiance visuelle de Planner."}),o.jsxs("section",{className:"settings-display-group",children:[o.jsxs("header",{className:"settings-display-group__header",children:[o.jsxs("div",{children:[o.jsx("h3",{children:"Taille de la police"}),o.jsx("p",{children:"Ajuste la taille globale du texte pour tout le site."})]}),o.jsx("span",{className:"settings-display-group__value",children:s})]}),o.jsx("div",{className:"font-scale-selector",role:"group","aria-label":"Choisir la taille de police",children:vS.map(a=>o.jsxs("button",{type:"button",className:n.fontScale===a.value?"font-scale-option is-active":"font-scale-option",onClick:()=>i(u=>({...u,fontScale:a.value})),"aria-pressed":n.fontScale===a.value,children:[o.jsx("span",{className:"font-scale-option__sample","aria-hidden":"true",style:{transform:`scale(${a.value+.1})`},children:a.sample}),o.jsx("span",{children:a.label})]},a.id))})]}),o.jsxs("section",{className:"settings-display-group",children:[o.jsx("header",{className:"settings-display-group__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Couleur"}),o.jsx("p",{children:"Le choix fin des couleurs arrivera tres vite."})]})}),o.jsx("div",{className:"color-placeholder",children:o.jsx("span",{children:"Disponible prochainement"})})]}),o.jsxs("section",{className:"settings-display-group",children:[o.jsx("header",{className:"settings-display-group__header",children:o.jsxs("div",{children:[o.jsx("h3",{children:"Arriere-plan"}),o.jsx("p",{children:"Opte pour une ambiance claire ou plus sombre."})]})}),o.jsx("div",{className:"background-tone-selector",role:"group","aria-label":"Choisir le ton de l arriere-plan",children:dW.map(a=>o.jsxs("button",{type:"button",className:n.backgroundTone===a.id?"tone-option is-active":"tone-option",onClick:()=>i(u=>({...u,backgroundTone:a.id})),"aria-pressed":n.backgroundTone===a.id,children:[o.jsx("span",{className:"tone-option__label",children:a.label}),o.jsx("span",{className:"tone-option__description",children:a.description})]},a.id))})]})]})},fW="planner.language.preference",xS="googtrans",bS="google-translate-script",mW={"fr-FR":"fr","en-US":"en","en-GB":"en","es-ES":"es","de-DE":"de","it-IT":"it","pt-BR":"pt","nl-NL":"nl","sv-SE":"sv","hi-IN":"hi","ja-JP":"ja","zh-CN":"zh-CN","ar-SA":"ar"},wS=[{code:"fr-FR",label:"Francais",native:"Franais"},{code:"en-US",label:"Anglais (Etats-Unis)",native:"English"},{code:"en-GB",label:"Anglais (Royaume-Uni)",native:"English (UK)"},{code:"es-ES",label:"Espagnol",native:"Espaol"},{code:"de-DE",label:"Allemand",native:"Deutsch"},{code:"it-IT",label:"Italien",native:"Italiano"},{code:"pt-BR",label:"Portugais (Bresil)",native:"Portugus"},{code:"nl-NL",label:"Neerlandais",native:"Nederlands"},{code:"sv-SE",label:"Suedois",native:"Svenska"},{code:"hi-IN",label:"Hindi",native:""},{code:"ja-JP",label:"Japonais",native:""},{code:"zh-CN",label:"Chinois (simplifie)",native:""},{code:"ar-SA",label:"Arabe",native:""}],gW=()=>{const{preferences:t,openPreferences:e}=vh(),{userEmail:n}=or(),i=D.useMemo(()=>di(n,fW),[n]),[s,a]=D.useState("fr-FR"),[u,m]=D.useState("fr-FR"),[x,_]=D.useState("");D.useEffect(()=>{try{const oe=localStorage.getItem(i);oe&&(a(oe),m(oe))}catch{}},[i]);const I=D.useMemo(()=>{const oe=x.trim().toLowerCase();return oe?wS.filter(se=>se.label.toLowerCase().startsWith(oe)||se.native.toLowerCase().startsWith(oe)):wS},[x]),j=()=>{if(document.getElementById(bS))return;window.googleTranslateElementInit||(window.googleTranslateElementInit=()=>{var se,X;if(!document.getElementById("google_translate_element")){const L=document.createElement("div");L.id="google_translate_element",L.className="google-translate-element",document.body.appendChild(L)}(X=(se=window.google)==null?void 0:se.translate)!=null&&X.TranslateElement&&new window.google.translate.TranslateElement({pageLanguage:"fr",autoDisplay:!1},"google_translate_element")});const oe=document.createElement("script");oe.id=bS,oe.src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit",document.body.appendChild(oe)},z=oe=>{var L;const X=`/fr/${mW[oe]??((L=oe.split("-")[0])==null?void 0:L.toLowerCase())??"fr"}`;document.cookie=`${xS}=${X}; path=/;`},J=()=>{document.cookie=`${xS}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;`},te=oe=>{if(oe.preventDefault(),!!u){if(!t.preferences&&u!=="fr-FR"){e();return}a(u);try{t.preferences?localStorage.setItem(i,u):localStorage.removeItem(i)}catch{}if(u!=="fr-FR"){j(),z(u),window.location.reload();return}J(),window.location.reload()}};return o.jsxs("div",{className:"settings-section",children:[o.jsx("h2",{children:"Langues"}),o.jsx("p",{className:"settings-section__intro",children:"Selectionnez la langue"}),o.jsx("p",{className:"settings-section__text",children:"Choisissez la ou les langues que vous souhaitez utiliser pour personnaliser votre experience."}),o.jsxs("form",{className:"language-form",onSubmit:te,children:[o.jsx("div",{className:"language-search",children:o.jsx("input",{type:"search",placeholder:"Rechercher une langue","aria-label":"Rechercher une langue",value:x,onChange:oe=>_(oe.target.value)})}),o.jsxs("div",{className:"language-results",role:"listbox","aria-label":"Resultats des langues disponibles",children:[I.length===0?o.jsx("p",{className:"language-empty",children:"Aucune langue ne correspond  votre recherche."}):null,I.map(oe=>{const se=u===oe.code;return o.jsxs("button",{type:"button",className:se?"language-row is-selected":"language-row",role:"option","aria-selected":se,onClick:()=>m(X=>X===oe.code?"":oe.code),children:[o.jsxs("div",{className:"language-row__info",children:[o.jsx("strong",{children:oe.label}),o.jsx("span",{children:oe.native})]}),o.jsx("span",{className:se?"language-row__check is-checked":"language-row__check","aria-hidden":"true",children:se?"":""})]},oe.code)})]}),o.jsx("div",{className:"language-actions",children:o.jsx("button",{type:"submit",className:"language-actions__confirm",disabled:!u||u===s,children:"Confirmer"})})]})]})},yW=()=>o.jsx("section",{className:"settings-cookies",children:o.jsx("button",{type:"button",className:"cookie-actions__outline",onClick:()=>{window.location.href="/cookies"},children:"Gestion des cookies"})}),DP="/assets/madison-hart-dupe-B1OKQePt.jpeg",vW="/assets/monica-r-dupe-DNMwZYFJ.jpeg",xW=["Au bout d'un moment, j'ai voulu mieux organiser mes journees. J'ai donc installe plusieurs applications, et je me suis vite rendu compte qu'il fallait payer pour des choses assez simples, comme programmer des evenements sur plusieurs jours ou encore changer la couleur des evenements.","J'ai alors decide de coder mon propre planner. A la base, cela ne devait me prendre que deux jours, tout au plus. Puis je me suis dit que je pourrais ajouter une page, puis une autre, et ainsi de suite. En cours de route, j'ai realise que je pourrais en faire profiter tout le monde.","C'est pour cette raison que j'ai decide de creer un veritable site web, et pas seulement quelque chose que je garderais pour moi. C'est ainsi que Me&rituals est n."],bW=["Ce site est ne d'une envie d'aider les autres a mieux organiser leurs journees, a penser un peu plus positivement et a essayer de se reconcilier avec soi-meme grace a quelques exercices simples.","Aimez-vous tel que vous etes, prenez du temps pour sculpter votre corps, prenez du temps pour faire du journaling et poser toutes vos pensees, negatives comme positives, et vous pourrez observer un grand changement dans votre vie.","Dans ma vie, je me suis longtemps cherchee. Mais s'il y a une chose que je sais avec certitude aujourd'hui, c'est que j'aime aider les gens, et j'espere que ce site en sera la preuve."],wW=[{title:"Bien-etre",image:DP,imageAlt:"Portrait inspiration bien-etre",description:["Creer un espace ou l'on peut ralentir, respirer et retrouver un equilibre interieur.","Un lieu pour apaiser le mental, alleger la charge emotionnelle et cultiver un mieux-etre durable."]},{title:"Bienveillance",image:b_,imageAlt:"Portrait inspiration bienveillance",description:["Apprendre a se parler avec douceur, sans jugement ni auto-critique.","Avancer en se respectant, en s'accueillant pleinement, meme dans les moments de doute."]},{title:"Perseverance",image:vW,imageAlt:"Portrait inspiration perseverance",description:["Rappeler que chaque petit pas compte.","Continuer d'avancer, meme lentement, avec confiance et constance, un jour a la fois."]}],_W=()=>(D.useEffect(()=>(document.body.classList.add("calendar-page--beige"),()=>{document.body.classList.remove("calendar-page--beige")}),[]),o.jsx(o.Fragment,{children:o.jsxs("div",{className:"about-page",children:[o.jsxs("div",{className:"about-shell",children:[o.jsx(bi,{eyebrow:"A propos",title:"A propos de moi"}),o.jsxs("article",{className:"about-article","aria-label":"A propos",children:[o.jsxs("section",{className:"about-story-block",children:[o.jsx("div",{className:"about-story-block__media",children:o.jsx("img",{src:DP,alt:"Portrait de la creatrice du site"})}),o.jsxs("div",{className:"about-story-block__content",children:[o.jsx("h2",{children:"Pourquoi j'ai cree ce site ?"}),xW.map(t=>o.jsx("p",{children:t},t))]})]}),o.jsxs("section",{className:"about-story-block about-story-block--reverse",children:[o.jsx("div",{className:"about-story-block__content",children:bW.map(t=>o.jsx("p",{children:t},t))}),o.jsx("div",{className:"about-story-block__media",children:o.jsx("img",{src:b_,alt:"Photo inspiration bienveillance"})})]})]})]}),o.jsxs("section",{className:"about-values","aria-label":"Valeurs du site",children:[o.jsx("p",{className:"values-intro",children:"Les valeurs du site sont :"}),o.jsx("div",{className:"values-stack",children:wW.map(t=>o.jsxs("article",{className:"value-block",children:[o.jsx("img",{src:t.image,alt:t.imageAlt}),o.jsx("h3",{children:t.title}),t.description.map(e=>o.jsx("p",{children:e},e))]},t.title))})]})]})})),EW="planner.profile.preferences.v1",kW="planner.onboarding.answers.v1",TW="profile-photo",CW="planner.profile.lastLogin",Rx=t=>{if(!t)return"Non renseign";const e=new Date(t);return Number.isNaN(e.getTime())?"Non renseign":e.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})},_S=t=>{if(!t)return"Non renseign";const e=new Date(t);return Number.isNaN(e.getTime())?"Non renseign":e.toLocaleString("fr-FR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},SW=t=>{if(!t)return"Non renseign";const e=t.split("-").map(u=>Number(u));if(e.length!==3)return"Non renseign";const[n,i,s]=e;if(!n||!i||!s)return"Non renseign";const a=i*100+s;return a>=321&&a<=419?"Belier":a>=420&&a<=520?"Taureau":a>=521&&a<=620?"Gemeaux":a>=621&&a<=722?"Cancer":a>=723&&a<=822?"Lion":a>=823&&a<=922?"Vierge":a>=923&&a<=1022?"Balance":a>=1023&&a<=1121?"Scorpion":a>=1122&&a<=1221?"Sagittaire":a>=1222||a<=119?"Capricorne":a>=120&&a<=218?"Verseau":a>=219&&a<=320?"Poissons":"Non renseign"};async function AW(t,e){const n=e==null?void 0:e.size,i=e==null?void 0:e.quality,s=await new Promise((oe,se)=>{const X=new FileReader;X.onerror=()=>se(new Error("Lecture du fichier impossible.")),X.onload=()=>{const L=typeof X.result=="string"?X.result:null;L?oe(L):se(new Error("Fichier invalide."))},X.readAsDataURL(t)}),a=await new Promise((oe,se)=>{const X=new Image;X.onload=()=>oe(X),X.onerror=()=>se(new Error("Image non valide.")),X.src=s}),u=document.createElement("canvas");u.width=n,u.height=n;const m=u.getContext("2d");if(!m)throw new Error("Canvas indisponible.");const x=a.width,_=a.height,I=Math.min(x,_),j=Math.floor((x-I)/2),z=Math.floor((_-I)/2);m.drawImage(a,j,z,I,I,0,0,n,n);const J=u.toDataURL("image/webp",i);return J.startsWith("data:image/webp")?J:u.toDataURL("image/jpeg",i)}function NW(){const{userEmail:t,createdAt:e}=or(),{tasks:n}=g_(),i=t??"anonymous",s=D.useMemo(()=>di(i,TW),[i]),a=D.useMemo(()=>di(ll(i),EW),[i]),u=D.useMemo(()=>di(ll(i),kW),[i]),m=D.useMemo(()=>di(ll(i),CW),[i]),[x,_]=D.useState(()=>localStorage.getItem(s)??localStorage.getItem("profile-photo")??cl),[I,j]=D.useState(null),[z,J]=D.useState({}),[te,oe]=D.useState({}),[se,X]=D.useState(""),L=D.useRef(null);D.useEffect(()=>{try{const _t=localStorage.getItem(a);if(!_t){J({});return}J(JSON.parse(_t))}catch{J({})}},[a]),D.useEffect(()=>{try{const _t=localStorage.getItem(u);if(!_t){oe({});return}oe(JSON.parse(_t))}catch{oe({})}},[u]),D.useEffect(()=>{const _t=localStorage.getItem(m)??"";X(_t);try{localStorage.setItem(m,new Date().toISOString())}catch{}},[m]),D.useEffect(()=>{const _t=()=>{_(localStorage.getItem(s)??localStorage.getItem("profile-photo")??cl)};return window.addEventListener("storage",_t),()=>window.removeEventListener("storage",_t)},[s]);const G=async _t=>{var kt;j(null);const jt=(kt=_t.target.files)==null?void 0:kt[0];if(jt){if(!jt.type.startsWith("image/")){j("Format non supporte."),_t.target.value="";return}try{const Ot=await AW(jt,{size:320,quality:.82});_(Ot);try{localStorage.setItem(s,Ot),localStorage.setItem("profile-photo",Ot)}catch{}}catch(Ot){j(Ot instanceof Error?Ot.message:"Erreur lors du traitement de l image.")}finally{_t.target.value=""}}},ne=z.personalInfo??{},ke=z.identityInfo??{},ge=ke.username??(t?t.split("@")[0]:"Utilisateur"),K=ne.firstName??"",M=ne.lastName??"",U=[K,M].filter(Boolean).join(" ").trim()||ge,Y=ne.email??t??"Non renseign",ae=ke.birthday??"",ie=ke.gender??"Non renseign",pt=ke.language??(typeof navigator<"u"?navigator.language:"Non renseign"),Mt=Intl.DateTimeFormat().resolvedOptions().timeZone||"Non renseign",Ke=SW(ae),ft=_S(e??null),Re=Array.isArray(te.categories)&&te.categories.length>0?te.categories:[],$e=te.priority??"Non renseign",ut=D.useMemo(()=>{const _t=Date.now();return n.map(jt=>{const kt=new Date(`${jt.date}T00:00`).getTime(),Ot=new Date(`${jt.date}T${jt.start??"00:00"}`),mt=Number.isFinite(Ot.getTime())?Ot.getTime():kt;return{...jt,startTs:mt,dateTs:kt}}).filter(jt=>jt.startTs>=_t||jt.dateTs>=_t).sort((jt,kt)=>jt.startTs-kt.startTs).slice(0,3)},[n]);return o.jsxs("div",{className:"content-page profile-page",children:[o.jsxs("div",{className:"profile-top",children:[o.jsxs("section",{className:"section-card profile-card profile-card--identity",children:[o.jsxs("div",{className:"profile-identity",children:[o.jsxs("div",{className:"profile-identity__photo",children:[o.jsx("img",{src:x,alt:"Profil"}),o.jsx("button",{type:"button",className:"profile-identity__edit",onClick:()=>{var _t;return(_t=L.current)==null?void 0:_t.click()},children:"Modifier la photo"}),o.jsx("input",{ref:L,type:"file",accept:"image/*",className:"profile-identity__file",onChange:G})]}),o.jsxs("div",{className:"profile-identity__info",children:[o.jsxs("div",{className:"profile-identity__names",children:[o.jsx("div",{className:"profile-identity__line",children:M||"Non renseign"}),o.jsx("div",{className:"profile-identity__line",children:K||"Non renseign"})]}),o.jsxs("div",{className:"profile-identity__meta",children:[o.jsxs("div",{className:"profile-identity__row",children:[o.jsx("span",{className:"profile-identity__label",children:"Email"}),o.jsx("span",{children:Y})]}),o.jsxs("div",{className:"profile-identity__row",children:[o.jsx("span",{className:"profile-identity__label",children:"Signe astrologique"}),o.jsx("span",{children:Ke})]}),o.jsxs("div",{className:"profile-identity__row",children:[o.jsx("span",{className:"profile-identity__label",children:"Anniversaire"}),o.jsx("span",{children:Rx(ae)})]}),o.jsxs("div",{className:"profile-identity__row",children:[o.jsx("span",{className:"profile-identity__label",children:"Genre"}),o.jsx("span",{children:ie})]})]})]})]}),I?o.jsx("p",{className:"profile-error",children:I}):null]}),o.jsxs("section",{className:"section-card profile-card profile-card--resume",children:[o.jsx("h3",{children:"Resume"}),o.jsxs("div",{className:"profile-list",children:[o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Pseudo"}),o.jsx("span",{children:ge})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Email"}),o.jsx("span",{children:Y})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Photo"}),o.jsx("span",{children:x===cl?"Par defaut":"Personnalisee"})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Cration du compte"}),o.jsx("span",{children:ft})]})]})]})]}),o.jsxs("div",{className:"profile-sections",children:[o.jsxs("section",{className:"section-card profile-card profile-card--personal",children:[o.jsx("h3",{children:"Informations personnelles"}),o.jsxs("div",{className:"profile-list",children:[o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Prnom / Nom"}),o.jsx("span",{children:U||"Non renseign"})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Signe astrologique"}),o.jsx("span",{children:Ke})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Anniversaire"}),o.jsx("span",{children:Rx(ae)})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Genre"}),o.jsx("span",{children:ie})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Fuseau horaire"}),o.jsx("span",{children:Mt})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Langue"}),o.jsx("span",{children:pt})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Email (non public)"}),o.jsx("span",{children:Y})]})]}),o.jsx("p",{className:"profile-note",children:"Visible uniquement par vous."})]}),o.jsxs("section",{className:"section-card profile-card profile-card--preferences",children:[o.jsx("h3",{children:"Preferences"}),o.jsxs("div",{className:"profile-list",children:[o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Catgories favorites"}),o.jsx("span",{children:Re.length>0?Re.join(", "):"Non renseign"})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Objectif"}),o.jsx("span",{children:$e||"Non renseign"})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Confidentialite"}),o.jsx("span",{children:"Non renseign"})]})]})]}),o.jsxs("section",{className:"section-card profile-card profile-card--security",children:[o.jsx("h3",{children:"Securite"}),o.jsxs("div",{className:"profile-list",children:[o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Dernier changement mot de passe"}),o.jsx("span",{children:"Non disponible"})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Appareils connectes"}),o.jsx("span",{children:"Non disponible"})]})]})]}),o.jsxs("section",{className:"section-card profile-card profile-card--activity",children:[o.jsx("h3",{children:"Rsum d'activit"}),o.jsxs("div",{className:"profile-list",children:[o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Derniere connexion"}),o.jsx("span",{children:_S(se||null)})]}),o.jsxs("div",{className:"profile-list__row",children:[o.jsx("span",{className:"profile-list__label",children:"Dernieres actions"}),o.jsx("span",{children:"Non disponible"})]})]}),ut.length>0?o.jsx("ul",{className:"profile-activity-list",children:ut.map(_t=>o.jsxs("li",{children:[o.jsx("span",{className:"profile-activity-title",children:_t.title}),o.jsx("span",{className:"profile-activity-meta",children:Rx(_t.date)})]},_t.id))}):null]})]})]})}const jW="planner.journal.entries",IW="planner.selfLove",PW=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],MW=t=>{const[e,n,i]=t.split("-").map(Number);return!e||!n||!i?Date.now():new Date(e,n-1,i).getTime()},ES=t=>{const[e,n]=t.split("-").map(Number);if(!e||!n)return t;const i=new Date(e,n-1,1).toLocaleDateString("fr-FR",{month:"long",year:"numeric"});return i.charAt(0).toUpperCase()+i.slice(1)},pm=t=>{const[e,n,i]=t.split("-").map(Number);if(!e||!n||!i)return t;const s=new Date(e,n-1,i).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"});return s.charAt(0).toUpperCase()+s.slice(1)},RW=(t,e)=>{const n=new Date(t,e,1),i=new Date(t,e+1,0).getDate(),s=(n.getDay()+6)%7,a=Math.ceil((s+i)/7)*7;return Array.from({length:a},(u,m)=>{const x=m-s+1;if(x<1||x>i)return{key:`${t}-${e}-${m}`,day:null,dateKey:null};const _=`${t}-${String(e+1).padStart(2,"0")}-${String(x).padStart(2,"0")}`;return{key:_,day:x,dateKey:_}})},DW=t=>t.entryType==="innerChild"?"Exercice  L'enfant intrieur":t.entryType==="bestFriend"?"Exercice  Jeu des rles":t.template==="classic"?"Lettre romantique":"Lettre petit chat",OW=t=>{var e,n,i,s,a;return t.entryType==="innerChild"?((e=t.innerChild)==null?void 0:e.message)||((n=t.innerChild)==null?void 0:n.reassurance)||((i=t.innerChild)==null?void 0:i.neededWords)||t.body:t.entryType==="bestFriend"&&(((s=t.bestFriend)==null?void 0:s.advice)||((a=t.bestFriend)==null?void 0:a.selfTalk))||t.body},LW=()=>{const[t]=Si(jW,()=>[]),[e]=Si(IW,()=>({savedLetters:[]})),[n,i]=D.useState("all"),[s,a]=D.useState(""),[u,m]=D.useState(null),[x,_]=D.useState(null),[I,j]=D.useState(null),[z,J]=D.useState("newest"),[te,oe]=D.useState(null),se=D.useMemo(()=>t.filter(U=>U.date).map(U=>{const Y=U.keyword?`Mot-cl : ${U.keyword}`:U.question?"Question guide":"Journal",ae=U.content||U.questionAnswer||U.positiveAnchor||"",ie=U.createdAt??MW(U.date),pt=["Journaling"];U.keyword&&pt.push(U.keyword);const Mt=[];return U.keyword&&Mt.push({label:"Mot-cle",value:U.keyword}),U.question&&Mt.push({label:"Question du jour",value:U.question}),U.questionAnswer&&Mt.push({label:"Rponse",value:U.questionAnswer}),U.content&&Mt.push({label:"Journal",value:U.content}),U.positiveAnchor&&Mt.push({label:"Ancrage",value:U.positiveAnchor}),{id:U.id,dateKey:U.date,createdAt:ie,title:Y,excerpt:ae,details:Mt,section:"journaling",sectionLabel:"Journaling",tags:pt}}),[t]),X=D.useMemo(()=>(e.savedLetters??[]).map(Y=>{var Re,$e,ut,_t,jt;const ae=Y.createdAt.slice(0,10),ie=new Date(Y.createdAt).getTime(),pt=DW(Y),Mt=OW(Y),Ke=["Self Love",pt],ft=[];return Y.to&&ft.push({label:"Pour",value:Y.to}),Y.from&&ft.push({label:"De",value:Y.from}),Y.body&&ft.push({label:"Lettre",value:Y.body}),(Re=Y.innerChild)!=null&&Re.message&&ft.push({label:"Enfant interieur - Message",value:Y.innerChild.message}),($e=Y.innerChild)!=null&&$e.reassurance&&ft.push({label:"Enfant interieur - Reassurance",value:Y.innerChild.reassurance}),(ut=Y.innerChild)!=null&&ut.neededWords&&ft.push({label:"Enfant interieur - Mots utiles",value:Y.innerChild.neededWords}),(_t=Y.bestFriend)!=null&&_t.advice&&ft.push({label:"Jeu des roles - Conseil",value:Y.bestFriend.advice}),(jt=Y.bestFriend)!=null&&jt.selfTalk&&ft.push({label:"Jeu des roles - Auto-discours",value:Y.bestFriend.selfTalk}),{id:Y.id,dateKey:ae,createdAt:ie,title:pt,excerpt:Mt,details:ft,section:"self-love",sectionLabel:"Self Love",tags:Ke}}),[e.savedLetters]),L=D.useMemo(()=>{const U=s.trim().toLowerCase(),Y=n==="all"?[...se,...X]:n==="journaling"?se:X;return U?Y.filter(ae=>[ae.title,ae.excerpt,ae.sectionLabel,ae.tags.join(" ")].join(" ").toLowerCase().includes(U)):Y},[se,X,n,s]),G=D.useMemo(()=>{const U=new Map;return L.forEach(Y=>{if(!Y.dateKey)return;const ae=U.get(Y.dateKey)??[];ae.push(Y),U.set(Y.dateKey,ae)}),U},[L]),ne=D.useMemo(()=>{const U=new Map;return G.forEach((Y,ae)=>{const ie=ae.slice(0,4);U.set(ie,(U.get(ie)??0)+Y.length)}),Array.from(U.entries()).map(([Y,ae])=>({year:Y,total:ae})).sort((Y,ae)=>Y.year>ae.year?-1:1)},[G]),ke=D.useMemo(()=>{const U=new Map;return G.forEach((Y,ae)=>{const ie=ae.slice(0,4),pt=ae.slice(0,7),Mt=U.get(ie)??new Map;Mt.set(pt,(Mt.get(pt)??0)+Y.length),U.set(ie,Mt)}),U},[G]),ge=D.useMemo(()=>{if(!u)return[];const U=ke.get(u)??new Map;return Array.from({length:12},(Y,ae)=>{const ie=ae+1,pt=`${u}-${String(ie).padStart(2,"0")}`;return{monthKey:pt,label:ES(pt),total:U.get(pt)??0}})},[u,ke]),K=D.useMemo(()=>{if(!x)return[];const[U,Y]=x.split("-").map(Number);if(!U||!Y)return[];const ae=new Date().toISOString().slice(0,10);return RW(U,Y-1).map(ie=>{var Mt;if(!ie.dateKey)return{...ie,count:0,isToday:!1};const pt=((Mt=G.get(ie.dateKey))==null?void 0:Mt.length)??0;return{...ie,count:pt,isToday:ie.dateKey===ae}})},[x,G]),M=D.useMemo(()=>{if(!x)return[];const U=[];return G.forEach((Y,ae)=>{ae.startsWith(x)&&U.push({dateKey:ae,label:pm(ae),total:Y.length})}),U.sort((Y,ae)=>Y.dateKey>ae.dateKey?-1:1)},[G,x]),H=D.useMemo(()=>I?[...G.get(I)??[]].sort((Y,ae)=>z==="newest"?ae.createdAt-Y.createdAt:Y.createdAt-ae.createdAt):[],[G,I,z]);return D.useEffect(()=>{u&&!ne.some(U=>U.year===u)&&(m(null),_(null),j(null))},[ne,u]),D.useEffect(()=>{x&&(!u||!ge.some(U=>U.monthKey===x))&&(_(null),j(null))},[x,u,ge]),D.useEffect(()=>{I&&!G.has(I)&&j(null)},[G,I]),D.useEffect(()=>{const U=Y=>{Y.key==="Escape"&&oe(null)};return te&&document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[te]),o.jsxs("div",{className:"archives-page aesthetic-page",children:[o.jsx(bi,{eyebrow:"Archives",title:"Archives"}),o.jsxs("header",{className:"archives-header",children:[o.jsx("div",{className:"archives-intro",children:o.jsx("p",{children:"Retrouvez vos crits par date."})}),o.jsxs("div",{className:"archives-controls",children:[o.jsxs("label",{className:"archives-control",children:[o.jsx("span",{children:"Rechercher"}),o.jsx("input",{type:"search",placeholder:"Rechercher dans les archives",value:s,onChange:U=>a(U.target.value)})]}),o.jsxs("label",{className:"archives-control",children:[o.jsx("span",{children:"Section"}),o.jsxs("select",{value:n,onChange:U=>i(U.target.value),children:[o.jsx("option",{value:"all",children:"Toutes les sections"}),o.jsx("option",{value:"journaling",children:"Journaling"}),o.jsx("option",{value:"self-love",children:"Self Love"})]})]})]})]}),ne.length===0?o.jsx("p",{className:"archives-empty",children:"Aucun crit pour le moment."}):o.jsxs("div",{className:"archives-layout",children:[o.jsxs("div",{className:"archives-nav",children:[o.jsx("div",{className:"archives-years",children:ne.map(U=>o.jsxs("button",{type:"button",className:`archives-year-card${u===U.year?" is-active":""}`,onClick:()=>{m(U.year),_(null),j(null)},children:[o.jsx("span",{className:"archives-year",children:U.year}),o.jsxs("span",{className:"archives-count",children:[U.total," crits"]})]},U.year))}),u?o.jsx("div",{className:"archives-months",children:ge.map(U=>o.jsxs("button",{type:"button",className:`archives-month-card${x===U.monthKey?" is-active":""}${U.total===0?" is-empty":""}`,onClick:()=>{_(U.monthKey),j(null)},children:[o.jsx("span",{className:"archives-month",children:U.label}),o.jsx("span",{className:"archives-count",children:U.total})]},U.monthKey))}):o.jsx("p",{className:"archives-hint",children:"Choisis une anne pour voir les mois."}),x?o.jsxs("div",{className:"archives-calendar",children:[o.jsxs("div",{className:"archives-calendar-header",children:[o.jsx("h3",{children:ES(x)}),o.jsx("span",{children:u})]}),o.jsxs("div",{className:"archives-calendar-grid",role:"grid",children:[PW.map(U=>o.jsx("div",{className:"archives-weekday",role:"columnheader",children:U},U)),K.map(U=>{if(!U.dateKey||U.day===null)return o.jsx("div",{className:"archives-day archives-day--outside"},U.key);if(U.count===0)return o.jsx("div",{className:"archives-day archives-day--empty",children:o.jsx("span",{children:U.day})},U.key);const ae=(G.get(U.dateKey)??[]).slice(0,2).map(pt=>pt.title).join("  "),ie=`${U.count} crit(s)${ae?`  ${ae}`:""}`;return o.jsxs("button",{type:"button",className:`archives-day archives-day-button${I===U.dateKey?" is-active":""}${U.isToday?" is-today":""}`,onClick:()=>j(U.dateKey),title:ie,"aria-label":`Voir les crits du ${pm(U.dateKey)} (${U.count})`,children:[o.jsx("span",{className:"archives-day-number",children:U.day}),o.jsxs("span",{className:"archives-day-badge",children:[" ",U.count]})]},U.key)})]})]}):null,x?o.jsx("div",{className:"archives-days-list",children:M.length>0?M.map(U=>o.jsxs("button",{type:"button",className:`archives-day-list-item${I===U.dateKey?" is-active":""}`,onClick:()=>j(U.dateKey),children:[o.jsx("span",{children:U.label}),o.jsxs("span",{className:"archives-day-badge",children:[" ",U.total]})]},U.dateKey)):o.jsx("p",{className:"archives-empty",children:"Aucun crit sur ce mois."})}):null]}),o.jsx("aside",{className:"archives-detail",children:I?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"archives-detail-header",children:[o.jsxs("div",{children:[o.jsx("span",{className:"archives-detail-eyebrow",children:"Dtails du jour"}),o.jsx("h3",{children:pm(I)})]}),o.jsxs("label",{className:"archives-control",children:[o.jsx("span",{children:"Tri"}),o.jsxs("select",{value:z,onChange:U=>J(U.target.value),children:[o.jsx("option",{value:"newest",children:"Plus rcent"}),o.jsx("option",{value:"oldest",children:"Plus ancien"})]})]})]}),H.length>0?o.jsx("ul",{className:"archives-entries",children:H.map(U=>o.jsx("li",{className:"archives-entry",children:o.jsxs("button",{type:"button",className:"archives-entry-button",onClick:()=>oe(U),children:[o.jsxs("div",{className:"archives-entry-head",children:[o.jsx("span",{className:"archives-entry-title",children:U.title}),o.jsxs("div",{className:"archives-tags",children:[o.jsx("span",{className:"archives-tag",children:U.sectionLabel}),U.tags.slice(1,3).map(Y=>o.jsx("span",{className:"archives-tag archives-tag--muted",children:Y},Y))]})]}),o.jsx("p",{className:"archives-entry-excerpt",children:U.excerpt||"Aucun texte disponible."})]})},U.id))}):o.jsx("p",{className:"archives-empty",children:"Aucun crit pour ce jour."})]}):o.jsx("div",{className:"archives-empty",children:"Choisis un jour pour voir tes crits."})})]}),te?o.jsxs("div",{className:"archives-modal",role:"dialog","aria-modal":"true",children:[o.jsx("button",{type:"button",className:"archives-modal__backdrop",onClick:()=>oe(null),"aria-label":"Fermer"}),o.jsxs("div",{className:"archives-modal__content",children:[o.jsxs("header",{className:"archives-modal__header",children:[o.jsxs("div",{children:[o.jsx("p",{children:te.sectionLabel}),o.jsx("h3",{children:pm(te.dateKey)})]}),o.jsx("button",{type:"button",className:"archives-modal__close",onClick:()=>oe(null),children:"Fermer"})]}),o.jsxs("div",{className:"archives-modal__body",children:[o.jsx("h4",{children:te.title}),te.details.length>0?o.jsx("div",{className:"archives-modal__details",children:te.details.map(U=>o.jsxs("div",{className:"archives-modal__detail",children:[o.jsx("span",{children:U.label}),o.jsx("p",{children:U.value})]},`${te.id}-${U.label}`))}):o.jsx("p",{children:"Aucun detail disponible."})]})]})]}):null]})};function FW(){return o.jsx("div",{className:"content-page notfound-page",children:o.jsxs("div",{className:"page-hero",children:[o.jsx("div",{className:"hero-chip",children:"Oups"}),o.jsx("h1",{children:"Page introuvable"}),o.jsx("p",{className:"muted",children:"Le lien est cass ou la page a t dplace."}),o.jsx("div",{className:"hero-actions",children:o.jsx(Zo,{to:"/",className:"pill",children:"Retour  l'accueil"})})]})})}function BW(){const{preferences:t}=vh();return D.useEffect(()=>{const e="google-translate-script",n="google_translate_element";if(!t.preferences){const s=document.getElementById(e);s&&s.remove();const a=document.getElementById(n);a&&a.remove();return}if(document.getElementById(e))return;window.googleTranslateElementInit=()=>{var a;if(!document.getElementById(n)){const u=document.createElement("div");u.id=n,u.className="google-translate-element",document.body.appendChild(u)}const s=window.google;(a=s==null?void 0:s.translate)!=null&&a.TranslateElement&&new s.translate.TranslateElement({pageLanguage:"fr",autoDisplay:!1},n)};const i=document.createElement("script");i.id=e,i.src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit",document.body.appendChild(i)},[t.preferences]),o.jsxs("div",{className:"app-shell",children:[t.preferences?o.jsx("div",{id:"google_translate_element",className:"google-translate-element","aria-hidden":"true"}):null,o.jsx(D9,{}),o.jsx("main",{className:"main-area",children:o.jsxs(I2,{children:[o.jsx(Sn,{path:"/login",element:o.jsx(zC,{mode:"login"})}),o.jsx(Sn,{path:"/register",element:o.jsx(zC,{mode:"register"})}),o.jsx(Sn,{path:"/",element:o.jsx(Y9,{})}),o.jsx(Sn,{path:"/faq",element:o.jsx($H,{})}),o.jsx(Sn,{path:"/a-propos",element:o.jsx(_W,{})}),o.jsx(Sn,{path:"/confidentialite",element:o.jsx(HH,{})}),o.jsx(Sn,{path:"/contact",element:o.jsx(WH,{})}),o.jsx(Sn,{path:"/cookies",element:o.jsx(GH,{})}),o.jsx(Sn,{path:"/mentions-legales",element:o.jsx(KH,{})}),o.jsxs(Sn,{element:o.jsx(F9,{}),children:[o.jsx(Sn,{path:"/bienvenue",element:o.jsx(G9,{})}),o.jsx(Sn,{path:"/home",element:o.jsx(dq,{})}),o.jsx(Sn,{path:"/sport",element:o.jsx(wq,{})}),o.jsx(Sn,{path:"/sport/workout/*",element:o.jsx(zH,{})}),o.jsx(Sn,{path:"/journaling",element:o.jsx(jq,{})}),o.jsx(Sn,{path:"/self-love",element:o.jsx(Dq,{})}),o.jsx(Sn,{path:"/wishlist",element:o.jsx(Uq,{})}),o.jsx(Sn,{path:"/calendrier",element:o.jsx(Qq,{})}),o.jsx(Sn,{path:"/finances",element:o.jsx(E$,{})}),o.jsx(Sn,{path:"/routine",element:o.jsx(N$,{})}),o.jsx(Sn,{path:"/goals",element:o.jsx(O$,{})}),o.jsx(Sn,{path:"/culture",element:o.jsx(B$,{})}),o.jsx(Sn,{path:"/diet",element:o.jsx(TH,{})}),o.jsx(Sn,{path:"/alimentation",element:o.jsx(W$,{})}),o.jsx(Sn,{path:"/voyage",element:o.jsx(IH,{})}),o.jsx(Sn,{path:"/profil",element:o.jsx(NW,{})}),o.jsx(Sn,{path:"/archives",element:o.jsx(LW,{})}),o.jsxs(Sn,{path:"/parametres",element:o.jsx(rW,{}),children:[o.jsx(Sn,{index:!0,element:o.jsx(uW,{})}),o.jsx(Sn,{path:"affichage",element:o.jsx(pW,{})}),o.jsx(Sn,{path:"langues",element:o.jsx(gW,{})}),o.jsx(Sn,{path:"cookies",element:o.jsx(yW,{})})]})]}),o.jsx(Sn,{element:o.jsx(nW,{}),children:o.jsx(Sn,{path:"/admin",element:o.jsx(tW,{})})}),o.jsx(Sn,{path:"*",element:o.jsx(FW,{})})]})}),o.jsx(L9,{}),o.jsx(YH,{}),o.jsx(XH,{})]})}const OP=document.getElementById("root");if(!OP)throw new Error("lment racine introuvable");Dx.createRoot(OP).render(o.jsx(RS.StrictMode,{children:o.jsx(B2,{children:o.jsx(C9,{children:o.jsx(N9,{children:o.jsx(P9,{children:o.jsx(V9,{children:o.jsx(BW,{})})})})})})}));
